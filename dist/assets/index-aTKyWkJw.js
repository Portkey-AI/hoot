(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))c(g);new MutationObserver(g=>{for(const m of g)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function r(g){const m={};return g.integrity&&(m.integrity=g.integrity),g.referrerPolicy&&(m.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?m.credentials="include":g.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(g){if(g.ep)return;g.ep=!0;const m=r(g);fetch(g.href,m)}})();var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function cS(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var s=i.default;if(typeof s=="function"){var r=function c(){var g=!1;try{g=this instanceof c}catch{}return g?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(c){var g=Object.getOwnPropertyDescriptor(i,c);Object.defineProperty(r,c,g.get?g:{enumerable:!0,get:function(){return i[c]}})}),r}var sh={exports:{}},Za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function lS(){if(dy)return Za;dy=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(c,g,m){var h=null;if(m!==void 0&&(h=""+m),g.key!==void 0&&(h=""+g.key),"key"in g){m={};for(var d in g)d!=="key"&&(m[d]=g[d])}else m=g;return g=m.ref,{$$typeof:i,type:c,key:h,ref:g!==void 0?g:null,props:m}}return Za.Fragment=s,Za.jsx=r,Za.jsxs=r,Za}var fy;function uS(){return fy||(fy=1,sh.exports=lS()),sh.exports}var j=uS(),ih={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function dS(){if(hy)return He;hy=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),v=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function b(M,Z,ce){this.props=M,this.context=Z,this.refs=C,this.updater=ce||O}b.prototype.isReactComponent={},b.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function S(){}S.prototype=b.prototype;function x(M,Z,ce){this.props=M,this.context=Z,this.refs=C,this.updater=ce||O}var T=x.prototype=new S;T.constructor=x,A(T,b.prototype),T.isPureReactComponent=!0;var I=Array.isArray;function H(){}var w={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function P(M,Z,ce){var le=ce.ref;return{$$typeof:i,type:M,key:Z,ref:le!==void 0?le:null,props:ce}}function G(M,Z){return P(M.type,Z,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function F(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ce){return Z[ce]})}var V=/\/+/g;function U(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?F(""+M.key):Z.toString(36)}function J(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(H,H):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function N(M,Z,ce,le,ne){var me=typeof M;(me==="undefined"||me==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(me){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case i:case s:pe=!0;break;case u:return pe=M._init,N(pe(M._payload),Z,ce,le,ne)}}if(pe)return ne=ne(M),pe=le===""?"."+U(M,0):le,I(ne)?(ce="",pe!=null&&(ce=pe.replace(V,"$&/")+"/"),N(ne,Z,ce,"",function(we){return we})):ne!=null&&(D(ne)&&(ne=G(ne,ce+(ne.key==null||M&&M.key===ne.key?"":(""+ne.key).replace(V,"$&/")+"/")+pe)),Z.push(ne)),1;pe=0;var te=le===""?".":le+":";if(I(M))for(var re=0;re<M.length;re++)le=M[re],me=te+U(le,re),pe+=N(le,Z,ce,me,ne);else if(re=_(M),typeof re=="function")for(M=re.call(M),re=0;!(le=M.next()).done;)le=le.value,me=te+U(le,re++),pe+=N(le,Z,ce,me,ne);else if(me==="object"){if(typeof M.then=="function")return N(J(M),Z,ce,le,ne);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return pe}function q(M,Z,ce){if(M==null)return M;var le=[],ne=0;return N(M,le,"","",function(me){return Z.call(ce,me,ne++)}),le}function B(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ce){(M._status===0||M._status===-1)&&(M._status=1,M._result=ce)},function(ce){(M._status===0||M._status===-1)&&(M._status=2,M._result=ce)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var de=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ye={map:q,forEach:function(M,Z,ce){q(M,function(){Z.apply(this,arguments)},ce)},count:function(M){var Z=0;return q(M,function(){Z++}),Z},toArray:function(M){return q(M,function(Z){return Z})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return He.Activity=f,He.Children=ye,He.Component=b,He.Fragment=r,He.Profiler=g,He.PureComponent=x,He.StrictMode=c,He.Suspense=l,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,He.__COMPILER_RUNTIME={__proto__:null,c:function(M){return w.H.useMemoCache(M)}},He.cache=function(M){return function(){return M.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(M,Z,ce){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=A({},M.props),ne=M.key;if(Z!=null)for(me in Z.key!==void 0&&(ne=""+Z.key),Z)!k.call(Z,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Z.ref===void 0||(le[me]=Z[me]);var me=arguments.length-2;if(me===1)le.children=ce;else if(1<me){for(var pe=Array(me),te=0;te<me;te++)pe[te]=arguments[te+2];le.children=pe}return P(M.type,ne,le)},He.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:m,_context:M},M},He.createElement=function(M,Z,ce){var le,ne={},me=null;if(Z!=null)for(le in Z.key!==void 0&&(me=""+Z.key),Z)k.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ne[le]=Z[le]);var pe=arguments.length-2;if(pe===1)ne.children=ce;else if(1<pe){for(var te=Array(pe),re=0;re<pe;re++)te[re]=arguments[re+2];ne.children=te}if(M&&M.defaultProps)for(le in pe=M.defaultProps,pe)ne[le]===void 0&&(ne[le]=pe[le]);return P(M,me,ne)},He.createRef=function(){return{current:null}},He.forwardRef=function(M){return{$$typeof:d,render:M}},He.isValidElement=D,He.lazy=function(M){return{$$typeof:u,_payload:{_status:-1,_result:M},_init:B}},He.memo=function(M,Z){return{$$typeof:o,type:M,compare:Z===void 0?null:Z}},He.startTransition=function(M){var Z=w.T,ce={};w.T=ce;try{var le=M(),ne=w.S;ne!==null&&ne(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(H,de)}catch(me){de(me)}finally{Z!==null&&ce.types!==null&&(Z.types=ce.types),w.T=Z}},He.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},He.use=function(M){return w.H.use(M)},He.useActionState=function(M,Z,ce){return w.H.useActionState(M,Z,ce)},He.useCallback=function(M,Z){return w.H.useCallback(M,Z)},He.useContext=function(M){return w.H.useContext(M)},He.useDebugValue=function(){},He.useDeferredValue=function(M,Z){return w.H.useDeferredValue(M,Z)},He.useEffect=function(M,Z){return w.H.useEffect(M,Z)},He.useEffectEvent=function(M){return w.H.useEffectEvent(M)},He.useId=function(){return w.H.useId()},He.useImperativeHandle=function(M,Z,ce){return w.H.useImperativeHandle(M,Z,ce)},He.useInsertionEffect=function(M,Z){return w.H.useInsertionEffect(M,Z)},He.useLayoutEffect=function(M,Z){return w.H.useLayoutEffect(M,Z)},He.useMemo=function(M,Z){return w.H.useMemo(M,Z)},He.useOptimistic=function(M,Z){return w.H.useOptimistic(M,Z)},He.useReducer=function(M,Z,ce){return w.H.useReducer(M,Z,ce)},He.useRef=function(M){return w.H.useRef(M)},He.useState=function(M){return w.H.useState(M)},He.useSyncExternalStore=function(M,Z,ce){return w.H.useSyncExternalStore(M,Z,ce)},He.useTransition=function(){return w.H.useTransition()},He.version="19.2.0",He}var py;function Jh(){return py||(py=1,ih.exports=dS()),ih.exports}var ie=Jh();const zc=Qh(ie);var rh={exports:{}},Xa={},ah={exports:{}},oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function fS(){return my||(my=1,(function(i){function s(N,q){var B=N.length;N.push(q);e:for(;0<B;){var de=B-1>>>1,ye=N[de];if(0<g(ye,q))N[de]=q,N[B]=ye,B=de;else break e}}function r(N){return N.length===0?null:N[0]}function c(N){if(N.length===0)return null;var q=N[0],B=N.pop();if(B!==q){N[0]=B;e:for(var de=0,ye=N.length,M=ye>>>1;de<M;){var Z=2*(de+1)-1,ce=N[Z],le=Z+1,ne=N[le];if(0>g(ce,B))le<ye&&0>g(ne,ce)?(N[de]=ne,N[le]=B,de=le):(N[de]=ce,N[Z]=B,de=Z);else if(le<ye&&0>g(ne,B))N[de]=ne,N[le]=B,de=le;else break e}}return q}function g(N,q){var B=N.sortIndex-q.sortIndex;return B!==0?B:N.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var l=[],o=[],u=1,f=null,v=3,_=!1,O=!1,A=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function T(N){for(var q=r(o);q!==null;){if(q.callback===null)c(o);else if(q.startTime<=N)c(o),q.sortIndex=q.expirationTime,s(l,q);else break;q=r(o)}}function I(N){if(A=!1,T(N),!O)if(r(l)!==null)O=!0,H||(H=!0,F());else{var q=r(o);q!==null&&J(I,q.startTime-N)}}var H=!1,w=-1,k=5,P=-1;function G(){return C?!0:!(i.unstable_now()-P<k)}function D(){if(C=!1,H){var N=i.unstable_now();P=N;var q=!0;try{e:{O=!1,A&&(A=!1,S(w),w=-1),_=!0;var B=v;try{t:{for(T(N),f=r(l);f!==null&&!(f.expirationTime>N&&G());){var de=f.callback;if(typeof de=="function"){f.callback=null,v=f.priorityLevel;var ye=de(f.expirationTime<=N);if(N=i.unstable_now(),typeof ye=="function"){f.callback=ye,T(N),q=!0;break t}f===r(l)&&c(l),T(N)}else c(l);f=r(l)}if(f!==null)q=!0;else{var M=r(o);M!==null&&J(I,M.startTime-N),q=!1}}break e}finally{f=null,v=B,_=!1}q=void 0}}finally{q?F():H=!1}}}var F;if(typeof x=="function")F=function(){x(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=D,F=function(){U.postMessage(null)}}else F=function(){b(D,0)};function J(N,q){w=b(function(){N(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(N){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var B=v;v=q;try{return N()}finally{v=B}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(N,q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=v;v=N;try{return q()}finally{v=B}},i.unstable_scheduleCallback=function(N,q,B){var de=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?de+B:de):B=de,N){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=B+ye,N={id:u++,callback:q,priorityLevel:N,startTime:B,expirationTime:ye,sortIndex:-1},B>de?(N.sortIndex=B,s(o,N),r(l)===null&&N===r(o)&&(A?(S(w),w=-1):A=!0,J(I,B-de))):(N.sortIndex=ye,s(l,N),O||_||(O=!0,H||(H=!0,F()))),N},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(N){var q=v;return function(){var B=v;v=q;try{return N.apply(this,arguments)}finally{v=B}}}})(oh)),oh}var gy;function hS(){return gy||(gy=1,ah.exports=fS()),ah.exports}var ch={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function pS(){if(vy)return Ft;vy=1;var i=Jh();function s(l){var o="https://react.dev/errors/"+l;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var c={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},g=Symbol.for("react.portal");function m(l,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:f==null?null:""+f,children:l,containerInfo:o,implementation:u}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(l,o){if(l==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Ft.createPortal=function(l,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(s(299));return m(l,o,null,u)},Ft.flushSync=function(l){var o=h.T,u=c.p;try{if(h.T=null,c.p=2,l)return l()}finally{h.T=o,c.p=u,c.d.f()}},Ft.preconnect=function(l,o){typeof l=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,c.d.C(l,o))},Ft.prefetchDNS=function(l){typeof l=="string"&&c.d.D(l)},Ft.preinit=function(l,o){if(typeof l=="string"&&o&&typeof o.as=="string"){var u=o.as,f=d(u,o.crossOrigin),v=typeof o.integrity=="string"?o.integrity:void 0,_=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;u==="style"?c.d.S(l,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:f,integrity:v,fetchPriority:_}):u==="script"&&c.d.X(l,{crossOrigin:f,integrity:v,fetchPriority:_,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},Ft.preinitModule=function(l,o){if(typeof l=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var u=d(o.as,o.crossOrigin);c.d.M(l,{crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&c.d.M(l)},Ft.preload=function(l,o){if(typeof l=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var u=o.as,f=d(u,o.crossOrigin);c.d.L(l,u,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},Ft.preloadModule=function(l,o){if(typeof l=="string")if(o){var u=d(o.as,o.crossOrigin);c.d.m(l,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else c.d.m(l)},Ft.requestFormReset=function(l){c.d.r(l)},Ft.unstable_batchedUpdates=function(l,o){return l(o)},Ft.useFormState=function(l,o,u){return h.H.useFormState(l,o,u)},Ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ft.version="19.2.0",Ft}var yy;function NO(){if(yy)return ch.exports;yy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),ch.exports=pS(),ch.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function mS(){if(_y)return Xa;_y=1;var i=hS(),s=Jh(),r=NO();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(m(e)!==e)throw Error(c(188))}function o(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,a=t;;){var p=n.return;if(p===null)break;var y=p.alternate;if(y===null){if(a=p.return,a!==null){n=a;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===n)return l(p),e;if(y===a)return l(p),t;y=y.sibling}throw Error(c(188))}if(n.return!==a.return)n=p,a=y;else{for(var R=!1,E=p.child;E;){if(E===n){R=!0,n=p,a=y;break}if(E===a){R=!0,a=p,n=y;break}E=E.sibling}if(!R){for(E=y.child;E;){if(E===n){R=!0,n=y,a=p;break}if(E===a){R=!0,a=y,n=p;break}E=E.sibling}if(!R)throw Error(c(189))}}if(n.alternate!==a)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function u(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=u(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function U(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case b:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case H:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case x:return e.displayName||"Context";case S:return(e._context.displayName||"Context")+".Consumer";case T:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return t=e.displayName||null,t!==null?t:U(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return U(e(t))}catch{}}return null}var J=Array.isArray,N=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},de=[],ye=-1;function M(e){return{current:e}}function Z(e){0>ye||(e.current=de[ye],de[ye]=null,ye--)}function ce(e,t){ye++,de[ye]=e.current,e.current=t}var le=M(null),ne=M(null),me=M(null),pe=M(null);function te(e,t){switch(ce(me,t),ce(ne,e),ce(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nv(t),e=Pv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(le),ce(le,e)}function re(){Z(le),Z(ne),Z(me)}function we(e){e.memoizedState!==null&&ce(pe,e);var t=le.current,n=Pv(t,e.type);t!==n&&(ce(ne,e),ce(le,n))}function ee(e){ne.current===e&&(Z(le),Z(ne)),pe.current===e&&(Z(pe),Ga._currentValue=B)}var he,ve;function Te(e){if(he===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);he=t&&t[1]||"",ve=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+e+ve}var Le=!1;function tt(e,t){if(!e||Le)return"";Le=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var X=W}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(W){X=W}e.call(oe.prototype)}}else{try{throw Error()}catch(W){X=W}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=a.DetermineComponentFrameRoot(),R=y[0],E=y[1];if(R&&E){var z=R.split(`
`),Y=E.split(`
`);for(p=a=0;a<z.length&&!z[a].includes("DetermineComponentFrameRoot");)a++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(a===z.length||p===Y.length)for(a=z.length-1,p=Y.length-1;1<=a&&0<=p&&z[a]!==Y[p];)p--;for(;1<=a&&0<=p;a--,p--)if(z[a]!==Y[p]){if(a!==1||p!==1)do if(a--,p--,0>p||z[a]!==Y[p]){var se=`
`+z[a].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=a&&0<=p);break}}}finally{Le=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Te(n):""}function Be(e,t){switch(e.tag){case 26:case 27:case 5:return Te(e.type);case 16:return Te("Lazy");case 13:return e.child!==t&&t!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return tt(e.type,!1);case 11:return tt(e.type.render,!1);case 1:return tt(e.type,!0);case 31:return Te("Activity");default:return""}}function yt(e){try{var t="",n=null;do t+=Be(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var st=Object.prototype.hasOwnProperty,bt=i.unstable_scheduleCallback,_t=i.unstable_cancelCallback,Un=i.unstable_shouldYield,it=i.unstable_requestPaint,Tt=i.unstable_now,Bu=i.unstable_getCurrentPriorityLevel,ir=i.unstable_ImmediatePriority,Sn=i.unstable_UserBlockingPriority,Vt=i.unstable_NormalPriority,Jc=i.unstable_LowPriority,sa=i.unstable_IdlePriority,Wc=i.log,pp=i.unstable_setDisableYieldValue,Wn=null,un=null;function Gs(e){if(typeof Wc=="function"&&pp(e),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Wn,e)}catch{}}var dn=Math.clz32?Math.clz32:Y1,V1=Math.log,K1=Math.LN2;function Y1(e){return e>>>=0,e===0?32:31-(V1(e)/K1|0)|0}var el=256,tl=262144,nl=4194304;function ji(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sl(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var p=0,y=e.suspendedLanes,R=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~y,a!==0?p=ji(a):(R&=E,R!==0?p=ji(R):n||(n=E&~e,n!==0&&(p=ji(n))))):(E=a&~y,E!==0?p=ji(E):R!==0?p=ji(R):n||(n=a&~e,n!==0&&(p=ji(n)))),p===0?0:t!==0&&t!==p&&(t&y)===0&&(y=p&-p,n=t&-t,y>=n||y===32&&(n&4194048)!==0)?t:p}function ia(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Z1(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mp(){var e=nl;return nl<<=1,(nl&62914560)===0&&(nl=4194304),e}function Lu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ra(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function X1(e,t,n,a,p,y){var R=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var E=e.entanglements,z=e.expirationTimes,Y=e.hiddenUpdates;for(n=R&~n;0<n;){var se=31-dn(n),oe=1<<se;E[se]=0,z[se]=-1;var X=Y[se];if(X!==null)for(Y[se]=null,se=0;se<X.length;se++){var W=X[se];W!==null&&(W.lane&=-536870913)}n&=~oe}a!==0&&gp(e,a,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(R&~t))}function gp(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-dn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function vp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-dn(n),p=1<<a;p&t|e[a]&t&&(e[a]|=t),n&=~p}}function yp(e,t){var n=t&-t;return n=(n&42)!==0?1:Fu(n),(n&(e.suspendedLanes|t))!==0?0:n}function Fu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _p(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:iy(e.type))}function bp(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}var Vs=Math.random().toString(36).slice(2),qt="__reactFiber$"+Vs,en="__reactProps$"+Vs,rr="__reactContainer$"+Vs,Vu="__reactEvents$"+Vs,Q1="__reactListeners$"+Vs,J1="__reactHandles$"+Vs,Op="__reactResources$"+Vs,aa="__reactMarker$"+Vs;function Ku(e){delete e[qt],delete e[en],delete e[Vu],delete e[Q1],delete e[J1]}function ar(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rr]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bv(e);e!==null;){if(n=e[qt])return n;e=Bv(e)}return t}e=n,n=e.parentNode}return null}function or(e){if(e=e[qt]||e[rr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function oa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function cr(e){var t=e[Op];return t||(t=e[Op]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[aa]=!0}var jp=new Set,Ap={};function Ai(e,t){lr(e,t),lr(e+"Capture",t)}function lr(e,t){for(Ap[e]=t,e=0;e<t.length;e++)jp.add(t[e])}var W1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sp={},Cp={};function ej(e){return st.call(Cp,e)?!0:st.call(Sp,e)?!1:W1.test(e)?Cp[e]=!0:(Sp[e]=!0,!1)}function il(e,t,n){if(ej(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function rl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function us(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tj(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return p.call(this)},set:function(R){n=""+R,y.call(this,R)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(R){n=""+R},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yu(e){if(!e._valueTracker){var t=Rp(e)?"checked":"value";e._valueTracker=tj(e,t,""+e[t])}}function wp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Rp(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nj=/[\n"\\]/g;function Rn(e){return e.replace(nj,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zu(e,t,n,a,p,y,R,E){e.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.type=R:e.removeAttribute("type"),t!=null?R==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Cn(t)):e.value!==""+Cn(t)&&(e.value=""+Cn(t)):R!=="submit"&&R!=="reset"||e.removeAttribute("value"),t!=null?Xu(e,R,Cn(t)):n!=null?Xu(e,R,Cn(n)):a!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Cn(E):e.removeAttribute("name")}function xp(e,t,n,a,p,y,R,E){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),t!=null||n!=null){if(!(y!=="submit"&&y!=="reset"||t!=null)){Yu(e);return}n=n!=null?""+Cn(n):"",t=t!=null?""+Cn(t):n,E||t===e.value||(e.value=t),e.defaultValue=t}a=a??p,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(e.name=R),Yu(e)}function Xu(e,t,n){t==="number"&&al(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ur(e,t,n,a){if(e=e.options,t){t={};for(var p=0;p<n.length;p++)t["$"+n[p]]=!0;for(n=0;n<e.length;n++)p=t.hasOwnProperty("$"+e[n].value),e[n].selected!==p&&(e[n].selected=p),p&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,p=0;p<e.length;p++){if(e[p].value===n){e[p].selected=!0,a&&(e[p].defaultSelected=!0);return}t!==null||e[p].disabled||(t=e[p])}t!==null&&(t.selected=!0)}}function Ep(e,t,n){if(t!=null&&(t=""+Cn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Cn(n):""}function Tp(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(c(92));if(J(a)){if(1<a.length)throw Error(c(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Cn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Yu(e)}function dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ip(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||sj.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Hp(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var p in t)a=t[p],t.hasOwnProperty(p)&&n[p]!==a&&Ip(e,p,a)}else for(var y in t)t.hasOwnProperty(y)&&Ip(e,y,t[y])}function Qu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ij=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(e){return rj.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ds(){}var Ju=null;function Wu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,hr=null;function Mp(e){var t=or(e);if(t&&(e=t.stateNode)){var n=e[en]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Rn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var p=a[en]||null;if(!p)throw Error(c(90));Zu(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&wp(a)}break e;case"textarea":Ep(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ur(e,!!n.multiple,t,!1)}}}var ed=!1;function Np(e,t,n){if(ed)return e(t,n);ed=!0;try{var a=e(t);return a}finally{if(ed=!1,(fr!==null||hr!==null)&&(Yl(),fr&&(t=fr,e=hr,hr=fr=null,Mp(t),e)))for(t=0;t<e.length;t++)Mp(e[t])}}function ca(e,t){var n=e.stateNode;if(n===null)return null;var a=n[en]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=!1;if(fs)try{var la={};Object.defineProperty(la,"passive",{get:function(){td=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{td=!1}var Ks=null,nd=null,cl=null;function Pp(){if(cl)return cl;var e,t=nd,n=t.length,a,p="value"in Ks?Ks.value:Ks.textContent,y=p.length;for(e=0;e<n&&t[e]===p[e];e++);var R=n-e;for(a=1;a<=R&&t[n-a]===p[y-a];a++);return cl=p.slice(e,1<a?1-a:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function kp(){return!1}function tn(e){function t(n,a,p,y,R){this._reactName=n,this._targetInst=p,this.type=a,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(n=e[E],this[E]=n?n(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ul:kp,this.isPropagationStopped=kp,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=tn(Si),ua=f({},Si,{view:0,detail:0}),aj=tn(ua),sd,id,da,fl=f({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(sd=e.screenX-da.screenX,id=e.screenY-da.screenY):id=sd=0,da=e),sd)},movementY:function(e){return"movementY"in e?e.movementY:id}}),qp=tn(fl),oj=f({},fl,{dataTransfer:0}),cj=tn(oj),lj=f({},ua,{relatedTarget:0}),rd=tn(lj),uj=f({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),dj=tn(uj),fj=f({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hj=tn(fj),pj=f({},Si,{data:0}),zp=tn(pj),mj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vj[e])?!!t[e]:!1}function ad(){return yj}var _j=f({},ua,{key:function(e){if(e.key){var t=mj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bj=tn(_j),Oj=f({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dp=tn(Oj),jj=f({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),Aj=tn(jj),Sj=f({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cj=tn(Sj),Rj=f({},fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wj=tn(Rj),xj=f({},Si,{newState:0,oldState:0}),Ej=tn(xj),Tj=[9,13,27,32],od=fs&&"CompositionEvent"in window,fa=null;fs&&"documentMode"in document&&(fa=document.documentMode);var Ij=fs&&"TextEvent"in window&&!fa,Up=fs&&(!od||fa&&8<fa&&11>=fa),$p=" ",Bp=!1;function Lp(e,t){switch(e){case"keyup":return Tj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function Hj(e,t){switch(e){case"compositionend":return Fp(t);case"keypress":return t.which!==32?null:(Bp=!0,$p);case"textInput":return e=t.data,e===$p&&Bp?null:e;default:return null}}function Mj(e,t){if(pr)return e==="compositionend"||!od&&Lp(e,t)?(e=Pp(),cl=nd=Ks=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Up&&t.locale!=="ko"?null:t.data;default:return null}}var Nj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nj[e.type]:t==="textarea"}function Vp(e,t,n,a){fr?hr?hr.push(a):hr=[a]:fr=a,t=tu(t,"onChange"),0<t.length&&(n=new dl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var ha=null,pa=null;function Pj(e){xv(e,0)}function hl(e){var t=oa(e);if(wp(t))return e}function Kp(e,t){if(e==="change")return t}var Yp=!1;if(fs){var cd;if(fs){var ld="oninput"in document;if(!ld){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),ld=typeof Zp.oninput=="function"}cd=ld}else cd=!1;Yp=cd&&(!document.documentMode||9<document.documentMode)}function Xp(){ha&&(ha.detachEvent("onpropertychange",Qp),pa=ha=null)}function Qp(e){if(e.propertyName==="value"&&hl(pa)){var t=[];Vp(t,pa,e,Wu(e)),Np(Pj,t)}}function kj(e,t,n){e==="focusin"?(Xp(),ha=t,pa=n,ha.attachEvent("onpropertychange",Qp)):e==="focusout"&&Xp()}function qj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(pa)}function zj(e,t){if(e==="click")return hl(t)}function Dj(e,t){if(e==="input"||e==="change")return hl(t)}function Uj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:Uj;function ma(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var p=n[a];if(!st.call(t,p)||!fn(e[p],t[p]))return!1}return!0}function Jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wp(e,t){var n=Jp(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jp(n)}}function em(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?em(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=al(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=al(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $j=fs&&"documentMode"in document&&11>=document.documentMode,mr=null,dd=null,ga=null,fd=!1;function nm(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fd||mr==null||mr!==al(a)||(a=mr,"selectionStart"in a&&ud(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ga&&ma(ga,a)||(ga=a,a=tu(dd,"onSelect"),0<a.length&&(t=new dl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=mr)))}function Ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},hd={},sm={};fs&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ri(e){if(hd[e])return hd[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sm)return hd[e]=t[n];return e}var im=Ri("animationend"),rm=Ri("animationiteration"),am=Ri("animationstart"),Bj=Ri("transitionrun"),Lj=Ri("transitionstart"),Fj=Ri("transitioncancel"),om=Ri("transitionend"),cm=new Map,pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pd.push("scrollEnd");function $n(e,t){cm.set(e,t),Ai(t,[e])}var pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],vr=0,md=0;function ml(){for(var e=vr,t=md=vr=0;t<e;){var n=wn[t];wn[t++]=null;var a=wn[t];wn[t++]=null;var p=wn[t];wn[t++]=null;var y=wn[t];if(wn[t++]=null,a!==null&&p!==null){var R=a.pending;R===null?p.next=p:(p.next=R.next,R.next=p),a.pending=p}y!==0&&lm(n,p,y)}}function gl(e,t,n,a){wn[vr++]=e,wn[vr++]=t,wn[vr++]=n,wn[vr++]=a,md|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function gd(e,t,n,a){return gl(e,t,n,a),vl(e)}function wi(e,t){return gl(e,null,null,t),vl(e)}function lm(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var p=!1,y=e.return;y!==null;)y.childLanes|=n,a=y.alternate,a!==null&&(a.childLanes|=n),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&t!==null&&(p=31-dn(n),e=y.hiddenUpdates,a=e[p],a===null?e[p]=[t]:a.push(t),t.lane=n|536870912),y):null}function vl(e){if(50<za)throw za=0,Rf=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var yr={};function Gj(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,t,n,a){return new Gj(e,t,n,a)}function vd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hs(e,t){var n=e.alternate;return n===null?(n=hn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function um(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yl(e,t,n,a,p,y){var R=0;if(a=e,typeof e=="function")vd(e)&&(R=1);else if(typeof e=="string")R=XA(e,n,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=hn(31,n,t,p),e.elementType=P,e.lanes=y,e;case A:return xi(n.children,p,y,t);case C:R=8,p|=24;break;case b:return e=hn(12,n,t,p|2),e.elementType=b,e.lanes=y,e;case I:return e=hn(13,n,t,p),e.elementType=I,e.lanes=y,e;case H:return e=hn(19,n,t,p),e.elementType=H,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:R=10;break e;case S:R=9;break e;case T:R=11;break e;case w:R=14;break e;case k:R=16,a=null;break e}R=29,n=Error(c(130,e===null?"null":typeof e,"")),a=null}return t=hn(R,n,t,p),t.elementType=e,t.type=a,t.lanes=y,t}function xi(e,t,n,a){return e=hn(7,e,a,t),e.lanes=n,e}function yd(e,t,n){return e=hn(6,e,null,t),e.lanes=n,e}function dm(e){var t=hn(18,null,null,0);return t.stateNode=e,t}function _d(e,t,n){return t=hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fm=new WeakMap;function xn(e,t){if(typeof e=="object"&&e!==null){var n=fm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:yt(t)},fm.set(e,t),t)}return{value:e,source:t,stack:yt(t)}}var _r=[],br=0,_l=null,va=0,En=[],Tn=0,Ys=null,es=1,ts="";function ps(e,t){_r[br++]=va,_r[br++]=_l,_l=e,va=t}function hm(e,t,n){En[Tn++]=es,En[Tn++]=ts,En[Tn++]=Ys,Ys=e;var a=es;e=ts;var p=32-dn(a)-1;a&=~(1<<p),n+=1;var y=32-dn(t)+p;if(30<y){var R=p-p%5;y=(a&(1<<R)-1).toString(32),a>>=R,p-=R,es=1<<32-dn(t)+p|n<<p|a,ts=y+e}else es=1<<y|n<<p|a,ts=e}function bd(e){e.return!==null&&(ps(e,1),hm(e,1,0))}function Od(e){for(;e===_l;)_l=_r[--br],_r[br]=null,va=_r[--br],_r[br]=null;for(;e===Ys;)Ys=En[--Tn],En[Tn]=null,ts=En[--Tn],En[Tn]=null,es=En[--Tn],En[Tn]=null}function pm(e,t){En[Tn++]=es,En[Tn++]=ts,En[Tn++]=Ys,es=t.id,ts=t.overflow,Ys=e}var zt=null,pt=null,Ze=!1,Zs=null,In=!1,jd=Error(c(519));function Xs(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ya(xn(t,e)),jd}function mm(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[qt]=e,t[en]=a,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Ua.length;n++)Ge(Ua[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),xp(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Tp(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Hv(t.textContent,n)?(a.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),a.onScroll!=null&&Ge("scroll",t),a.onScrollEnd!=null&&Ge("scrollend",t),a.onClick!=null&&(t.onclick=ds),t=!0):t=!1,t||Xs(e,!0)}function gm(e){for(zt=e.return;zt;)switch(zt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:zt=zt.return}}function Or(e){if(e!==zt)return!1;if(!Ze)return gm(e),Ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||$f(e.type,e.memoizedProps)),n=!n),n&&pt&&Xs(e),gm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));pt=$v(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));pt=$v(e)}else t===27?(t=pt,ui(e.type)?(e=Vf,Vf=null,pt=e):pt=t):pt=zt?Mn(e.stateNode.nextSibling):null;return!0}function Ei(){pt=zt=null,Ze=!1}function Ad(){var e=Zs;return e!==null&&(an===null?an=e:an.push.apply(an,e),Zs=null),e}function ya(e){Zs===null?Zs=[e]:Zs.push(e)}var Sd=M(null),Ti=null,ms=null;function Qs(e,t,n){ce(Sd,t._currentValue),t._currentValue=n}function gs(e){e._currentValue=Sd.current,Z(Sd)}function Cd(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Rd(e,t,n,a){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var R=p.child;y=y.firstContext;e:for(;y!==null;){var E=y;y=p;for(var z=0;z<t.length;z++)if(E.context===t[z]){y.lanes|=n,E=y.alternate,E!==null&&(E.lanes|=n),Cd(y.return,n,e),a||(R=null);break e}y=E.next}}else if(p.tag===18){if(R=p.return,R===null)throw Error(c(341));R.lanes|=n,y=R.alternate,y!==null&&(y.lanes|=n),Cd(R,n,e),R=null}else R=p.child;if(R!==null)R.return=p;else for(R=p;R!==null;){if(R===e){R=null;break}if(p=R.sibling,p!==null){p.return=R.return,R=p;break}R=R.return}p=R}}function jr(e,t,n,a){e=null;for(var p=t,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var R=p.alternate;if(R===null)throw Error(c(387));if(R=R.memoizedProps,R!==null){var E=p.type;fn(p.pendingProps.value,R.value)||(e!==null?e.push(E):e=[E])}}else if(p===pe.current){if(R=p.alternate,R===null)throw Error(c(387));R.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Ga):e=[Ga])}p=p.return}e!==null&&Rd(t,e,n,a),t.flags|=262144}function bl(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){Ti=e,ms=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return vm(Ti,e)}function Ol(e,t){return Ti===null&&Ii(e),vm(e,t)}function vm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ms===null){if(e===null)throw Error(c(308));ms=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ms=ms.next=t;return n}var Vj=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Kj=i.unstable_scheduleCallback,Yj=i.unstable_NormalPriority,Ct={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new Vj,data:new Map,refCount:0}}function _a(e){e.refCount--,e.refCount===0&&Kj(Yj,function(){e.controller.abort()})}var ba=null,xd=0,Ar=0,Sr=null;function Zj(e,t){if(ba===null){var n=ba=[];xd=0,Ar=Hf(),Sr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return xd++,t.then(ym,ym),t}function ym(){if(--xd===0&&ba!==null){Sr!==null&&(Sr.status="fulfilled");var e=ba;ba=null,Ar=0,Sr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xj(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(p){n.push(p)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var p=0;p<n.length;p++)(0,n[p])(t)},function(p){for(a.status="rejected",a.reason=p,p=0;p<n.length;p++)(0,n[p])(void 0)}),a}var _m=N.S;N.S=function(e,t){nv=Tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zj(e,t),_m!==null&&_m(e,t)};var Hi=M(null);function Ed(){var e=Hi.current;return e!==null?e:ut.pooledCache}function jl(e,t){t===null?ce(Hi,Hi.current):ce(Hi,t.pool)}function bm(){var e=Ed();return e===null?null:{parent:Ct._currentValue,pool:e}}var Cr=Error(c(460)),Td=Error(c(474)),Al=Error(c(542)),Sl={then:function(){}};function Om(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ds,ds),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sm(e),e;default:if(typeof t.status=="string")t.then(ds,ds);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var p=t;p.status="fulfilled",p.value=a}},function(a){if(t.status==="pending"){var p=t;p.status="rejected",p.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sm(e),e}throw Ni=t,Cr}}function Mi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ni=n,Cr):n}}var Ni=null;function Am(){if(Ni===null)throw Error(c(459));var e=Ni;return Ni=null,e}function Sm(e){if(e===Cr||e===Al)throw Error(c(483))}var Rr=null,Oa=0;function Cl(e){var t=Oa;return Oa+=1,Rr===null&&(Rr=[]),jm(Rr,e,t)}function ja(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Rl(e,t){throw t.$$typeof===v?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Cm(e){function t(L,$){if(e){var K=L.deletions;K===null?(L.deletions=[$],L.flags|=16):K.push($)}}function n(L,$){if(!e)return null;for(;$!==null;)t(L,$),$=$.sibling;return null}function a(L){for(var $=new Map;L!==null;)L.key!==null?$.set(L.key,L):$.set(L.index,L),L=L.sibling;return $}function p(L,$){return L=hs(L,$),L.index=0,L.sibling=null,L}function y(L,$,K){return L.index=K,e?(K=L.alternate,K!==null?(K=K.index,K<$?(L.flags|=67108866,$):K):(L.flags|=67108866,$)):(L.flags|=1048576,$)}function R(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,$,K,ae){return $===null||$.tag!==6?($=yd(K,L.mode,ae),$.return=L,$):($=p($,K),$.return=L,$)}function z(L,$,K,ae){var Re=K.type;return Re===A?se(L,$,K.props.children,ae,K.key):$!==null&&($.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===k&&Mi(Re)===$.type)?($=p($,K.props),ja($,K),$.return=L,$):($=yl(K.type,K.key,K.props,null,L.mode,ae),ja($,K),$.return=L,$)}function Y(L,$,K,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=_d(K,L.mode,ae),$.return=L,$):($=p($,K.children||[]),$.return=L,$)}function se(L,$,K,ae,Re){return $===null||$.tag!==7?($=xi(K,L.mode,ae,Re),$.return=L,$):($=p($,K),$.return=L,$)}function oe(L,$,K){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=yd(""+$,L.mode,K),$.return=L,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return K=yl($.type,$.key,$.props,null,L.mode,K),ja(K,$),K.return=L,K;case O:return $=_d($,L.mode,K),$.return=L,$;case k:return $=Mi($),oe(L,$,K)}if(J($)||F($))return $=xi($,L.mode,K,null),$.return=L,$;if(typeof $.then=="function")return oe(L,Cl($),K);if($.$$typeof===x)return oe(L,Ol(L,$),K);Rl(L,$)}return null}function X(L,$,K,ae){var Re=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Re!==null?null:E(L,$,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return K.key===Re?z(L,$,K,ae):null;case O:return K.key===Re?Y(L,$,K,ae):null;case k:return K=Mi(K),X(L,$,K,ae)}if(J(K)||F(K))return Re!==null?null:se(L,$,K,ae,null);if(typeof K.then=="function")return X(L,$,Cl(K),ae);if(K.$$typeof===x)return X(L,$,Ol(L,K),ae);Rl(L,K)}return null}function W(L,$,K,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return L=L.get(K)||null,E($,L,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return L=L.get(ae.key===null?K:ae.key)||null,z($,L,ae,Re);case O:return L=L.get(ae.key===null?K:ae.key)||null,Y($,L,ae,Re);case k:return ae=Mi(ae),W(L,$,K,ae,Re)}if(J(ae)||F(ae))return L=L.get(K)||null,se($,L,ae,Re,null);if(typeof ae.then=="function")return W(L,$,K,Cl(ae),Re);if(ae.$$typeof===x)return W(L,$,K,Ol($,ae),Re);Rl($,ae)}return null}function Oe(L,$,K,ae){for(var Re=null,Je=null,Ae=$,ke=$=0,Ke=null;Ae!==null&&ke<K.length;ke++){Ae.index>ke?(Ke=Ae,Ae=null):Ke=Ae.sibling;var We=X(L,Ae,K[ke],ae);if(We===null){Ae===null&&(Ae=Ke);break}e&&Ae&&We.alternate===null&&t(L,Ae),$=y(We,$,ke),Je===null?Re=We:Je.sibling=We,Je=We,Ae=Ke}if(ke===K.length)return n(L,Ae),Ze&&ps(L,ke),Re;if(Ae===null){for(;ke<K.length;ke++)Ae=oe(L,K[ke],ae),Ae!==null&&($=y(Ae,$,ke),Je===null?Re=Ae:Je.sibling=Ae,Je=Ae);return Ze&&ps(L,ke),Re}for(Ae=a(Ae);ke<K.length;ke++)Ke=W(Ae,L,ke,K[ke],ae),Ke!==null&&(e&&Ke.alternate!==null&&Ae.delete(Ke.key===null?ke:Ke.key),$=y(Ke,$,ke),Je===null?Re=Ke:Je.sibling=Ke,Je=Ke);return e&&Ae.forEach(function(mi){return t(L,mi)}),Ze&&ps(L,ke),Re}function xe(L,$,K,ae){if(K==null)throw Error(c(151));for(var Re=null,Je=null,Ae=$,ke=$=0,Ke=null,We=K.next();Ae!==null&&!We.done;ke++,We=K.next()){Ae.index>ke?(Ke=Ae,Ae=null):Ke=Ae.sibling;var mi=X(L,Ae,We.value,ae);if(mi===null){Ae===null&&(Ae=Ke);break}e&&Ae&&mi.alternate===null&&t(L,Ae),$=y(mi,$,ke),Je===null?Re=mi:Je.sibling=mi,Je=mi,Ae=Ke}if(We.done)return n(L,Ae),Ze&&ps(L,ke),Re;if(Ae===null){for(;!We.done;ke++,We=K.next())We=oe(L,We.value,ae),We!==null&&($=y(We,$,ke),Je===null?Re=We:Je.sibling=We,Je=We);return Ze&&ps(L,ke),Re}for(Ae=a(Ae);!We.done;ke++,We=K.next())We=W(Ae,L,ke,We.value,ae),We!==null&&(e&&We.alternate!==null&&Ae.delete(We.key===null?ke:We.key),$=y(We,$,ke),Je===null?Re=We:Je.sibling=We,Je=We);return e&&Ae.forEach(function(oS){return t(L,oS)}),Ze&&ps(L,ke),Re}function lt(L,$,K,ae){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case _:e:{for(var Re=K.key;$!==null;){if($.key===Re){if(Re=K.type,Re===A){if($.tag===7){n(L,$.sibling),ae=p($,K.props.children),ae.return=L,L=ae;break e}}else if($.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===k&&Mi(Re)===$.type){n(L,$.sibling),ae=p($,K.props),ja(ae,K),ae.return=L,L=ae;break e}n(L,$);break}else t(L,$);$=$.sibling}K.type===A?(ae=xi(K.props.children,L.mode,ae,K.key),ae.return=L,L=ae):(ae=yl(K.type,K.key,K.props,null,L.mode,ae),ja(ae,K),ae.return=L,L=ae)}return R(L);case O:e:{for(Re=K.key;$!==null;){if($.key===Re)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){n(L,$.sibling),ae=p($,K.children||[]),ae.return=L,L=ae;break e}else{n(L,$);break}else t(L,$);$=$.sibling}ae=_d(K,L.mode,ae),ae.return=L,L=ae}return R(L);case k:return K=Mi(K),lt(L,$,K,ae)}if(J(K))return Oe(L,$,K,ae);if(F(K)){if(Re=F(K),typeof Re!="function")throw Error(c(150));return K=Re.call(K),xe(L,$,K,ae)}if(typeof K.then=="function")return lt(L,$,Cl(K),ae);if(K.$$typeof===x)return lt(L,$,Ol(L,K),ae);Rl(L,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,$!==null&&$.tag===6?(n(L,$.sibling),ae=p($,K),ae.return=L,L=ae):(n(L,$),ae=yd(K,L.mode,ae),ae.return=L,L=ae),R(L)):n(L,$)}return function(L,$,K,ae){try{Oa=0;var Re=lt(L,$,K,ae);return Rr=null,Re}catch(Ae){if(Ae===Cr||Ae===Al)throw Ae;var Je=hn(29,Ae,null,L.mode);return Je.lanes=ae,Je.return=L,Je}finally{}}}var Pi=Cm(!0),Rm=Cm(!1),Js=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ei(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(nt&2)!==0){var p=a.pending;return p===null?t.next=t:(t.next=p.next,p.next=t),a.pending=t,t=vl(e),lm(e,null,n),t}return gl(e,a,t,n),vl(e)}function Aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,vp(e,n)}}function Md(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var p=null,y=null;if(n=n.firstBaseUpdate,n!==null){do{var R={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};y===null?p=y=R:y=y.next=R,n=n.next}while(n!==null);y===null?p=y=t:y=y.next=t}else p=y=t;n={baseState:a.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Nd=!1;function Sa(){if(Nd){var e=Sr;if(e!==null)throw e}}function Ca(e,t,n,a){Nd=!1;var p=e.updateQueue;Js=!1;var y=p.firstBaseUpdate,R=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var z=E,Y=z.next;z.next=null,R===null?y=Y:R.next=Y,R=z;var se=e.alternate;se!==null&&(se=se.updateQueue,E=se.lastBaseUpdate,E!==R&&(E===null?se.firstBaseUpdate=Y:E.next=Y,se.lastBaseUpdate=z))}if(y!==null){var oe=p.baseState;R=0,se=Y=z=null,E=y;do{var X=E.lane&-536870913,W=X!==E.lane;if(W?(Ve&X)===X:(a&X)===X){X!==0&&X===Ar&&(Nd=!0),se!==null&&(se=se.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Oe=e,xe=E;X=t;var lt=n;switch(xe.tag){case 1:if(Oe=xe.payload,typeof Oe=="function"){oe=Oe.call(lt,oe,X);break e}oe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=xe.payload,X=typeof Oe=="function"?Oe.call(lt,oe,X):Oe,X==null)break e;oe=f({},oe,X);break e;case 2:Js=!0}}X=E.callback,X!==null&&(e.flags|=64,W&&(e.flags|=8192),W=p.callbacks,W===null?p.callbacks=[X]:W.push(X))}else W={lane:X,tag:E.tag,payload:E.payload,callback:E.callback,next:null},se===null?(Y=se=W,z=oe):se=se.next=W,R|=X;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;W=E,E=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);se===null&&(z=oe),p.baseState=z,p.firstBaseUpdate=Y,p.lastBaseUpdate=se,y===null&&(p.shared.lanes=0),ri|=R,e.lanes=R,e.memoizedState=oe}}function wm(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function xm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)wm(n[e],t)}var wr=M(null),wl=M(0);function Em(e,t){e=Cs,ce(wl,e),ce(wr,t),Cs=e|t.baseLanes}function Pd(){ce(wl,Cs),ce(wr,wr.current)}function kd(){Cs=wl.current,Z(wr),Z(wl)}var pn=M(null),Hn=null;function ti(e){var t=e.alternate;ce(At,At.current&1),ce(pn,e),Hn===null&&(t===null||wr.current!==null||t.memoizedState!==null)&&(Hn=e)}function qd(e){ce(At,At.current),ce(pn,e),Hn===null&&(Hn=e)}function Tm(e){e.tag===22?(ce(At,At.current),ce(pn,e),Hn===null&&(Hn=e)):ni()}function ni(){ce(At,At.current),ce(pn,pn.current)}function mn(e){Z(pn),Hn===e&&(Hn=null),Z(At)}var At=M(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ff(n)||Gf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vs=0,Pe=null,ot=null,Rt=null,El=!1,xr=!1,ki=!1,Tl=0,Ra=0,Er=null,Qj=0;function Ot(){throw Error(c(321))}function zd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fn(e[n],t[n]))return!1;return!0}function Dd(e,t,n,a,p,y){return vs=y,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?hg:ef,ki=!1,y=n(a,p),ki=!1,xr&&(y=Hm(t,n,a,p)),Im(e),y}function Im(e){N.H=Ea;var t=ot!==null&&ot.next!==null;if(vs=0,Rt=ot=Pe=null,El=!1,Ra=0,Er=null,t)throw Error(c(300));e===null||wt||(e=e.dependencies,e!==null&&bl(e)&&(wt=!0))}function Hm(e,t,n,a){Pe=e;var p=0;do{if(xr&&(Er=null),Ra=0,xr=!1,25<=p)throw Error(c(301));if(p+=1,Rt=ot=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}N.H=pg,y=t(n,a)}while(xr);return y}function Jj(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?wa(t):t,e=e.useState()[0],(ot!==null?ot.memoizedState:null)!==e&&(Pe.flags|=1024),t}function Ud(){var e=Tl!==0;return Tl=0,e}function $d(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Bd(e){if(El){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}El=!1}vs=0,Rt=ot=Pe=null,xr=!1,Ra=Tl=0,Er=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Pe.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function St(){if(ot===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=Rt===null?Pe.memoizedState:Rt.next;if(t!==null)Rt=t,ot=e;else{if(e===null)throw Pe.alternate===null?Error(c(467)):Error(c(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Rt===null?Pe.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wa(e){var t=Ra;return Ra+=1,Er===null&&(Er=[]),e=jm(Er,e,t),t=Pe,(Rt===null?t.memoizedState:Rt.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?hg:ef),e}function Hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wa(e);if(e.$$typeof===x)return Dt(e)}throw Error(c(438,String(e)))}function Ld(e){var t=null,n=Pe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Pe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(p){return p.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Il(),Pe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=G;return t.index++,n}function ys(e,t){return typeof t=="function"?t(e):t}function Ml(e){var t=St();return Fd(t,ot,e)}function Fd(e,t,n){var a=e.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=n;var p=e.baseQueue,y=a.pending;if(y!==null){if(p!==null){var R=p.next;p.next=y.next,y.next=R}t.baseQueue=p=y,a.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{t=p.next;var E=R=null,z=null,Y=t,se=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?(Ve&oe)===oe:(vs&oe)===oe){var X=Y.revertLane;if(X===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===Ar&&(se=!0);else if((vs&X)===X){Y=Y.next,X===Ar&&(se=!0);continue}else oe={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(E=z=oe,R=y):z=z.next=oe,Pe.lanes|=X,ri|=X;oe=Y.action,ki&&n(y,oe),y=Y.hasEagerState?Y.eagerState:n(y,oe)}else X={lane:oe,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(E=z=X,R=y):z=z.next=X,Pe.lanes|=oe,ri|=oe;Y=Y.next}while(Y!==null&&Y!==t);if(z===null?R=y:z.next=E,!fn(y,e.memoizedState)&&(wt=!0,se&&(n=Sr,n!==null)))throw n;e.memoizedState=y,e.baseState=R,e.baseQueue=z,a.lastRenderedState=y}return p===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Gd(e){var t=St(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var a=n.dispatch,p=n.pending,y=t.memoizedState;if(p!==null){n.pending=null;var R=p=p.next;do y=e(y,R.action),R=R.next;while(R!==p);fn(y,t.memoizedState)||(wt=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),n.lastRenderedState=y}return[y,a]}function Mm(e,t,n){var a=Pe,p=St(),y=Ze;if(y){if(n===void 0)throw Error(c(407));n=n()}else n=t();var R=!fn((ot||p).memoizedState,n);if(R&&(p.memoizedState=n,wt=!0),p=p.queue,Yd(km.bind(null,a,p,e),[e]),p.getSnapshot!==t||R||Rt!==null&&Rt.memoizedState.tag&1){if(a.flags|=2048,Tr(9,{destroy:void 0},Pm.bind(null,a,p,n,t),null),ut===null)throw Error(c(349));y||(vs&127)!==0||Nm(a,t,n)}return n}function Nm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t=Il(),Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Pm(e,t,n,a){t.value=n,t.getSnapshot=a,qm(t)&&zm(e)}function km(e,t,n){return n(function(){qm(t)&&zm(e)})}function qm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fn(e,n)}catch{return!0}}function zm(e){var t=wi(e,2);t!==null&&on(t,e,2)}function Vd(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),ki){Gs(!0);try{n()}finally{Gs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t}function Dm(e,t,n,a){return e.baseState=n,Fd(e,ot,typeof a=="function"?a:ys)}function Wj(e,t,n,a,p){if(kl(e))throw Error(c(485));if(e=t.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};N.T!==null?n(!0):y.isTransition=!1,a(y),n=t.pending,n===null?(y.next=t.pending=y,Um(t,y)):(y.next=n.next,t.pending=n.next=y)}}function Um(e,t){var n=t.action,a=t.payload,p=e.state;if(t.isTransition){var y=N.T,R={};N.T=R;try{var E=n(p,a),z=N.S;z!==null&&z(R,E),$m(e,t,E)}catch(Y){Kd(e,t,Y)}finally{y!==null&&R.types!==null&&(y.types=R.types),N.T=y}}else try{y=n(p,a),$m(e,t,y)}catch(Y){Kd(e,t,Y)}}function $m(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Bm(e,t,a)},function(a){return Kd(e,t,a)}):Bm(e,t,n)}function Bm(e,t,n){t.status="fulfilled",t.value=n,Lm(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Um(e,n)))}function Kd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Lm(t),t=t.next;while(t!==a)}e.action=null}function Lm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fm(e,t){return t}function Gm(e,t){if(Ze){var n=ut.formState;if(n!==null){e:{var a=Pe;if(Ze){if(pt){t:{for(var p=pt,y=In;p.nodeType!==8;){if(!y){p=null;break t}if(p=Mn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){pt=Mn(p.nextSibling),a=p.data==="F!";break e}}Xs(a)}a=!1}a&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:t},n.queue=a,n=ug.bind(null,Pe,a),a.dispatch=n,a=Vd(!1),y=Wd.bind(null,Pe,!1,a.queue),a=Kt(),p={state:t,dispatch:null,action:e,pending:null},a.queue=p,n=Wj.bind(null,Pe,p,y,n),p.dispatch=n,a.memoizedState=e,[t,n,!1]}function Vm(e){var t=St();return Km(t,ot,e)}function Km(e,t,n){if(t=Fd(e,t,Fm)[0],e=Ml(ys)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=wa(t)}catch(R){throw R===Cr?Al:R}else a=t;t=St();var p=t.queue,y=p.dispatch;return n!==t.memoizedState&&(Pe.flags|=2048,Tr(9,{destroy:void 0},eA.bind(null,p,n),null)),[a,y,e]}function eA(e,t){e.action=t}function Ym(e){var t=St(),n=ot;if(n!==null)return Km(t,n,e);St(),t=t.memoizedState,n=St();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Tr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Pe.updateQueue,t===null&&(t=Il(),Pe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Zm(){return St().memoizedState}function Nl(e,t,n,a){var p=Kt();Pe.flags|=e,p.memoizedState=Tr(1|t,{destroy:void 0},n,a===void 0?null:a)}function Pl(e,t,n,a){var p=St();a=a===void 0?null:a;var y=p.memoizedState.inst;ot!==null&&a!==null&&zd(a,ot.memoizedState.deps)?p.memoizedState=Tr(t,y,n,a):(Pe.flags|=e,p.memoizedState=Tr(1|t,y,n,a))}function Xm(e,t){Nl(8390656,8,e,t)}function Yd(e,t){Pl(2048,8,e,t)}function tA(e){Pe.flags|=4;var t=Pe.updateQueue;if(t===null)t=Il(),Pe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Qm(e){var t=St().memoizedState;return tA({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Jm(e,t){return Pl(4,2,e,t)}function Wm(e,t){return Pl(4,4,e,t)}function eg(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tg(e,t,n){n=n!=null?n.concat([e]):null,Pl(4,4,eg.bind(null,t,e),n)}function Zd(){}function ng(e,t){var n=St();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&zd(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function sg(e,t){var n=St();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&zd(t,a[1]))return a[0];if(a=e(),ki){Gs(!0);try{e()}finally{Gs(!1)}}return n.memoizedState=[a,t],a}function Xd(e,t,n){return n===void 0||(vs&1073741824)!==0&&(Ve&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=iv(),Pe.lanes|=e,ri|=e,n)}function ig(e,t,n,a){return fn(n,t)?n:wr.current!==null?(e=Xd(e,n,a),fn(e,t)||(wt=!0),e):(vs&42)===0||(vs&1073741824)!==0&&(Ve&261930)===0?(wt=!0,e.memoizedState=n):(e=iv(),Pe.lanes|=e,ri|=e,t)}function rg(e,t,n,a,p){var y=q.p;q.p=y!==0&&8>y?y:8;var R=N.T,E={};N.T=E,Wd(e,!1,t,n);try{var z=p(),Y=N.S;if(Y!==null&&Y(E,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var se=Xj(z,a);xa(e,t,se,yn(e))}else xa(e,t,a,yn(e))}catch(oe){xa(e,t,{then:function(){},status:"rejected",reason:oe},yn())}finally{q.p=y,R!==null&&E.types!==null&&(R.types=E.types),N.T=R}}function nA(){}function Qd(e,t,n,a){if(e.tag!==5)throw Error(c(476));var p=ag(e).queue;rg(e,p,t,B,n===null?nA:function(){return og(e),n(a)})}function ag(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:B},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function og(e){var t=ag(e);t.next===null&&(t=e.alternate.memoizedState),xa(e,t.next.queue,{},yn())}function Jd(){return Dt(Ga)}function cg(){return St().memoizedState}function lg(){return St().memoizedState}function sA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=yn();e=Ws(n);var a=ei(t,e,n);a!==null&&(on(a,t,n),Aa(a,t,n)),t={cache:wd()},e.payload=t;return}t=t.return}}function iA(e,t,n){var a=yn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},kl(e)?dg(t,n):(n=gd(e,t,n,a),n!==null&&(on(n,e,a),fg(n,t,a)))}function ug(e,t,n){var a=yn();xa(e,t,n,a)}function xa(e,t,n,a){var p={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(kl(e))dg(t,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var R=t.lastRenderedState,E=y(R,n);if(p.hasEagerState=!0,p.eagerState=E,fn(E,R))return gl(e,t,p,0),ut===null&&ml(),!1}catch{}finally{}if(n=gd(e,t,p,a),n!==null)return on(n,e,a),fg(n,t,a),!0}return!1}function Wd(e,t,n,a){if(a={lane:2,revertLane:Hf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kl(e)){if(t)throw Error(c(479))}else t=gd(e,n,a,2),t!==null&&on(t,e,2)}function kl(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function dg(e,t){xr=El=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fg(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,vp(e,n)}}var Ea={readContext:Dt,use:Hl,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Ea.useEffectEvent=Ot;var hg={readContext:Dt,use:Hl,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Xm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Nl(4194308,4,eg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){Nl(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var a=e();if(ki){Gs(!0);try{e()}finally{Gs(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Kt();if(n!==void 0){var p=n(t);if(ki){Gs(!0);try{n(t)}finally{Gs(!1)}}}else p=t;return a.memoizedState=a.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},a.queue=e,e=e.dispatch=iA.bind(null,Pe,e),[a.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Vd(e);var t=e.queue,n=ug.bind(null,Pe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Zd,useDeferredValue:function(e,t){var n=Kt();return Xd(n,e,t)},useTransition:function(){var e=Vd(!1);return e=rg.bind(null,Pe,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Pe,p=Kt();if(Ze){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),ut===null)throw Error(c(349));(Ve&127)!==0||Nm(a,t,n)}p.memoizedState=n;var y={value:n,getSnapshot:t};return p.queue=y,Xm(km.bind(null,a,y,e),[e]),a.flags|=2048,Tr(9,{destroy:void 0},Pm.bind(null,a,y,n,t),null),n},useId:function(){var e=Kt(),t=ut.identifierPrefix;if(Ze){var n=ts,a=es;n=(a&~(1<<32-dn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Tl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Qj++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Jd,useFormState:Gm,useActionState:Gm,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Wd.bind(null,Pe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ld,useCacheRefresh:function(){return Kt().memoizedState=sA.bind(null,Pe)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if((nt&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},ef={readContext:Dt,use:Hl,useCallback:ng,useContext:Dt,useEffect:Yd,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Wm,useMemo:sg,useReducer:Ml,useRef:Zm,useState:function(){return Ml(ys)},useDebugValue:Zd,useDeferredValue:function(e,t){var n=St();return ig(n,ot.memoizedState,e,t)},useTransition:function(){var e=Ml(ys)[0],t=St().memoizedState;return[typeof e=="boolean"?e:wa(e),t]},useSyncExternalStore:Mm,useId:cg,useHostTransitionStatus:Jd,useFormState:Vm,useActionState:Vm,useOptimistic:function(e,t){var n=St();return Dm(n,ot,e,t)},useMemoCache:Ld,useCacheRefresh:lg};ef.useEffectEvent=Qm;var pg={readContext:Dt,use:Hl,useCallback:ng,useContext:Dt,useEffect:Yd,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Wm,useMemo:sg,useReducer:Gd,useRef:Zm,useState:function(){return Gd(ys)},useDebugValue:Zd,useDeferredValue:function(e,t){var n=St();return ot===null?Xd(n,e,t):ig(n,ot.memoizedState,e,t)},useTransition:function(){var e=Gd(ys)[0],t=St().memoizedState;return[typeof e=="boolean"?e:wa(e),t]},useSyncExternalStore:Mm,useId:cg,useHostTransitionStatus:Jd,useFormState:Ym,useActionState:Ym,useOptimistic:function(e,t){var n=St();return ot!==null?Dm(n,ot,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ld,useCacheRefresh:lg};pg.useEffectEvent=Qm;function tf(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nf={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=yn(),p=Ws(a);p.payload=t,n!=null&&(p.callback=n),t=ei(e,p,a),t!==null&&(on(t,e,a),Aa(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=yn(),p=Ws(a);p.tag=1,p.payload=t,n!=null&&(p.callback=n),t=ei(e,p,a),t!==null&&(on(t,e,a),Aa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yn(),a=Ws(n);a.tag=2,t!=null&&(a.callback=t),t=ei(e,a,n),t!==null&&(on(t,e,n),Aa(t,e,n))}};function mg(e,t,n,a,p,y,R){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,y,R):t.prototype&&t.prototype.isPureReactComponent?!ma(n,a)||!ma(p,y):!0}function gg(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&nf.enqueueReplaceState(t,t.state,null)}function qi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=f({},n));for(var p in e)n[p]===void 0&&(n[p]=e[p])}return n}function vg(e){pl(e)}function yg(e){console.error(e)}function _g(e){pl(e)}function ql(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function bg(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sf(e,t,n){return n=Ws(n),n.tag=3,n.payload={element:null},n.callback=function(){ql(e,t)},n}function Og(e){return e=Ws(e),e.tag=3,e}function jg(e,t,n,a){var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;e.payload=function(){return p(y)},e.callback=function(){bg(t,n,a)}}var R=n.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(e.callback=function(){bg(t,n,a),typeof p!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function rA(e,t,n,a,p){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&jr(t,n,p,!0),n=pn.current,n!==null){switch(n.tag){case 31:case 13:return Hn===null?Zl():n.alternate===null&&jt===0&&(jt=3),n.flags&=-257,n.flags|=65536,n.lanes=p,a===Sl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ef(e,a,p)),!1;case 22:return n.flags|=65536,a===Sl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ef(e,a,p)),!1}throw Error(c(435,n.tag))}return Ef(e,a,p),Zl(),!1}if(Ze)return t=pn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=p,a!==jd&&(e=Error(c(422),{cause:a}),ya(xn(e,n)))):(a!==jd&&(t=Error(c(423),{cause:a}),ya(xn(t,n))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,a=xn(a,n),p=sf(e.stateNode,a,p),Md(e,p),jt!==4&&(jt=2)),!1;var y=Error(c(520),{cause:a});if(y=xn(y,n),qa===null?qa=[y]:qa.push(y),jt!==4&&(jt=2),t===null)return!0;a=xn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=p&-p,n.lanes|=e,e=sf(n.stateNode,a,e),Md(n,e),!1;case 1:if(t=n.type,y=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ai===null||!ai.has(y))))return n.flags|=65536,p&=-p,n.lanes|=p,p=Og(p),jg(p,e,n,a),Md(n,p),!1}n=n.return}while(n!==null);return!1}var rf=Error(c(461)),wt=!1;function Ut(e,t,n,a){t.child=e===null?Rm(t,null,n,a):Pi(t,e.child,n,a)}function Ag(e,t,n,a,p){n=n.render;var y=t.ref;if("ref"in a){var R={};for(var E in a)E!=="ref"&&(R[E]=a[E])}else R=a;return Ii(t),a=Dd(e,t,n,R,y,p),E=Ud(),e!==null&&!wt?($d(e,t,p),_s(e,t,p)):(Ze&&E&&bd(t),t.flags|=1,Ut(e,t,a,p),t.child)}function Sg(e,t,n,a,p){if(e===null){var y=n.type;return typeof y=="function"&&!vd(y)&&y.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=y,Cg(e,t,y,a,p)):(e=yl(n.type,null,a,t,t.mode,p),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,!hf(e,p)){var R=y.memoizedProps;if(n=n.compare,n=n!==null?n:ma,n(R,a)&&e.ref===t.ref)return _s(e,t,p)}return t.flags|=1,e=hs(y,a),e.ref=t.ref,e.return=t,t.child=e}function Cg(e,t,n,a,p){if(e!==null){var y=e.memoizedProps;if(ma(y,a)&&e.ref===t.ref)if(wt=!1,t.pendingProps=a=y,hf(e,p))(e.flags&131072)!==0&&(wt=!0);else return t.lanes=e.lanes,_s(e,t,p)}return af(e,t,n,a,p)}function Rg(e,t,n,a){var p=a.children,y=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(y=y!==null?y.baseLanes|n:n,e!==null){for(a=t.child=e.child,p=0;a!==null;)p=p|a.lanes|a.childLanes,a=a.sibling;a=p&~y}else a=0,t.child=null;return wg(e,t,y,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jl(t,y!==null?y.cachePool:null),y!==null?Em(t,y):Pd(),Tm(t);else return a=t.lanes=536870912,wg(e,t,y!==null?y.baseLanes|n:n,n,a)}else y!==null?(jl(t,y.cachePool),Em(t,y),ni(),t.memoizedState=null):(e!==null&&jl(t,null),Pd(),ni());return Ut(e,t,p,n),t.child}function Ta(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function wg(e,t,n,a,p){var y=Ed();return y=y===null?null:{parent:Ct._currentValue,pool:y},t.memoizedState={baseLanes:n,cachePool:y},e!==null&&jl(t,null),Pd(),Tm(t),e!==null&&jr(e,t,a,!0),t.childLanes=p,null}function zl(e,t){return t=Ul({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xg(e,t,n){return Pi(t,e.child,null,n),e=zl(t,t.pendingProps),e.flags|=2,mn(t),t.memoizedState=null,e}function aA(e,t,n){var a=t.pendingProps,p=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ze){if(a.mode==="hidden")return e=zl(t,a),t.lanes=536870912,Ta(null,e);if(qd(t),(e=pt)?(e=Uv(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ys!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},n=dm(e),n.return=t,t.child=n,zt=t,pt=null)):e=null,e===null)throw Xs(t);return t.lanes=536870912,null}return zl(t,a)}var y=e.memoizedState;if(y!==null){var R=y.dehydrated;if(qd(t),p)if(t.flags&256)t.flags&=-257,t=xg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(wt||jr(e,t,n,!1),p=(n&e.childLanes)!==0,wt||p){if(a=ut,a!==null&&(R=yp(a,n),R!==0&&R!==y.retryLane))throw y.retryLane=R,wi(e,R),on(a,e,R),rf;Zl(),t=xg(e,t,n)}else e=y.treeContext,pt=Mn(R.nextSibling),zt=t,Ze=!0,Zs=null,In=!1,e!==null&&pm(t,e),t=zl(t,a),t.flags|=4096;return t}return e=hs(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Dl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function af(e,t,n,a,p){return Ii(t),n=Dd(e,t,n,a,void 0,p),a=Ud(),e!==null&&!wt?($d(e,t,p),_s(e,t,p)):(Ze&&a&&bd(t),t.flags|=1,Ut(e,t,n,p),t.child)}function Eg(e,t,n,a,p,y){return Ii(t),t.updateQueue=null,n=Hm(t,a,n,p),Im(e),a=Ud(),e!==null&&!wt?($d(e,t,y),_s(e,t,y)):(Ze&&a&&bd(t),t.flags|=1,Ut(e,t,n,y),t.child)}function Tg(e,t,n,a,p){if(Ii(t),t.stateNode===null){var y=yr,R=n.contextType;typeof R=="object"&&R!==null&&(y=Dt(R)),y=new n(a,y),t.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=nf,t.stateNode=y,y._reactInternals=t,y=t.stateNode,y.props=a,y.state=t.memoizedState,y.refs={},Id(t),R=n.contextType,y.context=typeof R=="object"&&R!==null?Dt(R):yr,y.state=t.memoizedState,R=n.getDerivedStateFromProps,typeof R=="function"&&(tf(t,n,R,a),y.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&nf.enqueueReplaceState(y,y.state,null),Ca(t,a,y,p),Sa(),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){y=t.stateNode;var E=t.memoizedProps,z=qi(n,E);y.props=z;var Y=y.context,se=n.contextType;R=yr,typeof se=="object"&&se!==null&&(R=Dt(se));var oe=n.getDerivedStateFromProps;se=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E||Y!==R)&&gg(t,y,a,R),Js=!1;var X=t.memoizedState;y.state=X,Ca(t,a,y,p),Sa(),Y=t.memoizedState,E||X!==Y||Js?(typeof oe=="function"&&(tf(t,n,oe,a),Y=t.memoizedState),(z=Js||mg(t,n,z,a,X,Y,R))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Y),y.props=a,y.state=Y,y.context=R,a=z):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{y=t.stateNode,Hd(e,t),R=t.memoizedProps,se=qi(n,R),y.props=se,oe=t.pendingProps,X=y.context,Y=n.contextType,z=yr,typeof Y=="object"&&Y!==null&&(z=Dt(Y)),E=n.getDerivedStateFromProps,(Y=typeof E=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==oe||X!==z)&&gg(t,y,a,z),Js=!1,X=t.memoizedState,y.state=X,Ca(t,a,y,p),Sa();var W=t.memoizedState;R!==oe||X!==W||Js||e!==null&&e.dependencies!==null&&bl(e.dependencies)?(typeof E=="function"&&(tf(t,n,E,a),W=t.memoizedState),(se=Js||mg(t,n,se,a,X,W,z)||e!==null&&e.dependencies!==null&&bl(e.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,W,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,W,z)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=W),y.props=a,y.state=W,y.context=z,a=se):(typeof y.componentDidUpdate!="function"||R===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),a=!1)}return y=a,Dl(e,t),a=(t.flags&128)!==0,y||a?(y=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:y.render(),t.flags|=1,e!==null&&a?(t.child=Pi(t,e.child,null,p),t.child=Pi(t,null,n,p)):Ut(e,t,n,p),t.memoizedState=y.state,e=t.child):e=_s(e,t,p),e}function Ig(e,t,n,a){return Ei(),t.flags|=256,Ut(e,t,n,a),t.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(e){return{baseLanes:e,cachePool:bm()}}function lf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=vn),e}function Hg(e,t,n){var a=t.pendingProps,p=!1,y=(t.flags&128)!==0,R;if((R=y)||(R=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),R&&(p=!0,t.flags&=-129),R=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ze){if(p?ti(t):ni(),(e=pt)?(e=Uv(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ys!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},n=dm(e),n.return=t,t.child=n,zt=t,pt=null)):e=null,e===null)throw Xs(t);return Gf(e)?t.lanes=32:t.lanes=536870912,null}var E=a.children;return a=a.fallback,p?(ni(),p=t.mode,E=Ul({mode:"hidden",children:E},p),a=xi(a,p,n,null),E.return=t,a.return=t,E.sibling=a,t.child=E,a=t.child,a.memoizedState=cf(n),a.childLanes=lf(e,R,n),t.memoizedState=of,Ta(null,a)):(ti(t),uf(t,E))}var z=e.memoizedState;if(z!==null&&(E=z.dehydrated,E!==null)){if(y)t.flags&256?(ti(t),t.flags&=-257,t=df(e,t,n)):t.memoizedState!==null?(ni(),t.child=e.child,t.flags|=128,t=null):(ni(),E=a.fallback,p=t.mode,a=Ul({mode:"visible",children:a.children},p),E=xi(E,p,n,null),E.flags|=2,a.return=t,E.return=t,a.sibling=E,t.child=a,Pi(t,e.child,null,n),a=t.child,a.memoizedState=cf(n),a.childLanes=lf(e,R,n),t.memoizedState=of,t=Ta(null,a));else if(ti(t),Gf(E)){if(R=E.nextSibling&&E.nextSibling.dataset,R)var Y=R.dgst;R=Y,a=Error(c(419)),a.stack="",a.digest=R,ya({value:a,source:null,stack:null}),t=df(e,t,n)}else if(wt||jr(e,t,n,!1),R=(n&e.childLanes)!==0,wt||R){if(R=ut,R!==null&&(a=yp(R,n),a!==0&&a!==z.retryLane))throw z.retryLane=a,wi(e,a),on(R,e,a),rf;Ff(E)||Zl(),t=df(e,t,n)}else Ff(E)?(t.flags|=192,t.child=e.child,t=null):(e=z.treeContext,pt=Mn(E.nextSibling),zt=t,Ze=!0,Zs=null,In=!1,e!==null&&pm(t,e),t=uf(t,a.children),t.flags|=4096);return t}return p?(ni(),E=a.fallback,p=t.mode,z=e.child,Y=z.sibling,a=hs(z,{mode:"hidden",children:a.children}),a.subtreeFlags=z.subtreeFlags&65011712,Y!==null?E=hs(Y,E):(E=xi(E,p,n,null),E.flags|=2),E.return=t,a.return=t,a.sibling=E,t.child=a,Ta(null,a),a=t.child,E=e.child.memoizedState,E===null?E=cf(n):(p=E.cachePool,p!==null?(z=Ct._currentValue,p=p.parent!==z?{parent:z,pool:z}:p):p=bm(),E={baseLanes:E.baseLanes|n,cachePool:p}),a.memoizedState=E,a.childLanes=lf(e,R,n),t.memoizedState=of,Ta(e.child,a)):(ti(t),n=e.child,e=n.sibling,n=hs(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(R=t.deletions,R===null?(t.deletions=[e],t.flags|=16):R.push(e)),t.child=n,t.memoizedState=null,n)}function uf(e,t){return t=Ul({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ul(e,t){return e=hn(22,e,null,t),e.lanes=0,e}function df(e,t,n){return Pi(t,e.child,null,n),e=uf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mg(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Cd(e.return,t,n)}function ff(e,t,n,a,p,y){var R=e.memoizedState;R===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:p,treeForkCount:y}:(R.isBackwards=t,R.rendering=null,R.renderingStartTime=0,R.last=a,R.tail=n,R.tailMode=p,R.treeForkCount=y)}function Ng(e,t,n){var a=t.pendingProps,p=a.revealOrder,y=a.tail;a=a.children;var R=At.current,E=(R&2)!==0;if(E?(R=R&1|2,t.flags|=128):R&=1,ce(At,R),Ut(e,t,a,n),a=Ze?va:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mg(e,n,t);else if(e.tag===19)Mg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(n=t.child,p=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(p=n),n=n.sibling;n=p,n===null?(p=t.child,t.child=null):(p=n.sibling,n.sibling=null),ff(t,!1,p,n,y,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,p=t.child,t.child=null;p!==null;){if(e=p.alternate,e!==null&&xl(e)===null){t.child=p;break}e=p.sibling,p.sibling=n,n=p,p=e}ff(t,!0,n,null,y,a);break;case"together":ff(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function _s(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ri|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(jr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=hs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&bl(e)))}function oA(e,t,n){switch(t.tag){case 3:te(t,t.stateNode.containerInfo),Qs(t,Ct,e.memoizedState.cache),Ei();break;case 27:case 5:we(t);break;case 4:te(t,t.stateNode.containerInfo);break;case 10:Qs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ti(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Hg(e,t,n):(ti(t),e=_s(e,t,n),e!==null?e.sibling:null);ti(t);break;case 19:var p=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(jr(e,t,n,!1),a=(n&t.childLanes)!==0),p){if(a)return Ng(e,t,n);t.flags|=128}if(p=t.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ce(At,At.current),a)break;return null;case 22:return t.lanes=0,Rg(e,t,n,t.pendingProps);case 24:Qs(t,Ct,e.memoizedState.cache)}return _s(e,t,n)}function Pg(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)wt=!0;else{if(!hf(e,n)&&(t.flags&128)===0)return wt=!1,oA(e,t,n);wt=(e.flags&131072)!==0}else wt=!1,Ze&&(t.flags&1048576)!==0&&hm(t,va,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Mi(t.elementType),t.type=e,typeof e=="function")vd(e)?(a=qi(e,a),t.tag=1,t=Tg(null,t,e,a,n)):(t.tag=0,t=af(null,t,e,a,n));else{if(e!=null){var p=e.$$typeof;if(p===T){t.tag=11,t=Ag(null,t,e,a,n);break e}else if(p===w){t.tag=14,t=Sg(null,t,e,a,n);break e}}throw t=U(e)||e,Error(c(306,t,""))}}return t;case 0:return af(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,p=qi(a,t.pendingProps),Tg(e,t,a,p,n);case 3:e:{if(te(t,t.stateNode.containerInfo),e===null)throw Error(c(387));a=t.pendingProps;var y=t.memoizedState;p=y.element,Hd(e,t),Ca(t,a,null,n);var R=t.memoizedState;if(a=R.cache,Qs(t,Ct,a),a!==y.cache&&Rd(t,[Ct],n,!0),Sa(),a=R.element,y.isDehydrated)if(y={element:a,isDehydrated:!1,cache:R.cache},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){t=Ig(e,t,a,n);break e}else if(a!==p){p=xn(Error(c(424)),t),ya(p),t=Ig(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pt=Mn(e.firstChild),zt=t,Ze=!0,Zs=null,In=!0,n=Rm(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ei(),a===p){t=_s(e,t,n);break e}Ut(e,t,a,n)}t=t.child}return t;case 26:return Dl(e,t),e===null?(n=Vv(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ze||(n=t.type,e=t.pendingProps,a=nu(me.current).createElement(n),a[qt]=t,a[en]=e,$t(a,n,e),Nt(a),t.stateNode=a):t.memoizedState=Vv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&Ze&&(a=t.stateNode=Lv(t.type,t.pendingProps,me.current),zt=t,In=!0,p=pt,ui(t.type)?(Vf=p,pt=Mn(a.firstChild)):pt=p),Ut(e,t,t.pendingProps.children,n),Dl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ze&&((p=a=pt)&&(a=qA(a,t.type,t.pendingProps,In),a!==null?(t.stateNode=a,zt=t,pt=Mn(a.firstChild),In=!1,p=!0):p=!1),p||Xs(t)),we(t),p=t.type,y=t.pendingProps,R=e!==null?e.memoizedProps:null,a=y.children,$f(p,y)?a=null:R!==null&&$f(p,R)&&(t.flags|=32),t.memoizedState!==null&&(p=Dd(e,t,Jj,null,null,n),Ga._currentValue=p),Dl(e,t),Ut(e,t,a,n),t.child;case 6:return e===null&&Ze&&((e=n=pt)&&(n=zA(n,t.pendingProps,In),n!==null?(t.stateNode=n,zt=t,pt=null,e=!0):e=!1),e||Xs(t)),null;case 13:return Hg(e,t,n);case 4:return te(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Pi(t,null,a,n):Ut(e,t,a,n),t.child;case 11:return Ag(e,t,t.type,t.pendingProps,n);case 7:return Ut(e,t,t.pendingProps,n),t.child;case 8:return Ut(e,t,t.pendingProps.children,n),t.child;case 12:return Ut(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Qs(t,t.type,a.value),Ut(e,t,a.children,n),t.child;case 9:return p=t.type._context,a=t.pendingProps.children,Ii(t),p=Dt(p),a=a(p),t.flags|=1,Ut(e,t,a,n),t.child;case 14:return Sg(e,t,t.type,t.pendingProps,n);case 15:return Cg(e,t,t.type,t.pendingProps,n);case 19:return Ng(e,t,n);case 31:return aA(e,t,n);case 22:return Rg(e,t,n,t.pendingProps);case 24:return Ii(t),a=Dt(Ct),e===null?(p=Ed(),p===null&&(p=ut,y=wd(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=n),p=y),t.memoizedState={parent:a,cache:p},Id(t),Qs(t,Ct,p)):((e.lanes&n)!==0&&(Hd(e,t),Ca(t,null,null,n),Sa()),p=e.memoizedState,y=t.memoizedState,p.parent!==a?(p={parent:a,cache:a},t.memoizedState=p,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=p),Qs(t,Ct,a)):(a=y.cache,Qs(t,Ct,a),a!==p.cache&&Rd(t,[Ct],n,!0))),Ut(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function bs(e){e.flags|=4}function pf(e,t,n,a,p){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(cv())e.flags|=8192;else throw Ni=Sl,Td}else e.flags&=-16777217}function kg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qv(t))if(cv())e.flags|=8192;else throw Ni=Sl,Td}function $l(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mp():536870912,e.lanes|=t,Nr|=t)}function Ia(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var p=e.child;p!==null;)n|=p.lanes|p.childLanes,a|=p.subtreeFlags&65011712,a|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)n|=p.lanes|p.childLanes,a|=p.subtreeFlags,a|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function cA(e,t,n){var a=t.pendingProps;switch(Od(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return mt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),gs(Ct),re(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Or(t)?bs(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ad())),mt(t),null;case 26:var p=t.type,y=t.memoizedState;return e===null?(bs(t),y!==null?(mt(t),kg(t,y)):(mt(t),pf(t,p,null,a,n))):y?y!==e.memoizedState?(bs(t),mt(t),kg(t,y)):(mt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&bs(t),mt(t),pf(t,p,e,a,n)),null;case 27:if(ee(t),n=me.current,p=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&bs(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return mt(t),null}e=le.current,Or(t)?mm(t):(e=Lv(p,a,n),t.stateNode=e,bs(t))}return mt(t),null;case 5:if(ee(t),p=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&bs(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return mt(t),null}if(y=le.current,Or(t))mm(t);else{var R=nu(me.current);switch(y){case 1:y=R.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=R.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=R.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=R.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=R.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof a.is=="string"?R.createElement("select",{is:a.is}):R.createElement("select"),a.multiple?y.multiple=!0:a.size&&(y.size=a.size);break;default:y=typeof a.is=="string"?R.createElement(p,{is:a.is}):R.createElement(p)}}y[qt]=t,y[en]=a;e:for(R=t.child;R!==null;){if(R.tag===5||R.tag===6)y.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===t)break e;for(;R.sibling===null;){if(R.return===null||R.return===t)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}t.stateNode=y;e:switch($t(y,p,a),p){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&bs(t)}}return mt(t),pf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&bs(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(c(166));if(e=me.current,Or(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,p=zt,p!==null)switch(p.tag){case 27:case 5:a=p.memoizedProps}e[qt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Hv(e.nodeValue,n)),e||Xs(t,!0)}else e=nu(e).createTextNode(a),e[qt]=t,t.stateNode=e}return mt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Or(t),n!==null){if(e===null){if(!a)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[qt]=t}else Ei(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;mt(t),e=!1}else n=Ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(mn(t),t):(mn(t),null);if((t.flags&128)!==0)throw Error(c(558))}return mt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Or(t),a!==null&&a.dehydrated!==null){if(e===null){if(!p)throw Error(c(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(c(317));p[qt]=t}else Ei(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;mt(t),p=!1}else p=Ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return t.flags&256?(mn(t),t):(mn(t),null)}return mn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,p=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(p=a.alternate.memoizedState.cachePool.pool),y=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(y=a.memoizedState.cachePool.pool),y!==p&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),$l(t,t.updateQueue),mt(t),null);case 4:return re(),e===null&&kf(t.stateNode.containerInfo),mt(t),null;case 10:return gs(t.type),mt(t),null;case 19:if(Z(At),a=t.memoizedState,a===null)return mt(t),null;if(p=(t.flags&128)!==0,y=a.rendering,y===null)if(p)Ia(a,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=xl(e),y!==null){for(t.flags|=128,Ia(a,!1),e=y.updateQueue,t.updateQueue=e,$l(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)um(n,e),n=n.sibling;return ce(At,At.current&1|2),Ze&&ps(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Tt()>Vl&&(t.flags|=128,p=!0,Ia(a,!1),t.lanes=4194304)}else{if(!p)if(e=xl(y),e!==null){if(t.flags|=128,p=!0,e=e.updateQueue,t.updateQueue=e,$l(t,e),Ia(a,!0),a.tail===null&&a.tailMode==="hidden"&&!y.alternate&&!Ze)return mt(t),null}else 2*Tt()-a.renderingStartTime>Vl&&n!==536870912&&(t.flags|=128,p=!0,Ia(a,!1),t.lanes=4194304);a.isBackwards?(y.sibling=t.child,t.child=y):(e=a.last,e!==null?e.sibling=y:t.child=y,a.last=y)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Tt(),e.sibling=null,n=At.current,ce(At,p?n&1|2:n&1),Ze&&ps(t,a.treeForkCount),e):(mt(t),null);case 22:case 23:return mn(t),kd(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),n=t.updateQueue,n!==null&&$l(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Z(Hi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),gs(Ct),mt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function lA(e,t){switch(Od(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gs(Ct),re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ee(t),null;case 31:if(t.memoizedState!==null){if(mn(t),t.alternate===null)throw Error(c(340));Ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(mn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(At),null;case 4:return re(),null;case 10:return gs(t.type),null;case 22:case 23:return mn(t),kd(),e!==null&&Z(Hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return gs(Ct),null;case 25:return null;default:return null}}function qg(e,t){switch(Od(t),t.tag){case 3:gs(Ct),re();break;case 26:case 27:case 5:ee(t);break;case 4:re();break;case 31:t.memoizedState!==null&&mn(t);break;case 13:mn(t);break;case 19:Z(At);break;case 10:gs(t.type);break;case 22:case 23:mn(t),kd(),e!==null&&Z(Hi);break;case 24:gs(Ct)}}function Ha(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var p=a.next;n=p;do{if((n.tag&e)===e){a=void 0;var y=n.create,R=n.inst;a=y(),R.destroy=a}n=n.next}while(n!==p)}}catch(E){at(t,t.return,E)}}function si(e,t,n){try{var a=t.updateQueue,p=a!==null?a.lastEffect:null;if(p!==null){var y=p.next;a=y;do{if((a.tag&e)===e){var R=a.inst,E=R.destroy;if(E!==void 0){R.destroy=void 0,p=t;var z=n,Y=E;try{Y()}catch(se){at(p,z,se)}}}a=a.next}while(a!==y)}}catch(se){at(t,t.return,se)}}function zg(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xm(t,n)}catch(a){at(e,e.return,a)}}}function Dg(e,t,n){n.props=qi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){at(e,t,a)}}function Ma(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(p){at(e,t,p)}}function ns(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(p){at(e,t,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(p){at(e,t,p)}else n.current=null}function Ug(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(p){at(e,e.return,p)}}function mf(e,t,n){try{var a=e.stateNode;IA(a,e.type,n,t),a[en]=t}catch(p){at(e,e.return,p)}}function $g(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ui(e.type)||e.tag===4}function gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vf(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ds));else if(a!==4&&(a===27&&ui(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vf(e,t,n),e=e.sibling;e!==null;)vf(e,t,n),e=e.sibling}function Bl(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&ui(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}function Bg(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,p=t.attributes;p.length;)t.removeAttributeNode(p[0]);$t(t,a,n),t[qt]=e,t[en]=n}catch(y){at(e,e.return,y)}}var Os=!1,xt=!1,yf=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function uA(e,t){if(e=e.containerInfo,Df=lu,e=tm(e),ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var p=a.anchorOffset,y=a.focusNode;a=a.focusOffset;try{n.nodeType,y.nodeType}catch{n=null;break e}var R=0,E=-1,z=-1,Y=0,se=0,oe=e,X=null;t:for(;;){for(var W;oe!==n||p!==0&&oe.nodeType!==3||(E=R+p),oe!==y||a!==0&&oe.nodeType!==3||(z=R+a),oe.nodeType===3&&(R+=oe.nodeValue.length),(W=oe.firstChild)!==null;)X=oe,oe=W;for(;;){if(oe===e)break t;if(X===n&&++Y===p&&(E=R),X===y&&++se===a&&(z=R),(W=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=W}n=E===-1||z===-1?null:{start:E,end:z}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:e,selectionRange:n},lu=!1,Pt=t;Pt!==null;)if(t=Pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pt=e;else for(;Pt!==null;){switch(t=Pt,y=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)p=e[n],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,n=t,p=y.memoizedProps,y=y.memoizedState,a=n.stateNode;try{var Oe=qi(n.type,p);e=a.getSnapshotBeforeUpdate(Oe,y),a.__reactInternalSnapshotBeforeUpdate=e}catch(xe){at(n,n.return,xe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Lf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}}function Fg(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:As(e,n),a&4&&Ha(5,n);break;case 1:if(As(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(R){at(n,n.return,R)}else{var p=qi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(p,t,e.__reactInternalSnapshotBeforeUpdate)}catch(R){at(n,n.return,R)}}a&64&&zg(n),a&512&&Ma(n,n.return);break;case 3:if(As(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xm(e,t)}catch(R){at(n,n.return,R)}}break;case 27:t===null&&a&4&&Bg(n);case 26:case 5:As(e,n),t===null&&a&4&&Ug(n),a&512&&Ma(n,n.return);break;case 12:As(e,n);break;case 31:As(e,n),a&4&&Kg(e,n);break;case 13:As(e,n),a&4&&Yg(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_A.bind(null,n),DA(e,n))));break;case 22:if(a=n.memoizedState!==null||Os,!a){t=t!==null&&t.memoizedState!==null||xt,p=Os;var y=xt;Os=a,(xt=t)&&!y?Ss(e,n,(n.subtreeFlags&8772)!==0):As(e,n),Os=p,xt=y}break;case 30:break;default:As(e,n)}}function Gg(e){var t=e.alternate;t!==null&&(e.alternate=null,Gg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ku(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gt=null,nn=!1;function js(e,t,n){for(n=n.child;n!==null;)Vg(e,t,n),n=n.sibling}function Vg(e,t,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Wn,n)}catch{}switch(n.tag){case 26:xt||ns(n,t),js(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:xt||ns(n,t);var a=gt,p=nn;ui(n.type)&&(gt=n.stateNode,nn=!1),js(e,t,n),Ba(n.stateNode),gt=a,nn=p;break;case 5:xt||ns(n,t);case 6:if(a=gt,p=nn,gt=null,js(e,t,n),gt=a,nn=p,gt!==null)if(nn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(n.stateNode)}catch(y){at(n,t,y)}else try{gt.removeChild(n.stateNode)}catch(y){at(n,t,y)}break;case 18:gt!==null&&(nn?(e=gt,zv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Br(e)):zv(gt,n.stateNode));break;case 4:a=gt,p=nn,gt=n.stateNode.containerInfo,nn=!0,js(e,t,n),gt=a,nn=p;break;case 0:case 11:case 14:case 15:si(2,n,t),xt||si(4,n,t),js(e,t,n);break;case 1:xt||(ns(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Dg(n,t,a)),js(e,t,n);break;case 21:js(e,t,n);break;case 22:xt=(a=xt)||n.memoizedState!==null,js(e,t,n),xt=a;break;default:js(e,t,n)}}function Kg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Br(e)}catch(n){at(t,t.return,n)}}}function Yg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Br(e)}catch(n){at(t,t.return,n)}}function dA(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Lg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Lg),t;default:throw Error(c(435,e.tag))}}function Ll(e,t){var n=dA(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var p=bA.bind(null,e,a);a.then(p,p)}})}function sn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var p=n[a],y=e,R=t,E=R;e:for(;E!==null;){switch(E.tag){case 27:if(ui(E.type)){gt=E.stateNode,nn=!1;break e}break;case 5:gt=E.stateNode,nn=!1;break e;case 3:case 4:gt=E.stateNode.containerInfo,nn=!0;break e}E=E.return}if(gt===null)throw Error(c(160));Vg(y,R,p),gt=null,nn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Zg(t,e),t=t.sibling}var Bn=null;function Zg(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(t,e),rn(e),a&4&&(si(3,e,e.return),Ha(3,e),si(5,e,e.return));break;case 1:sn(t,e),rn(e),a&512&&(xt||n===null||ns(n,n.return)),a&64&&Os&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var p=Bn;if(sn(t,e),rn(e),a&512&&(xt||n===null||ns(n,n.return)),a&4){var y=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,p=p.ownerDocument||p;t:switch(a){case"title":y=p.getElementsByTagName("title")[0],(!y||y[aa]||y[qt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(a),p.head.insertBefore(y,p.querySelector("head > title"))),$t(y,a,n),y[qt]=e,Nt(y),a=y;break e;case"link":var R=Zv("link","href",p).get(a+(n.href||""));if(R){for(var E=0;E<R.length;E++)if(y=R[E],y.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&y.getAttribute("rel")===(n.rel==null?null:n.rel)&&y.getAttribute("title")===(n.title==null?null:n.title)&&y.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){R.splice(E,1);break t}}y=p.createElement(a),$t(y,a,n),p.head.appendChild(y);break;case"meta":if(R=Zv("meta","content",p).get(a+(n.content||""))){for(E=0;E<R.length;E++)if(y=R[E],y.getAttribute("content")===(n.content==null?null:""+n.content)&&y.getAttribute("name")===(n.name==null?null:n.name)&&y.getAttribute("property")===(n.property==null?null:n.property)&&y.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&y.getAttribute("charset")===(n.charSet==null?null:n.charSet)){R.splice(E,1);break t}}y=p.createElement(a),$t(y,a,n),p.head.appendChild(y);break;default:throw Error(c(468,a))}y[qt]=e,Nt(y),a=y}e.stateNode=a}else Xv(p,e.type,e.stateNode);else e.stateNode=Yv(p,a,e.memoizedProps);else y!==a?(y===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):y.count--,a===null?Xv(p,e.type,e.stateNode):Yv(p,a,e.memoizedProps)):a===null&&e.stateNode!==null&&mf(e,e.memoizedProps,n.memoizedProps)}break;case 27:sn(t,e),rn(e),a&512&&(xt||n===null||ns(n,n.return)),n!==null&&a&4&&mf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sn(t,e),rn(e),a&512&&(xt||n===null||ns(n,n.return)),e.flags&32){p=e.stateNode;try{dr(p,"")}catch(Oe){at(e,e.return,Oe)}}a&4&&e.stateNode!=null&&(p=e.memoizedProps,mf(e,p,n!==null?n.memoizedProps:p)),a&1024&&(yf=!0);break;case 6:if(sn(t,e),rn(e),a&4){if(e.stateNode===null)throw Error(c(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Oe){at(e,e.return,Oe)}}break;case 3:if(ru=null,p=Bn,Bn=su(t.containerInfo),sn(t,e),Bn=p,rn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Br(t.containerInfo)}catch(Oe){at(e,e.return,Oe)}yf&&(yf=!1,Xg(e));break;case 4:a=Bn,Bn=su(e.stateNode.containerInfo),sn(t,e),rn(e),Bn=a;break;case 12:sn(t,e),rn(e);break;case 31:sn(t,e),rn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ll(e,a)));break;case 13:sn(t,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gl=Tt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ll(e,a)));break;case 22:p=e.memoizedState!==null;var z=n!==null&&n.memoizedState!==null,Y=Os,se=xt;if(Os=Y||p,xt=se||z,sn(t,e),xt=se,Os=Y,rn(e),a&8192)e:for(t=e.stateNode,t._visibility=p?t._visibility&-2:t._visibility|1,p&&(n===null||z||Os||xt||zi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){z=n=t;try{if(y=z.stateNode,p)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{E=z.stateNode;var oe=z.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Oe){at(z,z.return,Oe)}}}else if(t.tag===6){if(n===null){z=t;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(Oe){at(z,z.return,Oe)}}}else if(t.tag===18){if(n===null){z=t;try{var W=z.stateNode;p?Dv(W,!0):Dv(z.stateNode,!1)}catch(Oe){at(z,z.return,Oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ll(e,n))));break;case 19:sn(t,e),rn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ll(e,a)));break;case 30:break;case 21:break;default:sn(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if($g(a)){n=a;break}a=a.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var p=n.stateNode,y=gf(e);Bl(e,y,p);break;case 5:var R=n.stateNode;n.flags&32&&(dr(R,""),n.flags&=-33);var E=gf(e);Bl(e,E,R);break;case 3:case 4:var z=n.stateNode.containerInfo,Y=gf(e);vf(e,Y,z);break;default:throw Error(c(161))}}catch(se){at(e,e.return,se)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function As(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Fg(e,t.alternate,t),t=t.sibling}function zi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:si(4,t,t.return),zi(t);break;case 1:ns(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Dg(t,t.return,n),zi(t);break;case 27:Ba(t.stateNode);case 26:case 5:ns(t,t.return),zi(t);break;case 22:t.memoizedState===null&&zi(t);break;case 30:zi(t);break;default:zi(t)}e=e.sibling}}function Ss(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,p=e,y=t,R=y.flags;switch(y.tag){case 0:case 11:case 15:Ss(p,y,n),Ha(4,y);break;case 1:if(Ss(p,y,n),a=y,p=a.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){at(a,a.return,Y)}if(a=y,p=a.updateQueue,p!==null){var E=a.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)wm(z[p],E)}catch(Y){at(a,a.return,Y)}}n&&R&64&&zg(y),Ma(y,y.return);break;case 27:Bg(y);case 26:case 5:Ss(p,y,n),n&&a===null&&R&4&&Ug(y),Ma(y,y.return);break;case 12:Ss(p,y,n);break;case 31:Ss(p,y,n),n&&R&4&&Kg(p,y);break;case 13:Ss(p,y,n),n&&R&4&&Yg(p,y);break;case 22:y.memoizedState===null&&Ss(p,y,n),Ma(y,y.return);break;case 30:break;default:Ss(p,y,n)}t=t.sibling}}function _f(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_a(n))}function bf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e))}function Ln(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qg(e,t,n,a),t=t.sibling}function Qg(e,t,n,a){var p=t.flags;switch(t.tag){case 0:case 11:case 15:Ln(e,t,n,a),p&2048&&Ha(9,t);break;case 1:Ln(e,t,n,a);break;case 3:Ln(e,t,n,a),p&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e)));break;case 12:if(p&2048){Ln(e,t,n,a),e=t.stateNode;try{var y=t.memoizedProps,R=y.id,E=y.onPostCommit;typeof E=="function"&&E(R,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){at(t,t.return,z)}}else Ln(e,t,n,a);break;case 31:Ln(e,t,n,a);break;case 13:Ln(e,t,n,a);break;case 23:break;case 22:y=t.stateNode,R=t.alternate,t.memoizedState!==null?y._visibility&2?Ln(e,t,n,a):Na(e,t):y._visibility&2?Ln(e,t,n,a):(y._visibility|=2,Ir(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),p&2048&&_f(R,t);break;case 24:Ln(e,t,n,a),p&2048&&bf(t.alternate,t);break;default:Ln(e,t,n,a)}}function Ir(e,t,n,a,p){for(p=p&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var y=e,R=t,E=n,z=a,Y=R.flags;switch(R.tag){case 0:case 11:case 15:Ir(y,R,E,z,p),Ha(8,R);break;case 23:break;case 22:var se=R.stateNode;R.memoizedState!==null?se._visibility&2?Ir(y,R,E,z,p):Na(y,R):(se._visibility|=2,Ir(y,R,E,z,p)),p&&Y&2048&&_f(R.alternate,R);break;case 24:Ir(y,R,E,z,p),p&&Y&2048&&bf(R.alternate,R);break;default:Ir(y,R,E,z,p)}t=t.sibling}}function Na(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,p=a.flags;switch(a.tag){case 22:Na(n,a),p&2048&&_f(a.alternate,a);break;case 24:Na(n,a),p&2048&&bf(a.alternate,a);break;default:Na(n,a)}t=t.sibling}}var Pa=8192;function Hr(e,t,n){if(e.subtreeFlags&Pa)for(e=e.child;e!==null;)Jg(e,t,n),e=e.sibling}function Jg(e,t,n){switch(e.tag){case 26:Hr(e,t,n),e.flags&Pa&&e.memoizedState!==null&&QA(n,Bn,e.memoizedState,e.memoizedProps);break;case 5:Hr(e,t,n);break;case 3:case 4:var a=Bn;Bn=su(e.stateNode.containerInfo),Hr(e,t,n),Bn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Pa,Pa=16777216,Hr(e,t,n),Pa=a):Hr(e,t,n));break;default:Hr(e,t,n)}}function Wg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ka(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Pt=a,tv(a,e)}Wg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ev(e),e=e.sibling}function ev(e){switch(e.tag){case 0:case 11:case 15:ka(e),e.flags&2048&&si(9,e,e.return);break;case 3:ka(e);break;case 12:ka(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fl(e)):ka(e);break;default:ka(e)}}function Fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Pt=a,tv(a,e)}Wg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:si(8,t,t.return),Fl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Fl(t));break;default:Fl(t)}e=e.sibling}}function tv(e,t){for(;Pt!==null;){var n=Pt;switch(n.tag){case 0:case 11:case 15:si(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:_a(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Pt=a;else e:for(n=e;Pt!==null;){a=Pt;var p=a.sibling,y=a.return;if(Gg(a),a===n){Pt=null;break e}if(p!==null){p.return=y,Pt=p;break e}Pt=y}}}var fA={getCacheForType:function(e){var t=Dt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Dt(Ct).controller.signal}},hA=typeof WeakMap=="function"?WeakMap:Map,nt=0,ut=null,Fe=null,Ve=0,rt=0,gn=null,ii=!1,Mr=!1,Of=!1,Cs=0,jt=0,ri=0,Di=0,jf=0,vn=0,Nr=0,qa=null,an=null,Af=!1,Gl=0,nv=0,Vl=1/0,Kl=null,ai=null,It=0,oi=null,Pr=null,Rs=0,Sf=0,Cf=null,sv=null,za=0,Rf=null;function yn(){return(nt&2)!==0&&Ve!==0?Ve&-Ve:N.T!==null?Hf():_p()}function iv(){if(vn===0)if((Ve&536870912)===0||Ze){var e=tl;tl<<=1,(tl&3932160)===0&&(tl=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function on(e,t,n){(e===ut&&(rt===2||rt===9)||e.cancelPendingCommit!==null)&&(kr(e,0),ci(e,Ve,vn,!1)),ra(e,n),((nt&2)===0||e!==ut)&&(e===ut&&((nt&2)===0&&(Di|=n),jt===4&&ci(e,Ve,vn,!1)),ss(e))}function rv(e,t,n){if((nt&6)!==0)throw Error(c(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ia(e,t),p=a?gA(e,t):xf(e,t,!0),y=a;do{if(p===0){Mr&&!a&&ci(e,t,0,!1);break}else{if(n=e.current.alternate,y&&!pA(n)){p=xf(e,t,!1),y=!1;continue}if(p===2){if(y=t,e.errorRecoveryDisabledLanes&y)var R=0;else R=e.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){t=R;e:{var E=e;p=qa;var z=E.current.memoizedState.isDehydrated;if(z&&(kr(E,R).flags|=256),R=xf(E,R,!1),R!==2){if(Of&&!z){E.errorRecoveryDisabledLanes|=y,Di|=y,p=4;break e}y=an,an=p,y!==null&&(an===null?an=y:an.push.apply(an,y))}p=R}if(y=!1,p!==2)continue}}if(p===1){kr(e,0),ci(e,t,0,!0);break}e:{switch(a=e,y=p,y){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:ci(a,t,vn,!ii);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(p=Gl+300-Tt(),10<p)){if(ci(a,t,vn,!ii),sl(a,0,!0)!==0)break e;Rs=t,a.timeoutHandle=kv(av.bind(null,a,n,an,Kl,Af,t,vn,Di,Nr,ii,y,"Throttled",-0,0),p);break e}av(a,n,an,Kl,Af,t,vn,Di,Nr,ii,y,null,-0,0)}}break}while(!0);ss(e)}function av(e,t,n,a,p,y,R,E,z,Y,se,oe,X,W){if(e.timeoutHandle=-1,oe=t.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ds},Jg(t,y,oe);var Oe=(y&62914560)===y?Gl-Tt():(y&4194048)===y?nv-Tt():0;if(Oe=JA(oe,Oe),Oe!==null){Rs=y,e.cancelPendingCommit=Oe(pv.bind(null,e,t,y,n,a,p,R,E,z,se,oe,null,X,W)),ci(e,y,R,!Y);return}}pv(e,t,y,n,a,p,R,E,z)}function pA(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var p=n[a],y=p.getSnapshot;p=p.value;try{if(!fn(y(),p))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ci(e,t,n,a){t&=~jf,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var p=t;0<p;){var y=31-dn(p),R=1<<y;a[y]=-1,p&=~R}n!==0&&gp(e,n,t)}function Yl(){return(nt&6)===0?(Da(0),!1):!0}function wf(){if(Fe!==null){if(rt===0)var e=Fe.return;else e=Fe,ms=Ti=null,Bd(e),Rr=null,Oa=0,e=Fe;for(;e!==null;)qg(e.alternate,e),e=e.return;Fe=null}}function kr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,NA(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Rs=0,wf(),ut=e,Fe=n=hs(e.current,null),Ve=t,rt=0,gn=null,ii=!1,Mr=ia(e,t),Of=!1,Nr=vn=jf=Di=ri=jt=0,an=qa=null,Af=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var p=31-dn(a),y=1<<p;t|=e[p],a&=~y}return Cs=t,ml(),n}function ov(e,t){Pe=null,N.H=Ea,t===Cr||t===Al?(t=Am(),rt=3):t===Td?(t=Am(),rt=4):rt=t===rf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gn=t,Fe===null&&(jt=1,ql(e,xn(t,e.current)))}function cv(){var e=pn.current;return e===null?!0:(Ve&4194048)===Ve?Hn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?e===Hn:!1}function lv(){var e=N.H;return N.H=Ea,e===null?Ea:e}function uv(){var e=N.A;return N.A=fA,e}function Zl(){jt=4,ii||(Ve&4194048)!==Ve&&pn.current!==null||(Mr=!0),(ri&134217727)===0&&(Di&134217727)===0||ut===null||ci(ut,Ve,vn,!1)}function xf(e,t,n){var a=nt;nt|=2;var p=lv(),y=uv();(ut!==e||Ve!==t)&&(Kl=null,kr(e,t)),t=!1;var R=jt;e:do try{if(rt!==0&&Fe!==null){var E=Fe,z=gn;switch(rt){case 8:wf(),R=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(t=!0);var Y=rt;if(rt=0,gn=null,qr(e,E,z,Y),n&&Mr){R=0;break e}break;default:Y=rt,rt=0,gn=null,qr(e,E,z,Y)}}mA(),R=jt;break}catch(se){ov(e,se)}while(!0);return t&&e.shellSuspendCounter++,ms=Ti=null,nt=a,N.H=p,N.A=y,Fe===null&&(ut=null,Ve=0,ml()),R}function mA(){for(;Fe!==null;)dv(Fe)}function gA(e,t){var n=nt;nt|=2;var a=lv(),p=uv();ut!==e||Ve!==t?(Kl=null,Vl=Tt()+500,kr(e,t)):Mr=ia(e,t);e:do try{if(rt!==0&&Fe!==null){t=Fe;var y=gn;t:switch(rt){case 1:rt=0,gn=null,qr(e,t,y,1);break;case 2:case 9:if(Om(y)){rt=0,gn=null,fv(t);break}t=function(){rt!==2&&rt!==9||ut!==e||(rt=7),ss(e)},y.then(t,t);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Om(y)?(rt=0,gn=null,fv(t)):(rt=0,gn=null,qr(e,t,y,7));break;case 5:var R=null;switch(Fe.tag){case 26:R=Fe.memoizedState;case 5:case 27:var E=Fe;if(R?Qv(R):E.stateNode.complete){rt=0,gn=null;var z=E.sibling;if(z!==null)Fe=z;else{var Y=E.return;Y!==null?(Fe=Y,Xl(Y)):Fe=null}break t}}rt=0,gn=null,qr(e,t,y,5);break;case 6:rt=0,gn=null,qr(e,t,y,6);break;case 8:wf(),jt=6;break e;default:throw Error(c(462))}}vA();break}catch(se){ov(e,se)}while(!0);return ms=Ti=null,N.H=a,N.A=p,nt=n,Fe!==null?0:(ut=null,Ve=0,ml(),jt)}function vA(){for(;Fe!==null&&!Un();)dv(Fe)}function dv(e){var t=Pg(e.alternate,e,Cs);e.memoizedProps=e.pendingProps,t===null?Xl(e):Fe=t}function fv(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Eg(n,t,t.pendingProps,t.type,void 0,Ve);break;case 11:t=Eg(n,t,t.pendingProps,t.type.render,t.ref,Ve);break;case 5:Bd(t);default:qg(n,t),t=Fe=um(t,Cs),t=Pg(n,t,Cs)}e.memoizedProps=e.pendingProps,t===null?Xl(e):Fe=t}function qr(e,t,n,a){ms=Ti=null,Bd(t),Rr=null,Oa=0;var p=t.return;try{if(rA(e,p,t,n,Ve)){jt=1,ql(e,xn(n,e.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;jt=1,ql(e,xn(n,e.current)),Fe=null;return}t.flags&32768?(Ze||a===1?e=!0:Mr||(Ve&536870912)!==0?e=!1:(ii=e=!0,(a===2||a===9||a===3||a===6)&&(a=pn.current,a!==null&&a.tag===13&&(a.flags|=16384))),hv(t,e)):Xl(t)}function Xl(e){var t=e;do{if((t.flags&32768)!==0){hv(t,ii);return}e=t.return;var n=cA(t.alternate,t,Cs);if(n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);jt===0&&(jt=5)}function hv(e,t){do{var n=lA(e.alternate,e);if(n!==null){n.flags&=32767,Fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=n}while(e!==null);jt=6,Fe=null}function pv(e,t,n,a,p,y,R,E,z){e.cancelPendingCommit=null;do Ql();while(It!==0);if((nt&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(y=t.lanes|t.childLanes,y|=md,X1(e,n,y,R,E,z),e===ut&&(Fe=ut=null,Ve=0),Pr=t,oi=e,Rs=n,Sf=y,Cf=p,sv=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,OA(Vt,function(){return _v(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=N.T,N.T=null,p=q.p,q.p=2,R=nt,nt|=4;try{uA(e,t,n)}finally{nt=R,q.p=p,N.T=a}}It=1,mv(),gv(),vv()}}function mv(){if(It===1){It=0;var e=oi,t=Pr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=N.T,N.T=null;var a=q.p;q.p=2;var p=nt;nt|=4;try{Zg(t,e);var y=Uf,R=tm(e.containerInfo),E=y.focusedElem,z=y.selectionRange;if(R!==E&&E&&E.ownerDocument&&em(E.ownerDocument.documentElement,E)){if(z!==null&&ud(E)){var Y=z.start,se=z.end;if(se===void 0&&(se=Y),"selectionStart"in E)E.selectionStart=Y,E.selectionEnd=Math.min(se,E.value.length);else{var oe=E.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var W=X.getSelection(),Oe=E.textContent.length,xe=Math.min(z.start,Oe),lt=z.end===void 0?xe:Math.min(z.end,Oe);!W.extend&&xe>lt&&(R=lt,lt=xe,xe=R);var L=Wp(E,xe),$=Wp(E,lt);if(L&&$&&(W.rangeCount!==1||W.anchorNode!==L.node||W.anchorOffset!==L.offset||W.focusNode!==$.node||W.focusOffset!==$.offset)){var K=oe.createRange();K.setStart(L.node,L.offset),W.removeAllRanges(),xe>lt?(W.addRange(K),W.extend($.node,$.offset)):(K.setEnd($.node,$.offset),W.addRange(K))}}}}for(oe=[],W=E;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<oe.length;E++){var ae=oe[E];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}lu=!!Df,Uf=Df=null}finally{nt=p,q.p=a,N.T=n}}e.current=t,It=2}}function gv(){if(It===2){It=0;var e=oi,t=Pr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=N.T,N.T=null;var a=q.p;q.p=2;var p=nt;nt|=4;try{Fg(e,t.alternate,t)}finally{nt=p,q.p=a,N.T=n}}It=3}}function vv(){if(It===4||It===3){It=0,it();var e=oi,t=Pr,n=Rs,a=sv;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?It=5:(It=0,Pr=oi=null,yv(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(ai=null),Gu(n),t=t.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Wn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=N.T,p=q.p,q.p=2,N.T=null;try{for(var y=e.onRecoverableError,R=0;R<a.length;R++){var E=a[R];y(E.value,{componentStack:E.stack})}}finally{N.T=t,q.p=p}}(Rs&3)!==0&&Ql(),ss(e),p=e.pendingLanes,(n&261930)!==0&&(p&42)!==0?e===Rf?za++:(za=0,Rf=e):za=0,Da(0)}}function yv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_a(t)))}function Ql(){return mv(),gv(),vv(),_v()}function _v(){if(It!==5)return!1;var e=oi,t=Sf;Sf=0;var n=Gu(Rs),a=N.T,p=q.p;try{q.p=32>n?32:n,N.T=null,n=Cf,Cf=null;var y=oi,R=Rs;if(It=0,Pr=oi=null,Rs=0,(nt&6)!==0)throw Error(c(331));var E=nt;if(nt|=4,ev(y.current),Qg(y,y.current,R,n),nt=E,Da(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Wn,y)}catch{}return!0}finally{q.p=p,N.T=a,yv(e,t)}}function bv(e,t,n){t=xn(n,t),t=sf(e.stateNode,t,2),e=ei(e,t,2),e!==null&&(ra(e,2),ss(e))}function at(e,t,n){if(e.tag===3)bv(e,e,n);else for(;t!==null;){if(t.tag===3){bv(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ai===null||!ai.has(a))){e=xn(n,e),n=Og(2),a=ei(t,n,2),a!==null&&(jg(n,a,t,e),ra(a,2),ss(a));break}}t=t.return}}function Ef(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new hA;var p=new Set;a.set(t,p)}else p=a.get(t),p===void 0&&(p=new Set,a.set(t,p));p.has(n)||(Of=!0,p.add(n),e=yA.bind(null,e,t,n),t.then(e,e))}function yA(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ut===e&&(Ve&n)===n&&(jt===4||jt===3&&(Ve&62914560)===Ve&&300>Tt()-Gl?(nt&2)===0&&kr(e,0):jf|=n,Nr===Ve&&(Nr=0)),ss(e)}function Ov(e,t){t===0&&(t=mp()),e=wi(e,t),e!==null&&(ra(e,t),ss(e))}function _A(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ov(e,n)}function bA(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,p=e.memoizedState;p!==null&&(n=p.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(t),Ov(e,n)}function OA(e,t){return bt(e,t)}var Jl=null,zr=null,Tf=!1,Wl=!1,If=!1,li=0;function ss(e){e!==zr&&e.next===null&&(zr===null?Jl=zr=e:zr=zr.next=e),Wl=!0,Tf||(Tf=!0,AA())}function Da(e,t){if(!If&&Wl){If=!0;do for(var n=!1,a=Jl;a!==null;){if(e!==0){var p=a.pendingLanes;if(p===0)var y=0;else{var R=a.suspendedLanes,E=a.pingedLanes;y=(1<<31-dn(42|e)+1)-1,y&=p&~(R&~E),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(n=!0,Cv(a,y))}else y=Ve,y=sl(a,a===ut?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(y&3)===0||ia(a,y)||(n=!0,Cv(a,y));a=a.next}while(n);If=!1}}function jA(){jv()}function jv(){Wl=Tf=!1;var e=0;li!==0&&MA()&&(e=li);for(var t=Tt(),n=null,a=Jl;a!==null;){var p=a.next,y=Av(a,t);y===0?(a.next=null,n===null?Jl=p:n.next=p,p===null&&(zr=n)):(n=a,(e!==0||(y&3)!==0)&&(Wl=!0)),a=p}It!==0&&It!==5||Da(e),li!==0&&(li=0)}function Av(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var R=31-dn(y),E=1<<R,z=p[R];z===-1?((E&n)===0||(E&a)!==0)&&(p[R]=Z1(E,t)):z<=t&&(e.expiredLanes|=E),y&=~E}if(t=ut,n=Ve,n=sl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(rt===2||rt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&_t(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ia(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&_t(a),Gu(n)){case 2:case 8:n=Sn;break;case 32:n=Vt;break;case 268435456:n=sa;break;default:n=Vt}return a=Sv.bind(null,e),n=bt(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&_t(a),e.callbackPriority=2,e.callbackNode=null,2}function Sv(e,t){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ql()&&e.callbackNode!==n)return null;var a=Ve;return a=sl(e,e===ut?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(rv(e,a,t),Av(e,Tt()),e.callbackNode!=null&&e.callbackNode===n?Sv.bind(null,e):null)}function Cv(e,t){if(Ql())return null;rv(e,t,!0)}function AA(){PA(function(){(nt&6)!==0?bt(ir,jA):jv()})}function Hf(){if(li===0){var e=Ar;e===0&&(e=el,el<<=1,(el&261888)===0&&(el=256)),li=e}return li}function Rv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ol(""+e)}function wv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function SA(e,t,n,a,p){if(t==="submit"&&n&&n.stateNode===p){var y=Rv((p[en]||null).action),R=a.submitter;R&&(t=(t=R[en]||null)?Rv(t.formAction):R.getAttribute("formAction"),t!==null&&(y=t,R=null));var E=new dl("action","action",null,a,p);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(li!==0){var z=R?wv(p,R):new FormData(p);Qd(n,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(E.preventDefault(),z=R?wv(p,R):new FormData(p),Qd(n,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var Mf=0;Mf<pd.length;Mf++){var Nf=pd[Mf],CA=Nf.toLowerCase(),RA=Nf[0].toUpperCase()+Nf.slice(1);$n(CA,"on"+RA)}$n(im,"onAnimationEnd"),$n(rm,"onAnimationIteration"),$n(am,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Bj,"onTransitionRun"),$n(Lj,"onTransitionStart"),$n(Fj,"onTransitionCancel"),$n(om,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ua));function xv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],p=a.event;a=a.listeners;e:{var y=void 0;if(t)for(var R=a.length-1;0<=R;R--){var E=a[R],z=E.instance,Y=E.currentTarget;if(E=E.listener,z!==y&&p.isPropagationStopped())break e;y=E,p.currentTarget=Y;try{y(p)}catch(se){pl(se)}p.currentTarget=null,y=z}else for(R=0;R<a.length;R++){if(E=a[R],z=E.instance,Y=E.currentTarget,E=E.listener,z!==y&&p.isPropagationStopped())break e;y=E,p.currentTarget=Y;try{y(p)}catch(se){pl(se)}p.currentTarget=null,y=z}}}}function Ge(e,t){var n=t[Vu];n===void 0&&(n=t[Vu]=new Set);var a=e+"__bubble";n.has(a)||(Ev(t,e,2,!1),n.add(a))}function Pf(e,t,n){var a=0;t&&(a|=4),Ev(n,e,a,t)}var eu="_reactListening"+Math.random().toString(36).slice(2);function kf(e){if(!e[eu]){e[eu]=!0,jp.forEach(function(n){n!=="selectionchange"&&(wA.has(n)||Pf(n,!1,e),Pf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eu]||(t[eu]=!0,Pf("selectionchange",!1,t))}}function Ev(e,t,n,a){switch(iy(t)){case 2:var p=tS;break;case 8:p=nS;break;default:p=Qf}n=p.bind(null,t,n,e),p=void 0,!td||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(p=!0),a?p!==void 0?e.addEventListener(t,n,{capture:!0,passive:p}):e.addEventListener(t,n,!0):p!==void 0?e.addEventListener(t,n,{passive:p}):e.addEventListener(t,n,!1)}function qf(e,t,n,a,p){var y=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var R=a.tag;if(R===3||R===4){var E=a.stateNode.containerInfo;if(E===p)break;if(R===4)for(R=a.return;R!==null;){var z=R.tag;if((z===3||z===4)&&R.stateNode.containerInfo===p)return;R=R.return}for(;E!==null;){if(R=ar(E),R===null)return;if(z=R.tag,z===5||z===6||z===26||z===27){a=y=R;continue e}E=E.parentNode}}a=a.return}Np(function(){var Y=y,se=Wu(n),oe=[];e:{var X=cm.get(e);if(X!==void 0){var W=dl,Oe=e;switch(e){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":W=bj;break;case"focusin":Oe="focus",W=rd;break;case"focusout":Oe="blur",W=rd;break;case"beforeblur":case"afterblur":W=rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=cj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Aj;break;case im:case rm:case am:W=dj;break;case om:W=Cj;break;case"scroll":case"scrollend":W=aj;break;case"wheel":W=wj;break;case"copy":case"cut":case"paste":W=hj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Dp;break;case"toggle":case"beforetoggle":W=Ej}var xe=(t&4)!==0,lt=!xe&&(e==="scroll"||e==="scrollend"),L=xe?X!==null?X+"Capture":null:X;xe=[];for(var $=Y,K;$!==null;){var ae=$;if(K=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||K===null||L===null||(ae=ca($,L),ae!=null&&xe.push($a($,ae,K))),lt)break;$=$.return}0<xe.length&&(X=new W(X,Oe,null,n,se),oe.push({event:X,listeners:xe}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",X&&n!==Ju&&(Oe=n.relatedTarget||n.fromElement)&&(ar(Oe)||Oe[rr]))break e;if((W||X)&&(X=se.window===se?se:(X=se.ownerDocument)?X.defaultView||X.parentWindow:window,W?(Oe=n.relatedTarget||n.toElement,W=Y,Oe=Oe?ar(Oe):null,Oe!==null&&(lt=m(Oe),xe=Oe.tag,Oe!==lt||xe!==5&&xe!==27&&xe!==6)&&(Oe=null)):(W=null,Oe=Y),W!==Oe)){if(xe=qp,ae="onMouseLeave",L="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(xe=Dp,ae="onPointerLeave",L="onPointerEnter",$="pointer"),lt=W==null?X:oa(W),K=Oe==null?X:oa(Oe),X=new xe(ae,$+"leave",W,n,se),X.target=lt,X.relatedTarget=K,ae=null,ar(se)===Y&&(xe=new xe(L,$+"enter",Oe,n,se),xe.target=K,xe.relatedTarget=lt,ae=xe),lt=ae,W&&Oe)t:{for(xe=xA,L=W,$=Oe,K=0,ae=L;ae;ae=xe(ae))K++;ae=0;for(var Re=$;Re;Re=xe(Re))ae++;for(;0<K-ae;)L=xe(L),K--;for(;0<ae-K;)$=xe($),ae--;for(;K--;){if(L===$||$!==null&&L===$.alternate){xe=L;break t}L=xe(L),$=xe($)}xe=null}else xe=null;W!==null&&Tv(oe,X,W,xe,!1),Oe!==null&&lt!==null&&Tv(oe,lt,Oe,xe,!0)}}e:{if(X=Y?oa(Y):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var Je=Kp;else if(Gp(X))if(Yp)Je=Dj;else{Je=qj;var Ae=kj}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Qu(Y.elementType)&&(Je=Kp):Je=zj;if(Je&&(Je=Je(e,Y))){Vp(oe,Je,n,se);break e}Ae&&Ae(e,X,Y),e==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Xu(X,"number",X.value)}switch(Ae=Y?oa(Y):window,e){case"focusin":(Gp(Ae)||Ae.contentEditable==="true")&&(mr=Ae,dd=Y,ga=null);break;case"focusout":ga=dd=mr=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,nm(oe,n,se);break;case"selectionchange":if($j)break;case"keydown":case"keyup":nm(oe,n,se)}var ke;if(od)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else pr?Lp(e,n)&&(Ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ke="onCompositionStart");Ke&&(Up&&n.locale!=="ko"&&(pr||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&pr&&(ke=Pp()):(Ks=se,nd="value"in Ks?Ks.value:Ks.textContent,pr=!0)),Ae=tu(Y,Ke),0<Ae.length&&(Ke=new zp(Ke,e,null,n,se),oe.push({event:Ke,listeners:Ae}),ke?Ke.data=ke:(ke=Fp(n),ke!==null&&(Ke.data=ke)))),(ke=Ij?Hj(e,n):Mj(e,n))&&(Ke=tu(Y,"onBeforeInput"),0<Ke.length&&(Ae=new zp("onBeforeInput","beforeinput",null,n,se),oe.push({event:Ae,listeners:Ke}),Ae.data=ke)),SA(oe,e,Y,n,se)}xv(oe,t)})}function $a(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tu(e,t){for(var n=t+"Capture",a=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ca(e,n),p!=null&&a.unshift($a(e,p,y)),p=ca(e,t),p!=null&&a.push($a(e,p,y))),e.tag===3)return a;e=e.return}return[]}function xA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tv(e,t,n,a,p){for(var y=t._reactName,R=[];n!==null&&n!==a;){var E=n,z=E.alternate,Y=E.stateNode;if(E=E.tag,z!==null&&z===a)break;E!==5&&E!==26&&E!==27||Y===null||(z=Y,p?(Y=ca(n,y),Y!=null&&R.unshift($a(n,Y,z))):p||(Y=ca(n,y),Y!=null&&R.push($a(n,Y,z)))),n=n.return}R.length!==0&&e.push({event:t,listeners:R})}var EA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function Iv(e){return(typeof e=="string"?e:""+e).replace(EA,`
`).replace(TA,"")}function Hv(e,t){return t=Iv(t),Iv(e)===t}function ct(e,t,n,a,p,y){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||dr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&dr(e,""+a);break;case"className":rl(e,"class",a);break;case"tabIndex":rl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":rl(e,n,a);break;case"style":Hp(e,a,y);break;case"data":if(t!=="object"){rl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ol(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(n==="formAction"?(t!=="input"&&ct(e,t,"name",p.name,p,null),ct(e,t,"formEncType",p.formEncType,p,null),ct(e,t,"formMethod",p.formMethod,p,null),ct(e,t,"formTarget",p.formTarget,p,null)):(ct(e,t,"encType",p.encType,p,null),ct(e,t,"method",p.method,p,null),ct(e,t,"target",p.target,p,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ol(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ds);break;case"onScroll":a!=null&&Ge("scroll",e);break;case"onScrollEnd":a!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(p.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ol(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),il(e,"popover",a);break;case"xlinkActuate":us(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":us(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":us(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":us(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":us(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":us(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":us(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":us(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":us(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":il(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ij.get(n)||n,il(e,n,a))}}function zf(e,t,n,a,p,y){switch(n){case"style":Hp(e,a,y);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(p.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof a=="string"?dr(e,a):(typeof a=="number"||typeof a=="bigint")&&dr(e,""+a);break;case"onScroll":a!=null&&Ge("scroll",e);break;case"onScrollEnd":a!=null&&Ge("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ap.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(p=n.endsWith("Capture"),t=n.slice(2,p?n.length-7:void 0),y=e[en]||null,y=y!=null?y[n]:null,typeof y=="function"&&e.removeEventListener(t,y,p),typeof a=="function")){typeof y!="function"&&y!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,p);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):il(e,n,a)}}}function $t(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var a=!1,p=!1,y;for(y in n)if(n.hasOwnProperty(y)){var R=n[y];if(R!=null)switch(y){case"src":a=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ct(e,t,y,R,n,null)}}p&&ct(e,t,"srcSet",n.srcSet,n,null),a&&ct(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var E=y=R=p=null,z=null,Y=null;for(a in n)if(n.hasOwnProperty(a)){var se=n[a];if(se!=null)switch(a){case"name":p=se;break;case"type":R=se;break;case"checked":z=se;break;case"defaultChecked":Y=se;break;case"value":y=se;break;case"defaultValue":E=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(c(137,t));break;default:ct(e,t,a,se,n,null)}}xp(e,y,E,z,Y,R,p,!1);return;case"select":Ge("invalid",e),a=R=y=null;for(p in n)if(n.hasOwnProperty(p)&&(E=n[p],E!=null))switch(p){case"value":y=E;break;case"defaultValue":R=E;break;case"multiple":a=E;default:ct(e,t,p,E,n,null)}t=y,n=R,e.multiple=!!a,t!=null?ur(e,!!a,t,!1):n!=null&&ur(e,!!a,n,!0);return;case"textarea":Ge("invalid",e),y=p=a=null;for(R in n)if(n.hasOwnProperty(R)&&(E=n[R],E!=null))switch(R){case"value":a=E;break;case"defaultValue":p=E;break;case"children":y=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(c(91));break;default:ct(e,t,R,E,n,null)}Tp(e,a,p,y);return;case"option":for(z in n)if(n.hasOwnProperty(z)&&(a=n[z],a!=null))switch(z){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ct(e,t,z,a,n,null)}return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(a=0;a<Ua.length;a++)Ge(Ua[a],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in n)if(n.hasOwnProperty(Y)&&(a=n[Y],a!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ct(e,t,Y,a,n,null)}return;default:if(Qu(t)){for(se in n)n.hasOwnProperty(se)&&(a=n[se],a!==void 0&&zf(e,t,se,a,n,void 0));return}}for(E in n)n.hasOwnProperty(E)&&(a=n[E],a!=null&&ct(e,t,E,a,n,null))}function IA(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,R=null,E=null,z=null,Y=null,se=null;for(W in n){var oe=n[W];if(n.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":z=oe;default:a.hasOwnProperty(W)||ct(e,t,W,null,a,oe)}}for(var X in a){var W=a[X];if(oe=n[X],a.hasOwnProperty(X)&&(W!=null||oe!=null))switch(X){case"type":y=W;break;case"name":p=W;break;case"checked":Y=W;break;case"defaultChecked":se=W;break;case"value":R=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(c(137,t));break;default:W!==oe&&ct(e,t,X,W,a,oe)}}Zu(e,R,E,z,Y,se,y,p);return;case"select":W=R=E=X=null;for(y in n)if(z=n[y],n.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":W=z;default:a.hasOwnProperty(y)||ct(e,t,y,null,a,z)}for(p in a)if(y=a[p],z=n[p],a.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":X=y;break;case"defaultValue":E=y;break;case"multiple":R=y;default:y!==z&&ct(e,t,p,y,a,z)}t=E,n=R,a=W,X!=null?ur(e,!!n,X,!1):!!a!=!!n&&(t!=null?ur(e,!!n,t,!0):ur(e,!!n,n?[]:"",!1));return;case"textarea":W=X=null;for(E in n)if(p=n[E],n.hasOwnProperty(E)&&p!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(e,t,E,null,a,p)}for(R in a)if(p=a[R],y=n[R],a.hasOwnProperty(R)&&(p!=null||y!=null))switch(R){case"value":X=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(c(91));break;default:p!==y&&ct(e,t,R,p,a,y)}Ep(e,X,W);return;case"option":for(var Oe in n)if(X=n[Oe],n.hasOwnProperty(Oe)&&X!=null&&!a.hasOwnProperty(Oe))switch(Oe){case"selected":e.selected=!1;break;default:ct(e,t,Oe,null,a,X)}for(z in a)if(X=a[z],W=n[z],a.hasOwnProperty(z)&&X!==W&&(X!=null||W!=null))switch(z){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ct(e,t,z,X,a,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in n)X=n[xe],n.hasOwnProperty(xe)&&X!=null&&!a.hasOwnProperty(xe)&&ct(e,t,xe,null,a,X);for(Y in a)if(X=a[Y],W=n[Y],a.hasOwnProperty(Y)&&X!==W&&(X!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(c(137,t));break;default:ct(e,t,Y,X,a,W)}return;default:if(Qu(t)){for(var lt in n)X=n[lt],n.hasOwnProperty(lt)&&X!==void 0&&!a.hasOwnProperty(lt)&&zf(e,t,lt,void 0,a,X);for(se in a)X=a[se],W=n[se],!a.hasOwnProperty(se)||X===W||X===void 0&&W===void 0||zf(e,t,se,X,a,W);return}}for(var L in n)X=n[L],n.hasOwnProperty(L)&&X!=null&&!a.hasOwnProperty(L)&&ct(e,t,L,null,a,X);for(oe in a)X=a[oe],W=n[oe],!a.hasOwnProperty(oe)||X===W||X==null&&W==null||ct(e,t,oe,X,a,W)}function Mv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var p=n[a],y=p.transferSize,R=p.initiatorType,E=p.duration;if(y&&E&&Mv(R)){for(R=0,E=p.responseEnd,a+=1;a<n.length;a++){var z=n[a],Y=z.startTime;if(Y>E)break;var se=z.transferSize,oe=z.initiatorType;se&&Mv(oe)&&(z=z.responseEnd,R+=se*(z<E?1:(E-Y)/(z-Y)))}if(--a,t+=8*(y+R)/(p.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Df=null,Uf=null;function nu(e){return e.nodeType===9?e:e.ownerDocument}function Nv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $f(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bf=null;function MA(){var e=window.event;return e&&e.type==="popstate"?e===Bf?!1:(Bf=e,!0):(Bf=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(e){return qv.resolve(null).then(e).catch(kA)}:kv;function kA(e){setTimeout(function(){throw e})}function ui(e){return e==="head"}function zv(e,t){var n=t,a=0;do{var p=n.nextSibling;if(e.removeChild(n),p&&p.nodeType===8)if(n=p.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(p),Br(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ba(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ba(n);for(var y=n.firstChild;y;){var R=y.nextSibling,E=y.nodeName;y[aa]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&y.rel.toLowerCase()==="stylesheet"||n.removeChild(y),y=R}}else n==="body"&&Ba(e.ownerDocument.body);n=p}while(n);Br(t)}function Dv(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Lf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lf(n),Ku(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function qA(e,t,n,a){for(;e.nodeType===1;){var p=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[aa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function zA(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function Uv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Mn(e.nextSibling),e===null))return null;return e}function Ff(e){return e.data==="$?"||e.data==="$~"}function Gf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function DA(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vf=null;function $v(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Mn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Bv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Lv(e,t,n){switch(t=nu(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Ba(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ku(e)}var Nn=new Map,Fv=new Set;function su(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ws=q.d;q.d={f:UA,r:$A,D:BA,C:LA,L:FA,m:GA,X:KA,S:VA,M:YA};function UA(){var e=ws.f(),t=Yl();return e||t}function $A(e){var t=or(e);t!==null&&t.tag===5&&t.type==="form"?og(t):ws.r(e)}var Dr=typeof document>"u"?null:document;function Gv(e,t,n){var a=Dr;if(a&&typeof t=="string"&&t){var p=Rn(t);p='link[rel="'+e+'"][href="'+p+'"]',typeof n=="string"&&(p+='[crossorigin="'+n+'"]'),Fv.has(p)||(Fv.add(p),e={rel:e,crossOrigin:n,href:t},a.querySelector(p)===null&&(t=a.createElement("link"),$t(t,"link",e),Nt(t),a.head.appendChild(t)))}}function BA(e){ws.D(e),Gv("dns-prefetch",e,null)}function LA(e,t){ws.C(e,t),Gv("preconnect",e,t)}function FA(e,t,n){ws.L(e,t,n);var a=Dr;if(a&&e&&t){var p='link[rel="preload"][as="'+Rn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(p+='[imagesrcset="'+Rn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(p+='[imagesizes="'+Rn(n.imageSizes)+'"]')):p+='[href="'+Rn(e)+'"]';var y=p;switch(t){case"style":y=Ur(e);break;case"script":y=$r(e)}Nn.has(y)||(e=f({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nn.set(y,e),a.querySelector(p)!==null||t==="style"&&a.querySelector(La(y))||t==="script"&&a.querySelector(Fa(y))||(t=a.createElement("link"),$t(t,"link",e),Nt(t),a.head.appendChild(t)))}}function GA(e,t){ws.m(e,t);var n=Dr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",p='link[rel="modulepreload"][as="'+Rn(a)+'"][href="'+Rn(e)+'"]',y=p;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$r(e)}if(!Nn.has(y)&&(e=f({rel:"modulepreload",href:e},t),Nn.set(y,e),n.querySelector(p)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fa(y)))return}a=n.createElement("link"),$t(a,"link",e),Nt(a),n.head.appendChild(a)}}}function VA(e,t,n){ws.S(e,t,n);var a=Dr;if(a&&e){var p=cr(a).hoistableStyles,y=Ur(e);t=t||"default";var R=p.get(y);if(!R){var E={loading:0,preload:null};if(R=a.querySelector(La(y)))E.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nn.get(y))&&Kf(e,n);var z=R=a.createElement("link");Nt(z),$t(z,"link",e),z._p=new Promise(function(Y,se){z.onload=Y,z.onerror=se}),z.addEventListener("load",function(){E.loading|=1}),z.addEventListener("error",function(){E.loading|=2}),E.loading|=4,iu(R,t,a)}R={type:"stylesheet",instance:R,count:1,state:E},p.set(y,R)}}}function KA(e,t){ws.X(e,t);var n=Dr;if(n&&e){var a=cr(n).hoistableScripts,p=$r(e),y=a.get(p);y||(y=n.querySelector(Fa(p)),y||(e=f({src:e,async:!0},t),(t=Nn.get(p))&&Yf(e,t),y=n.createElement("script"),Nt(y),$t(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(p,y))}}function YA(e,t){ws.M(e,t);var n=Dr;if(n&&e){var a=cr(n).hoistableScripts,p=$r(e),y=a.get(p);y||(y=n.querySelector(Fa(p)),y||(e=f({src:e,async:!0,type:"module"},t),(t=Nn.get(p))&&Yf(e,t),y=n.createElement("script"),Nt(y),$t(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(p,y))}}function Vv(e,t,n,a){var p=(p=me.current)?su(p):null;if(!p)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ur(n.href),n=cr(p).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ur(n.href);var y=cr(p).hoistableStyles,R=y.get(e);if(R||(p=p.ownerDocument||p,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,R),(y=p.querySelector(La(e)))&&!y._p&&(R.instance=y,R.state.loading=5),Nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nn.set(e,n),y||ZA(p,e,n,R.state))),t&&a===null)throw Error(c(528,""));return R}if(t&&a!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$r(n),n=cr(p).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Ur(e){return'href="'+Rn(e)+'"'}function La(e){return'link[rel="stylesheet"]['+e+"]"}function Kv(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function ZA(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),$t(t,"link",n),Nt(t),e.head.appendChild(t))}function $r(e){return'[src="'+Rn(e)+'"]'}function Fa(e){return"script[async]"+e}function Yv(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Rn(n.href)+'"]');if(a)return t.instance=a,Nt(a),a;var p=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Nt(a),$t(a,"style",p),iu(a,n.precedence,e),t.instance=a;case"stylesheet":p=Ur(n.href);var y=e.querySelector(La(p));if(y)return t.state.loading|=4,t.instance=y,Nt(y),y;a=Kv(n),(p=Nn.get(p))&&Kf(a,p),y=(e.ownerDocument||e).createElement("link"),Nt(y);var R=y;return R._p=new Promise(function(E,z){R.onload=E,R.onerror=z}),$t(y,"link",a),t.state.loading|=4,iu(y,n.precedence,e),t.instance=y;case"script":return y=$r(n.src),(p=e.querySelector(Fa(y)))?(t.instance=p,Nt(p),p):(a=n,(p=Nn.get(y))&&(a=f({},n),Yf(a,p)),e=e.ownerDocument||e,p=e.createElement("script"),Nt(p),$t(p,"link",a),e.head.appendChild(p),t.instance=p);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,iu(a,n.precedence,e));return t.instance}function iu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=a.length?a[a.length-1]:null,y=p,R=0;R<a.length;R++){var E=a[R];if(E.dataset.precedence===t)y=E;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Kf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ru=null;function Zv(e,t,n){if(ru===null){var a=new Map,p=ru=new Map;p.set(n,a)}else p=ru,a=p.get(n),a||(a=new Map,p.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),p=0;p<n.length;p++){var y=n[p];if(!(y[aa]||y[qt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(t)||"";R=e+R;var E=a.get(R);E?E.push(y):a.set(R,[y])}}return a}function Xv(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function XA(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function QA(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=Ur(a.href),y=t.querySelector(La(p));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=au.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=y,Nt(y);return}y=t.ownerDocument||t,a=Kv(a),(p=Nn.get(p))&&Kf(a,p),y=y.createElement("link"),Nt(y);var R=y;R._p=new Promise(function(E,z){R.onload=E,R.onerror=z}),$t(y,"link",a),n.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=au.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zf=0;function JA(e,t){return e.stylesheets&&e.count===0&&cu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&cu(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+t);0<e.imgBytes&&Zf===0&&(Zf=62500*HA());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cu(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>Zf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(p)}}:null}function au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ou=null;function cu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ou=new Map,t.forEach(WA,e),ou=null,au.call(e))}function WA(e,t){if(!(t.state.loading&4)){var n=ou.get(e);if(n)var a=n.get(null);else{n=new Map,ou.set(e,n);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var R=p[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(n.set(R.dataset.precedence,R),a=R)}a&&n.set(null,a)}p=t.instance,R=p.getAttribute("data-precedence"),y=n.get(R)||a,y===a&&n.set(null,p),n.set(R,p),this.count++,a=au.bind(this),p.addEventListener("load",a),p.addEventListener("error",a),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),t.state.loading|=4}}var Ga={$$typeof:x,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function eS(e,t,n,a,p,y,R,E,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lu(0),this.hiddenUpdates=Lu(null),this.identifierPrefix=a,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Jv(e,t,n,a,p,y,R,E,z,Y,se,oe){return e=new eS(e,t,n,R,z,Y,se,oe,E),t=1,y===!0&&(t|=24),y=hn(3,null,null,t),e.current=y,y.stateNode=e,t=wd(),t.refCount++,e.pooledCache=t,t.refCount++,y.memoizedState={element:a,isDehydrated:n,cache:t},Id(y),e}function Wv(e){return e?(e=yr,e):yr}function ey(e,t,n,a,p,y){p=Wv(p),a.context===null?a.context=p:a.pendingContext=p,a=Ws(t),a.payload={element:n},y=y===void 0?null:y,y!==null&&(a.callback=y),n=ei(e,a,t),n!==null&&(on(n,e,t),Aa(n,e,t))}function ty(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xf(e,t){ty(e,t),(e=e.alternate)&&ty(e,t)}function ny(e){if(e.tag===13||e.tag===31){var t=wi(e,67108864);t!==null&&on(t,e,67108864),Xf(e,67108864)}}function sy(e){if(e.tag===13||e.tag===31){var t=yn();t=Fu(t);var n=wi(e,t);n!==null&&on(n,e,t),Xf(e,t)}}var lu=!0;function tS(e,t,n,a){var p=N.T;N.T=null;var y=q.p;try{q.p=2,Qf(e,t,n,a)}finally{q.p=y,N.T=p}}function nS(e,t,n,a){var p=N.T;N.T=null;var y=q.p;try{q.p=8,Qf(e,t,n,a)}finally{q.p=y,N.T=p}}function Qf(e,t,n,a){if(lu){var p=Jf(a);if(p===null)qf(e,t,a,uu,n),ry(e,a);else if(iS(p,e,t,n,a))a.stopPropagation();else if(ry(e,a),t&4&&-1<sS.indexOf(e)){for(;p!==null;){var y=or(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=ji(y.pendingLanes);if(R!==0){var E=y;for(E.pendingLanes|=2,E.entangledLanes|=2;R;){var z=1<<31-dn(R);E.entanglements[1]|=z,R&=~z}ss(y),(nt&6)===0&&(Vl=Tt()+500,Da(0))}}break;case 31:case 13:E=wi(y,2),E!==null&&on(E,y,2),Yl(),Xf(y,2)}if(y=Jf(a),y===null&&qf(e,t,a,uu,n),y===p)break;p=y}p!==null&&a.stopPropagation()}else qf(e,t,a,null,n)}}function Jf(e){return e=Wu(e),Wf(e)}var uu=null;function Wf(e){if(uu=null,e=ar(e),e!==null){var t=m(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return uu=e,null}function iy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bu()){case ir:return 2;case Sn:return 8;case Vt:case Jc:return 32;case sa:return 268435456;default:return 32}default:return 32}}var eh=!1,di=null,fi=null,hi=null,Va=new Map,Ka=new Map,pi=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ry(e,t){switch(e){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(t.pointerId)}}function Ya(e,t,n,a,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:y,targetContainers:[p]},t!==null&&(t=or(t),t!==null&&ny(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,p!==null&&t.indexOf(p)===-1&&t.push(p),e)}function iS(e,t,n,a,p){switch(t){case"focusin":return di=Ya(di,e,t,n,a,p),!0;case"dragenter":return fi=Ya(fi,e,t,n,a,p),!0;case"mouseover":return hi=Ya(hi,e,t,n,a,p),!0;case"pointerover":var y=p.pointerId;return Va.set(y,Ya(Va.get(y)||null,e,t,n,a,p)),!0;case"gotpointercapture":return y=p.pointerId,Ka.set(y,Ya(Ka.get(y)||null,e,t,n,a,p)),!0}return!1}function ay(e){var t=ar(e.target);if(t!==null){var n=m(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,bp(e.priority,function(){sy(n)});return}}else if(t===31){if(t=d(n),t!==null){e.blockedOn=t,bp(e.priority,function(){sy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function du(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ju=a,n.target.dispatchEvent(a),Ju=null}else return t=or(n),t!==null&&ny(t),e.blockedOn=n,!1;t.shift()}return!0}function oy(e,t,n){du(e)&&n.delete(t)}function rS(){eh=!1,di!==null&&du(di)&&(di=null),fi!==null&&du(fi)&&(fi=null),hi!==null&&du(hi)&&(hi=null),Va.forEach(oy),Ka.forEach(oy)}function fu(e,t){e.blockedOn===t&&(e.blockedOn=null,eh||(eh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rS)))}var hu=null;function cy(e){hu!==e&&(hu=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hu===e&&(hu=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],p=e[t+2];if(typeof a!="function"){if(Wf(a||n)===null)continue;break}var y=or(n);y!==null&&(e.splice(t,3),t-=3,Qd(y,{pending:!0,data:p,method:n.method,action:a},a,p))}}))}function Br(e){function t(z){return fu(z,e)}di!==null&&fu(di,e),fi!==null&&fu(fi,e),hi!==null&&fu(hi,e),Va.forEach(t),Ka.forEach(t);for(var n=0;n<pi.length;n++){var a=pi[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)ay(n),n.blockedOn===null&&pi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var p=n[a],y=n[a+1],R=p[en]||null;if(typeof y=="function")R||cy(n);else if(R){var E=null;if(y&&y.hasAttribute("formAction")){if(p=y,R=y[en]||null)E=R.formAction;else if(Wf(p)!==null)continue}else E=R.action;typeof E=="function"?n[a+1]=E:(n.splice(a,3),a-=3),cy(n)}}}function ly(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(R){return p=R})},focusReset:"manual",scroll:"manual"})}function t(){p!==null&&(p(),p=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),p!==null&&(p(),p=null)}}}function th(e){this._internalRoot=e}pu.prototype.render=th.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,a=yn();ey(n,a,e,t,null,null)},pu.prototype.unmount=th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ey(e.current,2,null,e,null,null),Yl(),t[rr]=null}};function pu(e){this._internalRoot=e}pu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_p();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pi.length&&t!==0&&t<pi[n].priority;n++);pi.splice(n,0,e),n===0&&ay(e)}};var uy=s.version;if(uy!=="19.2.0")throw Error(c(527,uy,"19.2.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=o(t),e=e!==null?u(e):null,e=e===null?null:e.stateNode,e};var aS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Wn=mu.inject(aS),un=mu}catch{}}return Xa.createRoot=function(e,t){if(!g(e))throw Error(c(299));var n=!1,a="",p=vg,y=yg,R=_g;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(p=t.onUncaughtError),t.onCaughtError!==void 0&&(y=t.onCaughtError),t.onRecoverableError!==void 0&&(R=t.onRecoverableError)),t=Jv(e,1,!1,null,null,n,a,null,p,y,R,ly),e[rr]=t.current,kf(e),new th(t)},Xa.hydrateRoot=function(e,t,n){if(!g(e))throw Error(c(299));var a=!1,p="",y=vg,R=yg,E=_g,z=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(p=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(R=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError),n.formState!==void 0&&(z=n.formState)),t=Jv(e,1,!0,t,n??null,a,p,z,y,R,E,ly),t.context=Wv(null),n=t.current,a=yn(),a=Fu(a),p=Ws(a),p.callback=null,ei(n,p,a),n=a,t.current.lanes=n,ra(t,n),ss(t),e[rr]=t.current,kf(e),new pu(t)},Xa.version="19.2.0",Xa}var by;function gS(){if(by)return rh.exports;by=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),rh.exports=mS(),rh.exports}var vS=gS();const yS=Qh(vS),_S="modulepreload",bS=function(i){return"/"+i},Oy={},OS=function(s,r,c){let g=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var h=o;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),l=d?.nonce||d?.getAttribute("nonce");g=o(r.map(u=>{if(u=bS(u),u in Oy)return;Oy[u]=!0;const f=u.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const _=document.createElement("link");if(_.rel=f?"stylesheet":_S,f||(_.as="script"),_.crossOrigin="",_.href=u,l&&_.setAttribute("nonce",l),document.head.appendChild(_),f)return new Promise((O,A)=>{_.addEventListener("load",O),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${u}`)))})}))}function m(d){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=d,window.dispatchEvent(l),!l.defaultPrevented)throw d}return g.then(d=>{for(const l of d||[])l.status==="rejected"&&m(l.reason);return s().catch(m)})};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,c)=>c?c.toUpperCase():r.toLowerCase()),jy=i=>{const s=AS(i);return s.charAt(0).toUpperCase()+s.slice(1)},PO=(...i)=>i.filter((s,r,c)=>!!s&&s.trim()!==""&&c.indexOf(s)===r).join(" ").trim(),SS=i=>{for(const s in i)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=ie.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:c,className:g="",children:m,iconNode:h,...d},l)=>ie.createElement("svg",{ref:l,...CS,width:s,height:s,stroke:i,strokeWidth:c?Number(r)*24/Number(s):r,className:PO("lucide",g),...!m&&!SS(d)&&{"aria-hidden":"true"},...d},[...h.map(([o,u])=>ie.createElement(o,u)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(i,s)=>{const r=ie.forwardRef(({className:c,...g},m)=>ie.createElement(RS,{ref:m,iconNode:s,className:PO(`lucide-${jS(jy(i))}`,`lucide-${i}`,c),...g}));return r.displayName=jy(i),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xS=ft("book-open",wS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dc=ft("check",ES);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ay=ft("chevron-down",TS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sy=ft("chevron-right",IS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kO=ft("circle-alert",HS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],NS=ft("circle-check-big",MS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kS=ft("circle-x",PS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zS=ft("clock",qS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Lr=ft("code-xml",DS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Uc=ft("copy",US);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],BS=ft("ellipsis-vertical",$S);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],FS=ft("github",LS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],VS=ft("info",GS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],qO=ft("key",KS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cy=ft("log-out",YS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],XS=ft("message-circle",ZS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ih=ft("refresh-cw",QS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WS=ft("save",JS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tC=ft("send",eC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zO=ft("server",nC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DO=ft("settings",sC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bu=ft("sparkles",iC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aC=ft("trash-2",rC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cC=ft("triangle-alert",oC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Wh=ft("wrench",lC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],UO=ft("x",uC),Ry=i=>{let s;const r=new Set,c=(o,u)=>{const f=typeof o=="function"?o(s):o;if(!Object.is(f,s)){const v=s;s=u??(typeof f!="object"||f===null)?f:Object.assign({},s,f),r.forEach(_=>_(s,v))}},g=()=>s,d={setState:c,getState:g,getInitialState:()=>l,subscribe:o=>(r.add(o),()=>r.delete(o))},l=s=i(c,g,d);return d},dC=(i=>i?Ry(i):Ry),fC=i=>i;function hC(i,s=fC){const r=zc.useSyncExternalStore(i.subscribe,zc.useCallback(()=>s(i.getState()),[i,s]),zc.useCallback(()=>s(i.getInitialState()),[i,s]));return zc.useDebugValue(r),r}const wy=i=>{const s=dC(i),r=c=>hC(s,c);return Object.assign(r,s),r},ep=(i=>i?wy(i):wy);function tp(i,s){let r;try{r=i()}catch{return}return{getItem:g=>{var m;const h=l=>l===null?null:JSON.parse(l,void 0),d=(m=r.getItem(g))!=null?m:null;return d instanceof Promise?d.then(h):h(d)},setItem:(g,m)=>r.setItem(g,JSON.stringify(m,void 0)),removeItem:g=>r.removeItem(g)}}const Hh=i=>s=>{try{const r=i(s);return r instanceof Promise?r:{then(c){return Hh(c)(r)},catch(c){return this}}}catch(r){return{then(c){return this},catch(c){return Hh(c)(r)}}}},pC=(i,s)=>(r,c,g)=>{let m={storage:tp(()=>localStorage),partialize:A=>A,version:0,merge:(A,C)=>({...C,...A}),...s},h=!1;const d=new Set,l=new Set;let o=m.storage;if(!o)return i((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${m.name}', the given storage is currently unavailable.`),r(...A)},c,g);const u=()=>{const A=m.partialize({...c()});return o.setItem(m.name,{state:A,version:m.version})},f=g.setState;g.setState=(A,C)=>(f(A,C),u());const v=i((...A)=>(r(...A),u()),c,g);g.getInitialState=()=>v;let _;const O=()=>{var A,C;if(!o)return;h=!1,d.forEach(S=>{var x;return S((x=c())!=null?x:v)});const b=((C=m.onRehydrateStorage)==null?void 0:C.call(m,(A=c())!=null?A:v))||void 0;return Hh(o.getItem.bind(o))(m.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==m.version){if(m.migrate){const x=m.migrate(S.state,S.version);return x instanceof Promise?x.then(T=>[!0,T]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var x;const[T,I]=S;if(_=m.merge(I,(x=c())!=null?x:v),r(_,!0),T)return u()}).then(()=>{b?.(_,void 0),_=c(),h=!0,l.forEach(S=>S(_))}).catch(S=>{b?.(void 0,S)})};return g.persist={setOptions:A=>{m={...m,...A},A.storage&&(o=A.storage)},clearStorage:()=>{o?.removeItem(m.name)},getOptions:()=>m,rehydrate:()=>O(),hasHydrated:()=>h,onHydrate:A=>(d.add(A),()=>{d.delete(A)}),onFinishHydration:A=>(l.add(A),()=>{l.delete(A)})},m.skipHydration||O(),_||v},$O=pC,mC=tp(()=>({getItem:i=>{const s=localStorage.getItem(i);if(!s)return null;const r=JSON.parse(s);return r.state?.serverData&&Object.keys(r.state.serverData).forEach(c=>{const g=r.state.serverData[c];g.toolStates&&Object.keys(g.toolStates).forEach(m=>{const h=g.toolStates[m];h.lastExecuted&&(h.lastExecuted=new Date(h.lastExecuted))})}),s},setItem:(i,s)=>{localStorage.setItem(i,s)},removeItem:i=>{localStorage.removeItem(i)}})),Lc=ep()($O((i,s)=>({serverData:{},recordToolExecution:(r,c)=>{i(g=>{const m=g.serverData[r]||{toolStates:{},toolParameters:{}},h=m.toolStates[c]||{executionCount:0};return{serverData:{...g.serverData,[r]:{...m,toolStates:{...m.toolStates,[c]:{lastExecuted:new Date,executionCount:h.executionCount+1}}}}}})},saveToolParameters:(r,c,g)=>{i(m=>{const h=m.serverData[r]||{toolStates:{},toolParameters:{}};return{serverData:{...m.serverData,[r]:{...h,toolParameters:{...h.toolParameters,[c]:g}}}}})},getToolParameters:(r,c)=>s().serverData[r]?.toolParameters[c],getToolState:(r,c)=>s().serverData[r]?.toolStates[c],clearServerData:r=>{i(c=>{const{[r]:g,...m}=c.serverData;return{serverData:m}})},clearToolParameters:(r,c)=>{i(g=>{const m=g.serverData[r];if(!m)return g;const{[c]:h,...d}=m.toolParameters;return{serverData:{...g.serverData,[r]:{...m,toolParameters:d}}}})}}),{name:"hoot-tool-state",version:1,storage:mC})),gC=tp(()=>({getItem:i=>{const s=localStorage.getItem(i);if(!s)return null;const r=JSON.parse(s);return r.state?.servers&&(r.state.servers=r.state.servers.map(c=>({...c,lastConnected:c.lastConnected?new Date(c.lastConnected):void 0}))),r.state?.history&&(r.state.history=r.state.history.map(c=>({...c,timestamp:new Date(c.timestamp),result:{...c.result,timestamp:new Date(c.result.timestamp)}}))),s},setItem:(i,s)=>{localStorage.setItem(i,s)},removeItem:i=>{localStorage.removeItem(i)}})),De=ep()($O(i=>({servers:[],selectedServerId:null,selectedToolName:null,tools:{},history:[],inputMode:"form",searchQuery:"",executingTools:[],addServer:s=>i(r=>({servers:[...r.servers,{...s,id:crypto.randomUUID(),connected:!1}]})),removeServer:s=>i(r=>(Lc.getState().clearServerData(s),{servers:r.servers.filter(c=>c.id!==s),selectedServerId:r.selectedServerId===s?null:r.selectedServerId,tools:Object.fromEntries(Object.entries(r.tools).filter(([c])=>c!==s))})),updateServer:(s,r)=>i(c=>({servers:c.servers.map(g=>g.id===s?{...g,...r}:g)})),setSelectedServer:s=>i({selectedServerId:s,selectedToolName:null}),setTools:(s,r)=>i(c=>({tools:{...c.tools,[s]:r}})),setSelectedTool:s=>i({selectedToolName:s}),addToHistory:s=>i(r=>({history:[{...s,id:crypto.randomUUID(),timestamp:new Date},...r.history].slice(0,100)})),clearHistory:()=>i({history:[]}),setToolExecuting:(s,r,c)=>i(g=>{const m=`${s}:${r}`;if(c){if(!g.executingTools.includes(m))return{executingTools:[...g.executingTools,m]}}else return{executingTools:g.executingTools.filter(h=>h!==m)};return g}),setInputMode:s=>i({inputMode:s}),setSearchQuery:s=>i({searchQuery:s})}),{name:"hoot-storage",version:1,storage:gC,partialize:i=>({servers:i.servers.map(s=>({...s,connected:!1,error:void 0})),tools:i.tools,inputMode:i.inputMode,history:i.history.slice(0,50),selectedServerId:null,selectedToolName:null,searchQuery:"",executingTools:[]})}));class vC{serverId;_redirectUrl;constructor(s,r,c=`${window.location.origin}/oauth/callback`){this.serverId=s,this._redirectUrl=c}get redirectUrl(){return this._redirectUrl}get clientMetadata(){return{client_name:"Hoot MCP Testing Tool",client_uri:window.location.origin,redirect_uris:[this._redirectUrl],grant_types:["authorization_code","refresh_token"],response_types:["code"],token_endpoint_auth_method:"none"}}async state(){const s=new Uint8Array(32);return crypto.getRandomValues(s),Array.from(s,r=>r.toString(16).padStart(2,"0")).join("")}async clientInformation(){const s=`oauth_client_${this.serverId}`,r=localStorage.getItem(s);if(r)try{return JSON.parse(r)}catch{return}}async saveClientInformation(s){const r=`oauth_client_${this.serverId}`;localStorage.setItem(r,JSON.stringify(s))}async tokens(){const s=`oauth_tokens_${this.serverId}`,r=localStorage.getItem(s);if(r)try{return JSON.parse(r)}catch{return}}async saveTokens(s){const r=`oauth_tokens_${this.serverId}`;localStorage.setItem(r,JSON.stringify(s)),console.log(` Hoot: Saved OAuth tokens for server ${this.serverId}`)}async redirectToAuthorization(s){console.log(` Hoot: Redirecting to authorization: ${s.toString()}`);const r=sessionStorage.getItem("oauth_last_redirect"),c=Date.now();if(r&&c-parseInt(r)<3e3)throw console.error(" Hoot: Redirect loop detected! Aborting to prevent infinite redirects."),sessionStorage.removeItem("oauth_last_redirect"),new Error("OAuth redirect loop detected. Please check your OAuth configuration.");sessionStorage.setItem("oauth_last_redirect",c.toString()),sessionStorage.setItem("oauth_server_id",this.serverId),await new Promise(g=>setTimeout(g,100)),console.log(" Hoot: Performing redirect now..."),window.location.href=s.toString()}async saveCodeVerifier(s){const r=`oauth_verifier_${this.serverId}`;sessionStorage.setItem(r,s)}async codeVerifier(){const s=`oauth_verifier_${this.serverId}`,r=sessionStorage.getItem(s);if(!r)throw new Error("Code verifier not found. Authorization flow may have been interrupted.");return r}async invalidateCredentials(s){console.warn(` Hoot: Invalidating credentials (${s}) for server ${this.serverId}`),(s==="all"||s==="client")&&localStorage.removeItem(`oauth_client_${this.serverId}`),(s==="all"||s==="tokens")&&localStorage.removeItem(`oauth_tokens_${this.serverId}`),(s==="all"||s==="verifier")&&sessionStorage.removeItem(`oauth_verifier_${this.serverId}`)}async isTokenExpired(s){return(s||await this.tokens())?.expires_in,!1}async getValidAccessToken(){const s=await this.tokens();if(s?.access_token)return s.access_token}}const cs="http://localhost:8008";let Ji=null;async function yC(){if(Ji)return Ji;try{const i=await fetch(`${cs}/auth/token`,{method:"GET",credentials:"include"});if(!i.ok)throw new Error("Failed to retrieve session token");if(Ji=(await i.json()).token,!Ji)throw new Error("No token received from backend");return Ji}catch(i){throw console.error("Failed to get session token:",i),new Error("Cannot connect to Hoot backend. Make sure it's running on port 8008.")}}async function rs(i,s={},r=!0){try{const c=await yC(),g=new Headers(s.headers);g.set("x-hoot-token",c),g.set("Content-Type","application/json");const m=await fetch(i,{...s,headers:g});return m.status===401&&r?(console.log("Auth token expired, refreshing..."),Ji=null,rs(i,s,!1)):m}catch(c){if(r)return Ji=null,rs(i,s,!1);throw c}}async function BO(i,s){try{const c=await(await rs(`${cs}/mcp/discover-oauth`,{method:"POST",body:JSON.stringify({url:i,transport:s})})).json();return c.success?{requiresOAuth:c.requiresOAuth||!1}:{requiresOAuth:!1,error:c.error}}catch(r){return console.error("OAuth discovery error:",r),{requiresOAuth:!1,error:r instanceof Error?r.message:"Discovery failed"}}}async function _C(i){try{const s=await rs(`${cs}/mcp/auto-detect`,{method:"POST",body:JSON.stringify({url:i})}),r=await s.json();return!s.ok||!r.success?{success:!1,error:r.error||"Auto-detection failed"}:{success:!0,serverInfo:r.serverInfo,transport:r.transport,requiresOAuth:r.requiresOAuth||!1,requiresClientCredentials:r.requiresClientCredentials||!1,requiresHeaderAuth:r.requiresHeaderAuth||!1}}catch(s){return console.error("Auto-detect error:",s),{success:!1,error:s instanceof Error?s.message:"Auto-detection failed"}}}async function bC(){try{return(await fetch(`${cs}/health`,{method:"GET",signal:AbortSignal.timeout(1e3)})).ok}catch{return!1}}async function OC(i,s){try{const r=await rs(`${cs}/mcp/connect`,{method:"POST",body:JSON.stringify({serverId:i.id,serverName:i.name,url:i.url,transport:i.transport,auth:i.auth,authorizationCode:s})}),c=await r.json();return r.ok?{success:!0}:{success:!1,error:c.error||"Connection failed",needsAuth:c.needsAuth||!1,authorizationUrl:c.authorizationUrl}}catch(r){return console.error("Backend connection error:",r),{success:!1,error:r instanceof Error?r.message:"Failed to connect to backend server"}}}async function jC(i){try{await rs(`${cs}/mcp/disconnect`,{method:"POST",body:JSON.stringify({serverId:i})})}catch(s){throw console.error("Backend disconnect error:",s),s}}async function xy(i){try{const s=await rs(`${cs}/mcp/clear-oauth-tokens`,{method:"POST",body:JSON.stringify({serverId:i})});if(!s.ok){const r=await s.json();throw new Error(r.error||"Failed to clear OAuth tokens")}}catch(s){throw console.error("Backend clear OAuth tokens error:",s),s}}async function AC(i){try{const s=await rs(`${cs}/mcp/tools/${i}`,{method:"GET"});if(!s.ok){const c=await s.json();throw new Error(c.error||"Failed to list tools")}return(await s.json()).tools}catch(s){throw console.error("Backend list tools error:",s),s}}async function SC(i,s,r){try{const c=await rs(`${cs}/mcp/execute`,{method:"POST",body:JSON.stringify({serverId:i,toolName:s,arguments:r})});if(!c.ok){const m=await c.json();throw new Error(m.error||"Tool execution failed")}return(await c.json()).result}catch(c){throw console.error("Backend execute tool error:",c),c}}async function CC(i){try{const s=await rs(`${cs}/mcp/server-info/${i}`,{method:"GET"});return s.ok?(await s.json()).serverInfo:null}catch(s){return console.error("Backend get server info error:",s),null}}class RC{oauthProviders=new Map;connectedServers=new Set;async connect(s,r,c=!1){this.connectedServers.has(s.id)&&await this.disconnect(s.id);try{if(console.log(` Connecting to ${s.name} via backend...`,{transport:s.transport,url:s.url,hasAuth:!!s.auth,authType:s.auth?.type,hasAuthCode:!!r}),!await bC())throw new Error("Backend server is not running. Please start it with: npm run backend");if(s.auth?.type==="oauth"&&s.url){const h=new vC(s.id,s.url);this.oauthProviders.set(s.id,h)}const m=await OC(s,r);if(!m.success){if(m.needsAuth&&m.authorizationUrl){if(c)return console.log(` ${s.name} needs OAuth authorization (skipped during auto-reconnect)`),!1;const h=this.oauthProviders.get(s.id);if(h)return console.log(` Redirecting to OAuth: ${m.authorizationUrl}`),await h.redirectToAuthorization(new URL(m.authorizationUrl)),!1}throw new Error(m.error||"Connection failed")}return this.connectedServers.add(s.id),console.log(` Connected to ${s.name}`),!0}catch(g){throw this.oauthProviders.delete(s.id),this.connectedServers.delete(s.id),console.error(` Connection failed for ${s.name}:`,g),g}}async disconnect(s){try{await jC(s),this.connectedServers.delete(s),this.oauthProviders.delete(s)}catch(r){console.error("Disconnect error:",r),this.connectedServers.delete(s),this.oauthProviders.delete(s)}}getOAuthProvider(s){return this.oauthProviders.get(s)}async needsTokenRefresh(s){const r=this.oauthProviders.get(s);return r?r.isTokenExpired():!1}async listTools(s){if(!this.connectedServers.has(s))throw new Error("Server not connected");return await AC(s)}async executeTool(s,r,c){if(!this.connectedServers.has(s))throw new Error("Server not connected");return await SC(s,r,c)}isConnected(s){return this.connectedServers.has(s)}async disconnectAll(){const s=Array.from(this.connectedServers);await Promise.all(s.map(r=>this.disconnect(r)))}}const Jr=new RC,wC=Object.freeze(Object.defineProperty({__proto__:null,mcpClient:Jr},Symbol.toStringTag,{value:"Module"})),Wi=ep(i=>({toasts:[],addToast:(s,r,c,g)=>{const h={id:`toast-${Date.now()}-${Math.random()}`,type:s,message:r,description:c,duration:g??5e3};i(d=>({toasts:[...d.toasts,h]}))},removeToast:s=>{i(r=>({toasts:r.toasts.filter(c=>c.id!==s)}))},clearToasts:()=>{i({toasts:[]})}})),Pn={success:(i,s,r)=>{Wi.getState().addToast("success",i,s,r)},error:(i,s,r)=>{Wi.getState().addToast("error",i,s,r)},warning:(i,s,r)=>{Wi.getState().addToast("warning",i,s,r)},warn:(i,s,r)=>{Wi.getState().addToast("warning",i,s,r)},info:(i,s,r)=>{Wi.getState().addToast("info",i,s,r)}};var Qe;(function(i){i.assertEqual=g=>{};function s(g){}i.assertIs=s;function r(g){throw new Error}i.assertNever=r,i.arrayToEnum=g=>{const m={};for(const h of g)m[h]=h;return m},i.getValidEnumValues=g=>{const m=i.objectKeys(g).filter(d=>typeof g[g[d]]!="number"),h={};for(const d of m)h[d]=g[d];return i.objectValues(h)},i.objectValues=g=>i.objectKeys(g).map(function(m){return g[m]}),i.objectKeys=typeof Object.keys=="function"?g=>Object.keys(g):g=>{const m=[];for(const h in g)Object.prototype.hasOwnProperty.call(g,h)&&m.push(h);return m},i.find=(g,m)=>{for(const h of g)if(m(h))return h},i.isInteger=typeof Number.isInteger=="function"?g=>Number.isInteger(g):g=>typeof g=="number"&&Number.isFinite(g)&&Math.floor(g)===g;function c(g,m=" | "){return g.map(h=>typeof h=="string"?`'${h}'`:h).join(m)}i.joinValues=c,i.jsonStringifyReplacer=(g,m)=>typeof m=="bigint"?m.toString():m})(Qe||(Qe={}));var Ey;(function(i){i.mergeShapes=(s,r)=>({...s,...r})})(Ey||(Ey={}));const be=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_i=i=>{switch(typeof i){case"undefined":return be.undefined;case"string":return be.string;case"number":return Number.isNaN(i)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(i)?be.array:i===null?be.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?be.promise:typeof Map<"u"&&i instanceof Map?be.map:typeof Set<"u"&&i instanceof Set?be.set:typeof Date<"u"&&i instanceof Date?be.date:be.object;default:return be.unknown}},fe=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Bs extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=c=>{this.issues=[...this.issues,c]},this.addIssues=(c=[])=>{this.issues=[...this.issues,...c]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(m){return m.message},c={_errors:[]},g=m=>{for(const h of m.issues)if(h.code==="invalid_union")h.unionErrors.map(g);else if(h.code==="invalid_return_type")g(h.returnTypeError);else if(h.code==="invalid_arguments")g(h.argumentsError);else if(h.path.length===0)c._errors.push(r(h));else{let d=c,l=0;for(;l<h.path.length;){const o=h.path[l];l===h.path.length-1?(d[o]=d[o]||{_errors:[]},d[o]._errors.push(r(h))):d[o]=d[o]||{_errors:[]},d=d[o],l++}}};return g(this),c}static assert(s){if(!(s instanceof Bs))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},c=[];for(const g of this.issues)if(g.path.length>0){const m=g.path[0];r[m]=r[m]||[],r[m].push(s(g))}else c.push(s(g));return{formErrors:c,fieldErrors:r}}get formErrors(){return this.flatten()}}Bs.create=i=>new Bs(i);const Mh=(i,s)=>{let r;switch(i.code){case fe.invalid_type:i.received===be.undefined?r="Required":r=`Expected ${i.expected}, received ${i.received}`;break;case fe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(i.expected,Qe.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Qe.joinValues(i.keys,", ")}`;break;case fe.invalid_union:r="Invalid input";break;case fe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Qe.joinValues(i.options)}`;break;case fe.invalid_enum_value:r=`Invalid enum value. Expected ${Qe.joinValues(i.options)}, received '${i.received}'`;break;case fe.invalid_arguments:r="Invalid function arguments";break;case fe.invalid_return_type:r="Invalid function return type";break;case fe.invalid_date:r="Invalid date";break;case fe.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(r=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?r=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?r=`Invalid input: must end with "${i.validation.endsWith}"`:Qe.assertNever(i.validation):i.validation!=="regex"?r=`Invalid ${i.validation}`:r="Invalid";break;case fe.too_small:i.type==="array"?r=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?r=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?r=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="bigint"?r=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?r=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:r="Invalid input";break;case fe.too_big:i.type==="array"?r=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?r=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?r=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?r=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?r=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:r="Invalid input";break;case fe.custom:r="Invalid input";break;case fe.invalid_intersection_types:r="Intersection results could not be merged";break;case fe.not_multiple_of:r=`Number must be a multiple of ${i.multipleOf}`;break;case fe.not_finite:r="Number must be finite";break;default:r=s.defaultError,Qe.assertNever(i)}return{message:r}};let xC=Mh;function EC(){return xC}const TC=i=>{const{data:s,path:r,errorMaps:c,issueData:g}=i,m=[...r,...g.path||[]],h={...g,path:m};if(g.message!==void 0)return{...g,path:m,message:g.message};let d="";const l=c.filter(o=>!!o).slice().reverse();for(const o of l)d=o(h,{data:s,defaultError:d}).message;return{...g,path:m,message:d}};function _e(i,s){const r=EC(),c=TC({issueData:s,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,r,r===Mh?void 0:Mh].filter(g=>!!g)});i.common.issues.push(c)}class Qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const c=[];for(const g of r){if(g.status==="aborted")return Ee;g.status==="dirty"&&s.dirty(),c.push(g.value)}return{status:s.value,value:c}}static async mergeObjectAsync(s,r){const c=[];for(const g of r){const m=await g.key,h=await g.value;c.push({key:m,value:h})}return Qt.mergeObjectSync(s,c)}static mergeObjectSync(s,r){const c={};for(const g of r){const{key:m,value:h}=g;if(m.status==="aborted"||h.status==="aborted")return Ee;m.status==="dirty"&&s.dirty(),h.status==="dirty"&&s.dirty(),m.value!=="__proto__"&&(typeof h.value<"u"||g.alwaysSet)&&(c[m.value]=h.value)}return{status:s.value,value:c}}}const Ee=Object.freeze({status:"aborted"}),$c=i=>({status:"dirty",value:i}),kn=i=>({status:"valid",value:i}),Ty=i=>i.status==="aborted",Iy=i=>i.status==="dirty",Wr=i=>i.status==="valid",Ou=i=>typeof Promise<"u"&&i instanceof Promise;var Se;(function(i){i.errToObj=s=>typeof s=="string"?{message:s}:s||{},i.toString=s=>typeof s=="string"?s:s?.message})(Se||(Se={}));class as{constructor(s,r,c,g){this._cachedPath=[],this.parent=s,this.data=r,this._path=c,this._key=g}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Hy=(i,s)=>{if(Wr(s))return{success:!0,data:s.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Bs(i.common.issues);return this._error=r,this._error}}};function qe(i){if(!i)return{};const{errorMap:s,invalid_type_error:r,required_error:c,description:g}=i;if(s&&(r||c))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:g}:{errorMap:(h,d)=>{const{message:l}=i;return h.code==="invalid_enum_value"?{message:l??d.defaultError}:typeof d.data>"u"?{message:l??c??d.defaultError}:h.code!=="invalid_type"?{message:d.defaultError}:{message:l??r??d.defaultError}},description:g}}class Ye{get description(){return this._def.description}_getType(s){return _i(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:_i(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new Qt,ctx:{common:s.parent.common,data:s.data,parsedType:_i(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(Ou(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const c=this.safeParse(s,r);if(c.success)return c.data;throw c.error}safeParse(s,r){const c={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:_i(s)},g=this._parseSync({data:s,path:c.path,parent:c});return Hy(c,g)}"~validate"(s){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:_i(s)};if(!this["~standard"].async)try{const c=this._parseSync({data:s,path:[],parent:r});return Wr(c)?{value:c.value}:{issues:r.common.issues}}catch(c){c?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(c=>Wr(c)?{value:c.value}:{issues:r.common.issues})}async parseAsync(s,r){const c=await this.safeParseAsync(s,r);if(c.success)return c.data;throw c.error}async safeParseAsync(s,r){const c={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:_i(s)},g=this._parse({data:s,path:c.path,parent:c}),m=await(Ou(g)?g:Promise.resolve(g));return Hy(c,m)}refine(s,r){const c=g=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(g):r;return this._refinement((g,m)=>{const h=s(g),d=()=>m.addIssue({code:fe.custom,...c(g)});return typeof Promise<"u"&&h instanceof Promise?h.then(l=>l?!0:(d(),!1)):h?!0:(d(),!1)})}refinement(s,r){return this._refinement((c,g)=>s(c)?!0:(g.addIssue(typeof r=="function"?r(c,g):r),!1))}_refinement(s){return new nr({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $s.create(this,this._def)}nullable(){return sr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return is.create(this)}promise(){return wu.create(this,this._def)}or(s){return Au.create([this,s],this._def)}and(s){return Su.create(this,s,this._def)}transform(s){return new nr({...qe(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new xu({...qe(this._def),innerType:this,defaultValue:r,typeName:Ie.ZodDefault})}brand(){return new VO({typeName:Ie.ZodBranded,type:this,...qe(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new Eu({...qe(this._def),innerType:this,catchValue:r,typeName:Ie.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return sp.create(this,s)}readonly(){return Tu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IC=/^c[^\s-]{8,}$/i,HC=/^[0-9a-z]+$/,MC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,NC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,PC=/^[a-z0-9_-]{21}$/i,kC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lh;const UC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$C=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,BC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,GC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,LO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",VC=new RegExp(`^${LO}$`);function FO(i){let s="[0-5]\\d";i.precision?s=`${s}\\.\\d{${i.precision}}`:i.precision==null&&(s=`${s}(\\.\\d+)?`);const r=i.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function KC(i){return new RegExp(`^${FO(i)}$`)}function YC(i){let s=`${LO}T${FO(i)}`;const r=[];return r.push(i.local?"Z?":"Z"),i.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function ZC(i,s){return!!((s==="v4"||!s)&&UC.test(i)||(s==="v6"||!s)&&BC.test(i))}function XC(i,s){if(!kC.test(i))return!1;try{const[r]=i.split(".");if(!r)return!1;const c=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),g=JSON.parse(atob(c));return!(typeof g!="object"||g===null||"typ"in g&&g?.typ!=="JWT"||!g.alg||s&&g.alg!==s)}catch{return!1}}function QC(i,s){return!!((s==="v4"||!s)&&$C.test(i)||(s==="v6"||!s)&&LC.test(i))}class Us extends Ye{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==be.string){const m=this._getOrReturnCtx(s);return _e(m,{code:fe.invalid_type,expected:be.string,received:m.parsedType}),Ee}const c=new Qt;let g;for(const m of this._def.checks)if(m.kind==="min")s.data.length<m.value&&(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.too_small,minimum:m.value,type:"string",inclusive:!0,exact:!1,message:m.message}),c.dirty());else if(m.kind==="max")s.data.length>m.value&&(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.too_big,maximum:m.value,type:"string",inclusive:!0,exact:!1,message:m.message}),c.dirty());else if(m.kind==="length"){const h=s.data.length>m.value,d=s.data.length<m.value;(h||d)&&(g=this._getOrReturnCtx(s,g),h?_e(g,{code:fe.too_big,maximum:m.value,type:"string",inclusive:!0,exact:!0,message:m.message}):d&&_e(g,{code:fe.too_small,minimum:m.value,type:"string",inclusive:!0,exact:!0,message:m.message}),c.dirty())}else if(m.kind==="email")zC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"email",code:fe.invalid_string,message:m.message}),c.dirty());else if(m.kind==="emoji")lh||(lh=new RegExp(DC,"u")),lh.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"emoji",code:fe.invalid_string,message:m.message}),c.dirty());else if(m.kind==="uuid")NC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"uuid",code:fe.invalid_string,message:m.message}),c.dirty());else if(m.kind==="nanoid")PC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"nanoid",code:fe.invalid_string,message:m.message}),c.dirty());else if(m.kind==="cuid")IC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"cuid",code:fe.invalid_string,message:m.message}),c.dirty());else if(m.kind==="cuid2")HC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"cuid2",code:fe.invalid_string,message:m.message}),c.dirty());else if(m.kind==="ulid")MC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"ulid",code:fe.invalid_string,message:m.message}),c.dirty());else if(m.kind==="url")try{new URL(s.data)}catch{g=this._getOrReturnCtx(s,g),_e(g,{validation:"url",code:fe.invalid_string,message:m.message}),c.dirty()}else m.kind==="regex"?(m.regex.lastIndex=0,m.regex.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"regex",code:fe.invalid_string,message:m.message}),c.dirty())):m.kind==="trim"?s.data=s.data.trim():m.kind==="includes"?s.data.includes(m.value,m.position)||(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.invalid_string,validation:{includes:m.value,position:m.position},message:m.message}),c.dirty()):m.kind==="toLowerCase"?s.data=s.data.toLowerCase():m.kind==="toUpperCase"?s.data=s.data.toUpperCase():m.kind==="startsWith"?s.data.startsWith(m.value)||(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.invalid_string,validation:{startsWith:m.value},message:m.message}),c.dirty()):m.kind==="endsWith"?s.data.endsWith(m.value)||(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.invalid_string,validation:{endsWith:m.value},message:m.message}),c.dirty()):m.kind==="datetime"?YC(m).test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.invalid_string,validation:"datetime",message:m.message}),c.dirty()):m.kind==="date"?VC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.invalid_string,validation:"date",message:m.message}),c.dirty()):m.kind==="time"?KC(m).test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.invalid_string,validation:"time",message:m.message}),c.dirty()):m.kind==="duration"?qC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"duration",code:fe.invalid_string,message:m.message}),c.dirty()):m.kind==="ip"?ZC(s.data,m.version)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"ip",code:fe.invalid_string,message:m.message}),c.dirty()):m.kind==="jwt"?XC(s.data,m.alg)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"jwt",code:fe.invalid_string,message:m.message}),c.dirty()):m.kind==="cidr"?QC(s.data,m.version)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"cidr",code:fe.invalid_string,message:m.message}),c.dirty()):m.kind==="base64"?FC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"base64",code:fe.invalid_string,message:m.message}),c.dirty()):m.kind==="base64url"?GC.test(s.data)||(g=this._getOrReturnCtx(s,g),_e(g,{validation:"base64url",code:fe.invalid_string,message:m.message}),c.dirty()):Qe.assertNever(m);return{status:c.value,value:s.data}}_regex(s,r,c){return this.refinement(g=>s.test(g),{validation:r,code:fe.invalid_string,...Se.errToObj(c)})}_addCheck(s){return new Us({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...Se.errToObj(s)})}url(s){return this._addCheck({kind:"url",...Se.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...Se.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...Se.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...Se.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...Se.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...Se.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...Se.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...Se.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...Se.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...Se.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...Se.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...Se.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof s?.precision>"u"?null:s?.precision,offset:s?.offset??!1,local:s?.local??!1,...Se.errToObj(s?.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof s?.precision>"u"?null:s?.precision,...Se.errToObj(s?.message)})}duration(s){return this._addCheck({kind:"duration",...Se.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...Se.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r?.position,...Se.errToObj(r?.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...Se.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...Se.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...Se.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...Se.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...Se.errToObj(r)})}nonempty(s){return this.min(1,Se.errToObj(s))}trim(){return new Us({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Us({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Us({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Us.create=i=>new Us({checks:[],typeName:Ie.ZodString,coerce:i?.coerce??!1,...qe(i)});function JC(i,s){const r=(i.toString().split(".")[1]||"").length,c=(s.toString().split(".")[1]||"").length,g=r>c?r:c,m=Number.parseInt(i.toFixed(g).replace(".","")),h=Number.parseInt(s.toFixed(g).replace(".",""));return m%h/10**g}class ea extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==be.number){const m=this._getOrReturnCtx(s);return _e(m,{code:fe.invalid_type,expected:be.number,received:m.parsedType}),Ee}let c;const g=new Qt;for(const m of this._def.checks)m.kind==="int"?Qe.isInteger(s.data)||(c=this._getOrReturnCtx(s,c),_e(c,{code:fe.invalid_type,expected:"integer",received:"float",message:m.message}),g.dirty()):m.kind==="min"?(m.inclusive?s.data<m.value:s.data<=m.value)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:fe.too_small,minimum:m.value,type:"number",inclusive:m.inclusive,exact:!1,message:m.message}),g.dirty()):m.kind==="max"?(m.inclusive?s.data>m.value:s.data>=m.value)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:fe.too_big,maximum:m.value,type:"number",inclusive:m.inclusive,exact:!1,message:m.message}),g.dirty()):m.kind==="multipleOf"?JC(s.data,m.value)!==0&&(c=this._getOrReturnCtx(s,c),_e(c,{code:fe.not_multiple_of,multipleOf:m.value,message:m.message}),g.dirty()):m.kind==="finite"?Number.isFinite(s.data)||(c=this._getOrReturnCtx(s,c),_e(c,{code:fe.not_finite,message:m.message}),g.dirty()):Qe.assertNever(m);return{status:g.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,Se.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Se.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Se.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Se.toString(r))}setLimit(s,r,c,g){return new ea({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:c,message:Se.toString(g)}]})}_addCheck(s){return new ea({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:Se.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Se.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:Se.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&Qe.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const c of this._def.checks){if(c.kind==="finite"||c.kind==="int"||c.kind==="multipleOf")return!0;c.kind==="min"?(r===null||c.value>r)&&(r=c.value):c.kind==="max"&&(s===null||c.value<s)&&(s=c.value)}return Number.isFinite(r)&&Number.isFinite(s)}}ea.create=i=>new ea({checks:[],typeName:Ie.ZodNumber,coerce:i?.coerce||!1,...qe(i)});class Fc extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==be.bigint)return this._getInvalidInput(s);let c;const g=new Qt;for(const m of this._def.checks)m.kind==="min"?(m.inclusive?s.data<m.value:s.data<=m.value)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:fe.too_small,type:"bigint",minimum:m.value,inclusive:m.inclusive,message:m.message}),g.dirty()):m.kind==="max"?(m.inclusive?s.data>m.value:s.data>=m.value)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:fe.too_big,type:"bigint",maximum:m.value,inclusive:m.inclusive,message:m.message}),g.dirty()):m.kind==="multipleOf"?s.data%m.value!==BigInt(0)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:fe.not_multiple_of,multipleOf:m.value,message:m.message}),g.dirty()):Qe.assertNever(m);return{status:g.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return _e(r,{code:fe.invalid_type,expected:be.bigint,received:r.parsedType}),Ee}gte(s,r){return this.setLimit("min",s,!0,Se.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Se.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Se.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Se.toString(r))}setLimit(s,r,c,g){return new Fc({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:c,message:Se.toString(g)}]})}_addCheck(s){return new Fc({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Se.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Fc.create=i=>new Fc({checks:[],typeName:Ie.ZodBigInt,coerce:i?.coerce??!1,...qe(i)});class Nh extends Ye{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==be.boolean){const c=this._getOrReturnCtx(s);return _e(c,{code:fe.invalid_type,expected:be.boolean,received:c.parsedType}),Ee}return kn(s.data)}}Nh.create=i=>new Nh({typeName:Ie.ZodBoolean,coerce:i?.coerce||!1,...qe(i)});class ju extends Ye{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==be.date){const m=this._getOrReturnCtx(s);return _e(m,{code:fe.invalid_type,expected:be.date,received:m.parsedType}),Ee}if(Number.isNaN(s.data.getTime())){const m=this._getOrReturnCtx(s);return _e(m,{code:fe.invalid_date}),Ee}const c=new Qt;let g;for(const m of this._def.checks)m.kind==="min"?s.data.getTime()<m.value&&(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.too_small,message:m.message,inclusive:!0,exact:!1,minimum:m.value,type:"date"}),c.dirty()):m.kind==="max"?s.data.getTime()>m.value&&(g=this._getOrReturnCtx(s,g),_e(g,{code:fe.too_big,message:m.message,inclusive:!0,exact:!1,maximum:m.value,type:"date"}),c.dirty()):Qe.assertNever(m);return{status:c.value,value:new Date(s.data.getTime())}}_addCheck(s){return new ju({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:Se.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:Se.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}ju.create=i=>new ju({checks:[],coerce:i?.coerce||!1,typeName:Ie.ZodDate,...qe(i)});class My extends Ye{_parse(s){if(this._getType(s)!==be.symbol){const c=this._getOrReturnCtx(s);return _e(c,{code:fe.invalid_type,expected:be.symbol,received:c.parsedType}),Ee}return kn(s.data)}}My.create=i=>new My({typeName:Ie.ZodSymbol,...qe(i)});class Ph extends Ye{_parse(s){if(this._getType(s)!==be.undefined){const c=this._getOrReturnCtx(s);return _e(c,{code:fe.invalid_type,expected:be.undefined,received:c.parsedType}),Ee}return kn(s.data)}}Ph.create=i=>new Ph({typeName:Ie.ZodUndefined,...qe(i)});class kh extends Ye{_parse(s){if(this._getType(s)!==be.null){const c=this._getOrReturnCtx(s);return _e(c,{code:fe.invalid_type,expected:be.null,received:c.parsedType}),Ee}return kn(s.data)}}kh.create=i=>new kh({typeName:Ie.ZodNull,...qe(i)});class qh extends Ye{constructor(){super(...arguments),this._any=!0}_parse(s){return kn(s.data)}}qh.create=i=>new qh({typeName:Ie.ZodAny,...qe(i)});class zh extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(s){return kn(s.data)}}zh.create=i=>new zh({typeName:Ie.ZodUnknown,...qe(i)});class bi extends Ye{_parse(s){const r=this._getOrReturnCtx(s);return _e(r,{code:fe.invalid_type,expected:be.never,received:r.parsedType}),Ee}}bi.create=i=>new bi({typeName:Ie.ZodNever,...qe(i)});class Ny extends Ye{_parse(s){if(this._getType(s)!==be.undefined){const c=this._getOrReturnCtx(s);return _e(c,{code:fe.invalid_type,expected:be.void,received:c.parsedType}),Ee}return kn(s.data)}}Ny.create=i=>new Ny({typeName:Ie.ZodVoid,...qe(i)});class is extends Ye{_parse(s){const{ctx:r,status:c}=this._processInputParams(s),g=this._def;if(r.parsedType!==be.array)return _e(r,{code:fe.invalid_type,expected:be.array,received:r.parsedType}),Ee;if(g.exactLength!==null){const h=r.data.length>g.exactLength.value,d=r.data.length<g.exactLength.value;(h||d)&&(_e(r,{code:h?fe.too_big:fe.too_small,minimum:d?g.exactLength.value:void 0,maximum:h?g.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:g.exactLength.message}),c.dirty())}if(g.minLength!==null&&r.data.length<g.minLength.value&&(_e(r,{code:fe.too_small,minimum:g.minLength.value,type:"array",inclusive:!0,exact:!1,message:g.minLength.message}),c.dirty()),g.maxLength!==null&&r.data.length>g.maxLength.value&&(_e(r,{code:fe.too_big,maximum:g.maxLength.value,type:"array",inclusive:!0,exact:!1,message:g.maxLength.message}),c.dirty()),r.common.async)return Promise.all([...r.data].map((h,d)=>g.type._parseAsync(new as(r,h,r.path,d)))).then(h=>Qt.mergeArray(c,h));const m=[...r.data].map((h,d)=>g.type._parseSync(new as(r,h,r.path,d)));return Qt.mergeArray(c,m)}get element(){return this._def.type}min(s,r){return new is({...this._def,minLength:{value:s,message:Se.toString(r)}})}max(s,r){return new is({...this._def,maxLength:{value:s,message:Se.toString(r)}})}length(s,r){return new is({...this._def,exactLength:{value:s,message:Se.toString(r)}})}nonempty(s){return this.min(1,s)}}is.create=(i,s)=>new is({type:i,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...qe(s)});function Qr(i){if(i instanceof Et){const s={};for(const r in i.shape){const c=i.shape[r];s[r]=$s.create(Qr(c))}return new Et({...i._def,shape:()=>s})}else return i instanceof is?new is({...i._def,type:Qr(i.element)}):i instanceof $s?$s.create(Qr(i.unwrap())):i instanceof sr?sr.create(Qr(i.unwrap())):i instanceof er?er.create(i.items.map(s=>Qr(s))):i}class Et extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=Qe.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==be.object){const o=this._getOrReturnCtx(s);return _e(o,{code:fe.invalid_type,expected:be.object,received:o.parsedType}),Ee}const{status:c,ctx:g}=this._processInputParams(s),{shape:m,keys:h}=this._getCached(),d=[];if(!(this._def.catchall instanceof bi&&this._def.unknownKeys==="strip"))for(const o in g.data)h.includes(o)||d.push(o);const l=[];for(const o of h){const u=m[o],f=g.data[o];l.push({key:{status:"valid",value:o},value:u._parse(new as(g,f,g.path,o)),alwaysSet:o in g.data})}if(this._def.catchall instanceof bi){const o=this._def.unknownKeys;if(o==="passthrough")for(const u of d)l.push({key:{status:"valid",value:u},value:{status:"valid",value:g.data[u]}});else if(o==="strict")d.length>0&&(_e(g,{code:fe.unrecognized_keys,keys:d}),c.dirty());else if(o!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const o=this._def.catchall;for(const u of d){const f=g.data[u];l.push({key:{status:"valid",value:u},value:o._parse(new as(g,f,g.path,u)),alwaysSet:u in g.data})}}return g.common.async?Promise.resolve().then(async()=>{const o=[];for(const u of l){const f=await u.key,v=await u.value;o.push({key:f,value:v,alwaysSet:u.alwaysSet})}return o}).then(o=>Qt.mergeObjectSync(c,o)):Qt.mergeObjectSync(c,l)}get shape(){return this._def.shape()}strict(s){return Se.errToObj,new Et({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,c)=>{const g=this._def.errorMap?.(r,c).message??c.defaultError;return r.code==="unrecognized_keys"?{message:Se.errToObj(s).message??g}:{message:g}}}:{}})}strip(){return new Et({...this._def,unknownKeys:"strip"})}passthrough(){return new Et({...this._def,unknownKeys:"passthrough"})}extend(s){return new Et({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new Et({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:Ie.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new Et({...this._def,catchall:s})}pick(s){const r={};for(const c of Qe.objectKeys(s))s[c]&&this.shape[c]&&(r[c]=this.shape[c]);return new Et({...this._def,shape:()=>r})}omit(s){const r={};for(const c of Qe.objectKeys(this.shape))s[c]||(r[c]=this.shape[c]);return new Et({...this._def,shape:()=>r})}deepPartial(){return Qr(this)}partial(s){const r={};for(const c of Qe.objectKeys(this.shape)){const g=this.shape[c];s&&!s[c]?r[c]=g:r[c]=g.optional()}return new Et({...this._def,shape:()=>r})}required(s){const r={};for(const c of Qe.objectKeys(this.shape))if(s&&!s[c])r[c]=this.shape[c];else{let m=this.shape[c];for(;m instanceof $s;)m=m._def.innerType;r[c]=m}return new Et({...this._def,shape:()=>r})}keyof(){return GO(Qe.objectKeys(this.shape))}}Et.create=(i,s)=>new Et({shape:()=>i,unknownKeys:"strip",catchall:bi.create(),typeName:Ie.ZodObject,...qe(s)});Et.strictCreate=(i,s)=>new Et({shape:()=>i,unknownKeys:"strict",catchall:bi.create(),typeName:Ie.ZodObject,...qe(s)});Et.lazycreate=(i,s)=>new Et({shape:i,unknownKeys:"strip",catchall:bi.create(),typeName:Ie.ZodObject,...qe(s)});class Au extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s),c=this._def.options;function g(m){for(const d of m)if(d.result.status==="valid")return d.result;for(const d of m)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const h=m.map(d=>new Bs(d.ctx.common.issues));return _e(r,{code:fe.invalid_union,unionErrors:h}),Ee}if(r.common.async)return Promise.all(c.map(async m=>{const h={...r,common:{...r.common,issues:[]},parent:null};return{result:await m._parseAsync({data:r.data,path:r.path,parent:h}),ctx:h}})).then(g);{let m;const h=[];for(const l of c){const o={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:o});if(u.status==="valid")return u;u.status==="dirty"&&!m&&(m={result:u,ctx:o}),o.common.issues.length&&h.push(o.common.issues)}if(m)return r.common.issues.push(...m.ctx.common.issues),m.result;const d=h.map(l=>new Bs(l));return _e(r,{code:fe.invalid_union,unionErrors:d}),Ee}}get options(){return this._def.options}}Au.create=(i,s)=>new Au({options:i,typeName:Ie.ZodUnion,...qe(s)});const Ds=i=>i instanceof Uh?Ds(i.schema):i instanceof nr?Ds(i.innerType()):i instanceof Ru?[i.value]:i instanceof tr?i.options:i instanceof $h?Qe.objectValues(i.enum):i instanceof xu?Ds(i._def.innerType):i instanceof Ph?[void 0]:i instanceof kh?[null]:i instanceof $s?[void 0,...Ds(i.unwrap())]:i instanceof sr?[null,...Ds(i.unwrap())]:i instanceof VO||i instanceof Tu?Ds(i.unwrap()):i instanceof Eu?Ds(i._def.innerType):[];class np extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==be.object)return _e(r,{code:fe.invalid_type,expected:be.object,received:r.parsedType}),Ee;const c=this.discriminator,g=r.data[c],m=this.optionsMap.get(g);return m?r.common.async?m._parseAsync({data:r.data,path:r.path,parent:r}):m._parseSync({data:r.data,path:r.path,parent:r}):(_e(r,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),Ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,r,c){const g=new Map;for(const m of r){const h=Ds(m.shape[s]);if(!h.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const d of h){if(g.has(d))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(d)}`);g.set(d,m)}}return new np({typeName:Ie.ZodDiscriminatedUnion,discriminator:s,options:r,optionsMap:g,...qe(c)})}}function Dh(i,s){const r=_i(i),c=_i(s);if(i===s)return{valid:!0,data:i};if(r===be.object&&c===be.object){const g=Qe.objectKeys(s),m=Qe.objectKeys(i).filter(d=>g.indexOf(d)!==-1),h={...i,...s};for(const d of m){const l=Dh(i[d],s[d]);if(!l.valid)return{valid:!1};h[d]=l.data}return{valid:!0,data:h}}else if(r===be.array&&c===be.array){if(i.length!==s.length)return{valid:!1};const g=[];for(let m=0;m<i.length;m++){const h=i[m],d=s[m],l=Dh(h,d);if(!l.valid)return{valid:!1};g.push(l.data)}return{valid:!0,data:g}}else return r===be.date&&c===be.date&&+i==+s?{valid:!0,data:i}:{valid:!1}}class Su extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s),g=(m,h)=>{if(Ty(m)||Ty(h))return Ee;const d=Dh(m.value,h.value);return d.valid?((Iy(m)||Iy(h))&&r.dirty(),{status:r.value,value:d.data}):(_e(c,{code:fe.invalid_intersection_types}),Ee)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([m,h])=>g(m,h)):g(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}Su.create=(i,s,r)=>new Su({left:i,right:s,typeName:Ie.ZodIntersection,...qe(r)});class er extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==be.array)return _e(c,{code:fe.invalid_type,expected:be.array,received:c.parsedType}),Ee;if(c.data.length<this._def.items.length)return _e(c,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ee;!this._def.rest&&c.data.length>this._def.items.length&&(_e(c,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const m=[...c.data].map((h,d)=>{const l=this._def.items[d]||this._def.rest;return l?l._parse(new as(c,h,c.path,d)):null}).filter(h=>!!h);return c.common.async?Promise.all(m).then(h=>Qt.mergeArray(r,h)):Qt.mergeArray(r,m)}get items(){return this._def.items}rest(s){return new er({...this._def,rest:s})}}er.create=(i,s)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new er({items:i,typeName:Ie.ZodTuple,rest:null,...qe(s)})};class Cu extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==be.object)return _e(c,{code:fe.invalid_type,expected:be.object,received:c.parsedType}),Ee;const g=[],m=this._def.keyType,h=this._def.valueType;for(const d in c.data)g.push({key:m._parse(new as(c,d,c.path,d)),value:h._parse(new as(c,c.data[d],c.path,d)),alwaysSet:d in c.data});return c.common.async?Qt.mergeObjectAsync(r,g):Qt.mergeObjectSync(r,g)}get element(){return this._def.valueType}static create(s,r,c){return r instanceof Ye?new Cu({keyType:s,valueType:r,typeName:Ie.ZodRecord,...qe(c)}):new Cu({keyType:Us.create(),valueType:s,typeName:Ie.ZodRecord,...qe(r)})}}class Py extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==be.map)return _e(c,{code:fe.invalid_type,expected:be.map,received:c.parsedType}),Ee;const g=this._def.keyType,m=this._def.valueType,h=[...c.data.entries()].map(([d,l],o)=>({key:g._parse(new as(c,d,c.path,[o,"key"])),value:m._parse(new as(c,l,c.path,[o,"value"]))}));if(c.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const l of h){const o=await l.key,u=await l.value;if(o.status==="aborted"||u.status==="aborted")return Ee;(o.status==="dirty"||u.status==="dirty")&&r.dirty(),d.set(o.value,u.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const l of h){const o=l.key,u=l.value;if(o.status==="aborted"||u.status==="aborted")return Ee;(o.status==="dirty"||u.status==="dirty")&&r.dirty(),d.set(o.value,u.value)}return{status:r.value,value:d}}}}Py.create=(i,s,r)=>new Py({valueType:s,keyType:i,typeName:Ie.ZodMap,...qe(r)});class Gc extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==be.set)return _e(c,{code:fe.invalid_type,expected:be.set,received:c.parsedType}),Ee;const g=this._def;g.minSize!==null&&c.data.size<g.minSize.value&&(_e(c,{code:fe.too_small,minimum:g.minSize.value,type:"set",inclusive:!0,exact:!1,message:g.minSize.message}),r.dirty()),g.maxSize!==null&&c.data.size>g.maxSize.value&&(_e(c,{code:fe.too_big,maximum:g.maxSize.value,type:"set",inclusive:!0,exact:!1,message:g.maxSize.message}),r.dirty());const m=this._def.valueType;function h(l){const o=new Set;for(const u of l){if(u.status==="aborted")return Ee;u.status==="dirty"&&r.dirty(),o.add(u.value)}return{status:r.value,value:o}}const d=[...c.data.values()].map((l,o)=>m._parse(new as(c,l,c.path,o)));return c.common.async?Promise.all(d).then(l=>h(l)):h(d)}min(s,r){return new Gc({...this._def,minSize:{value:s,message:Se.toString(r)}})}max(s,r){return new Gc({...this._def,maxSize:{value:s,message:Se.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}Gc.create=(i,s)=>new Gc({valueType:i,minSize:null,maxSize:null,typeName:Ie.ZodSet,...qe(s)});class Uh extends Ye{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Uh.create=(i,s)=>new Uh({getter:i,typeName:Ie.ZodLazy,...qe(s)});class Ru extends Ye{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return _e(r,{received:r.data,code:fe.invalid_literal,expected:this._def.value}),Ee}return{status:"valid",value:s.data}}get value(){return this._def.value}}Ru.create=(i,s)=>new Ru({value:i,typeName:Ie.ZodLiteral,...qe(s)});function GO(i,s){return new tr({values:i,typeName:Ie.ZodEnum,...qe(s)})}class tr extends Ye{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),c=this._def.values;return _e(r,{expected:Qe.joinValues(c),received:r.parsedType,code:fe.invalid_type}),Ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),c=this._def.values;return _e(r,{received:r.data,code:fe.invalid_enum_value,options:c}),Ee}return kn(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return tr.create(s,{...this._def,...r})}exclude(s,r=this._def){return tr.create(this.options.filter(c=>!s.includes(c)),{...this._def,...r})}}tr.create=GO;class $h extends Ye{_parse(s){const r=Qe.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(s);if(c.parsedType!==be.string&&c.parsedType!==be.number){const g=Qe.objectValues(r);return _e(c,{expected:Qe.joinValues(g),received:c.parsedType,code:fe.invalid_type}),Ee}if(this._cache||(this._cache=new Set(Qe.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const g=Qe.objectValues(r);return _e(c,{received:c.data,code:fe.invalid_enum_value,options:g}),Ee}return kn(s.data)}get enum(){return this._def.values}}$h.create=(i,s)=>new $h({values:i,typeName:Ie.ZodNativeEnum,...qe(s)});class wu extends Ye{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==be.promise&&r.common.async===!1)return _e(r,{code:fe.invalid_type,expected:be.promise,received:r.parsedType}),Ee;const c=r.parsedType===be.promise?r.data:Promise.resolve(r.data);return kn(c.then(g=>this._def.type.parseAsync(g,{path:r.path,errorMap:r.common.contextualErrorMap})))}}wu.create=(i,s)=>new wu({type:i,typeName:Ie.ZodPromise,...qe(s)});class nr extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:c}=this._processInputParams(s),g=this._def.effect||null,m={addIssue:h=>{_e(c,h),h.fatal?r.abort():r.dirty()},get path(){return c.path}};if(m.addIssue=m.addIssue.bind(m),g.type==="preprocess"){const h=g.transform(c.data,m);if(c.common.async)return Promise.resolve(h).then(async d=>{if(r.value==="aborted")return Ee;const l=await this._def.schema._parseAsync({data:d,path:c.path,parent:c});return l.status==="aborted"?Ee:l.status==="dirty"||r.value==="dirty"?$c(l.value):l});{if(r.value==="aborted")return Ee;const d=this._def.schema._parseSync({data:h,path:c.path,parent:c});return d.status==="aborted"?Ee:d.status==="dirty"||r.value==="dirty"?$c(d.value):d}}if(g.type==="refinement"){const h=d=>{const l=g.refinement(d,m);if(c.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(c.common.async===!1){const d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return d.status==="aborted"?Ee:(d.status==="dirty"&&r.dirty(),h(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(d=>d.status==="aborted"?Ee:(d.status==="dirty"&&r.dirty(),h(d.value).then(()=>({status:r.value,value:d.value}))))}if(g.type==="transform")if(c.common.async===!1){const h=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!Wr(h))return Ee;const d=g.transform(h.value,m);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(h=>Wr(h)?Promise.resolve(g.transform(h.value,m)).then(d=>({status:r.value,value:d})):Ee);Qe.assertNever(g)}}nr.create=(i,s,r)=>new nr({schema:i,typeName:Ie.ZodEffects,effect:s,...qe(r)});nr.createWithPreprocess=(i,s,r)=>new nr({schema:s,effect:{type:"preprocess",transform:i},typeName:Ie.ZodEffects,...qe(r)});class $s extends Ye{_parse(s){return this._getType(s)===be.undefined?kn(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}$s.create=(i,s)=>new $s({innerType:i,typeName:Ie.ZodOptional,...qe(s)});class sr extends Ye{_parse(s){return this._getType(s)===be.null?kn(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}sr.create=(i,s)=>new sr({innerType:i,typeName:Ie.ZodNullable,...qe(s)});class xu extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s);let c=r.data;return r.parsedType===be.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}xu.create=(i,s)=>new xu({innerType:i,typeName:Ie.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...qe(s)});class Eu extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s),c={...r,common:{...r.common,issues:[]}},g=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return Ou(g)?g.then(m=>({status:"valid",value:m.status==="valid"?m.value:this._def.catchValue({get error(){return new Bs(c.common.issues)},input:c.data})})):{status:"valid",value:g.status==="valid"?g.value:this._def.catchValue({get error(){return new Bs(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}Eu.create=(i,s)=>new Eu({innerType:i,typeName:Ie.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...qe(s)});class ky extends Ye{_parse(s){if(this._getType(s)!==be.nan){const c=this._getOrReturnCtx(s);return _e(c,{code:fe.invalid_type,expected:be.nan,received:c.parsedType}),Ee}return{status:"valid",value:s.data}}}ky.create=i=>new ky({typeName:Ie.ZodNaN,...qe(i)});class VO extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s),c=r.data;return this._def.type._parse({data:c,path:r.path,parent:r})}unwrap(){return this._def.type}}class sp extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.common.async)return(async()=>{const m=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return m.status==="aborted"?Ee:m.status==="dirty"?(r.dirty(),$c(m.value)):this._def.out._parseAsync({data:m.value,path:c.path,parent:c})})();{const g=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return g.status==="aborted"?Ee:g.status==="dirty"?(r.dirty(),{status:"dirty",value:g.value}):this._def.out._parseSync({data:g.value,path:c.path,parent:c})}}static create(s,r){return new sp({in:s,out:r,typeName:Ie.ZodPipeline})}}class Tu extends Ye{_parse(s){const r=this._def.innerType._parse(s),c=g=>(Wr(g)&&(g.value=Object.freeze(g.value)),g);return Ou(r)?r.then(g=>c(g)):c(r)}unwrap(){return this._def.innerType}}Tu.create=(i,s)=>new Tu({innerType:i,typeName:Ie.ZodReadonly,...qe(s)});var Ie;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const Q=Us.create,kt=ea.create,Mt=Nh.create,WC=qh.create,Vc=zh.create;bi.create;const je=is.create,ge=Et.create,Jt=Au.create,eR=np.create;Su.create;er.create;const Kc=Cu.create,Me=Ru.create,Ls=tr.create;wu.create;const ue=$s.create;sr.create;const tR=Ee,Mu="2.0",KO=Jt([Q(),kt().int()]),YO=Q(),nR=ge({progressToken:ue(KO)}).passthrough(),qn=ge({_meta:ue(nR)}).passthrough(),ln=ge({method:Q(),params:ue(qn)}),Yc=ge({_meta:ue(ge({}).passthrough())}).passthrough(),ls=ge({method:Q(),params:ue(Yc)}),zn=ge({_meta:ue(ge({}).passthrough())}).passthrough(),Nu=Jt([Q(),kt().int()]),sR=ge({jsonrpc:Me(Mu),id:Nu}).merge(ln).strict(),iR=ge({jsonrpc:Me(Mu)}).merge(ls).strict(),rR=ge({jsonrpc:Me(Mu),id:Nu,result:zn}).strict();var qy;(function(i){i[i.ConnectionClosed=-32e3]="ConnectionClosed",i[i.RequestTimeout=-32001]="RequestTimeout",i[i.ParseError=-32700]="ParseError",i[i.InvalidRequest=-32600]="InvalidRequest",i[i.MethodNotFound=-32601]="MethodNotFound",i[i.InvalidParams=-32602]="InvalidParams",i[i.InternalError=-32603]="InternalError"})(qy||(qy={}));const aR=ge({jsonrpc:Me(Mu),id:Nu,error:ge({code:kt().int(),message:Q(),data:ue(Vc())})}).strict();Jt([sR,iR,rR,aR]);const ZO=zn.strict(),XO=ls.extend({method:Me("notifications/cancelled"),params:Yc.extend({requestId:Nu,reason:Q().optional()})}),oR=ge({src:Q(),mimeType:ue(Q()),sizes:ue(je(Q()))}).passthrough(),Zc=ge({icons:je(oR).optional()}).passthrough(),Xc=ge({name:Q(),title:ue(Q())}).passthrough(),QO=Xc.extend({version:Q(),websiteUrl:ue(Q())}).merge(Zc),cR=ge({experimental:ue(ge({}).passthrough()),sampling:ue(ge({}).passthrough()),elicitation:ue(ge({}).passthrough()),roots:ue(ge({listChanged:ue(Mt())}).passthrough())}).passthrough(),lR=ln.extend({method:Me("initialize"),params:qn.extend({protocolVersion:Q(),capabilities:cR,clientInfo:QO})}),uR=ge({experimental:ue(ge({}).passthrough()),logging:ue(ge({}).passthrough()),completions:ue(ge({}).passthrough()),prompts:ue(ge({listChanged:ue(Mt())}).passthrough()),resources:ue(ge({subscribe:ue(Mt()),listChanged:ue(Mt())}).passthrough()),tools:ue(ge({listChanged:ue(Mt())}).passthrough())}).passthrough(),dR=zn.extend({protocolVersion:Q(),capabilities:uR,serverInfo:QO,instructions:ue(Q())}),fR=ls.extend({method:Me("notifications/initialized")}),JO=ln.extend({method:Me("ping")}),hR=ge({progress:kt(),total:ue(kt()),message:ue(Q())}).passthrough(),WO=ls.extend({method:Me("notifications/progress"),params:Yc.merge(hR).extend({progressToken:KO})}),Pu=ln.extend({params:qn.extend({cursor:ue(YO)}).optional()}),ku=zn.extend({nextCursor:ue(YO)}),e1=ge({uri:Q(),mimeType:ue(Q()),_meta:ue(ge({}).passthrough())}).passthrough(),t1=e1.extend({text:Q()}),ip=Q().refine(i=>{try{return atob(i),!0}catch{return!1}},{message:"Invalid Base64 string"}),n1=e1.extend({blob:ip}),s1=Xc.extend({uri:Q(),description:ue(Q()),mimeType:ue(Q()),_meta:ue(ge({}).passthrough())}).merge(Zc),pR=Xc.extend({uriTemplate:Q(),description:ue(Q()),mimeType:ue(Q()),_meta:ue(ge({}).passthrough())}).merge(Zc),mR=Pu.extend({method:Me("resources/list")}),gR=ku.extend({resources:je(s1)}),vR=Pu.extend({method:Me("resources/templates/list")}),yR=ku.extend({resourceTemplates:je(pR)}),_R=ln.extend({method:Me("resources/read"),params:qn.extend({uri:Q()})}),bR=zn.extend({contents:je(Jt([t1,n1]))}),OR=ls.extend({method:Me("notifications/resources/list_changed")}),jR=ln.extend({method:Me("resources/subscribe"),params:qn.extend({uri:Q()})}),AR=ln.extend({method:Me("resources/unsubscribe"),params:qn.extend({uri:Q()})}),SR=ls.extend({method:Me("notifications/resources/updated"),params:Yc.extend({uri:Q()})}),CR=ge({name:Q(),description:ue(Q()),required:ue(Mt())}).passthrough(),RR=Xc.extend({description:ue(Q()),arguments:ue(je(CR)),_meta:ue(ge({}).passthrough())}).merge(Zc),wR=Pu.extend({method:Me("prompts/list")}),xR=ku.extend({prompts:je(RR)}),ER=ln.extend({method:Me("prompts/get"),params:qn.extend({name:Q(),arguments:ue(Kc(Q()))})}),rp=ge({type:Me("text"),text:Q(),_meta:ue(ge({}).passthrough())}).passthrough(),ap=ge({type:Me("image"),data:ip,mimeType:Q(),_meta:ue(ge({}).passthrough())}).passthrough(),op=ge({type:Me("audio"),data:ip,mimeType:Q(),_meta:ue(ge({}).passthrough())}).passthrough(),TR=ge({type:Me("resource"),resource:Jt([t1,n1]),_meta:ue(ge({}).passthrough())}).passthrough(),IR=s1.extend({type:Me("resource_link")}),i1=Jt([rp,ap,op,IR,TR]),HR=ge({role:Ls(["user","assistant"]),content:i1}).passthrough(),MR=zn.extend({description:ue(Q()),messages:je(HR)}),NR=ls.extend({method:Me("notifications/prompts/list_changed")}),PR=ge({title:ue(Q()),readOnlyHint:ue(Mt()),destructiveHint:ue(Mt()),idempotentHint:ue(Mt()),openWorldHint:ue(Mt())}).passthrough(),kR=Xc.extend({description:ue(Q()),inputSchema:ge({type:Me("object"),properties:ue(ge({}).passthrough()),required:ue(je(Q()))}).passthrough(),outputSchema:ue(ge({type:Me("object"),properties:ue(ge({}).passthrough()),required:ue(je(Q()))}).passthrough()),annotations:ue(PR),_meta:ue(ge({}).passthrough())}).merge(Zc),qR=Pu.extend({method:Me("tools/list")}),zR=ku.extend({tools:je(kR)}),r1=zn.extend({content:je(i1).default([]),structuredContent:ge({}).passthrough().optional(),isError:ue(Mt())});r1.or(zn.extend({toolResult:Vc()}));const DR=ln.extend({method:Me("tools/call"),params:qn.extend({name:Q(),arguments:ue(Kc(Vc()))})}),UR=ls.extend({method:Me("notifications/tools/list_changed")}),a1=Ls(["debug","info","notice","warning","error","critical","alert","emergency"]),$R=ln.extend({method:Me("logging/setLevel"),params:qn.extend({level:a1})}),BR=ls.extend({method:Me("notifications/message"),params:Yc.extend({level:a1,logger:ue(Q()),data:Vc()})}),LR=ge({name:Q().optional()}).passthrough(),FR=ge({hints:ue(je(LR)),costPriority:ue(kt().min(0).max(1)),speedPriority:ue(kt().min(0).max(1)),intelligencePriority:ue(kt().min(0).max(1))}).passthrough(),GR=ge({role:Ls(["user","assistant"]),content:Jt([rp,ap,op])}).passthrough(),VR=ln.extend({method:Me("sampling/createMessage"),params:qn.extend({messages:je(GR),systemPrompt:ue(Q()),includeContext:ue(Ls(["none","thisServer","allServers"])),temperature:ue(kt()),maxTokens:kt().int(),stopSequences:ue(je(Q())),metadata:ue(ge({}).passthrough()),modelPreferences:ue(FR)})}),KR=zn.extend({model:Q(),stopReason:ue(Ls(["endTurn","stopSequence","maxTokens"]).or(Q())),role:Ls(["user","assistant"]),content:eR("type",[rp,ap,op])}),YR=ge({type:Me("boolean"),title:ue(Q()),description:ue(Q()),default:ue(Mt())}).passthrough(),ZR=ge({type:Me("string"),title:ue(Q()),description:ue(Q()),minLength:ue(kt()),maxLength:ue(kt()),format:ue(Ls(["email","uri","date","date-time"]))}).passthrough(),XR=ge({type:Ls(["number","integer"]),title:ue(Q()),description:ue(Q()),minimum:ue(kt()),maximum:ue(kt())}).passthrough(),QR=ge({type:Me("string"),title:ue(Q()),description:ue(Q()),enum:je(Q()),enumNames:ue(je(Q()))}).passthrough(),JR=Jt([YR,ZR,XR,QR]),WR=ln.extend({method:Me("elicitation/create"),params:qn.extend({message:Q(),requestedSchema:ge({type:Me("object"),properties:Kc(Q(),JR),required:ue(je(Q()))}).passthrough()})}),ew=zn.extend({action:Ls(["accept","decline","cancel"]),content:ue(Kc(Q(),Vc()))}),tw=ge({type:Me("ref/resource"),uri:Q()}).passthrough(),nw=ge({type:Me("ref/prompt"),name:Q()}).passthrough(),sw=ln.extend({method:Me("completion/complete"),params:qn.extend({ref:Jt([nw,tw]),argument:ge({name:Q(),value:Q()}).passthrough(),context:ue(ge({arguments:ue(Kc(Q(),Q()))}))})}),iw=zn.extend({completion:ge({values:je(Q()).max(100),total:ue(kt().int()),hasMore:ue(Mt())}).passthrough()}),rw=ge({uri:Q().startsWith("file://"),name:ue(Q()),_meta:ue(ge({}).passthrough())}).passthrough(),aw=ln.extend({method:Me("roots/list")}),ow=zn.extend({roots:je(rw)}),cw=ls.extend({method:Me("notifications/roots/list_changed")});Jt([JO,lR,sw,$R,ER,wR,mR,vR,_R,jR,AR,DR,qR]);Jt([XO,WO,fR,cw]);Jt([ZO,KR,ew,ow]);Jt([JO,VR,WR,aw]);Jt([XO,WO,BR,SR,OR,UR,NR]);Jt([ZO,dR,iw,MR,xR,gR,yR,bR,r1,zR]);const Lt=Q().url().superRefine((i,s)=>{if(!URL.canParse(i))return s.addIssue({code:fe.custom,message:"URL must be parseable",fatal:!0}),tR}).refine(i=>{const s=new URL(i);return s.protocol!=="javascript:"&&s.protocol!=="data:"&&s.protocol!=="vbscript:"},{message:"URL cannot use javascript:, data:, or vbscript: scheme"});ge({resource:Q().url(),authorization_servers:je(Lt).optional(),jwks_uri:Q().url().optional(),scopes_supported:je(Q()).optional(),bearer_methods_supported:je(Q()).optional(),resource_signing_alg_values_supported:je(Q()).optional(),resource_name:Q().optional(),resource_documentation:Q().optional(),resource_policy_uri:Q().url().optional(),resource_tos_uri:Q().url().optional(),tls_client_certificate_bound_access_tokens:Mt().optional(),authorization_details_types_supported:je(Q()).optional(),dpop_signing_alg_values_supported:je(Q()).optional(),dpop_bound_access_tokens_required:Mt().optional()}).passthrough();const lw=ge({issuer:Q(),authorization_endpoint:Lt,token_endpoint:Lt,registration_endpoint:Lt.optional(),scopes_supported:je(Q()).optional(),response_types_supported:je(Q()),response_modes_supported:je(Q()).optional(),grant_types_supported:je(Q()).optional(),token_endpoint_auth_methods_supported:je(Q()).optional(),token_endpoint_auth_signing_alg_values_supported:je(Q()).optional(),service_documentation:Lt.optional(),revocation_endpoint:Lt.optional(),revocation_endpoint_auth_methods_supported:je(Q()).optional(),revocation_endpoint_auth_signing_alg_values_supported:je(Q()).optional(),introspection_endpoint:Q().optional(),introspection_endpoint_auth_methods_supported:je(Q()).optional(),introspection_endpoint_auth_signing_alg_values_supported:je(Q()).optional(),code_challenge_methods_supported:je(Q()).optional()}).passthrough(),uw=ge({issuer:Q(),authorization_endpoint:Lt,token_endpoint:Lt,userinfo_endpoint:Lt.optional(),jwks_uri:Lt,registration_endpoint:Lt.optional(),scopes_supported:je(Q()).optional(),response_types_supported:je(Q()),response_modes_supported:je(Q()).optional(),grant_types_supported:je(Q()).optional(),acr_values_supported:je(Q()).optional(),subject_types_supported:je(Q()),id_token_signing_alg_values_supported:je(Q()),id_token_encryption_alg_values_supported:je(Q()).optional(),id_token_encryption_enc_values_supported:je(Q()).optional(),userinfo_signing_alg_values_supported:je(Q()).optional(),userinfo_encryption_alg_values_supported:je(Q()).optional(),userinfo_encryption_enc_values_supported:je(Q()).optional(),request_object_signing_alg_values_supported:je(Q()).optional(),request_object_encryption_alg_values_supported:je(Q()).optional(),request_object_encryption_enc_values_supported:je(Q()).optional(),token_endpoint_auth_methods_supported:je(Q()).optional(),token_endpoint_auth_signing_alg_values_supported:je(Q()).optional(),display_values_supported:je(Q()).optional(),claim_types_supported:je(Q()).optional(),claims_supported:je(Q()).optional(),service_documentation:Q().optional(),claims_locales_supported:je(Q()).optional(),ui_locales_supported:je(Q()).optional(),claims_parameter_supported:Mt().optional(),request_parameter_supported:Mt().optional(),request_uri_parameter_supported:Mt().optional(),require_request_uri_registration:Mt().optional(),op_policy_uri:Lt.optional(),op_tos_uri:Lt.optional()}).passthrough();uw.merge(lw.pick({code_challenge_methods_supported:!0}));ge({access_token:Q(),id_token:Q().optional(),token_type:Q(),expires_in:kt().optional(),scope:Q().optional(),refresh_token:Q().optional()}).strip();ge({error:Q(),error_description:Q().optional(),error_uri:Q().optional()});const zy=Lt.optional().or(Me("").transform(()=>{})),dw=ge({redirect_uris:je(Lt),token_endpoint_auth_method:Q().optional(),grant_types:je(Q()).optional(),response_types:je(Q()).optional(),client_name:Q().optional(),client_uri:Lt.optional(),logo_uri:zy,scope:Q().optional(),contacts:je(Q()).optional(),tos_uri:zy,policy_uri:Q().optional(),jwks_uri:Lt.optional(),jwks:WC().optional(),software_id:Q().optional(),software_version:Q().optional(),software_statement:Q().optional()}).strip(),fw=ge({client_id:Q(),client_secret:Q().optional(),client_id_issued_at:kt().optional(),client_secret_expires_at:kt().optional()}).strip();dw.merge(fw);ge({error:Q(),error_description:Q().optional()}).strip();ge({token:Q(),token_type_hint:Q().optional()}).strip();class Gt extends Error{constructor(s,r){super(s),this.errorUri=r,this.name=this.constructor.name}toResponseObject(){const s={error:this.errorCode,error_description:this.message};return this.errorUri&&(s.error_uri=this.errorUri),s}get errorCode(){return this.constructor.errorCode}}class hw extends Gt{}hw.errorCode="invalid_request";class pw extends Gt{}pw.errorCode="invalid_client";class mw extends Gt{}mw.errorCode="invalid_grant";class gw extends Gt{}gw.errorCode="unauthorized_client";class vw extends Gt{}vw.errorCode="unsupported_grant_type";class yw extends Gt{}yw.errorCode="invalid_scope";class _w extends Gt{}_w.errorCode="access_denied";class bw extends Gt{}bw.errorCode="server_error";class Ow extends Gt{}Ow.errorCode="temporarily_unavailable";class jw extends Gt{}jw.errorCode="unsupported_response_type";class Aw extends Gt{}Aw.errorCode="unsupported_token_type";class Sw extends Gt{}Sw.errorCode="invalid_token";class Cw extends Gt{}Cw.errorCode="method_not_allowed";class Rw extends Gt{}Rw.errorCode="too_many_requests";class ww extends Gt{}ww.errorCode="invalid_client_metadata";class xw extends Gt{}xw.errorCode="insufficient_scope";class Dy extends Error{constructor(s){super(s??"Unauthorized")}}function ta(){const[i,s]=ie.useState(!1),r=De(h=>h.updateServer),c=De(h=>h.setTools),g=ie.useCallback(async(h,d,l)=>{s(!0);try{if(console.log(` Attempting to connect to ${h.name}...`,{hasAuth:!!h.auth,authType:h.auth?.type,hasAuthCode:!!d}),!await Jr.connect(h,d,l))return console.log(` OAuth redirect initiated for ${h.name}`),!1;r(h.id,{connected:!0,error:void 0,lastConnected:new Date});const u=await Jr.listTools(h.id);return c(h.id,u),console.log(` Successfully connected to ${h.name}`),!0}catch(o){console.error("Connection error:",o),console.error("Error type:",o?.constructor?.name);const u=o instanceof Error?o.message:String(o);if(u.includes("OAuth authorization required")||u.includes("Redirecting to authorization"))return console.log(" OAuth redirect is happening - not showing as error"),r(h.id,{connected:!1,error:void 0}),!1;if(o instanceof Dy)return console.log(" UnauthorizedError caught - OAuth redirect should be happening..."),r(h.id,{connected:!1,error:void 0}),!1;if(o&&typeof o=="object"&&"name"in o&&o.name==="UnauthorizedError")return console.log(" UnauthorizedError detected by name - OAuth redirect should be happening..."),r(h.id,{connected:!1,error:void 0}),!1;let f=o instanceof Error?o.message:"Connection failed";return(f.includes("Failed to fetch")||f.includes("CORS"))&&(f="CORS Error: Server does not allow browser connections. See CORS.md for solutions."),(f.includes("401")||f.includes("Unauthorized"))&&(h.auth?.type==="oauth"&&!d?f="OAuth required but authorization redirect did not occur. Check server OAuth configuration.":h.auth?.type!=="oauth"&&(f.includes("invalid_token")||f.includes("Bearer")?f=` This server requires OAuth authentication.

To fix:
1. Open the server menu ()
2. Click "Edit Server"
3. Set Authentication to "OAuth"
4. Save and connect again`:f="Authentication required (401). Please configure authentication for this server.")),console.error(` Connection to ${h.name} failed:`,f),r(h.id,{connected:!1,error:f}),f.includes("OAuth authorization required")||f.includes("Redirecting to authorization")||f.includes("Code verifier")||f.includes("PKCE")||!!d||o instanceof Dy||Pn.error(`Failed to connect to ${h.name}`,f),!1}finally{s(!1)}},[r,c]),m=ie.useCallback(async h=>{await Jr.disconnect(h),r(h,{connected:!1})},[r]);return{connect:g,disconnect:m,isConnecting:i}}function Ew(){const[i,s]=ie.useState(!1),r=De(g=>g.addToHistory);return{execute:ie.useCallback(async(g,m,h)=>{s(!0);const d=performance.now();try{const l=await Jr.executeTool(g,m,h),u={success:!0,time:Math.round(performance.now()-d),data:l,timestamp:new Date};return r({serverId:g,toolName:m,input:h,result:u}),u}catch(l){const o=Math.round(performance.now()-d);console.error("Tool execution error:",{serverId:g,toolName:m,args:h,error:l,errorMessage:l instanceof Error?l.message:String(l),errorStack:l instanceof Error?l.stack:void 0});const u=l instanceof Error?l.message:"Execution failed",f={success:!1,time:o,error:u,timestamp:new Date};return r({serverId:g,toolName:m,input:h,result:f}),Pn.error(`Failed to execute ${m}`,u),f}finally{s(!1)}},[r]),isExecuting:i}}const na=ie.memo(function({icon:s,title:r,description:c,action:g}){return j.jsxs("div",{className:"empty-state",children:[s&&j.jsx("div",{className:"empty-state-icon",children:s}),j.jsx("h3",{className:"empty-state-title",children:r}),j.jsx("p",{className:"empty-state-description",children:c}),g&&j.jsx("button",{className:"btn btn-primary",onClick:g.onClick,children:g.label})]})}),Tw=ie.memo(function({onAddServer:s}){return j.jsx(na,{icon:j.jsx(zO,{size:48}),title:"No servers yet",description:"Add your first MCP server to get started testing tools and capabilities.",action:{label:"Add Server",onClick:s}})}),Iw=ie.memo(function(){return j.jsx(na,{icon:j.jsx(Wh,{size:48}),title:"No tools available",description:"This server doesn't expose any tools, or hasn't been connected yet."})});ie.memo(function(){return j.jsx(na,{icon:j.jsx(zS,{size:48}),title:"No execution history",description:"Tool execution history will appear here once you start testing."})});ie.memo(function({error:s,onRetry:r}){return j.jsx(na,{icon:j.jsx(kO,{size:48}),title:"Connection failed",description:s,action:r?{label:"Retry Connection",onClick:r}:void 0})});var o1=NO();const Hw=ie.memo(function({title:s,message:r,confirmText:c="Confirm",cancelText:g="Cancel",onConfirm:m,onCancel:h,danger:d=!1}){return o1.createPortal(j.jsx("div",{className:"modal-overlay",onClick:h,children:j.jsxs("div",{className:"modal modal-small",onClick:l=>l.stopPropagation(),children:[j.jsx("div",{className:"modal-header",children:j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[j.jsx("span",{style:{fontSize:"24px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),j.jsx("h2",{style:{margin:0,fontSize:"20px"},children:s})]})}),j.jsx("div",{className:"modal-body",children:j.jsx("p",{style:{lineHeight:1.6},children:r})}),j.jsxs("div",{className:"modal-footer",children:[j.jsx("button",{className:"btn btn-secondary",onClick:h,children:g}),j.jsx("button",{className:`btn ${d?"btn-danger":"btn-primary"}`,onClick:m,children:c})]})]})}),document.body)}),Mw=ie.memo(function({onAddServer:s,onEditServer:r}){return j.jsxs("div",{className:"server-sidebar",children:[j.jsx("div",{className:"sidebar-actions",children:j.jsxs("button",{className:"add-server-btn",onClick:s,children:[j.jsx("span",{className:"btn-icon",children:"+"}),j.jsx("span",{children:"Add Server"})]})}),j.jsx(Nw,{onAddServer:s,onEditServer:r})]})});function Nw({onAddServer:i,onEditServer:s}){const r=De(m=>m.servers),c=De(m=>m.selectedServerId),g=De(m=>m.setSelectedServer);return r.length===0?j.jsx(Tw,{onAddServer:i}):j.jsx("div",{className:"servers-list",children:r.map(m=>j.jsx(Pw,{server:m,isSelected:c===m.id,onClick:()=>g(m.id),onEditServer:s},m.id))})}const Pw=ie.memo(function({server:s,isSelected:r,onClick:c,onEditServer:g}){const m=De(V=>V.tools[s.id]),h=De(V=>V.removeServer),d=De(V=>V.updateServer),l=De(V=>V.setTools),{connect:o,disconnect:u}=ta(),[f,v]=ie.useState(!1),[_,O]=ie.useState(!1),[A,C]=ie.useState(!1),b=ie.useRef(null);ie.useEffect(()=>{const V=U=>{b.current&&!b.current.contains(U.target)&&v(!1)};if(f)return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[f]);const S=()=>{const V={http:"",sse:"",stdio:""};return j.jsxs("span",{className:"transport-badge","data-transport":s.transport,children:[V[s.transport]," ",s.transport.toUpperCase()]})},x=()=>{if(!s.auth||s.auth.type==="none")return null;const V=s.auth.type,U={headers:"API Key",oauth:"OAuth",oauth_client_credentials:"OAuth Client"},J={headers:"",oauth:"",oauth_client_credentials:""};return j.jsxs("span",{className:"auth-badge","data-auth-type":V,children:[J[V]||""," ",U[V]||"Auth"]})},T=V=>{V.stopPropagation(),v(!f)},I=async V=>{if(V.stopPropagation(),v(!1),!!s.connected){O(!0),Pn.info(`Refreshing ${s.name}...`,void 0,1500);try{const{mcpClient:U}=await OS(async()=>{const{mcpClient:N}=await Promise.resolve().then(()=>wC);return{mcpClient:N}},void 0),J=await U.listTools(s.id);l(s.id,J),console.log(` Refreshed tools for ${s.name} - ${J.length} tools`)}catch(U){console.error("Failed to refresh tools:",U);const J=U instanceof Error?U.message:"Unknown error";Pn.error(`Failed to refresh ${s.name}`,J)}finally{O(!1)}}},H=async V=>{if(V.stopPropagation(),v(!1),!!s.auth){if(s.auth.type==="oauth"){try{await xy(s.id),console.log(` Cleared OAuth credentials from backend for ${s.name}`)}catch(U){console.error("Failed to clear OAuth tokens from backend:",U)}localStorage.removeItem(`oauth_tokens_${s.id}`),localStorage.removeItem(`oauth_client_${s.id}`),sessionStorage.removeItem(`oauth_verifier_${s.id}`)}s.connected&&await u(s.id),d(s.id,{auth:void 0})}},w=async V=>{if(V.stopPropagation(),v(!1),s.connected&&await u(s.id),s.auth?.type==="oauth"){try{await xy(s.id),console.log(` Cleared OAuth tokens from backend for re-authentication: ${s.name}`)}catch(U){console.error("Failed to clear OAuth tokens from backend:",U)}localStorage.removeItem(`oauth_tokens_${s.id}`),sessionStorage.removeItem(`oauth_verifier_${s.id}`)}await o(s)},k=async V=>{V.stopPropagation(),v(!1),s.auth?.type==="oauth"&&(localStorage.removeItem(`oauth_tokens_${s.id}`),sessionStorage.removeItem(`oauth_verifier_${s.id}`),sessionStorage.removeItem("oauth_last_redirect"),sessionStorage.setItem("oauth_server_id",s.id),console.log(" Starting fresh OAuth flow...")),await o(s)},P=V=>{V.stopPropagation(),v(!1),g(s)},G=async V=>{V.stopPropagation(),v(!1),s.connected&&await u(s.id)},D=V=>{V.stopPropagation(),v(!1),C(!0)},F=async()=>{s.connected&&await u(s.id),h(s.id),C(!1)};return j.jsxs("div",{className:`server-item ${r?"active":""}`,onClick:c,children:[j.jsxs("div",{className:"server-header",children:[j.jsx("div",{className:`status-dot ${s.connected?"connected":"disconnected"}`,title:s.error||(s.connected?"Connected":"Disconnected")}),j.jsx("span",{className:"server-name",children:s.name}),j.jsx("span",{className:"tool-count",children:m?.length||0})]}),j.jsxs("div",{className:"server-footer",children:[j.jsxs("div",{className:"server-meta",children:[S(),x()]}),j.jsxs("div",{className:"server-actions",ref:b,children:[j.jsx("button",{className:"action-btn menu-btn",onClick:T,title:"Server actions",children:j.jsx(BS,{size:14})}),f&&j.jsxs("div",{className:"dropdown-menu",children:[s.connected?j.jsxs("button",{className:"dropdown-item",onClick:I,disabled:_,children:[j.jsx(Ih,{size:14,className:_?"spinning":""}),j.jsx("span",{children:"Refresh Tools"})]}):j.jsxs("button",{className:"dropdown-item",onClick:k,children:[j.jsx(Ih,{size:14}),j.jsx("span",{children:"Connect"})]}),s.auth&&s.auth.type!=="none"&&j.jsxs(j.Fragment,{children:[j.jsxs("button",{className:"dropdown-item",onClick:w,disabled:!s.connected,children:[j.jsx(qO,{size:14}),j.jsx("span",{children:"Re-authenticate"})]}),j.jsxs("button",{className:"dropdown-item",onClick:H,children:[j.jsx(Cy,{size:14}),j.jsx("span",{children:"Clear Auth"})]})]}),s.connected&&j.jsxs("button",{className:"dropdown-item",onClick:G,children:[j.jsx(Cy,{size:14}),j.jsx("span",{children:"Disconnect"})]}),j.jsx("div",{className:"dropdown-divider"}),j.jsxs("button",{className:"dropdown-item",onClick:P,children:[j.jsx(DO,{size:14}),j.jsx("span",{children:"Edit Server"})]}),j.jsxs("button",{className:"dropdown-item danger",onClick:D,children:[j.jsx(aC,{size:14}),j.jsx("span",{children:"Delete Server"})]})]})]})]}),A&&j.jsx(Hw,{title:"Delete Server",message:`Delete "${s.name}"? This will remove all cached tools and disconnect the server.`,confirmText:"Delete",cancelText:"Cancel",onConfirm:F,onCancel:()=>C(!1),danger:!0})]})}),kw=ie.memo(function(){const s=De(f=>f.selectedServerId),r=De(f=>f.tools),c=De(f=>f.selectedToolName),g=De(f=>f.setSelectedTool),m=De(f=>f.searchQuery),h=De(f=>f.setSearchQuery),d=De(f=>f.executingTools),l=Lc(f=>f.getToolParameters),o=ie.useMemo(()=>s?r[s]||[]:[],[s,r]),u=ie.useMemo(()=>m?o.filter(f=>f.name.toLowerCase().includes(m.toLowerCase())||f.description.toLowerCase().includes(m.toLowerCase())):o,[o,m]);return s?o.length===0?j.jsx("div",{className:"tools-sidebar",children:j.jsx(Iw,{})}):j.jsxs("div",{className:"tools-sidebar",children:[j.jsxs("div",{className:"tools-header",children:[j.jsx("h3",{children:"Tools"}),j.jsx("span",{className:"tools-count",children:o.length})]}),j.jsx("div",{className:"tools-search",children:j.jsx("input",{type:"text",className:"search-box",placeholder:"Search tools...",value:m,onChange:f=>h(f.target.value)})}),j.jsx("div",{className:"tools-list",children:u.length===0?j.jsx("div",{className:"no-results",children:j.jsxs("p",{children:['No tools match "',m,'"']})}):u.map(f=>{const v=s?l(s,f.name):void 0,_=s?`${s}:${f.name}`:f.name,O=d.includes(_);return j.jsxs("div",{className:`tool-item ${c===f.name?"active":""} ${O?"executing":""}`,onClick:()=>g(f.name),children:[j.jsxs("div",{className:"tool-name",children:[O&&j.jsx("span",{className:"tool-pulse"}),f.name,v&&j.jsx("span",{className:"tool-has-params-dot",title:"Has saved parameters"})]}),j.jsx("div",{className:"tool-description",children:f.description})]},f.name)})})]}):j.jsx("div",{className:"tools-sidebar",children:j.jsx(na,{icon:j.jsx(zO,{size:48}),title:"No server selected",description:"Select a server from the left to view its tools."})})}),qw=ie.memo(function({content:s,label:r="Copy",size:c="md"}){const[g,m]=ie.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(s),m(!0),setTimeout(()=>{m(!1)},2e3)}catch(d){console.error("Failed to copy:",d),Pn.error("Failed to copy","Clipboard access denied")}};return j.jsxs("button",{className:`copy-btn copy-btn-${c}`,onClick:h,title:r,"aria-label":r,children:[g?j.jsx(Dc,{size:c==="sm"?14:16}):j.jsx(Uc,{size:c==="sm"?14:16}),c==="md"&&j.jsx("span",{children:g?"Copied!":"Copy"})]})});function Bh(i){let s=i.trim(),r=0;const c=5;for(;r<c;)try{const g=JSON.parse(s);if(typeof g=="string"&&(g.startsWith("{")||g.startsWith("["))){s=g,r++;continue}return g}catch{return s}return s}function zw(i){if(Array.isArray(i)){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&"type"in i[0]&&i[0].type==="text"&&"text"in i[0]){const s=i[0].text,r=Bh(s);return r}if(i.length>0&&i.every(s=>typeof s=="object"&&s!==null&&"type"in s&&"text"in s)){const s=i.map(r=>{const c=r.text;return Bh(c)});return s.length===1?s[0]:s}}return i}function Lh({value:i,indent:s}){const[r,c]=ie.useState(!1),g="  ".repeat(s);if(i===null)return j.jsx("span",{className:"json-null",children:"null"});if(typeof i=="boolean")return j.jsx("span",{className:"json-boolean",children:String(i)});if(typeof i=="number")return j.jsx("span",{className:"json-number",children:String(i)});if(typeof i=="string")return j.jsxs("span",{className:"json-string",children:['"',i,'"']});if(Array.isArray(i))return i.length===0?j.jsx("span",{className:"json-bracket",children:"[]"}):j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"json-collapse-toggle",onClick:()=>c(!r),title:r?"Expand":"Collapse",children:r?j.jsx(Sy,{size:12}):j.jsx(Ay,{size:12})}),j.jsx("span",{className:"json-bracket",children:"["}),!r&&j.jsxs(j.Fragment,{children:[j.jsx("span",{children:`
`}),i.map((m,h)=>j.jsxs("span",{children:[j.jsxs("span",{children:[g,"  "]}),j.jsx(Lh,{value:m,indent:s+1}),h<i.length-1&&j.jsx("span",{className:"json-punctuation",children:","}),j.jsx("span",{children:`
`})]},h)),j.jsx("span",{children:g})]}),r&&j.jsx("span",{className:"json-ellipsis",children:"..."}),j.jsx("span",{className:"json-bracket",children:"]"})]});if(typeof i=="object"){const m=Object.entries(i);return m.length===0?j.jsx("span",{className:"json-bracket",children:"{}"}):j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"json-collapse-toggle",onClick:()=>c(!r),title:r?"Expand":"Collapse",children:r?j.jsx(Sy,{size:12}):j.jsx(Ay,{size:12})}),j.jsx("span",{className:"json-bracket",children:"{"}),!r&&j.jsxs(j.Fragment,{children:[j.jsx("span",{children:`
`}),m.map(([h,d],l)=>j.jsxs("span",{children:[j.jsxs("span",{children:[g,"  "]}),j.jsxs("span",{className:"json-key",children:['"',h,'"']}),j.jsx("span",{className:"json-punctuation",children:": "}),j.jsx(Lh,{value:d,indent:s+1}),l<m.length-1&&j.jsx("span",{className:"json-punctuation",children:","}),j.jsx("span",{children:`
`})]},h)),j.jsx("span",{children:g})]}),r&&j.jsx("span",{className:"json-ellipsis",children:"..."}),j.jsx("span",{className:"json-bracket",children:"}"})]})}return j.jsx("span",{children:String(i)})}const Bc=ie.memo(function({content:s,className:r="",preserveQuotes:c=!1}){const g=ie.useMemo(()=>{let m=Bh(s);if(m=zw(m),typeof m=="string"){let h=m;return!c&&h.startsWith('"')&&h.endsWith('"')&&h.length>1&&(h=h.slice(1,-1)),j.jsx("span",{children:h})}return j.jsx(Lh,{value:m,indent:0})},[s,c]);return j.jsx("pre",{className:`json-viewer ${r}`,children:g})});function Dw(i){const s=[];let r=0;const c=[{regex:/"[^"\\]*(?:\\.[^"\\]*)*"(?=\s*:)/g,className:"json-key"},{regex:/"[^"\\]*(?:\\.[^"\\]*)*"/g,className:"json-string"},{regex:/\b(-?\d+\.?\d*([eE][+-]?\d+)?)\b/g,className:"json-number"},{regex:/\b(true|false)\b/g,className:"json-boolean"},{regex:/\bnull\b/g,className:"json-null"},{regex:/[{}[\]]/g,className:"json-bracket"},{regex:/[:,]/g,className:"json-punctuation"}];let g=0;const m=[];c.forEach(l=>{const o=new RegExp(l.regex.source,"g");let u;for(;(u=o.exec(i))!==null;)m.push({start:u.index,end:u.index+u[0].length,className:l.className})}),m.sort((l,o)=>l.start-o.start);const h=[];let d=-1;return m.forEach(l=>{l.start>=d&&(h.push(l),d=l.end)}),h.forEach(l=>{g<l.start&&s.push(j.jsx("span",{children:i.slice(g,l.start)},r++)),s.push(j.jsx("span",{className:l.className,children:i.slice(l.start,l.end)},r++)),g=l.end}),g<i.length&&s.push(j.jsx("span",{children:i.slice(g)},r++)),s}const Uw=ie.memo(function({value:s,onChange:r,placeholder:c,className:g=""}){const m=ie.useRef(null),h=ie.useRef(null),[d,l]=ie.useState(0),[o,u]=ie.useState(0),f=()=>{m.current&&(l(m.current.scrollTop),u(m.current.scrollLeft))};ie.useEffect(()=>{h.current&&(h.current.scrollTop=d,h.current.scrollLeft=o)},[d,o]);const v=s?Dw(s):null;return j.jsxs("div",{className:`json-editor-wrapper ${g}`,children:[j.jsx("div",{ref:h,className:"json-editor-highlight","aria-hidden":"true",children:j.jsx("pre",{children:v})}),j.jsx("textarea",{ref:m,className:"json-editor-input",value:s,onChange:_=>r(_.target.value),onScroll:f,placeholder:c,spellCheck:!1})]})}),cn=new Map,$w=ie.memo(function(){const s=De(h=>h.selectedServerId),r=De(h=>h.selectedToolName),c=De(h=>h.tools),m=ie.useMemo(()=>s?c[s]||[]:[],[s,c]).find(h=>h.name===r);return m?j.jsx(Lw,{tool:m,serverId:s}):j.jsx(Bw,{})});function Bw(){return j.jsx("div",{className:"main-area",children:j.jsx(na,{icon:j.jsx(Wh,{size:48}),title:"No tool selected",description:"Select a tool from the sidebar to test its functionality and view results."})})}function Lw({tool:i,serverId:s}){const r=De(D=>D.inputMode),c=De(D=>D.setInputMode),g=De(D=>D.setToolExecuting),m=`${s}:${i.name}`;cn.has(m)||cn.set(m,{result:null,resultTab:"response",elapsedTime:0,isExecuting:!1,abortController:null});const[,h]=ie.useState({}),d=cn.get(m),l=ie.useCallback(D=>{const F={...cn.get(m),...D};cn.set(m,F),h({})},[m]),[o,u]=ie.useState(!1),{execute:f}=Ew(),v=Lc(D=>D.getToolParameters),_=Lc(D=>D.saveToolParameters),O=Lc(D=>D.recordToolExecution),A=i.description&&i.description.length>150,C=ie.useMemo(()=>{const D=i.inputSchema.properties||{},F={};return Object.entries(D).forEach(([V,U])=>{U.default!==void 0?F[V]=U.default:U.type==="string"?F[V]="":U.type==="number"||U.type==="integer"?F[V]=void 0:U.type==="boolean"?F[V]=!1:U.type==="array"?F[V]=[]:U.type==="object"&&(F[V]={})}),F},[i.inputSchema]),b=ie.useMemo(()=>{const D=v(s,i.name);return D?{...C,...D}:C},[s,i.name,C,v]),[S,x]=ie.useState(b),[T,I]=ie.useState(""),[H,w]=ie.useState("");ie.useEffect(()=>{const D=v(s,i.name),F=D?{...C,...D}:C;x(F),I(""),w(""),u(!1),h({})},[i.name,s,m,C,v,h]),ie.useEffect(()=>{if(Object.entries(S).some(([,F])=>!(F==null||F===""||typeof F=="boolean"&&F===!1||Array.isArray(F)&&F.length===0||typeof F=="object"&&!Array.isArray(F)&&Object.keys(F).length===0))){const F=setTimeout(()=>{_(s,i.name,S)},500);return()=>clearTimeout(F)}},[S,s,i.name,_]),ie.useMemo(()=>{r==="json"&&I(JSON.stringify(S,null,2))},[r,S]);const k=D=>{I(D),w("");try{const F=JSON.parse(D);x(F)}catch(F){w(F instanceof Error?F.message:"Invalid JSON")}},P=ie.useCallback(async()=>{try{if(r==="json"&&H){l({result:{success:!1,time:0,error:`Invalid JSON: ${H}`,timestamp:new Date},isExecuting:!1});return}const D=Object.fromEntries(Object.entries(S).filter(([B,de])=>de!==void 0)),F=new AbortController,V=m,U=s,J=i.name;cn.set(V,{...cn.get(V),elapsedTime:0,isExecuting:!0,abortController:F,result:null}),h({}),g(U,J,!0);const N=Date.now(),q=setInterval(()=>{const B=cn.get(V);B&&B.isExecuting&&(cn.set(V,{...B,elapsedTime:Date.now()-N}),m===V&&h({}))},10);try{const B=await f(U,J,D);F.signal.aborted||(cn.set(V,{...cn.get(V),result:B,isExecuting:!1,abortController:null}),m===V&&h({}),B.success&&O(U,J))}catch(B){const de={success:!1,time:Date.now()-N,error:B instanceof Error?B.message:"Execution failed",timestamp:new Date};cn.set(V,{...cn.get(V),result:de,isExecuting:!1,abortController:null}),m===V&&h({})}finally{clearInterval(q),g(U,J,!1)}}catch(D){console.error("Execution error:",D),l({result:{success:!1,time:0,error:D instanceof Error?D.message:"Execution failed",timestamp:new Date},isExecuting:!1,abortController:null}),g(s,i.name,!1)}},[r,H,S,m,s,i.name,f,g,O,l,h]),G=ie.useCallback(()=>{const D=cn.get(m);D.abortController&&(D.abortController.abort(),l({result:{success:!1,time:D.elapsedTime,error:"Execution cancelled by user",timestamp:new Date},isExecuting:!1,abortController:null}),g(s,i.name,!1))},[m,s,i.name,g,l]);return j.jsxs("div",{className:"main-area",children:[j.jsxs("div",{className:"main-header",children:[j.jsx("h2",{children:i.name}),j.jsxs("div",{className:"description-container",children:[j.jsx("p",{className:`main-tool-description ${!o&&A?"collapsed":""}`,children:i.description}),A&&j.jsx("button",{className:"description-toggle",onClick:()=>u(!o),children:o?"Show less":"Show more"})]})]}),j.jsxs("div",{className:"content-area",children:[j.jsxs("section",{className:"input-section",children:[j.jsx("div",{className:"section-title",children:"Input Parameters"}),j.jsxs("div",{className:"mode-toggle",children:[j.jsx("button",{className:`mode-btn ${r==="form"?"active":""}`,onClick:()=>c("form"),children:"Form"}),j.jsx("button",{className:`mode-btn ${r==="json"?"active":""}`,onClick:()=>c("json"),children:"JSON"})]}),r==="form"?j.jsx(Fw,{schema:i.inputSchema,values:S,onChange:x}):j.jsxs(j.Fragment,{children:[j.jsx(Uw,{value:T,onChange:k,placeholder:"Enter JSON input..."}),H&&j.jsxs("div",{className:"json-error",children:[" JSON Error: ",H]})]}),j.jsx("button",{className:`execute-btn ${d.isExecuting?"executing":""}`,onClick:d.isExecuting?G:P,children:d.isExecuting?j.jsxs(j.Fragment,{children:[j.jsx("span",{children:"Executing"}),j.jsxs("span",{className:"execute-timer",children:[d.elapsedTime,"ms"]}),j.jsx("span",{className:"execute-cancel-hint",children:"(click to cancel)"})]}):"Execute Tool"})]}),d.result&&j.jsx(Gw,{result:d.result,resultTab:d.resultTab,setResultTab:D=>l({resultTab:D}),toolName:i.name,input:S})]})]})}const Fw=ie.memo(function({schema:s,values:r,onChange:c}){const g=s.properties||{},m=s.required||[],h=(l,o,u)=>{let f=u;if(o.type==="number"||o.type==="integer")f=u===""?void 0:Number(u);else if(o.type==="boolean")f=u;else if(o.type==="array"||o.type==="object")try{f=u===""?o.type==="array"?[]:{}:JSON.parse(u)}catch{f=u}c({...r,[l]:f})},d=(l,o)=>{const u=r[l];return u==null?"":o.type==="array"||o.type==="object"?JSON.stringify(u):String(u)};return j.jsx("div",{className:"form-fields",children:Object.entries(g).map(([l,o])=>o.type==="boolean"?j.jsx("div",{className:"form-field",children:j.jsxs("label",{className:"form-label checkbox-label",children:[j.jsx("input",{type:"checkbox",className:"form-checkbox",checked:!!r[l],onChange:u=>h(l,o,u.target.checked)}),j.jsxs("span",{children:[j.jsx("span",{className:"param-name",title:o.description,children:l}),m.includes(l)&&j.jsx("span",{className:"required",children:"*"})]})]})},l):o.type==="array"||o.type==="object"?j.jsxs("div",{className:"form-field",children:[j.jsxs("label",{className:"form-label",children:[j.jsx("span",{className:"param-name",title:o.description,children:l}),m.includes(l)&&j.jsx("span",{className:"required",children:"*"}),j.jsxs("span",{className:"field-type",children:["(",o.type,")"]})]}),j.jsx("textarea",{className:"form-textarea",placeholder:o.description||`Enter JSON ${o.type}...`,value:d(l,o),onChange:u=>h(l,o,u.target.value),rows:3})]},l):j.jsxs("div",{className:"form-field",children:[j.jsxs("label",{className:"form-label",children:[j.jsx("span",{className:"param-name",title:o.description,children:l}),m.includes(l)&&j.jsx("span",{className:"required",children:"*"}),(o.type==="number"||o.type==="integer")&&j.jsxs("span",{className:"field-type",children:["(",o.type,")"]})]}),j.jsx("input",{type:o.type==="number"||o.type==="integer"?"number":"text",className:"form-input",placeholder:o.description||`Enter ${l}...`,value:d(l,o),onChange:u=>h(l,o,u.target.value),step:o.type==="number"?"any":void 0})]},l))})});function Gw({result:i,resultTab:s,setResultTab:r,toolName:c,input:g}){const m=ie.useMemo(()=>{switch(s){case"response":return!i.success&&i.error?i.error:JSON.stringify(i.data,null,2);case"raw":return JSON.stringify(i,null,2);case"request":return JSON.stringify({tool:c,input:g},null,2);default:return""}},[s,i,c,g]);return j.jsxs("section",{className:"result-section animate-fade-in",children:[j.jsxs("div",{className:`result-header ${i.success?"":"error"}`,children:[j.jsxs("div",{className:"result-header-left",children:[j.jsx("span",{className:`result-status ${i.success?"":"error"}`,children:i.success?" Success":" Error"}),j.jsxs("span",{className:"result-time",children:["(",i.time,"ms)"]})]}),j.jsx(qw,{content:m,label:`Copy ${s}`,size:"sm"})]}),j.jsxs("div",{className:"result-tabs",children:[j.jsx("button",{className:`result-tab ${s==="response"?"active":""}`,onClick:()=>r("response"),children:"Response"}),j.jsx("button",{className:`result-tab ${s==="raw"?"active":""}`,onClick:()=>r("raw"),children:"Raw JSON"}),j.jsx("button",{className:`result-tab ${s==="request"?"active":""}`,onClick:()=>r("request"),children:"Request"})]}),j.jsx(Bc,{content:m,className:"result-content",preserveQuotes:s==="raw"})]})}function Vw({onClose:i,onSave:s,currentApiKey:r}){const[c,g]=ie.useState(r||""),[m,h]=ie.useState(!1),d=()=>{if(!c.trim()){alert("Please enter a valid Portkey API key");return}s(c.trim()),i()};return j.jsx("div",{className:"modal-overlay",onClick:i,children:j.jsxs("div",{className:"modal-content llm-settings-modal",onClick:l=>l.stopPropagation(),children:[j.jsxs("div",{className:"modal-header",children:[j.jsxs("div",{className:"modal-title",children:[j.jsx(qO,{size:20}),j.jsx("h2",{children:"LLM Configuration"})]}),j.jsx("button",{className:"modal-close",onClick:i,"aria-label":"Close",children:j.jsx(UO,{size:20})})]}),j.jsx("div",{className:"modal-body",children:j.jsxs("div",{className:"settings-section",children:[j.jsx("h3",{children:"Portkey API Key"}),j.jsx("p",{className:"settings-description",children:"Enter your Portkey API key to enable real LLM conversations with OpenAI GPT-4o."}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"portkey-api-key",children:"API Key"}),j.jsxs("div",{className:"api-key-input-wrapper",children:[j.jsx("input",{id:"portkey-api-key",type:m?"text":"password",value:c,onChange:l=>g(l.target.value),placeholder:"sk-...",className:"api-key-input",autoComplete:"off"}),j.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>h(!m),children:m?"":""})]})]}),j.jsxs("div",{className:"info-box",children:[j.jsx("div",{className:"info-box-header",children:" About Portkey"}),j.jsx("p",{children:"Portkey is an LLM gateway that provides observability, caching, and reliability features for OpenAI and other LLM providers."}),j.jsx("p",{children:j.jsx("a",{href:"https://portkey.ai",target:"_blank",rel:"noopener noreferrer",className:"info-link",children:"Get your API key at portkey.ai "})})]}),j.jsxs("div",{className:"info-box security-note",children:[j.jsx("div",{className:"info-box-header",children:" Security Note"}),j.jsx("p",{children:"Your API key is stored locally in your browser only. It never leaves your machine and is only used to make direct API calls to Portkey from your browser."}),j.jsx("p",{children:"Hoot is a local development tool - your key is as safe as any other browser-stored credential."})]}),j.jsxs("div",{className:"settings-info",children:[j.jsxs("div",{className:"info-item",children:[j.jsx("strong",{children:"Model:"})," gpt-4o"]}),j.jsxs("div",{className:"info-item",children:[j.jsx("strong",{children:"Provider:"})," OpenAI via Portkey"]}),j.jsxs("div",{className:"info-item",children:[j.jsx("strong",{children:"Storage:"})," API key stored locally in browser"]})]})]})}),j.jsxs("div",{className:"modal-footer",children:[j.jsx("button",{className:"button-secondary",onClick:i,children:"Cancel"}),j.jsxs("button",{className:"button-primary",onClick:d,disabled:!c.trim(),children:[j.jsx(WS,{size:16}),"Save Configuration"]})]})]})})}var xs={},uh={},Es={},Qa={},Uy;function $e(){if(Uy)return Qa;Uy=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.ApiResource=void 0;class i{constructor(r){this.client=r,this.post=r._post.bind(r),this.put=r._put.bind(r),this.getMethod=r._get.bind(r),this.deleteMethod=r._delete.bind(r)}}return Qa.ApiResource=i,Qa}var dh={},$y;function Wt(){return $y||($y=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.AUDIO_FILE_DURATION_HEADER=i.GUARDRAILS_API=i.PROVIDERS_API=i.INTEGRATIONS_API=i.COLLECTIONS_API=i.LABELS_API=i.PROMPT_PARTIALS_API=i.PROMPTS_API=i.LOGS_API=i.EMBEDDINGS_API=i.FEEDBACK_API=i.PROMPT_API=i.TEXT_COMPLETE_API=i.CHAT_COMPLETE_API=i.OPEN_AI_API_KEY=i.PORTKEY_PROXY_ENV=i.PORTKEY_API_KEY_ENV=i.PORTKEY_GATEWAY_URL=i.LOCAL_BASE_URL=i.PORTKEY_BASE_URL=i.PORTKEY_HEADER_PREFIX=i.DEFAULT_TIMEOUT=i.DEFAULT_MAX_RETRIES=i.CUSTOM_HOST_CONNECTION_ERROR=i.LOCALHOST_CONNECTION_ERROR=i.INVALID_PORTKEY_MODE=i.MISSING_MODE_MESSAGE=i.MISSING_CONFIG_MESSAGE=i.MISSING_BASE_URL=i.MISSING_API_KEY_ERROR_MESSAGE=void 0,i.MISSING_API_KEY_ERROR_MESSAGE=`Portkey API Key Not Found
Resolution: 
1. Get your Portkey API key from https://app.portkey.ai/api-keys 
2. Pass it while instantiating the Portkey client with apiKey param, or set it as an environment variable with export PORTKEY_API_KEY=YOUR_API_KEY
`,i.MISSING_BASE_URL=`No Base url provided. Please provide a valid base url.
For example: https://api.portkey.ai
`,i.MISSING_CONFIG_MESSAGE="The 'config' parameter is not set. Please provide a valid Config object",i.MISSING_MODE_MESSAGE="The 'mode' parameter is not set. Please provide a valid mode literal.",i.INVALID_PORTKEY_MODE=`Argument of type '{}' cannot be assigned to parameter "mode" of type "ModesLiteral | Modes | None"
`,i.LOCALHOST_CONNECTION_ERROR="Could not instantiate the Portkey client. You can either add a valid 'apiKey' parameter (from https://app.portkey.ai/api-keys) or set the 'baseURL' parameter to your AI Gateway's instance's URL.",i.CUSTOM_HOST_CONNECTION_ERROR="We could not connect to the AI Gateway's instance. Please check the 'baseURL' parameter in the Portkey client.",i.DEFAULT_MAX_RETRIES=2,i.DEFAULT_TIMEOUT=60,i.PORTKEY_HEADER_PREFIX="x-portkey-",i.PORTKEY_BASE_URL="https://api.portkey.ai/v1",i.LOCAL_BASE_URL="http://localhost:8787/v1",i.PORTKEY_GATEWAY_URL=i.PORTKEY_BASE_URL,i.PORTKEY_API_KEY_ENV="PORTKEY_API_KEY",i.PORTKEY_PROXY_ENV="PORTKEY_PROXY",i.OPEN_AI_API_KEY="DUMMY-KEY",i.CHAT_COMPLETE_API="/chat/completions",i.TEXT_COMPLETE_API="/completions",i.PROMPT_API="/prompt/complete",i.FEEDBACK_API="/feedback",i.EMBEDDINGS_API="/embeddings",i.LOGS_API="/logs",i.PROMPTS_API="/prompts",i.PROMPT_PARTIALS_API="/prompts/partials",i.LABELS_API="/labels",i.COLLECTIONS_API="/collections",i.INTEGRATIONS_API="/integrations",i.PROVIDERS_API="/providers",i.GUARDRAILS_API="/guardrails",i.AUDIO_FILE_DURATION_HEADER="audio-file-duration"})(dh)),dh}var Ui={},Bt={},dt={},By;function c1(){if(By)return dt;By=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.InternalServerError=dt.RateLimitError=dt.UnprocessableEntityError=dt.ConflictError=dt.NotFoundError=dt.PermissionDeniedError=dt.AuthenticationError=dt.BadRequestError=dt.APIConnectionTimeoutError=dt.APIConnectionError=dt.APIUserAbortError=dt.APIError=void 0;const i=Ne();class s extends Error{constructor(O,A,C,b){super(s.makeMessage(A,C)),this.status=O,this.headers=b,this.error=A}static makeMessage(O,A){return O?.message?typeof O.message=="string"?O.message:JSON.stringify(O.message):O?JSON.stringify(O):A||"Unknown error occurred"}static generate(O,A,C,b){if(!O)return new c({cause:(0,i.castToError)(A)});const S=A;return O===400?new m(O,S,C,b):O===401?new h(O,S,C,b):O===403?new d(O,S,C,b):O===404?new l(O,S,C,b):O===409?new o(O,S,C,b):O===422?new u(O,S,C,b):O===429?new f(O,S,C,b):O>=500?new v(O,S,C,b):new s(O,S,C,b)}}dt.APIError=s;class r extends s{constructor({message:O}={}){super(void 0,void 0,O||"Request was aborted.",void 0),this.status=void 0}}dt.APIUserAbortError=r;class c extends s{constructor({message:O,cause:A}){const C=`Could not instantiate the Portkey client. 
    You can either add a valid 'apiKey' parameter (from https://app.portkey.ai/api-keys)
    or check the 'baseURL' parameter in the Portkey client,
    for your AI Gateway's instance's URL. 
    CAUSE: ${A}     
    MESSAGE: ${O}`;super(void 0,void 0,O||C,void 0),this.status=void 0,A&&(this.cause=A)}}dt.APIConnectionError=c;class g extends c{constructor({message:O}={}){super({message:O??"Request timed out."})}}dt.APIConnectionTimeoutError=g;class m extends s{constructor(){super(...arguments),this.status=400}}dt.BadRequestError=m;class h extends s{constructor(){super(...arguments),this.status=401}}dt.AuthenticationError=h;class d extends s{constructor(){super(...arguments),this.status=403}}dt.PermissionDeniedError=d;class l extends s{constructor(){super(...arguments),this.status=404}}dt.NotFoundError=l;class o extends s{constructor(){super(...arguments),this.status=409}}dt.ConflictError=o;class u extends s{constructor(){super(...arguments),this.status=422}}dt.UnprocessableEntityError=u;class f extends s{constructor(){super(...arguments),this.status=429}}dt.RateLimitError=f;class v extends s{}return dt.InternalServerError=v,dt}var Ly;function l1(){if(Ly)return Bt;Ly=1;var i=Bt&&Bt.__awaiter||function(v,_,O,A){function C(b){return b instanceof O?b:new O(function(S){S(b)})}return new(O||(O=Promise))(function(b,S){function x(H){try{I(A.next(H))}catch(w){S(w)}}function T(H){try{I(A.throw(H))}catch(w){S(w)}}function I(H){H.done?b(H.value):C(H.value).then(x,T)}I((A=A.apply(v,_||[])).next())})},s=Bt&&Bt.__asyncValues||function(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=v[Symbol.asyncIterator],O;return _?_.call(v):(v=typeof __values=="function"?__values(v):v[Symbol.iterator](),O={},A("next"),A("throw"),A("return"),O[Symbol.asyncIterator]=function(){return this},O);function A(b){O[b]=v[b]&&function(S){return new Promise(function(x,T){S=v[b](S),C(x,T,S.done,S.value)})}}function C(b,S,x,T){Promise.resolve(T).then(function(I){b({value:I,done:x})},S)}},r=Bt&&Bt.__await||function(v){return this instanceof r?(this.v=v,this):new r(v)},c=Bt&&Bt.__asyncGenerator||function(v,_,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=O.apply(v,_||[]),C,b=[];return C={},x("next"),x("throw"),x("return",S),C[Symbol.asyncIterator]=function(){return this},C;function S(P){return function(G){return Promise.resolve(G).then(P,w)}}function x(P,G){A[P]&&(C[P]=function(D){return new Promise(function(F,V){b.push([P,D,F,V])>1||T(P,D)})},G&&(C[P]=G(C[P])))}function T(P,G){try{I(A[P](G))}catch(D){k(b[0][3],D)}}function I(P){P.value instanceof r?Promise.resolve(P.value.v).then(H,w):k(b[0][2],P)}function H(P){T("next",P)}function w(P){T("throw",P)}function k(P,G){P(G),b.shift(),b.length&&T(b[0][0],b[0][1])}};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.Stream=Bt.createResponseHeaders=Bt.safeJSON=void 0;const g=c1(),m=v=>{try{return JSON.parse(v)}catch{return}};Bt.safeJSON=m;const h=v=>new Proxy(Object.fromEntries(v.entries()),{get(_,O){const A=O.toString();return _[A.toLowerCase()]||_[A]}});Bt.createResponseHeaders=h;class d{constructor(_){this.response=_,this.decoder=new l}iterMessages(){return c(this,arguments,function*(){var O,A,C,b;if(!this.response.body)throw new Error("Attempted to iterate over a response with no body");const S=new o,x=f(this.response.body);try{for(var T=!0,I=s(x),H;H=yield r(I.next()),O=H.done,!O;T=!0){b=H.value,T=!1;const w=b;for(const k of S.decode(w)){const P=this.decoder.decode(k);P&&(yield yield r(P))}}}catch(w){A={error:w}}finally{try{!T&&!O&&(C=I.return)&&(yield r(C.call(I)))}finally{if(A)throw A.error}}for(const w of S.flush()){const k=this.decoder.decode(w);k&&(yield yield r(k))}})}[Symbol.asyncIterator](){return c(this,arguments,function*(){var O,A,C,b;try{try{for(var S=!0,x=s(this.iterMessages()),T;T=yield r(x.next()),O=T.done,!O;S=!0){b=T.value,S=!1;const I=b;if(!I.data.startsWith("[DONE]")){if(I.event===null)try{yield yield r(JSON.parse(I.data))}catch(H){throw console.error("Could not parse message into JSON:",I.data),console.error("From chunk:",I.raw),H}if(I.event!=="ping"&&I.event==="error"){let H;try{H=JSON.parse(I.data)}catch{throw console.error("Could not parse message into JSON:",I.data),console.error("From chunk:",I.raw),new g.APIError(void 0,void 0,"Unknown error",void 0)}throw new g.APIError(void 0,H,H.message,void 0)}}}}catch(I){A={error:I}}finally{try{!S&&!O&&(C=x.return)&&(yield r(C.call(x)))}finally{if(A)throw A.error}}}catch(I){if(I instanceof Error&&I.name==="AbortError")return yield r(void 0);throw I}})}}Bt.Stream=d;class l{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(_){if(_.endsWith("\r")&&(_=_.substring(0,_.length-1)),!_){if(!this.event&&!this.data.length)return null;const b={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],b}if(this.chunks.push(_),_.startsWith(":"))return null;let[O,A,C]=u(_,":");return C.startsWith(" ")&&(C=C.substring(1)),O==="event"?this.event=C:O==="data"&&this.data.push(C),null}}class o{constructor(){this.buffer=[],this.trailingCR=!1}decode(_){let O=this.decodeText(_);if(this.trailingCR&&(O="\r"+O,this.trailingCR=!1),O.endsWith("\r")&&(this.trailingCR=!0,O=O.slice(0,-1)),!O)return[];const A=o.NEWLINE_CHARS.has(O[O.length-1]||"");let C=O.split(o.NEWLINE_REGEXP);return C.length===1&&!A?(this.buffer.push(C[0]),[]):(this.buffer.length>0&&(C=[this.buffer.join("")+C[0],...C.slice(1)],this.buffer=[]),A||(this.buffer=[C.pop()||""]),C)}decodeText(_){var O;if(_==null)return"";if(typeof _=="string")return _;if(typeof Buffer<"u"){if(_ instanceof Buffer)return _.toString();if(_ instanceof Uint8Array)return Buffer.from(_).toString();throw new Error(`Unexpected: received non-Uint8Array (${_.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(_ instanceof Uint8Array||_ instanceof ArrayBuffer)return(O=this.textDecoder)!==null&&O!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(_);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${_.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const _=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,_}}o.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]),o.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function u(v,_){const O=v.indexOf(_);return O!==-1?[v.substring(0,O),_,v.substring(O+_.length)]:[v,"",""]}function f(v){if(v[Symbol.asyncIterator])return v;const _=v.getReader();return{next(){return i(this,void 0,void 0,function*(){try{const O=yield _.read();return O?.done&&_.releaseLock(),O}catch(O){throw _.releaseLock(),O}})},return(){return i(this,void 0,void 0,function*(){const O=_.cancel();return _.releaseLock(),yield O,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}return Bt}var gu={exports:{}},Ja={},Fn={},Fy;function ze(){if(Fy)return Fn;Fy=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.__setModuleDefault=Fn.__createBinding=void 0,Fn.__classPrivateFieldSet=i,Fn.__classPrivateFieldGet=s,Fn.__exportStar=c,Fn.__importStar=h;function i(d,l,o,u,f){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?d!==l||!f:!l.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?f.call(d,o):f?f.value=o:l.set(d,o),o}function s(d,l,o,u){if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?d!==l||!u:!l.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?u:o==="a"?u.call(d):u?u.value:l.get(d)}var r=Object.create?function(d,l,o,u){u===void 0&&(u=o);var f=Object.getOwnPropertyDescriptor(l,o);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[o]}}),Object.defineProperty(d,u,f)}:function(d,l,o,u){u===void 0&&(u=o),d[u]=l[o]};Fn.__createBinding=r;function c(d,l){for(var o in d)o!=="default"&&!Object.prototype.hasOwnProperty.call(l,o)&&r(l,d,o)}var g=Object.create?function(d,l){Object.defineProperty(d,"default",{enumerable:!0,value:l})}:function(d,l){d.default=l};Fn.__setModuleDefault=g;var m=function(d){return m=Object.getOwnPropertyNames||function(l){var o=[];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[o.length]=u);return o},m(d)};function h(d){if(d&&d.__esModule)return d;var l={};if(d!=null)for(var o=m(d),u=0;u<o.length;u++)o[u]!=="default"&&r(l,d,o[u]);return g(l,d),l}return Fn}var Fr={},Gy;function u1(){if(Gy)return Fr;Gy=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.uuid4=void 0;let i=function(){const{crypto:s}=globalThis;if(s?.randomUUID)return Fr.uuid4=s.randomUUID.bind(s),s.randomUUID();const r=new Uint8Array(1),c=s?()=>s.getRandomValues(r)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,g=>(+g^c()&15>>+g/4).toString(16))};return Fr.uuid4=i,Fr}var fh={},Xe={},Gr={},Vy;function cp(){if(Vy)return Gr;Vy=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.castToError=void 0,Gr.isAbortError=i;function i(r){return typeof r=="object"&&r!==null&&("name"in r&&r.name==="AbortError"||"message"in r&&String(r.message).includes("FetchRequestCanceledException"))}const s=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null){try{if(Object.prototype.toString.call(r)==="[object Error]"){const c=new Error(r.message,r.cause?{cause:r.cause}:{});return r.stack&&(c.stack=r.stack),r.cause&&!c.cause&&(c.cause=r.cause),r.name&&(c.name=r.name),c}}catch{}try{return new Error(JSON.stringify(r))}catch{}}return new Error(r)};return Gr.castToError=s,Gr}var Ky;function Fs(){if(Ky)return Xe;Ky=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.InvalidWebhookSignatureError=Xe.ContentFilterFinishReasonError=Xe.LengthFinishReasonError=Xe.InternalServerError=Xe.RateLimitError=Xe.UnprocessableEntityError=Xe.ConflictError=Xe.NotFoundError=Xe.PermissionDeniedError=Xe.AuthenticationError=Xe.BadRequestError=Xe.APIConnectionTimeoutError=Xe.APIConnectionError=Xe.APIUserAbortError=Xe.APIError=Xe.OpenAIError=void 0;const i=cp();class s extends Error{}Xe.OpenAIError=s;class r extends s{constructor(S,x,T,I){super(`${r.makeMessage(S,x,T)}`),this.status=S,this.headers=I,this.requestID=I?.get("x-request-id"),this.error=x;const H=x;this.code=H?.code,this.param=H?.param,this.type=H?.type}static makeMessage(S,x,T){const I=x?.message?typeof x.message=="string"?x.message:JSON.stringify(x.message):x?JSON.stringify(x):T;return S&&I?`${S} ${I}`:S?`${S} status code (no body)`:I||"(no status code or body)"}static generate(S,x,T,I){if(!S||!I)return new g({message:T,cause:(0,i.castToError)(x)});const H=x?.error;return S===400?new h(S,H,T,I):S===401?new d(S,H,T,I):S===403?new l(S,H,T,I):S===404?new o(S,H,T,I):S===409?new u(S,H,T,I):S===422?new f(S,H,T,I):S===429?new v(S,H,T,I):S>=500?new _(S,H,T,I):new r(S,H,T,I)}}Xe.APIError=r;class c extends r{constructor({message:S}={}){super(void 0,void 0,S||"Request was aborted.",void 0)}}Xe.APIUserAbortError=c;class g extends r{constructor({message:S,cause:x}){super(void 0,void 0,S||"Connection error.",void 0),x&&(this.cause=x)}}Xe.APIConnectionError=g;class m extends g{constructor({message:S}={}){super({message:S??"Request timed out."})}}Xe.APIConnectionTimeoutError=m;class h extends r{}Xe.BadRequestError=h;class d extends r{}Xe.AuthenticationError=d;class l extends r{}Xe.PermissionDeniedError=l;class o extends r{}Xe.NotFoundError=o;class u extends r{}Xe.ConflictError=u;class f extends r{}Xe.UnprocessableEntityError=f;class v extends r{}Xe.RateLimitError=v;class _ extends r{}Xe.InternalServerError=_;class O extends s{constructor(){super("Could not parse response content as the length limit was reached")}}Xe.LengthFinishReasonError=O;class A extends s{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}Xe.ContentFilterFinishReasonError=A;class C extends Error{constructor(S){super(S)}}return Xe.InvalidWebhookSignatureError=C,Xe}var Yy;function Oi(){return Yy||(Yy=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.safeJSON=i.maybeCoerceBoolean=i.maybeCoerceFloat=i.maybeCoerceInteger=i.coerceBoolean=i.coerceFloat=i.coerceInteger=i.validatePositiveInteger=i.ensurePresent=i.isReadonlyArray=i.isArray=i.isAbsoluteURL=void 0,i.maybeObj=m,i.isEmptyObj=h,i.hasOwn=d,i.isObj=l;const s=Fs(),r=/^[a-z][a-z0-9+.-]*:/i,c=S=>r.test(S);i.isAbsoluteURL=c;let g=S=>(i.isArray=Array.isArray,(0,i.isArray)(S));i.isArray=g,i.isReadonlyArray=i.isArray;function m(S){return typeof S!="object"?{}:S??{}}function h(S){if(!S)return!0;for(const x in S)return!1;return!0}function d(S,x){return Object.prototype.hasOwnProperty.call(S,x)}function l(S){return S!=null&&typeof S=="object"&&!Array.isArray(S)}const o=S=>{if(S==null)throw new s.OpenAIError(`Expected a value to be given but received ${S} instead.`);return S};i.ensurePresent=o;const u=(S,x)=>{if(typeof x!="number"||!Number.isInteger(x))throw new s.OpenAIError(`${S} must be an integer`);if(x<0)throw new s.OpenAIError(`${S} must be a positive integer`);return x};i.validatePositiveInteger=u;const f=S=>{if(typeof S=="number")return Math.round(S);if(typeof S=="string")return parseInt(S,10);throw new s.OpenAIError(`Could not coerce ${S} (type: ${typeof S}) into a number`)};i.coerceInteger=f;const v=S=>{if(typeof S=="number")return S;if(typeof S=="string")return parseFloat(S);throw new s.OpenAIError(`Could not coerce ${S} (type: ${typeof S}) into a number`)};i.coerceFloat=v;const _=S=>typeof S=="boolean"?S:typeof S=="string"?S==="true":!!S;i.coerceBoolean=_;const O=S=>{if(S!=null)return(0,i.coerceInteger)(S)};i.maybeCoerceInteger=O;const A=S=>{if(S!=null)return(0,i.coerceFloat)(S)};i.maybeCoerceFloat=A;const C=S=>{if(S!=null)return(0,i.coerceBoolean)(S)};i.maybeCoerceBoolean=C;const b=S=>{try{return JSON.parse(S)}catch{return}};i.safeJSON=b})(fh)),fh}var Wa={},Zy;function Qc(){if(Zy)return Wa;Zy=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.sleep=void 0;const i=s=>new Promise(r=>setTimeout(r,s));return Wa.sleep=i,Wa}var $i={},eo={},Xy;function d1(){return Xy||(Xy=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.VERSION=void 0,eo.VERSION="6.3.0"),eo}var Qy;function Fh(){if(Qy)return $i;Qy=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.getPlatformHeaders=$i.isRunningInBrowser=void 0;const i=d1(),s=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";$i.isRunningInBrowser=s;function r(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const c=()=>{const o=r();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":h(Deno.build.os),"X-Stainless-Arch":m(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":h(globalThis.process.platform??"unknown"),"X-Stainless-Arch":m(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const u=g();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function g(){if(typeof navigator>"u"||!navigator)return null;const o=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:u,pattern:f}of o){const v=f.exec(navigator.userAgent);if(v){const _=v[1]||0,O=v[2]||0,A=v[3]||0;return{browser:u,version:`${_}.${O}.${A}`}}}return null}const m=o=>o==="x32"?"x32":o==="x86_64"||o==="x64"?"x64":o==="arm"?"arm":o==="aarch64"||o==="arm64"?"arm64":o?`other:${o}`:"unknown",h=o=>(o=o.toLowerCase(),o.includes("ios")?"iOS":o==="android"?"Android":o==="darwin"?"MacOS":o==="win32"?"Windows":o==="freebsd"?"FreeBSD":o==="openbsd"?"OpenBSD":o==="linux"?"Linux":o?`Other:${o}`:"Unknown");let d;const l=()=>d??(d=c());return $i.getPlatformHeaders=l,$i}var gi={},Jy;function Iu(){if(Jy)return gi;Jy=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.getDefaultFetch=i,gi.makeReadableStream=s,gi.ReadableStreamFrom=r,gi.ReadableStreamToAsyncIterable=c,gi.CancelReadableStream=g;function i(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function s(...m){const h=globalThis.ReadableStream;if(typeof h>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new h(...m)}function r(m){let h=Symbol.asyncIterator in m?m[Symbol.asyncIterator]():m[Symbol.iterator]();return s({start(){},async pull(d){const{done:l,value:o}=await h.next();l?d.close():d.enqueue(o)},async cancel(){await h.return?.()}})}function c(m){if(m[Symbol.asyncIterator])return m;const h=m.getReader();return{async next(){try{const d=await h.read();return d?.done&&h.releaseLock(),d}catch(d){throw h.releaseLock(),d}},async return(){const d=h.cancel();return h.releaseLock(),await d,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function g(m){if(m===null||typeof m!="object")return;if(m[Symbol.asyncIterator]){await m[Symbol.asyncIterator]().return?.();return}const h=m.getReader(),d=h.cancel();h.releaseLock(),await d}return gi}var to={},Wy;function Kw(){if(Wy)return to;Wy=1,Object.defineProperty(to,"__esModule",{value:!0}),to.FallbackEncoder=void 0;const i=({headers:s,body:r})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(r)});return to.FallbackEncoder=i,to}var hh={},ph={},e_;function lp(){return e_||(e_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.RFC3986=i.RFC1738=i.formatters=i.default_formatter=i.default_format=void 0,i.default_format="RFC3986";const s=r=>String(r);i.default_formatter=s,i.formatters={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:i.default_formatter},i.RFC1738="RFC1738",i.RFC3986="RFC3986"})(ph)),ph}var vu={},mh={},t_;function Yw(){return t_||(t_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.encode=i.has=void 0,i.merge=d,i.assign_single_source=l,i.decode=o,i.compact=v,i.is_regexp=_,i.is_buffer=O,i.combine=A,i.maybe_map=C;const s=lp(),r=Oi();let c=(b,S)=>(i.has=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),(0,i.has)(b,S));i.has=c;const g=(()=>{const b=[];for(let S=0;S<256;++S)b.push("%"+((S<16?"0":"")+S.toString(16)).toUpperCase());return b})();function m(b){for(;b.length>1;){const S=b.pop();if(!S)continue;const x=S.obj[S.prop];if((0,r.isArray)(x)){const T=[];for(let I=0;I<x.length;++I)typeof x[I]<"u"&&T.push(x[I]);S.obj[S.prop]=T}}}function h(b,S){const x=S&&S.plainObjects?Object.create(null):{};for(let T=0;T<b.length;++T)typeof b[T]<"u"&&(x[T]=b[T]);return x}function d(b,S,x={}){if(!S)return b;if(typeof S!="object"){if((0,r.isArray)(b))b.push(S);else if(b&&typeof b=="object")(x&&(x.plainObjects||x.allowPrototypes)||!(0,i.has)(Object.prototype,S))&&(b[S]=!0);else return[b,S];return b}if(!b||typeof b!="object")return[b].concat(S);let T=b;return(0,r.isArray)(b)&&!(0,r.isArray)(S)&&(T=h(b,x)),(0,r.isArray)(b)&&(0,r.isArray)(S)?(S.forEach(function(I,H){if((0,i.has)(b,H)){const w=b[H];w&&typeof w=="object"&&I&&typeof I=="object"?b[H]=d(w,I,x):b.push(I)}else b[H]=I}),b):Object.keys(S).reduce(function(I,H){const w=S[H];return(0,i.has)(I,H)?I[H]=d(I[H],w,x):I[H]=w,I},T)}function l(b,S){return Object.keys(S).reduce(function(x,T){return x[T]=S[T],x},b)}function o(b,S,x){const T=b.replace(/\+/g," ");if(x==="iso-8859-1")return T.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(T)}catch{return T}}const u=1024,f=(b,S,x,T,I)=>{if(b.length===0)return b;let H=b;if(typeof b=="symbol"?H=Symbol.prototype.toString.call(b):typeof b!="string"&&(H=String(b)),x==="iso-8859-1")return escape(H).replace(/%u[0-9a-f]{4}/gi,function(k){return"%26%23"+parseInt(k.slice(2),16)+"%3B"});let w="";for(let k=0;k<H.length;k+=u){const P=H.length>=u?H.slice(k,k+u):H,G=[];for(let D=0;D<P.length;++D){let F=P.charCodeAt(D);if(F===45||F===46||F===95||F===126||F>=48&&F<=57||F>=65&&F<=90||F>=97&&F<=122||I===s.RFC1738&&(F===40||F===41)){G[G.length]=P.charAt(D);continue}if(F<128){G[G.length]=g[F];continue}if(F<2048){G[G.length]=g[192|F>>6]+g[128|F&63];continue}if(F<55296||F>=57344){G[G.length]=g[224|F>>12]+g[128|F>>6&63]+g[128|F&63];continue}D+=1,F=65536+((F&1023)<<10|P.charCodeAt(D)&1023),G[G.length]=g[240|F>>18]+g[128|F>>12&63]+g[128|F>>6&63]+g[128|F&63]}w+=G.join("")}return w};i.encode=f;function v(b){const S=[{obj:{o:b},prop:"o"}],x=[];for(let T=0;T<S.length;++T){const I=S[T],H=I.obj[I.prop],w=Object.keys(H);for(let k=0;k<w.length;++k){const P=w[k],G=H[P];typeof G=="object"&&G!==null&&x.indexOf(G)===-1&&(S.push({obj:H,prop:P}),x.push(G))}}return m(S),b}function _(b){return Object.prototype.toString.call(b)==="[object RegExp]"}function O(b){return!b||typeof b!="object"?!1:!!(b.constructor&&b.constructor.isBuffer&&b.constructor.isBuffer(b))}function A(b,S){return[].concat(b,S)}function C(b,S){if((0,r.isArray)(b)){const x=[];for(let T=0;T<b.length;T+=1)x.push(S(b[T]));return x}return S(b)}})(mh)),mh}var n_;function Zw(){if(n_)return vu;n_=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.stringify=f;const i=Yw(),s=lp(),r=Oi(),c={brackets(v){return String(v)+"[]"},comma:"comma",indices(v,_){return String(v)+"["+_+"]"},repeat(v){return String(v)}},g=function(v,_){Array.prototype.push.apply(v,(0,r.isArray)(_)?_:[_])};let m;const h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:s.default_format,formatter:s.default_formatter,indices:!1,serializeDate(v){return(m??(m=Function.prototype.call.bind(Date.prototype.toISOString)))(v)},skipNulls:!1,strictNullHandling:!1};function d(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"}const l={};function o(v,_,O,A,C,b,S,x,T,I,H,w,k,P,G,D,F,V){let U=v,J=V,N=0,q=!1;for(;(J=J.get(l))!==void 0&&!q;){const Z=J.get(v);if(N+=1,typeof Z<"u"){if(Z===N)throw new RangeError("Cyclic object value");q=!0}typeof J.get(l)>"u"&&(N=0)}if(typeof I=="function"?U=I(_,U):U instanceof Date?U=k?.(U):O==="comma"&&(0,r.isArray)(U)&&(U=(0,i.maybe_map)(U,function(Z){return Z instanceof Date?k?.(Z):Z})),U===null){if(b)return T&&!D?T(_,h.encoder,F,"key",P):_;U=""}if(d(U)||(0,i.is_buffer)(U)){if(T){const Z=D?_:T(_,h.encoder,F,"key",P);return[G?.(Z)+"="+G?.(T(U,h.encoder,F,"value",P))]}return[G?.(_)+"="+G?.(String(U))]}const B=[];if(typeof U>"u")return B;let de;if(O==="comma"&&(0,r.isArray)(U))D&&T&&(U=(0,i.maybe_map)(U,T)),de=[{value:U.length>0?U.join(",")||null:void 0}];else if((0,r.isArray)(I))de=I;else{const Z=Object.keys(U);de=H?Z.sort(H):Z}const ye=x?String(_).replace(/\./g,"%2E"):String(_),M=A&&(0,r.isArray)(U)&&U.length===1?ye+"[]":ye;if(C&&(0,r.isArray)(U)&&U.length===0)return M+"[]";for(let Z=0;Z<de.length;++Z){const ce=de[Z],le=typeof ce=="object"&&typeof ce.value<"u"?ce.value:U[ce];if(S&&le===null)continue;const ne=w&&x?ce.replace(/\./g,"%2E"):ce,me=(0,r.isArray)(U)?typeof O=="function"?O(M,ne):M:M+(w?"."+ne:"["+ne+"]");V.set(v,N);const pe=new WeakMap;pe.set(l,V),g(B,o(le,me,O,A,C,b,S,x,O==="comma"&&D&&(0,r.isArray)(U)?null:T,I,H,w,k,P,G,D,F,pe))}return B}function u(v=h){if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");const _=v.charset||h.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let O=s.default_format;if(typeof v.format<"u"){if(!(0,i.has)(s.formatters,v.format))throw new TypeError("Unknown format option provided.");O=v.format}const A=s.formatters[O];let C=h.filter;(typeof v.filter=="function"||(0,r.isArray)(v.filter))&&(C=v.filter);let b;if(v.arrayFormat&&v.arrayFormat in c?b=v.arrayFormat:"indices"in v?b=v.indices?"indices":"repeat":b=h.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const S=typeof v.allowDots>"u"?v.encodeDotInKeys?!0:h.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:h.addQueryPrefix,allowDots:S,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:b,charset:_,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?h.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:h.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:h.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:h.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:h.encodeValuesOnly,filter:C,format:O,formatter:A,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:h.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:h.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:h.strictNullHandling}}function f(v,_={}){let O=v;const A=u(_);let C,b;typeof A.filter=="function"?(b=A.filter,O=b("",O)):(0,r.isArray)(A.filter)&&(b=A.filter,C=b);const S=[];if(typeof O!="object"||O===null)return"";const x=c[A.arrayFormat],T=x==="comma"&&A.commaRoundTrip;C||(C=Object.keys(O)),A.sort&&C.sort(A.sort);const I=new WeakMap;for(let k=0;k<C.length;++k){const P=C[k];A.skipNulls&&O[P]===null||g(S,o(O[P],P,x,T,A.allowEmptyArrays,A.strictNullHandling,A.skipNulls,A.encodeDotInKeys,A.encode?A.encoder:null,A.filter,A.sort,A.allowDots,A.serializeDate,A.format,A.formatter,A.encodeValuesOnly,A.charset,I))}const H=S.join(A.delimiter);let w=A.addQueryPrefix===!0?"?":"";return A.charsetSentinel&&(A.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),H.length>0?w+H:""}return vu}var s_;function Xw(){return s_||(s_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.formats=i.stringify=void 0;const s=lp(),r={formatters:s.formatters,RFC1738:s.RFC1738,RFC3986:s.RFC3986,default:s.default_format};i.formats=r;var c=Zw();Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return c.stringify}})})(hh)),hh}var _n={},no={},Vr={},Kr={},Yr={},i_;function up(){if(i_)return Yr;i_=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.concatBytes=i,Yr.encodeUTF8=r,Yr.decodeUTF8=g;function i(m){let h=0;for(const o of m)h+=o.length;const d=new Uint8Array(h);let l=0;for(const o of m)d.set(o,l),l+=o.length;return d}let s;function r(m){let h;return(s??(h=new globalThis.TextEncoder,s=h.encode.bind(h)))(m)}let c;function g(m){let h;return(c??(h=new globalThis.TextDecoder,c=h.decode.bind(h)))(m)}return Yr}var r_;function Qw(){if(r_)return Kr;r_=1;var i,s;Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.LineDecoder=void 0,Kr.findDoubleNewlineIndex=h;const r=ze(),c=up();class g{constructor(){i.set(this,void 0),s.set(this,void 0),r.__classPrivateFieldSet(this,i,new Uint8Array,"f"),r.__classPrivateFieldSet(this,s,null,"f")}decode(l){if(l==null)return[];const o=l instanceof ArrayBuffer?new Uint8Array(l):typeof l=="string"?(0,c.encodeUTF8)(l):l;r.__classPrivateFieldSet(this,i,(0,c.concatBytes)([r.__classPrivateFieldGet(this,i,"f"),o]),"f");const u=[];let f;for(;(f=m(r.__classPrivateFieldGet(this,i,"f"),r.__classPrivateFieldGet(this,s,"f")))!=null;){if(f.carriage&&r.__classPrivateFieldGet(this,s,"f")==null){r.__classPrivateFieldSet(this,s,f.index,"f");continue}if(r.__classPrivateFieldGet(this,s,"f")!=null&&(f.index!==r.__classPrivateFieldGet(this,s,"f")+1||f.carriage)){u.push((0,c.decodeUTF8)(r.__classPrivateFieldGet(this,i,"f").subarray(0,r.__classPrivateFieldGet(this,s,"f")-1))),r.__classPrivateFieldSet(this,i,r.__classPrivateFieldGet(this,i,"f").subarray(r.__classPrivateFieldGet(this,s,"f")),"f"),r.__classPrivateFieldSet(this,s,null,"f");continue}const v=r.__classPrivateFieldGet(this,s,"f")!==null?f.preceding-1:f.preceding,_=(0,c.decodeUTF8)(r.__classPrivateFieldGet(this,i,"f").subarray(0,v));u.push(_),r.__classPrivateFieldSet(this,i,r.__classPrivateFieldGet(this,i,"f").subarray(f.index),"f"),r.__classPrivateFieldSet(this,s,null,"f")}return u}flush(){return r.__classPrivateFieldGet(this,i,"f").length?this.decode(`
`):[]}}Kr.LineDecoder=g,i=new WeakMap,s=new WeakMap,g.NEWLINE_CHARS=new Set([`
`,"\r"]),g.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function m(d,l){for(let f=l??0;f<d.length;f++){if(d[f]===10)return{preceding:f,index:f+1,carriage:!1};if(d[f]===13)return{preceding:f,index:f+1,carriage:!0}}return null}function h(d){for(let u=0;u<d.length-1;u++){if(d[u]===10&&d[u+1]===10||d[u]===13&&d[u+1]===13)return u+2;if(d[u]===13&&d[u+1]===10&&u+3<d.length&&d[u+2]===13&&d[u+3]===10)return u+4}return-1}return Kr}var vi={},a_;function qu(){if(a_)return vi;a_=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.formatRequestDetails=vi.parseLogLevel=void 0,vi.loggerFor=d;const i=Oi(),s={off:0,error:200,warn:300,info:400,debug:500},r=(o,u,f)=>{if(o){if((0,i.hasOwn)(s,o))return o;d(f).warn(`${u} was set to ${JSON.stringify(o)}, expected one of ${JSON.stringify(Object.keys(s))}`)}};vi.parseLogLevel=r;function c(){}function g(o,u,f){return!u||s[o]>s[f]?c:u[o].bind(u)}const m={error:c,warn:c,info:c,debug:c};let h=new WeakMap;function d(o){const u=o.logger,f=o.logLevel??"off";if(!u)return m;const v=h.get(u);if(v&&v[0]===f)return v[1];const _={error:g("error",u,f),warn:g("warn",u,f),info:g("info",u,f),debug:g("debug",u,f)};return h.set(u,[f,_]),_}const l=o=>(o.options&&(o.options={...o.options},delete o.options.headers),o.headers&&(o.headers=Object.fromEntries((o.headers instanceof Headers?[...o.headers]:Object.entries(o.headers)).map(([u,f])=>[u,u.toLowerCase()==="authorization"||u.toLowerCase()==="cookie"||u.toLowerCase()==="set-cookie"?"***":f]))),"retryOfRequestLogID"in o&&(o.retryOfRequestLogID&&(o.retryOf=o.retryOfRequestLogID),delete o.retryOfRequestLogID),o);return vi.formatRequestDetails=l,vi}var o_;function f1(){if(o_)return Vr;o_=1;var i;Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Stream=void 0,Vr._iterSSEMessages=f;const s=ze(),r=Fs(),c=Iu(),g=Qw(),m=Iu(),h=cp(),d=up(),l=qu(),o=Fs();class u{constructor(C,b,S){this.iterator=C,i.set(this,void 0),this.controller=b,s.__classPrivateFieldSet(this,i,S,"f")}static fromSSEResponse(C,b,S){let x=!1;const T=S?(0,l.loggerFor)(S):console;async function*I(){if(x)throw new r.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");x=!0;let H=!1;try{for await(const w of f(C,b))if(!H){if(w.data.startsWith("[DONE]")){H=!0;continue}if(w.event===null||!w.event.startsWith("thread.")){let k;try{k=JSON.parse(w.data)}catch(P){throw T.error("Could not parse message into JSON:",w.data),T.error("From chunk:",w.raw),P}if(k&&k.error)throw new o.APIError(void 0,k.error,void 0,C.headers);yield k}else{let k;try{k=JSON.parse(w.data)}catch(P){throw console.error("Could not parse message into JSON:",w.data),console.error("From chunk:",w.raw),P}if(w.event=="error")throw new o.APIError(void 0,k.error,k.message,void 0);yield{event:w.event,data:k}}}H=!0}catch(w){if((0,h.isAbortError)(w))return;throw w}finally{H||b.abort()}}return new u(I,b,S)}static fromReadableStream(C,b,S){let x=!1;async function*T(){const H=new g.LineDecoder,w=(0,m.ReadableStreamToAsyncIterable)(C);for await(const k of w)for(const P of H.decode(k))yield P;for(const k of H.flush())yield k}async function*I(){if(x)throw new r.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");x=!0;let H=!1;try{for await(const w of T())H||w&&(yield JSON.parse(w));H=!0}catch(w){if((0,h.isAbortError)(w))return;throw w}finally{H||b.abort()}}return new u(I,b,S)}[(i=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const C=[],b=[],S=this.iterator(),x=T=>({next:()=>{if(T.length===0){const I=S.next();C.push(I),b.push(I)}return T.shift()}});return[new u(()=>x(C),this.controller,s.__classPrivateFieldGet(this,i,"f")),new u(()=>x(b),this.controller,s.__classPrivateFieldGet(this,i,"f"))]}toReadableStream(){const C=this;let b;return(0,c.makeReadableStream)({async start(){b=C[Symbol.asyncIterator]()},async pull(S){try{const{value:x,done:T}=await b.next();if(T)return S.close();const I=(0,d.encodeUTF8)(JSON.stringify(x)+`
`);S.enqueue(I)}catch(x){S.error(x)}},async cancel(){await b.return?.()}})}}Vr.Stream=u;async function*f(A,C){if(!A.body)throw C.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new r.OpenAIError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new r.OpenAIError("Attempted to iterate over a response with no body");const b=new _,S=new g.LineDecoder,x=(0,m.ReadableStreamToAsyncIterable)(A.body);for await(const T of v(x))for(const I of S.decode(T)){const H=b.decode(I);H&&(yield H)}for(const T of S.flush()){const I=b.decode(T);I&&(yield I)}}async function*v(A){let C=new Uint8Array;for await(const b of A){if(b==null)continue;const S=b instanceof ArrayBuffer?new Uint8Array(b):typeof b=="string"?(0,d.encodeUTF8)(b):b;let x=new Uint8Array(C.length+S.length);x.set(C),x.set(S,C.length),C=x;let T;for(;(T=(0,g.findDoubleNewlineIndex)(C))!==-1;)yield C.slice(0,T),C=C.slice(T)}C.length>0&&(yield C)}class _{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(C){if(C.endsWith("\r")&&(C=C.substring(0,C.length-1)),!C){if(!this.event&&!this.data.length)return null;const T={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],T}if(this.chunks.push(C),C.startsWith(":"))return null;let[b,S,x]=O(C,":");return x.startsWith(" ")&&(x=x.substring(1)),b==="event"?this.event=x:b==="data"&&this.data.push(x),null}}function O(A,C){const b=A.indexOf(C);return b!==-1?[A.substring(0,b),C,A.substring(b+C.length)]:[A,"",""]}return Vr}var c_;function h1(){if(c_)return no;c_=1,Object.defineProperty(no,"__esModule",{value:!0}),no.defaultParseResponse=r,no.addRequestID=c;const i=f1(),s=qu();async function r(g,m){const{response:h,requestLogID:d,retryOfRequestLogID:l,startTime:o}=m,u=await(async()=>{if(m.options.stream)return(0,s.loggerFor)(g).debug("response",h.status,h.url,h.headers,h.body),m.options.__streamClass?m.options.__streamClass.fromSSEResponse(h,m.controller,g):i.Stream.fromSSEResponse(h,m.controller,g);if(h.status===204)return null;if(m.options.__binaryResponse)return h;const v=h.headers.get("content-type")?.split(";")[0]?.trim();if(v?.includes("application/json")||v?.endsWith("+json")){const A=await h.json();return c(A,h)}return await h.text()})();return(0,s.loggerFor)(g).debug(`[${d}] response parsed`,(0,s.formatRequestDetails)({retryOfRequestLogID:l,url:h.url,status:h.status,body:u,durationMs:Date.now()-o})),u}function c(g,m){return!g||typeof g!="object"||Array.isArray(g)?g:Object.defineProperty(g,"_request_id",{value:m.headers.get("x-request-id"),enumerable:!1})}return no}var so={},l_;function dp(){if(l_)return so;l_=1;var i;Object.defineProperty(so,"__esModule",{value:!0}),so.APIPromise=void 0;const s=ze(),r=h1();class c extends Promise{constructor(m,h,d=r.defaultParseResponse){super(l=>{l(null)}),this.responsePromise=h,this.parseResponse=d,i.set(this,void 0),s.__classPrivateFieldSet(this,i,m,"f")}_thenUnwrap(m){return new c(s.__classPrivateFieldGet(this,i,"f"),this.responsePromise,async(h,d)=>(0,r.addRequestID)(m(await this.parseResponse(h,d),d),d.response))}asResponse(){return this.responsePromise.then(m=>m.response)}async withResponse(){const[m,h]=await Promise.all([this.parse(),this.asResponse()]);return{data:m,response:h,request_id:h.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(m=>this.parseResponse(s.__classPrivateFieldGet(this,i,"f"),m))),this.parsedPromise}then(m,h){return this.parse().then(m,h)}catch(m){return this.parse().catch(m)}finally(m){return this.parse().finally(m)}}return so.APIPromise=c,i=new WeakMap,so}var u_;function ht(){if(u_)return _n;u_=1;var i;Object.defineProperty(_n,"__esModule",{value:!0}),_n.ConversationCursorPage=_n.CursorPage=_n.Page=_n.PagePromise=_n.AbstractPage=void 0;const s=ze(),r=Fs(),c=h1(),g=dp(),m=Oi();class h{constructor(v,_,O,A){i.set(this,void 0),s.__classPrivateFieldSet(this,i,v,"f"),this.options=A,this.response=_,this.body=O}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const v=this.nextPageRequestOptions();if(!v)throw new r.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await s.__classPrivateFieldGet(this,i,"f").requestAPIList(this.constructor,v)}async*iterPages(){let v=this;for(yield v;v.hasNextPage();)v=await v.getNextPage(),yield v}async*[(i=new WeakMap,Symbol.asyncIterator)](){for await(const v of this.iterPages())for(const _ of v.getPaginatedItems())yield _}}_n.AbstractPage=h;class d extends g.APIPromise{constructor(v,_,O){super(v,_,async(A,C)=>new O(A,C.response,await(0,c.defaultParseResponse)(A,C),C.options))}async*[Symbol.asyncIterator](){const v=await this;for await(const _ of v)yield _}}_n.PagePromise=d;class l extends h{constructor(v,_,O,A){super(v,_,O,A),this.data=O.data||[],this.object=O.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}_n.Page=l;class o extends h{constructor(v,_,O,A){super(v,_,O,A),this.data=O.data||[],this.has_more=O.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const v=this.getPaginatedItems(),_=v[v.length-1]?.id;return _?{...this.options,query:{...(0,m.maybeObj)(this.options.query),after:_}}:null}}_n.CursorPage=o;class u extends h{constructor(v,_,O,A){super(v,_,O,A),this.data=O.data||[],this.has_more=O.has_more||!1,this.last_id=O.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const v=this.last_id;return v?{...this.options,query:{...(0,m.maybeObj)(this.options.query),after:v}}:null}}return _n.ConversationCursorPage=u,_n}var gh={},yu={},vh={},d_;function os(){return d_||(d_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.createForm=i.multipartFormRequestOptions=i.maybeMultipartFormRequestOptions=i.isAsyncIterable=i.checkFileSupport=void 0,i.makeFile=c,i.getName=g;const s=Iu(),r=()=>{if(typeof File>"u"){const{process:A}=globalThis,C=typeof A?.versions?.node=="string"&&parseInt(A.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(C?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};i.checkFileSupport=r;function c(A,C,b){return(0,i.checkFileSupport)(),new File(A,C??"unknown_file",b)}function g(A){return(typeof A=="object"&&A!==null&&("name"in A&&A.name&&String(A.name)||"url"in A&&A.url&&String(A.url)||"filename"in A&&A.filename&&String(A.filename)||"path"in A&&A.path&&String(A.path))||"").split(/[\\/]/).pop()||void 0}const m=A=>A!=null&&typeof A=="object"&&typeof A[Symbol.asyncIterator]=="function";i.isAsyncIterable=m;const h=async(A,C)=>_(A.body)?{...A,body:await(0,i.createForm)(A.body,C)}:A;i.maybeMultipartFormRequestOptions=h;const d=async(A,C)=>({...A,body:await(0,i.createForm)(A.body,C)});i.multipartFormRequestOptions=d;const l=new WeakMap;function o(A){const C=typeof A=="function"?A:A.fetch,b=l.get(C);if(b)return b;const S=(async()=>{try{const x="Response"in C?C.Response:(await C("data:,")).constructor,T=new FormData;return T.toString()!==await new x(T).text()}catch{return!0}})();return l.set(C,S),S}const u=async(A,C)=>{if(!await o(C))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const b=new FormData;return await Promise.all(Object.entries(A||{}).map(([S,x])=>O(b,S,x))),b};i.createForm=u;const f=A=>A instanceof Blob&&"name"in A,v=A=>typeof A=="object"&&A!==null&&(A instanceof Response||(0,i.isAsyncIterable)(A)||f(A)),_=A=>{if(v(A))return!0;if(Array.isArray(A))return A.some(_);if(A&&typeof A=="object"){for(const C in A)if(_(A[C]))return!0}return!1},O=async(A,C,b)=>{if(b!==void 0){if(b==null)throw new TypeError(`Received null for "${C}"; to pass null in FormData, you must use the string 'null'`);if(typeof b=="string"||typeof b=="number"||typeof b=="boolean")A.append(C,String(b));else if(b instanceof Response)A.append(C,c([await b.blob()],g(b)));else if((0,i.isAsyncIterable)(b))A.append(C,c([await new Response((0,s.ReadableStreamFrom)(b)).blob()],g(b)));else if(f(b))A.append(C,b,g(b));else if(Array.isArray(b))await Promise.all(b.map(S=>O(A,C+"[]",S)));else if(typeof b=="object")await Promise.all(Object.entries(b).map(([S,x])=>O(A,`${C}[${S}]`,x)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${b} instead`)}}})(vh)),vh}var f_;function Jw(){if(f_)return yu;f_=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.toFile=m;const i=os(),s=os(),r=l=>l!=null&&typeof l=="object"&&typeof l.size=="number"&&typeof l.type=="string"&&typeof l.text=="function"&&typeof l.slice=="function"&&typeof l.arrayBuffer=="function",c=l=>l!=null&&typeof l=="object"&&typeof l.name=="string"&&typeof l.lastModified=="number"&&r(l),g=l=>l!=null&&typeof l=="object"&&typeof l.url=="string"&&typeof l.blob=="function";async function m(l,o,u){if((0,s.checkFileSupport)(),l=await l,c(l))return l instanceof File?l:(0,i.makeFile)([await l.arrayBuffer()],l.name);if(g(l)){const v=await l.blob();return o||(o=new URL(l.url).pathname.split(/[\\/]/).pop()),(0,i.makeFile)(await h(v),o,u)}const f=await h(l);if(o||(o=(0,i.getName)(l)),!u?.type){const v=f.find(_=>typeof _=="object"&&"type"in _&&_.type);typeof v=="string"&&(u={...u,type:v})}return(0,i.makeFile)(f,o,u)}async function h(l){let o=[];if(typeof l=="string"||ArrayBuffer.isView(l)||l instanceof ArrayBuffer)o.push(l);else if(r(l))o.push(l instanceof Blob?l:await l.arrayBuffer());else if((0,i.isAsyncIterable)(l))for await(const u of l)o.push(...await h(u));else{const u=l?.constructor?.name;throw new Error(`Unexpected data type: ${typeof l}${u?`; constructor: ${u}`:""}${d(l)}`)}return o}function d(l){return typeof l!="object"||l===null?"":`; props: [${Object.getOwnPropertyNames(l).map(u=>`"${u}"`).join(", ")}]`}return yu}var h_;function p1(){return h_||(h_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.toFile=void 0;var s=Jw();Object.defineProperty(i,"toFile",{enumerable:!0,get:function(){return s.toFile}})})(gh)),gh}var yh={},_h={},io={},ro={},p_;function Ce(){if(p_)return ro;p_=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.APIResource=void 0;class i{constructor(r){this._client=r}}return ro.APIResource=i,ro}var bh={},ao={},Oh={},m_;function et(){return m_||(m_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.path=i.createPathTagFunction=void 0,i.encodeURIPath=r;const s=Fs();function r(m){return m.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const c=Object.freeze(Object.create(null)),g=(m=r)=>function(d,...l){if(d.length===1)return d[0];let o=!1;const u=[],f=d.reduce((A,C,b)=>{/[?#]/.test(C)&&(o=!0);const S=l[b];let x=(o?encodeURIComponent:m)(""+S);return b!==l.length&&(S==null||typeof S=="object"&&S.toString===Object.getPrototypeOf(Object.getPrototypeOf(S.hasOwnProperty??c)??c)?.toString)&&(x=S+"",u.push({start:A.length+C.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),A+C+(b===l.length?"":x)},""),v=f.split(/[?#]/,1)[0],_=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let O;for(;(O=_.exec(v))!==null;)u.push({start:O.index,length:O[0].length,error:`Value "${O[0]}" can't be safely passed as a path parameter`});if(u.sort((A,C)=>A.start-C.start),u.length>0){let A=0;const C=u.reduce((b,S)=>{const x=" ".repeat(S.start-A),T="^".repeat(S.length);return A=S.start+S.length,b+x+T},"");throw new s.OpenAIError(`Path parameters result in path with invalid segments:
${u.map(b=>b.error).join(`
`)}
${f}
${C}`)}return f};i.createPathTagFunction=g,i.path=(0,i.createPathTagFunction)(r)})(Oh)),Oh}var g_;function Gh(){if(g_)return ao;g_=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.Messages=void 0;const i=Ce(),s=ht(),r=et();class c extends i.APIResource{list(m,h={},d){return this._client.getAPIList((0,r.path)`/chat/completions/${m}/messages`,s.CursorPage,{query:h,...d})}}return ao.Messages=c,ao}var oo={},co={},jh={},v_;function Dn(){return v_||(v_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),ze().__exportStar(Fs(),i)})(jh)),jh}var Yt={},y_;function zu(){if(y_)return Yt;y_=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.isChatCompletionFunctionTool=s,Yt.makeParseableResponseFormat=r,Yt.makeParseableTextFormat=c,Yt.isAutoParsableResponseFormat=g,Yt.makeParseableTool=m,Yt.isAutoParsableTool=h,Yt.maybeParseChatCompletion=d,Yt.parseChatCompletion=l,Yt.shouldParseToolCall=f,Yt.hasAutoParseableInput=v,Yt.assertToolCallsAreChatCompletionFunctionToolCalls=_,Yt.validateInputTools=O;const i=Dn();function s(A){return A!==void 0&&"function"in A&&A.function!==void 0}function r(A,C){const b={...A};return Object.defineProperties(b,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:C,enumerable:!1}}),b}function c(A,C){const b={...A};return Object.defineProperties(b,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:C,enumerable:!1}}),b}function g(A){return A?.$brand==="auto-parseable-response-format"}function m(A,{parser:C,callback:b}){const S={...A};return Object.defineProperties(S,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:C,enumerable:!1},$callback:{value:b,enumerable:!1}}),S}function h(A){return A?.$brand==="auto-parseable-tool"}function d(A,C){return!C||!v(C)?{...A,choices:A.choices.map(b=>(_(b.message.tool_calls),{...b,message:{...b.message,parsed:null,...b.message.tool_calls?{tool_calls:b.message.tool_calls}:void 0}}))}:l(A,C)}function l(A,C){const b=A.choices.map(S=>{if(S.finish_reason==="length")throw new i.LengthFinishReasonError;if(S.finish_reason==="content_filter")throw new i.ContentFilterFinishReasonError;return _(S.message.tool_calls),{...S,message:{...S.message,...S.message.tool_calls?{tool_calls:S.message.tool_calls?.map(x=>u(C,x))??void 0}:void 0,parsed:S.message.content&&!S.message.refusal?o(C,S.message.content):null}}});return{...A,choices:b}}function o(A,C){return A.response_format?.type!=="json_schema"?null:A.response_format?.type==="json_schema"?"$parseRaw"in A.response_format?A.response_format.$parseRaw(C):JSON.parse(C):null}function u(A,C){const b=A.tools?.find(S=>s(S)&&S.function?.name===C.function.name);return{...C,function:{...C.function,parsed_arguments:h(b)?b.$parseRaw(C.function.arguments):b?.function.strict?JSON.parse(C.function.arguments):null}}}function f(A,C){if(!A||!("tools"in A)||!A.tools)return!1;const b=A.tools?.find(S=>s(S)&&S.function?.name===C.function.name);return s(b)&&(h(b)||b?.function.strict||!1)}function v(A){return g(A.response_format)?!0:A.tools?.some(C=>h(C)||C.type==="function"&&C.function.strict===!0)??!1}function _(A){for(const C of A||[])if(C.type!=="function")throw new i.OpenAIError(`Currently only \`function\` tool calls are supported; Received \`${C.type}\``)}function O(A){for(const C of A??[]){if(C.type!=="function")throw new i.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${C.type}\``);if(C.function.strict!==!0)throw new i.OpenAIError(`The \`${C.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}return Yt}var yi={},__;function m1(){if(__)return yi;__=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.isToolMessage=yi.isAssistantMessage=void 0,yi.isPresent=r;const i=c=>c?.role==="assistant";yi.isAssistantMessage=i;const s=c=>c?.role==="tool";yi.isToolMessage=s;function r(c){return c!=null}return yi}var lo={},b_;function fp(){if(b_)return lo;b_=1;var i,s,r,c,g,m,h,d,l,o,u,f,v;Object.defineProperty(lo,"__esModule",{value:!0}),lo.EventStream=void 0;const _=ze(),O=Dn();let A=class{constructor(){i.add(this),this.controller=new AbortController,s.set(this,void 0),r.set(this,()=>{}),c.set(this,()=>{}),g.set(this,void 0),m.set(this,()=>{}),h.set(this,()=>{}),d.set(this,{}),l.set(this,!1),o.set(this,!1),u.set(this,!1),f.set(this,!1),_.__classPrivateFieldSet(this,s,new Promise((b,S)=>{_.__classPrivateFieldSet(this,r,b,"f"),_.__classPrivateFieldSet(this,c,S,"f")}),"f"),_.__classPrivateFieldSet(this,g,new Promise((b,S)=>{_.__classPrivateFieldSet(this,m,b,"f"),_.__classPrivateFieldSet(this,h,S,"f")}),"f"),_.__classPrivateFieldGet(this,s,"f").catch(()=>{}),_.__classPrivateFieldGet(this,g,"f").catch(()=>{})}_run(b){setTimeout(()=>{b().then(()=>{this._emitFinal(),this._emit("end")},_.__classPrivateFieldGet(this,i,"m",v).bind(this))},0)}_connected(){this.ended||(_.__classPrivateFieldGet(this,r,"f").call(this),this._emit("connect"))}get ended(){return _.__classPrivateFieldGet(this,l,"f")}get errored(){return _.__classPrivateFieldGet(this,o,"f")}get aborted(){return _.__classPrivateFieldGet(this,u,"f")}abort(){this.controller.abort()}on(b,S){return(_.__classPrivateFieldGet(this,d,"f")[b]||(_.__classPrivateFieldGet(this,d,"f")[b]=[])).push({listener:S}),this}off(b,S){const x=_.__classPrivateFieldGet(this,d,"f")[b];if(!x)return this;const T=x.findIndex(I=>I.listener===S);return T>=0&&x.splice(T,1),this}once(b,S){return(_.__classPrivateFieldGet(this,d,"f")[b]||(_.__classPrivateFieldGet(this,d,"f")[b]=[])).push({listener:S,once:!0}),this}emitted(b){return new Promise((S,x)=>{_.__classPrivateFieldSet(this,f,!0,"f"),b!=="error"&&this.once("error",x),this.once(b,S)})}async done(){_.__classPrivateFieldSet(this,f,!0,"f"),await _.__classPrivateFieldGet(this,g,"f")}_emit(b,...S){if(_.__classPrivateFieldGet(this,l,"f"))return;b==="end"&&(_.__classPrivateFieldSet(this,l,!0,"f"),_.__classPrivateFieldGet(this,m,"f").call(this));const x=_.__classPrivateFieldGet(this,d,"f")[b];if(x&&(_.__classPrivateFieldGet(this,d,"f")[b]=x.filter(T=>!T.once),x.forEach(({listener:T})=>T(...S))),b==="abort"){const T=S[0];!_.__classPrivateFieldGet(this,f,"f")&&!x?.length&&Promise.reject(T),_.__classPrivateFieldGet(this,c,"f").call(this,T),_.__classPrivateFieldGet(this,h,"f").call(this,T),this._emit("end");return}if(b==="error"){const T=S[0];!_.__classPrivateFieldGet(this,f,"f")&&!x?.length&&Promise.reject(T),_.__classPrivateFieldGet(this,c,"f").call(this,T),_.__classPrivateFieldGet(this,h,"f").call(this,T),this._emit("end")}}_emitFinal(){}};return lo.EventStream=A,s=new WeakMap,r=new WeakMap,c=new WeakMap,g=new WeakMap,m=new WeakMap,h=new WeakMap,d=new WeakMap,l=new WeakMap,o=new WeakMap,u=new WeakMap,f=new WeakMap,i=new WeakSet,v=function(b){if(_.__classPrivateFieldSet(this,o,!0,"f"),b instanceof Error&&b.name==="AbortError"&&(b=new O.APIUserAbortError),b instanceof O.APIUserAbortError)return _.__classPrivateFieldSet(this,u,!0,"f"),this._emit("abort",b);if(b instanceof O.OpenAIError)return this._emit("error",b);if(b instanceof Error){const S=new O.OpenAIError(b.message);return S.cause=b,this._emit("error",S)}return this._emit("error",new O.OpenAIError(String(b)))},lo}var Zr={},O_;function g1(){if(O_)return Zr;O_=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.ParsingToolFunction=void 0,Zr.isRunnableFunctionWithParse=i;function i(r){return typeof r.parse=="function"}class s{constructor(c){this.type="function",this.function=c}}return Zr.ParsingToolFunction=s,Zr}var j_;function v1(){if(j_)return co;j_=1;var i,s,r,c,g,m,h,d;Object.defineProperty(co,"__esModule",{value:!0}),co.AbstractChatCompletionRunner=void 0;const l=ze(),o=Dn(),u=zu(),f=m1(),v=fp(),_=g1(),O=10;let A=class extends v.EventStream{constructor(){super(...arguments),i.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(b){this._chatCompletions.push(b),this._emit("chatCompletion",b);const S=b.choices[0]?.message;return S&&this._addMessage(S),b}_addMessage(b,S=!0){if("content"in b||(b.content=null),this.messages.push(b),S){if(this._emit("message",b),(0,f.isToolMessage)(b)&&b.content)this._emit("functionToolCallResult",b.content);else if((0,f.isAssistantMessage)(b)&&b.tool_calls)for(const x of b.tool_calls)x.type==="function"&&this._emit("functionToolCall",x.function)}}async finalChatCompletion(){await this.done();const b=this._chatCompletions[this._chatCompletions.length-1];if(!b)throw new o.OpenAIError("stream ended without producing a ChatCompletion");return b}async finalContent(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",s).call(this)}async finalMessage(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",r).call(this)}async finalFunctionToolCall(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",c).call(this)}async finalFunctionToolCallResult(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",g).call(this)}async totalUsage(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",m).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const b=this._chatCompletions[this._chatCompletions.length-1];b&&this._emit("finalChatCompletion",b);const S=l.__classPrivateFieldGet(this,i,"m",r).call(this);S&&this._emit("finalMessage",S);const x=l.__classPrivateFieldGet(this,i,"m",s).call(this);x&&this._emit("finalContent",x);const T=l.__classPrivateFieldGet(this,i,"m",c).call(this);T&&this._emit("finalFunctionToolCall",T);const I=l.__classPrivateFieldGet(this,i,"m",g).call(this);I!=null&&this._emit("finalFunctionToolCallResult",I),this._chatCompletions.some(H=>H.usage)&&this._emit("totalUsage",l.__classPrivateFieldGet(this,i,"m",m).call(this))}async _createChatCompletion(b,S,x){const T=x?.signal;T&&(T.aborted&&this.controller.abort(),T.addEventListener("abort",()=>this.controller.abort())),l.__classPrivateFieldGet(this,i,"m",h).call(this,S);const I=await b.chat.completions.create({...S,stream:!1},{...x,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,u.parseChatCompletion)(I,S))}async _runChatCompletion(b,S,x){for(const T of S.messages)this._addMessage(T,!1);return await this._createChatCompletion(b,S,x)}async _runTools(b,S,x){const T="tool",{tool_choice:I="auto",stream:H,...w}=S,k=typeof I!="string"&&I.type==="function"&&I?.function?.name,{maxChatCompletions:P=O}=x||{},G=S.tools.map(V=>{if((0,u.isAutoParsableTool)(V)){if(!V.$callback)throw new o.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:V.$callback,name:V.function.name,description:V.function.description||"",parameters:V.function.parameters,parse:V.$parseRaw,strict:!0}}}return V}),D={};for(const V of G)V.type==="function"&&(D[V.function.name||V.function.function.name]=V.function);const F="tools"in S?G.map(V=>V.type==="function"?{type:"function",function:{name:V.function.name||V.function.function.name,parameters:V.function.parameters,description:V.function.description,strict:V.function.strict}}:V):void 0;for(const V of S.messages)this._addMessage(V,!1);for(let V=0;V<P;++V){const J=(await this._createChatCompletion(b,{...w,tool_choice:I,tools:F,messages:[...this.messages]},x)).choices[0]?.message;if(!J)throw new o.OpenAIError("missing message in ChatCompletion response");if(!J.tool_calls?.length)return;for(const N of J.tool_calls){if(N.type!=="function")continue;const q=N.id,{name:B,arguments:de}=N.function,ye=D[B];if(ye){if(k&&k!==B){const le=`Invalid tool_call: ${JSON.stringify(B)}. ${JSON.stringify(k)} requested. Please try again`;this._addMessage({role:T,tool_call_id:q,content:le});continue}}else{const le=`Invalid tool_call: ${JSON.stringify(B)}. Available options are: ${Object.keys(D).map(ne=>JSON.stringify(ne)).join(", ")}. Please try again`;this._addMessage({role:T,tool_call_id:q,content:le});continue}let M;try{M=(0,_.isRunnableFunctionWithParse)(ye)?await ye.parse(de):de}catch(le){const ne=le instanceof Error?le.message:String(le);this._addMessage({role:T,tool_call_id:q,content:ne});continue}const Z=await ye.function(M,this),ce=l.__classPrivateFieldGet(this,i,"m",d).call(this,Z);if(this._addMessage({role:T,tool_call_id:q,content:ce}),k)return}}}};return co.AbstractChatCompletionRunner=A,i=new WeakSet,s=function(){return l.__classPrivateFieldGet(this,i,"m",r).call(this).content??null},r=function(){let b=this.messages.length;for(;b-- >0;){const S=this.messages[b];if((0,f.isAssistantMessage)(S))return{...S,content:S.content??null,refusal:S.refusal??null}}throw new o.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},c=function(){for(let b=this.messages.length-1;b>=0;b--){const S=this.messages[b];if((0,f.isAssistantMessage)(S)&&S?.tool_calls?.length)return S.tool_calls.filter(x=>x.type==="function").at(-1)?.function}},g=function(){for(let b=this.messages.length-1;b>=0;b--){const S=this.messages[b];if((0,f.isToolMessage)(S)&&S.content!=null&&typeof S.content=="string"&&this.messages.some(x=>x.role==="assistant"&&x.tool_calls?.some(T=>T.type==="function"&&T.id===S.tool_call_id)))return S.content}},m=function(){const b={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:S}of this._chatCompletions)S&&(b.completion_tokens+=S.completion_tokens,b.prompt_tokens+=S.prompt_tokens,b.total_tokens+=S.total_tokens);return b},h=function(b){if(b.n!=null&&b.n>1)throw new o.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},d=function(b){return typeof b=="string"?b:b===void 0?"undefined":JSON.stringify(b)},co}var A_;function S_(){if(A_)return oo;A_=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.ChatCompletionRunner=void 0;const i=v1(),s=m1();let r=class y1 extends i.AbstractChatCompletionRunner{static runTools(g,m,h){const d=new y1,l={...h,headers:{...h?.headers,"X-Stainless-Helper-Method":"runTools"}};return d._run(()=>d._runTools(g,m,l)),d}_addMessage(g,m=!0){super._addMessage(g,m),(0,s.isAssistantMessage)(g)&&g.content&&this._emit("content",g.content)}};return oo.ChatCompletionRunner=r,oo}var uo={},fo={},Ts={},C_;function Ww(){if(C_)return Ts;C_=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.MalformedJSON=Ts.PartialJSON=Ts.partialParse=void 0;const i=1,s=2,r=4,c=8,g=16,m=32,h=64,d=128,l=256,o=d|l,u=g|m|o|h,f=i|s|u,v=r|c,_=f|v,O={STR:i,NUM:s,ARR:r,OBJ:c,NULL:g,BOOL:m,NAN:h,INFINITY:d,MINUS_INFINITY:l,INF:o,SPECIAL:u,ATOM:f,COLLECTION:v,ALL:_};class A extends Error{}Ts.PartialJSON=A;class C extends Error{}Ts.MalformedJSON=C;function b(T,I=O.ALL){if(typeof T!="string")throw new TypeError(`expecting str, got ${typeof T}`);if(!T.trim())throw new Error(`${T} is empty`);return S(T.trim(),I)}const S=(T,I)=>{const H=T.length;let w=0;const k=N=>{throw new A(`${N} at position ${w}`)},P=N=>{throw new C(`${N} at position ${w}`)},G=()=>(J(),w>=H&&k("Unexpected end of input"),T[w]==='"'?D():T[w]==="{"?F():T[w]==="["?V():T.substring(w,w+4)==="null"||O.NULL&I&&H-w<4&&"null".startsWith(T.substring(w))?(w+=4,null):T.substring(w,w+4)==="true"||O.BOOL&I&&H-w<4&&"true".startsWith(T.substring(w))?(w+=4,!0):T.substring(w,w+5)==="false"||O.BOOL&I&&H-w<5&&"false".startsWith(T.substring(w))?(w+=5,!1):T.substring(w,w+8)==="Infinity"||O.INFINITY&I&&H-w<8&&"Infinity".startsWith(T.substring(w))?(w+=8,1/0):T.substring(w,w+9)==="-Infinity"||O.MINUS_INFINITY&I&&1<H-w&&H-w<9&&"-Infinity".startsWith(T.substring(w))?(w+=9,-1/0):T.substring(w,w+3)==="NaN"||O.NAN&I&&H-w<3&&"NaN".startsWith(T.substring(w))?(w+=3,NaN):U()),D=()=>{const N=w;let q=!1;for(w++;w<H&&(T[w]!=='"'||q&&T[w-1]==="\\");)q=T[w]==="\\"?!q:!1,w++;if(T.charAt(w)=='"')try{return JSON.parse(T.substring(N,++w-Number(q)))}catch(B){P(String(B))}else if(O.STR&I)try{return JSON.parse(T.substring(N,w-Number(q))+'"')}catch{return JSON.parse(T.substring(N,T.lastIndexOf("\\"))+'"')}k("Unterminated string literal")},F=()=>{w++,J();const N={};try{for(;T[w]!=="}";){if(J(),w>=H&&O.OBJ&I)return N;const q=D();J(),w++;try{const B=G();Object.defineProperty(N,q,{value:B,writable:!0,enumerable:!0,configurable:!0})}catch(B){if(O.OBJ&I)return N;throw B}J(),T[w]===","&&w++}}catch{if(O.OBJ&I)return N;k("Expected '}' at end of object")}return w++,N},V=()=>{w++;const N=[];try{for(;T[w]!=="]";)N.push(G()),J(),T[w]===","&&w++}catch{if(O.ARR&I)return N;k("Expected ']' at end of array")}return w++,N},U=()=>{if(w===0){T==="-"&&O.NUM&I&&k("Not sure what '-' is");try{return JSON.parse(T)}catch(q){if(O.NUM&I)try{return T[T.length-1]==="."?JSON.parse(T.substring(0,T.lastIndexOf("."))):JSON.parse(T.substring(0,T.lastIndexOf("e")))}catch{}P(String(q))}}const N=w;for(T[w]==="-"&&w++;T[w]&&!",]}".includes(T[w]);)w++;w==H&&!(O.NUM&I)&&k("Unterminated number literal");try{return JSON.parse(T.substring(N,w))}catch{T.substring(N,w)==="-"&&O.NUM&I&&k("Not sure what '-' is");try{return JSON.parse(T.substring(N,T.lastIndexOf("e")))}catch(B){P(String(B))}}},J=()=>{for(;w<H&&` 
\r	`.includes(T[w]);)w++};return G()},x=T=>b(T,O.ALL^O.NUM);return Ts.partialParse=x,Ts}var Ah={},R_;function _1(){return R_||(R_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),ze().__exportStar(f1(),i)})(Ah)),Ah}var w_;function Kh(){if(w_)return fo;w_=1;var i,s,r,c,g,m,h,d,l,o,u,f;Object.defineProperty(fo,"__esModule",{value:!0}),fo.ChatCompletionStream=void 0;const v=ze(),_=Ww(),O=Dn(),A=zu(),C=_1(),b=v1();let S=class Vh extends b.AbstractChatCompletionRunner{constructor(w){super(),i.add(this),s.set(this,void 0),r.set(this,void 0),c.set(this,void 0),v.__classPrivateFieldSet(this,s,w,"f"),v.__classPrivateFieldSet(this,r,[],"f")}get currentChatCompletionSnapshot(){return v.__classPrivateFieldGet(this,c,"f")}static fromReadableStream(w){const k=new Vh(null);return k._run(()=>k._fromReadableStream(w)),k}static createChatCompletion(w,k,P){const G=new Vh(k);return G._run(()=>G._runChatCompletion(w,{...k,stream:!0},{...P,headers:{...P?.headers,"X-Stainless-Helper-Method":"stream"}})),G}async _createChatCompletion(w,k,P){super._createChatCompletion;const G=P?.signal;G&&(G.aborted&&this.controller.abort(),G.addEventListener("abort",()=>this.controller.abort())),v.__classPrivateFieldGet(this,i,"m",g).call(this);const D=await w.chat.completions.create({...k,stream:!0},{...P,signal:this.controller.signal});this._connected();for await(const F of D)v.__classPrivateFieldGet(this,i,"m",h).call(this,F);if(D.controller.signal?.aborted)throw new O.APIUserAbortError;return this._addChatCompletion(v.__classPrivateFieldGet(this,i,"m",o).call(this))}async _fromReadableStream(w,k){const P=k?.signal;P&&(P.aborted&&this.controller.abort(),P.addEventListener("abort",()=>this.controller.abort())),v.__classPrivateFieldGet(this,i,"m",g).call(this),this._connected();const G=C.Stream.fromReadableStream(w,this.controller);let D;for await(const F of G)D&&D!==F.id&&this._addChatCompletion(v.__classPrivateFieldGet(this,i,"m",o).call(this)),v.__classPrivateFieldGet(this,i,"m",h).call(this,F),D=F.id;if(G.controller.signal?.aborted)throw new O.APIUserAbortError;return this._addChatCompletion(v.__classPrivateFieldGet(this,i,"m",o).call(this))}[(s=new WeakMap,r=new WeakMap,c=new WeakMap,i=new WeakSet,g=function(){this.ended||v.__classPrivateFieldSet(this,c,void 0,"f")},m=function(k){let P=v.__classPrivateFieldGet(this,r,"f")[k.index];return P||(P={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},v.__classPrivateFieldGet(this,r,"f")[k.index]=P,P)},h=function(k){if(this.ended)return;const P=v.__classPrivateFieldGet(this,i,"m",f).call(this,k);this._emit("chunk",k,P);for(const G of k.choices){const D=P.choices[G.index];G.delta.content!=null&&D.message?.role==="assistant"&&D.message?.content&&(this._emit("content",G.delta.content,D.message.content),this._emit("content.delta",{delta:G.delta.content,snapshot:D.message.content,parsed:D.message.parsed})),G.delta.refusal!=null&&D.message?.role==="assistant"&&D.message?.refusal&&this._emit("refusal.delta",{delta:G.delta.refusal,snapshot:D.message.refusal}),G.logprobs?.content!=null&&D.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:G.logprobs?.content,snapshot:D.logprobs?.content??[]}),G.logprobs?.refusal!=null&&D.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:G.logprobs?.refusal,snapshot:D.logprobs?.refusal??[]});const F=v.__classPrivateFieldGet(this,i,"m",m).call(this,D);D.finish_reason&&(v.__classPrivateFieldGet(this,i,"m",l).call(this,D),F.current_tool_call_index!=null&&v.__classPrivateFieldGet(this,i,"m",d).call(this,D,F.current_tool_call_index));for(const V of G.delta.tool_calls??[])F.current_tool_call_index!==V.index&&(v.__classPrivateFieldGet(this,i,"m",l).call(this,D),F.current_tool_call_index!=null&&v.__classPrivateFieldGet(this,i,"m",d).call(this,D,F.current_tool_call_index)),F.current_tool_call_index=V.index;for(const V of G.delta.tool_calls??[]){const U=D.message.tool_calls?.[V.index];U?.type&&(U?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:U.function?.name,index:V.index,arguments:U.function.arguments,parsed_arguments:U.function.parsed_arguments,arguments_delta:V.function?.arguments??""}):(U?.type,void 0))}}},d=function(k,P){if(v.__classPrivateFieldGet(this,i,"m",m).call(this,k).done_tool_calls.has(P))return;const D=k.message.tool_calls?.[P];if(!D)throw new Error("no tool call snapshot");if(!D.type)throw new Error("tool call snapshot missing `type`");if(D.type==="function"){const F=v.__classPrivateFieldGet(this,s,"f")?.tools?.find(V=>(0,A.isChatCompletionFunctionTool)(V)&&V.function.name===D.function.name);this._emit("tool_calls.function.arguments.done",{name:D.function.name,index:P,arguments:D.function.arguments,parsed_arguments:(0,A.isAutoParsableTool)(F)?F.$parseRaw(D.function.arguments):F?.function.strict?JSON.parse(D.function.arguments):null})}else D.type},l=function(k){const P=v.__classPrivateFieldGet(this,i,"m",m).call(this,k);if(k.message.content&&!P.content_done){P.content_done=!0;const G=v.__classPrivateFieldGet(this,i,"m",u).call(this);this._emit("content.done",{content:k.message.content,parsed:G?G.$parseRaw(k.message.content):null})}k.message.refusal&&!P.refusal_done&&(P.refusal_done=!0,this._emit("refusal.done",{refusal:k.message.refusal})),k.logprobs?.content&&!P.logprobs_content_done&&(P.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:k.logprobs.content})),k.logprobs?.refusal&&!P.logprobs_refusal_done&&(P.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:k.logprobs.refusal}))},o=function(){if(this.ended)throw new O.OpenAIError("stream has ended, this shouldn't happen");const k=v.__classPrivateFieldGet(this,c,"f");if(!k)throw new O.OpenAIError("request ended without sending any chunks");return v.__classPrivateFieldSet(this,c,void 0,"f"),v.__classPrivateFieldSet(this,r,[],"f"),x(k,v.__classPrivateFieldGet(this,s,"f"))},u=function(){const k=v.__classPrivateFieldGet(this,s,"f")?.response_format;return(0,A.isAutoParsableResponseFormat)(k)?k:null},f=function(k){var P,G,D,F;let V=v.__classPrivateFieldGet(this,c,"f");const{choices:U,...J}=k;V?Object.assign(V,J):V=v.__classPrivateFieldSet(this,c,{...J,choices:[]},"f");for(const{delta:N,finish_reason:q,index:B,logprobs:de=null,...ye}of k.choices){let M=V.choices[B];if(M||(M=V.choices[B]={finish_reason:q,index:B,message:{},logprobs:de,...ye}),de)if(!M.logprobs)M.logprobs=Object.assign({},de);else{const{content:te,refusal:re,...we}=de;Object.assign(M.logprobs,we),te&&((P=M.logprobs).content??(P.content=[]),M.logprobs.content.push(...te)),re&&((G=M.logprobs).refusal??(G.refusal=[]),M.logprobs.refusal.push(...re))}if(q&&(M.finish_reason=q,v.__classPrivateFieldGet(this,s,"f")&&(0,A.hasAutoParseableInput)(v.__classPrivateFieldGet(this,s,"f")))){if(q==="length")throw new O.LengthFinishReasonError;if(q==="content_filter")throw new O.ContentFilterFinishReasonError}if(Object.assign(M,ye),!N)continue;const{content:Z,refusal:ce,function_call:le,role:ne,tool_calls:me,...pe}=N;if(Object.assign(M.message,pe),ce&&(M.message.refusal=(M.message.refusal||"")+ce),ne&&(M.message.role=ne),le&&(M.message.function_call?(le.name&&(M.message.function_call.name=le.name),le.arguments&&((D=M.message.function_call).arguments??(D.arguments=""),M.message.function_call.arguments+=le.arguments)):M.message.function_call=le),Z&&(M.message.content=(M.message.content||"")+Z,!M.message.refusal&&v.__classPrivateFieldGet(this,i,"m",u).call(this)&&(M.message.parsed=(0,_.partialParse)(M.message.content))),me){M.message.tool_calls||(M.message.tool_calls=[]);for(const{index:te,id:re,type:we,function:ee,...he}of me){const ve=(F=M.message.tool_calls)[te]??(F[te]={});Object.assign(ve,he),re&&(ve.id=re),we&&(ve.type=we),ee&&(ve.function??(ve.function={name:ee.name??"",arguments:""})),ee?.name&&(ve.function.name=ee.name),ee?.arguments&&(ve.function.arguments+=ee.arguments,(0,A.shouldParseToolCall)(v.__classPrivateFieldGet(this,s,"f"),ve)&&(ve.function.parsed_arguments=(0,_.partialParse)(ve.function.arguments)))}}}return V},Symbol.asyncIterator)](){const w=[],k=[];let P=!1;return this.on("chunk",G=>{const D=k.shift();D?D.resolve(G):w.push(G)}),this.on("end",()=>{P=!0;for(const G of k)G.resolve(void 0);k.length=0}),this.on("abort",G=>{P=!0;for(const D of k)D.reject(G);k.length=0}),this.on("error",G=>{P=!0;for(const D of k)D.reject(G);k.length=0}),{next:async()=>w.length?{value:w.shift(),done:!1}:P?{value:void 0,done:!0}:new Promise((D,F)=>k.push({resolve:D,reject:F})).then(D=>D?{value:D,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new C.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};fo.ChatCompletionStream=S;function x(H,w){const{id:k,choices:P,created:G,model:D,system_fingerprint:F,...V}=H,U={...V,id:k,choices:P.map(({message:J,finish_reason:N,index:q,logprobs:B,...de})=>{if(!N)throw new O.OpenAIError(`missing finish_reason for choice ${q}`);const{content:ye=null,function_call:M,tool_calls:Z,...ce}=J,le=J.role;if(!le)throw new O.OpenAIError(`missing role for choice ${q}`);if(M){const{arguments:ne,name:me}=M;if(ne==null)throw new O.OpenAIError(`missing function_call.arguments for choice ${q}`);if(!me)throw new O.OpenAIError(`missing function_call.name for choice ${q}`);return{...de,message:{content:ye,function_call:{arguments:ne,name:me},role:le,refusal:J.refusal??null},finish_reason:N,index:q,logprobs:B}}return Z?{...de,index:q,finish_reason:N,logprobs:B,message:{...ce,role:le,content:ye,refusal:J.refusal??null,tool_calls:Z.map((ne,me)=>{const{function:pe,type:te,id:re,...we}=ne,{arguments:ee,name:he,...ve}=pe||{};if(re==null)throw new O.OpenAIError(`missing choices[${q}].tool_calls[${me}].id
${T(H)}`);if(te==null)throw new O.OpenAIError(`missing choices[${q}].tool_calls[${me}].type
${T(H)}`);if(he==null)throw new O.OpenAIError(`missing choices[${q}].tool_calls[${me}].function.name
${T(H)}`);if(ee==null)throw new O.OpenAIError(`missing choices[${q}].tool_calls[${me}].function.arguments
${T(H)}`);return{...we,id:re,type:te,function:{...ve,name:he,arguments:ee}}})}}:{...de,message:{...ce,content:ye,role:le,refusal:J.refusal??null},finish_reason:N,index:q,logprobs:B}}),created:G,model:D,object:"chat.completion",...F?{system_fingerprint:F}:{}};return(0,A.maybeParseChatCompletion)(U,w)}function T(H){return JSON.stringify(H)}function I(H){}return fo}var x_;function E_(){if(x_)return uo;x_=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.ChatCompletionStreamingRunner=void 0;const i=Kh();let s=class Yh extends i.ChatCompletionStream{static fromReadableStream(c){const g=new Yh(null);return g._run(()=>g._fromReadableStream(c)),g}static runTools(c,g,m){const h=new Yh(g),d={...m,headers:{...m?.headers,"X-Stainless-Helper-Method":"runTools"}};return h._run(()=>h._runTools(c,g,d)),h}};return uo.ChatCompletionStreamingRunner=s,uo}var T_;function Hu(){return T_||(T_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.ChatCompletionRunner=i.ChatCompletionStream=i.ParsingToolFunction=i.ChatCompletionStreamingRunner=i.Completions=void 0;const s=ze(),r=Ce(),c=s.__importStar(Gh()),g=Gh(),m=ht(),h=et(),d=S_(),l=E_(),o=Kh(),u=zu();class f extends r.APIResource{constructor(){super(...arguments),this.messages=new c.Messages(this._client)}create(b,S){return this._client.post("/chat/completions",{body:b,...S,stream:b.stream??!1})}retrieve(b,S){return this._client.get((0,h.path)`/chat/completions/${b}`,S)}update(b,S,x){return this._client.post((0,h.path)`/chat/completions/${b}`,{body:S,...x})}list(b={},S){return this._client.getAPIList("/chat/completions",m.CursorPage,{query:b,...S})}delete(b,S){return this._client.delete((0,h.path)`/chat/completions/${b}`,S)}parse(b,S){return(0,u.validateInputTools)(b.tools),this._client.chat.completions.create(b,{...S,headers:{...S?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(x=>(0,u.parseChatCompletion)(x,b))}runTools(b,S){return b.stream?l.ChatCompletionStreamingRunner.runTools(this._client,b,S):d.ChatCompletionRunner.runTools(this._client,b,S)}stream(b,S){return o.ChatCompletionStream.createChatCompletion(this._client,b,S)}}i.Completions=f;var v=E_();Object.defineProperty(i,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return v.ChatCompletionStreamingRunner}});var _=g1();Object.defineProperty(i,"ParsingToolFunction",{enumerable:!0,get:function(){return _.ParsingToolFunction}});var O=Kh();Object.defineProperty(i,"ChatCompletionStream",{enumerable:!0,get:function(){return O.ChatCompletionStream}});var A=S_();Object.defineProperty(i,"ChatCompletionRunner",{enumerable:!0,get:function(){return A.ChatCompletionRunner}}),f.Messages=g.Messages})(bh)),bh}var I_;function b1(){if(I_)return io;I_=1,Object.defineProperty(io,"__esModule",{value:!0}),io.Chat=void 0;const i=ze(),s=Ce(),r=i.__importStar(Hu()),c=Hu();class g extends s.APIResource{constructor(){super(...arguments),this.completions=new r.Completions(this._client)}}return io.Chat=g,g.Completions=c.Completions,io}var Sh={},H_;function ex(){return H_||(H_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Messages=i.Completions=void 0;const s=ze();var r=Hu();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return r.Completions}}),s.__exportStar(Hu(),i);var c=Gh();Object.defineProperty(i,"Messages",{enumerable:!0,get:function(){return c.Messages}})})(Sh)),Sh}var M_;function tx(){return M_||(M_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Completions=i.Chat=void 0;var s=b1();Object.defineProperty(i,"Chat",{enumerable:!0,get:function(){return s.Chat}});var r=ex();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return r.Completions}})})(_h)),_h}var Ch={},N_;function nx(){return N_||(N_=1,Object.defineProperty(Ch,"__esModule",{value:!0})),Ch}var ho={},po={},Bi={},P_;function vt(){if(P_)return Bi;P_=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.isEmptyHeaders=Bi.buildHeaders=void 0;const i=Oi(),s=Symbol("brand.privateNullableHeaders");function*r(m){if(!m)return;if(s in m){const{values:l,nulls:o}=m;yield*l.entries();for(const u of o)yield[u,null];return}let h=!1,d;m instanceof Headers?d=m.entries():(0,i.isReadonlyArray)(m)?d=m:(h=!0,d=Object.entries(m??{}));for(let l of d){const o=l[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=(0,i.isReadonlyArray)(l[1])?l[1]:[l[1]];let f=!1;for(const v of u)v!==void 0&&(h&&!f&&(f=!0,yield[o,null]),yield[o,v])}}const c=m=>{const h=new Headers,d=new Set;for(const l of m){const o=new Set;for(const[u,f]of r(l)){const v=u.toLowerCase();o.has(v)||(h.delete(u),o.add(v)),f===null?(h.delete(u),d.add(v)):(h.append(u,f),d.delete(v))}}return{[s]:!0,values:h,nulls:d}};Bi.buildHeaders=c;const g=m=>{for(const h of r(m))return!1;return!0};return Bi.isEmptyHeaders=g,Bi}var k_;function q_(){if(k_)return po;k_=1,Object.defineProperty(po,"__esModule",{value:!0}),po.Speech=void 0;const i=Ce(),s=vt();class r extends i.APIResource{create(g,m){return this._client.post("/audio/speech",{body:g,...m,headers:(0,s.buildHeaders)([{Accept:"application/octet-stream"},m?.headers]),__binaryResponse:!0})}}return po.Speech=r,po}var mo={},z_;function D_(){if(z_)return mo;z_=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.Transcriptions=void 0;const i=Ce(),s=os();class r extends i.APIResource{create(g,m){return this._client.post("/audio/transcriptions",(0,s.multipartFormRequestOptions)({body:g,...m,stream:g.stream??!1,__metadata:{model:g.model}},this._client))}}return mo.Transcriptions=r,mo}var go={},U_;function $_(){if(U_)return go;U_=1,Object.defineProperty(go,"__esModule",{value:!0}),go.Translations=void 0;const i=Ce(),s=os();class r extends i.APIResource{create(g,m){return this._client.post("/audio/translations",(0,s.multipartFormRequestOptions)({body:g,...m,__metadata:{model:g.model}},this._client))}}return go.Translations=r,go}var B_;function O1(){if(B_)return ho;B_=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.Audio=void 0;const i=ze(),s=Ce(),r=i.__importStar(q_()),c=q_(),g=i.__importStar(D_()),m=D_(),h=i.__importStar($_()),d=$_();class l extends s.APIResource{constructor(){super(...arguments),this.transcriptions=new g.Transcriptions(this._client),this.translations=new h.Translations(this._client),this.speech=new r.Speech(this._client)}}return ho.Audio=l,l.Transcriptions=m.Transcriptions,l.Translations=d.Translations,l.Speech=c.Speech,ho}var vo={},L_;function j1(){if(L_)return vo;L_=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.Batches=void 0;const i=Ce(),s=ht(),r=et();class c extends i.APIResource{create(m,h){return this._client.post("/batches",{body:m,...h})}retrieve(m,h){return this._client.get((0,r.path)`/batches/${m}`,h)}list(m={},h){return this._client.getAPIList("/batches",s.CursorPage,{query:m,...h})}cancel(m,h){return this._client.post((0,r.path)`/batches/${m}/cancel`,h)}}return vo.Batches=c,vo}var yo={},_o={},F_;function G_(){if(F_)return _o;F_=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.Assistants=void 0;const i=Ce(),s=ht(),r=vt(),c=et();class g extends i.APIResource{create(h,d){return this._client.post("/assistants",{body:h,...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}retrieve(h,d){return this._client.get((0,c.path)`/assistants/${h}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}update(h,d,l){return this._client.post((0,c.path)`/assistants/${h}`,{body:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}list(h={},d){return this._client.getAPIList("/assistants",s.CursorPage,{query:h,...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}delete(h,d){return this._client.delete((0,c.path)`/assistants/${h}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}}return _o.Assistants=g,_o}var bo={},Oo={},V_;function K_(){if(V_)return Oo;V_=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.Sessions=void 0;const i=Ce(),s=vt();class r extends i.APIResource{create(g,m){return this._client.post("/realtime/sessions",{body:g,...m,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},m?.headers])})}}return Oo.Sessions=r,Oo}var jo={},Y_;function Z_(){if(Y_)return jo;Y_=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.TranscriptionSessions=void 0;const i=Ce(),s=vt();class r extends i.APIResource{create(g,m){return this._client.post("/realtime/transcription_sessions",{body:g,...m,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},m?.headers])})}}return jo.TranscriptionSessions=r,jo}var X_;function Q_(){if(X_)return bo;X_=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.Realtime=void 0;const i=ze(),s=Ce(),r=i.__importStar(K_()),c=K_(),g=i.__importStar(Z_()),m=Z_();class h extends s.APIResource{constructor(){super(...arguments),this.sessions=new r.Sessions(this._client),this.transcriptionSessions=new g.TranscriptionSessions(this._client)}}return bo.Realtime=h,h.Sessions=c.Sessions,h.TranscriptionSessions=m.TranscriptionSessions,bo}var Ao={},So={},J_;function W_(){if(J_)return So;J_=1,Object.defineProperty(So,"__esModule",{value:!0}),So.Sessions=void 0;const i=Ce(),s=vt(),r=et();class c extends i.APIResource{create(m,h){return this._client.post("/chatkit/sessions",{body:m,...h,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},h?.headers])})}cancel(m,h){return this._client.post((0,r.path)`/chatkit/sessions/${m}/cancel`,{...h,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},h?.headers])})}}return So.Sessions=c,So}var Co={},eb;function tb(){if(eb)return Co;eb=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.Threads=void 0;const i=Ce(),s=ht(),r=vt(),c=et();class g extends i.APIResource{retrieve(h,d){return this._client.get((0,c.path)`/chatkit/threads/${h}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},d?.headers])})}list(h={},d){return this._client.getAPIList("/chatkit/threads",s.ConversationCursorPage,{query:h,...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},d?.headers])})}delete(h,d){return this._client.delete((0,c.path)`/chatkit/threads/${h}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},d?.headers])})}listItems(h,d={},l){return this._client.getAPIList((0,c.path)`/chatkit/threads/${h}/items`,s.ConversationCursorPage,{query:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},l?.headers])})}}return Co.Threads=g,Co}var nb;function sb(){if(nb)return Ao;nb=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.ChatKit=void 0;const i=ze(),s=Ce(),r=i.__importStar(W_()),c=W_(),g=i.__importStar(tb()),m=tb(),h=vt(),d=os();class l extends s.APIResource{constructor(){super(...arguments),this.sessions=new r.Sessions(this._client),this.threads=new g.Threads(this._client)}uploadFile(u,f){return this._client.post("/chatkit/files",(0,d.maybeMultipartFormRequestOptions)({body:u,...f,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},f?.headers])},this._client))}}return Ao.ChatKit=l,l.Sessions=c.Sessions,l.Threads=m.Threads,Ao}var Ro={},wo={},ib;function rb(){if(ib)return wo;ib=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.Messages=void 0;const i=Ce(),s=ht(),r=vt(),c=et();class g extends i.APIResource{create(h,d,l){return this._client.post((0,c.path)`/threads/${h}/messages`,{body:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}retrieve(h,d,l){const{thread_id:o}=d;return this._client.get((0,c.path)`/threads/${o}/messages/${h}`,{...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}update(h,d,l){const{thread_id:o,...u}=d;return this._client.post((0,c.path)`/threads/${o}/messages/${h}`,{body:u,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}list(h,d={},l){return this._client.getAPIList((0,c.path)`/threads/${h}/messages`,s.CursorPage,{query:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}delete(h,d,l){const{thread_id:o}=d;return this._client.delete((0,c.path)`/threads/${o}/messages/${h}`,{...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}}return wo.Messages=g,wo}var xo={},Eo={},ab;function ob(){if(ab)return Eo;ab=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.Steps=void 0;const i=Ce(),s=ht(),r=vt(),c=et();class g extends i.APIResource{retrieve(h,d,l){const{thread_id:o,run_id:u,...f}=d;return this._client.get((0,c.path)`/threads/${o}/runs/${u}/steps/${h}`,{query:f,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}list(h,d,l){const{thread_id:o,...u}=d;return this._client.getAPIList((0,c.path)`/threads/${o}/runs/${h}/steps`,s.CursorPage,{query:u,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}}return Eo.Steps=g,Eo}var To={},Rh={},Is={},cb;function sx(){if(cb)return Is;cb=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.toFloat32Array=Is.fromBase64=Is.toBase64=void 0;const i=Fs(),s=up(),r=m=>{if(!m)return"";if(typeof globalThis.Buffer<"u")return globalThis.Buffer.from(m).toString("base64");if(typeof m=="string"&&(m=(0,s.encodeUTF8)(m)),typeof btoa<"u")return btoa(String.fromCharCode.apply(null,m));throw new i.OpenAIError("Cannot generate base64 string; Expected `Buffer` or `btoa` to be defined")};Is.toBase64=r;const c=m=>{if(typeof globalThis.Buffer<"u"){const h=globalThis.Buffer.from(m,"base64");return new Uint8Array(h.buffer,h.byteOffset,h.byteLength)}if(typeof atob<"u"){const h=atob(m),d=new Uint8Array(h.length);for(let l=0;l<h.length;l++)d[l]=h.charCodeAt(l);return d}throw new i.OpenAIError("Cannot decode base64 string; Expected `Buffer` or `atob` to be defined")};Is.fromBase64=c;const g=m=>{if(typeof Buffer<"u"){const h=Buffer.from(m,"base64");return Array.from(new Float32Array(h.buffer,h.byteOffset,h.length/Float32Array.BYTES_PER_ELEMENT))}else{const h=atob(m),d=h.length,l=new Uint8Array(d);for(let o=0;o<d;o++)l[o]=h.charCodeAt(o);return Array.from(new Float32Array(l.buffer))}};return Is.toFloat32Array=g,Is}var Io={},lb;function A1(){if(lb)return Io;lb=1;var i={};Object.defineProperty(Io,"__esModule",{value:!0}),Io.readEnv=void 0;const s=r=>{if(typeof globalThis.process<"u")return i?.[r]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(r)?.trim()};return Io.readEnv=s,Io}var ub;function Du(){return ub||(ub=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0});const s=ze();s.__exportStar(Oi(),i),s.__exportStar(sx(),i),s.__exportStar(A1(),i),s.__exportStar(qu(),i),s.__exportStar(u1(),i),s.__exportStar(Qc(),i)})(Rh)),Rh}var db;function S1(){if(db)return To;db=1;var i,s,r,c,g,m,h,d,l,o,u,f,v,_,O,A,C,b,S,x,T,I,H;Object.defineProperty(To,"__esModule",{value:!0}),To.AssistantStream=void 0;const w=ze(),k=_1(),P=Dn(),G=fp(),D=Du();let F=class extends G.EventStream{constructor(){super(...arguments),i.add(this),r.set(this,[]),c.set(this,{}),g.set(this,{}),m.set(this,void 0),h.set(this,void 0),d.set(this,void 0),l.set(this,void 0),o.set(this,void 0),u.set(this,void 0),f.set(this,void 0),v.set(this,void 0),_.set(this,void 0)}[(r=new WeakMap,c=new WeakMap,g=new WeakMap,m=new WeakMap,h=new WeakMap,d=new WeakMap,l=new WeakMap,o=new WeakMap,u=new WeakMap,f=new WeakMap,v=new WeakMap,_=new WeakMap,i=new WeakSet,Symbol.asyncIterator)](){const U=[],J=[];let N=!1;return this.on("event",q=>{const B=J.shift();B?B.resolve(q):U.push(q)}),this.on("end",()=>{N=!0;for(const q of J)q.resolve(void 0);J.length=0}),this.on("abort",q=>{N=!0;for(const B of J)B.reject(q);J.length=0}),this.on("error",q=>{N=!0;for(const B of J)B.reject(q);J.length=0}),{next:async()=>U.length?{value:U.shift(),done:!1}:N?{value:void 0,done:!0}:new Promise((B,de)=>J.push({resolve:B,reject:de})).then(B=>B?{value:B,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(U){const J=new s;return J._run(()=>J._fromReadableStream(U)),J}async _fromReadableStream(U,J){const N=J?.signal;N&&(N.aborted&&this.controller.abort(),N.addEventListener("abort",()=>this.controller.abort())),this._connected();const q=k.Stream.fromReadableStream(U,this.controller);for await(const B of q)w.__classPrivateFieldGet(this,i,"m",O).call(this,B);if(q.controller.signal?.aborted)throw new P.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,i,"m",A).call(this))}toReadableStream(){return new k.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(U,J,N,q){const B=new s;return B._run(()=>B._runToolAssistantStream(U,J,N,{...q,headers:{...q?.headers,"X-Stainless-Helper-Method":"stream"}})),B}async _createToolAssistantStream(U,J,N,q){const B=q?.signal;B&&(B.aborted&&this.controller.abort(),B.addEventListener("abort",()=>this.controller.abort()));const de={...N,stream:!0},ye=await U.submitToolOutputs(J,de,{...q,signal:this.controller.signal});this._connected();for await(const M of ye)w.__classPrivateFieldGet(this,i,"m",O).call(this,M);if(ye.controller.signal?.aborted)throw new P.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,i,"m",A).call(this))}static createThreadAssistantStream(U,J,N){const q=new s;return q._run(()=>q._threadAssistantStream(U,J,{...N,headers:{...N?.headers,"X-Stainless-Helper-Method":"stream"}})),q}static createAssistantStream(U,J,N,q){const B=new s;return B._run(()=>B._runAssistantStream(U,J,N,{...q,headers:{...q?.headers,"X-Stainless-Helper-Method":"stream"}})),B}currentEvent(){return w.__classPrivateFieldGet(this,f,"f")}currentRun(){return w.__classPrivateFieldGet(this,v,"f")}currentMessageSnapshot(){return w.__classPrivateFieldGet(this,m,"f")}currentRunStepSnapshot(){return w.__classPrivateFieldGet(this,_,"f")}async finalRunSteps(){return await this.done(),Object.values(w.__classPrivateFieldGet(this,c,"f"))}async finalMessages(){return await this.done(),Object.values(w.__classPrivateFieldGet(this,g,"f"))}async finalRun(){if(await this.done(),!w.__classPrivateFieldGet(this,h,"f"))throw Error("Final run was not received.");return w.__classPrivateFieldGet(this,h,"f")}async _createThreadAssistantStream(U,J,N){const q=N?.signal;q&&(q.aborted&&this.controller.abort(),q.addEventListener("abort",()=>this.controller.abort()));const B={...J,stream:!0},de=await U.createAndRun(B,{...N,signal:this.controller.signal});this._connected();for await(const ye of de)w.__classPrivateFieldGet(this,i,"m",O).call(this,ye);if(de.controller.signal?.aborted)throw new P.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,i,"m",A).call(this))}async _createAssistantStream(U,J,N,q){const B=q?.signal;B&&(B.aborted&&this.controller.abort(),B.addEventListener("abort",()=>this.controller.abort()));const de={...N,stream:!0},ye=await U.create(J,de,{...q,signal:this.controller.signal});this._connected();for await(const M of ye)w.__classPrivateFieldGet(this,i,"m",O).call(this,M);if(ye.controller.signal?.aborted)throw new P.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,i,"m",A).call(this))}static accumulateDelta(U,J){for(const[N,q]of Object.entries(J)){if(!U.hasOwnProperty(N)){U[N]=q;continue}let B=U[N];if(B==null){U[N]=q;continue}if(N==="index"||N==="type"){U[N]=q;continue}if(typeof B=="string"&&typeof q=="string")B+=q;else if(typeof B=="number"&&typeof q=="number")B+=q;else if((0,D.isObj)(B)&&(0,D.isObj)(q))B=this.accumulateDelta(B,q);else if(Array.isArray(B)&&Array.isArray(q)){if(B.every(de=>typeof de=="string"||typeof de=="number")){B.push(...q);continue}for(const de of q){if(!(0,D.isObj)(de))throw new Error(`Expected array delta entry to be an object but got: ${de}`);const ye=de.index;if(ye==null)throw console.error(de),new Error("Expected array delta entry to have an `index` property");if(typeof ye!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${ye}`);const M=B[ye];M==null?B.push(de):B[ye]=this.accumulateDelta(M,de)}continue}else throw Error(`Unhandled record type: ${N}, deltaValue: ${q}, accValue: ${B}`);U[N]=B}return U}_addRun(U){return U}async _threadAssistantStream(U,J,N){return await this._createThreadAssistantStream(J,U,N)}async _runAssistantStream(U,J,N,q){return await this._createAssistantStream(J,U,N,q)}async _runToolAssistantStream(U,J,N,q){return await this._createToolAssistantStream(J,U,N,q)}};return To.AssistantStream=F,s=F,O=function(U){if(!this.ended)switch(w.__classPrivateFieldSet(this,f,U,"f"),w.__classPrivateFieldGet(this,i,"m",S).call(this,U),U.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":w.__classPrivateFieldGet(this,i,"m",H).call(this,U);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w.__classPrivateFieldGet(this,i,"m",b).call(this,U);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":w.__classPrivateFieldGet(this,i,"m",C).call(this,U);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},A=function(){if(this.ended)throw new P.OpenAIError("stream has ended, this shouldn't happen");if(!w.__classPrivateFieldGet(this,h,"f"))throw Error("Final run has not been received");return w.__classPrivateFieldGet(this,h,"f")},C=function(U){const[J,N]=w.__classPrivateFieldGet(this,i,"m",T).call(this,U,w.__classPrivateFieldGet(this,m,"f"));w.__classPrivateFieldSet(this,m,J,"f"),w.__classPrivateFieldGet(this,g,"f")[J.id]=J;for(const q of N){const B=J.content[q.index];B?.type=="text"&&this._emit("textCreated",B.text)}switch(U.event){case"thread.message.created":this._emit("messageCreated",U.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",U.data.delta,J),U.data.delta.content)for(const q of U.data.delta.content){if(q.type=="text"&&q.text){let B=q.text,de=J.content[q.index];if(de&&de.type=="text")this._emit("textDelta",B,de.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(q.index!=w.__classPrivateFieldGet(this,d,"f")){if(w.__classPrivateFieldGet(this,l,"f"))switch(w.__classPrivateFieldGet(this,l,"f").type){case"text":this._emit("textDone",w.__classPrivateFieldGet(this,l,"f").text,w.__classPrivateFieldGet(this,m,"f"));break;case"image_file":this._emit("imageFileDone",w.__classPrivateFieldGet(this,l,"f").image_file,w.__classPrivateFieldGet(this,m,"f"));break}w.__classPrivateFieldSet(this,d,q.index,"f")}w.__classPrivateFieldSet(this,l,J.content[q.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(w.__classPrivateFieldGet(this,d,"f")!==void 0){const q=U.data.content[w.__classPrivateFieldGet(this,d,"f")];if(q)switch(q.type){case"image_file":this._emit("imageFileDone",q.image_file,w.__classPrivateFieldGet(this,m,"f"));break;case"text":this._emit("textDone",q.text,w.__classPrivateFieldGet(this,m,"f"));break}}w.__classPrivateFieldGet(this,m,"f")&&this._emit("messageDone",U.data),w.__classPrivateFieldSet(this,m,void 0,"f")}},b=function(U){const J=w.__classPrivateFieldGet(this,i,"m",x).call(this,U);switch(w.__classPrivateFieldSet(this,_,J,"f"),U.event){case"thread.run.step.created":this._emit("runStepCreated",U.data);break;case"thread.run.step.delta":const N=U.data.delta;if(N.step_details&&N.step_details.type=="tool_calls"&&N.step_details.tool_calls&&J.step_details.type=="tool_calls")for(const B of N.step_details.tool_calls)B.index==w.__classPrivateFieldGet(this,o,"f")?this._emit("toolCallDelta",B,J.step_details.tool_calls[B.index]):(w.__classPrivateFieldGet(this,u,"f")&&this._emit("toolCallDone",w.__classPrivateFieldGet(this,u,"f")),w.__classPrivateFieldSet(this,o,B.index,"f"),w.__classPrivateFieldSet(this,u,J.step_details.tool_calls[B.index],"f"),w.__classPrivateFieldGet(this,u,"f")&&this._emit("toolCallCreated",w.__classPrivateFieldGet(this,u,"f")));this._emit("runStepDelta",U.data.delta,J);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w.__classPrivateFieldSet(this,_,void 0,"f"),U.data.step_details.type=="tool_calls"&&w.__classPrivateFieldGet(this,u,"f")&&(this._emit("toolCallDone",w.__classPrivateFieldGet(this,u,"f")),w.__classPrivateFieldSet(this,u,void 0,"f")),this._emit("runStepDone",U.data,J);break}},S=function(U){w.__classPrivateFieldGet(this,r,"f").push(U),this._emit("event",U)},x=function(U){switch(U.event){case"thread.run.step.created":return w.__classPrivateFieldGet(this,c,"f")[U.data.id]=U.data,U.data;case"thread.run.step.delta":let J=w.__classPrivateFieldGet(this,c,"f")[U.data.id];if(!J)throw Error("Received a RunStepDelta before creation of a snapshot");let N=U.data;if(N.delta){const q=s.accumulateDelta(J,N.delta);w.__classPrivateFieldGet(this,c,"f")[U.data.id]=q}return w.__classPrivateFieldGet(this,c,"f")[U.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":w.__classPrivateFieldGet(this,c,"f")[U.data.id]=U.data;break}if(w.__classPrivateFieldGet(this,c,"f")[U.data.id])return w.__classPrivateFieldGet(this,c,"f")[U.data.id];throw new Error("No snapshot available")},T=function(U,J){let N=[];switch(U.event){case"thread.message.created":return[U.data,N];case"thread.message.delta":if(!J)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let q=U.data;if(q.delta.content)for(const B of q.delta.content)if(B.index in J.content){let de=J.content[B.index];J.content[B.index]=w.__classPrivateFieldGet(this,i,"m",I).call(this,B,de)}else J.content[B.index]=B,N.push(B);return[J,N];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(J)return[J,N];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},I=function(U,J){return s.accumulateDelta(J,U)},H=function(U){switch(w.__classPrivateFieldSet(this,v,U.data,"f"),U.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":w.__classPrivateFieldSet(this,h,U.data,"f"),w.__classPrivateFieldGet(this,u,"f")&&(this._emit("toolCallDone",w.__classPrivateFieldGet(this,u,"f")),w.__classPrivateFieldSet(this,u,void 0,"f"));break}},To}var fb;function hb(){if(fb)return xo;fb=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.Runs=void 0;const i=ze(),s=Ce(),r=i.__importStar(ob()),c=ob(),g=ht(),m=vt(),h=S1(),d=Qc(),l=et();class o extends s.APIResource{constructor(){super(...arguments),this.steps=new r.Steps(this._client)}create(f,v,_){const{include:O,...A}=v;return this._client.post((0,l.path)`/threads/${f}/runs`,{query:{include:O},body:A,..._,headers:(0,m.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers]),stream:v.stream??!1})}retrieve(f,v,_){const{thread_id:O}=v;return this._client.get((0,l.path)`/threads/${O}/runs/${f}`,{..._,headers:(0,m.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}update(f,v,_){const{thread_id:O,...A}=v;return this._client.post((0,l.path)`/threads/${O}/runs/${f}`,{body:A,..._,headers:(0,m.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}list(f,v={},_){return this._client.getAPIList((0,l.path)`/threads/${f}/runs`,g.CursorPage,{query:v,..._,headers:(0,m.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}cancel(f,v,_){const{thread_id:O}=v;return this._client.post((0,l.path)`/threads/${O}/runs/${f}/cancel`,{..._,headers:(0,m.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}async createAndPoll(f,v,_){const O=await this.create(f,v,_);return await this.poll(O.id,{thread_id:f},_)}createAndStream(f,v,_){return h.AssistantStream.createAssistantStream(f,this._client.beta.threads.runs,v,_)}async poll(f,v,_){const O=(0,m.buildHeaders)([_?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":_?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:A,response:C}=await this.retrieve(f,v,{..._,headers:{..._?.headers,...O}}).withResponse();switch(A.status){case"queued":case"in_progress":case"cancelling":let b=5e3;if(_?.pollIntervalMs)b=_.pollIntervalMs;else{const S=C.headers.get("openai-poll-after-ms");if(S){const x=parseInt(S);isNaN(x)||(b=x)}}await(0,d.sleep)(b);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return A}}}stream(f,v,_){return h.AssistantStream.createAssistantStream(f,this._client.beta.threads.runs,v,_)}submitToolOutputs(f,v,_){const{thread_id:O,...A}=v;return this._client.post((0,l.path)`/threads/${O}/runs/${f}/submit_tool_outputs`,{body:A,..._,headers:(0,m.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers]),stream:v.stream??!1})}async submitToolOutputsAndPoll(f,v,_){const O=await this.submitToolOutputs(f,v,_);return await this.poll(O.id,v,_)}submitToolOutputsStream(f,v,_){return h.AssistantStream.createToolAssistantStream(f,this._client.beta.threads.runs,v,_)}}return xo.Runs=o,o.Steps=c.Steps,xo}var pb;function mb(){if(pb)return Ro;pb=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.Threads=void 0;const i=ze(),s=Ce(),r=i.__importStar(rb()),c=rb(),g=i.__importStar(hb()),m=hb(),h=vt(),d=S1(),l=et();class o extends s.APIResource{constructor(){super(...arguments),this.runs=new g.Runs(this._client),this.messages=new r.Messages(this._client)}create(f={},v){return this._client.post("/threads",{body:f,...v,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}retrieve(f,v){return this._client.get((0,l.path)`/threads/${f}`,{...v,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}update(f,v,_){return this._client.post((0,l.path)`/threads/${f}`,{body:v,..._,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}delete(f,v){return this._client.delete((0,l.path)`/threads/${f}`,{...v,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}createAndRun(f,v){return this._client.post("/threads/runs",{body:f,...v,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers]),stream:f.stream??!1})}async createAndRunPoll(f,v){const _=await this.createAndRun(f,v);return await this.runs.poll(_.id,{thread_id:_.thread_id},v)}createAndRunStream(f,v){return d.AssistantStream.createThreadAssistantStream(f,this._client.beta.threads,v)}}return Ro.Threads=o,o.Runs=m.Runs,o.Messages=c.Messages,Ro}var gb;function C1(){if(gb)return yo;gb=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.Beta=void 0;const i=ze(),s=Ce(),r=i.__importStar(G_()),c=G_(),g=i.__importStar(Q_()),m=Q_(),h=i.__importStar(sb()),d=sb(),l=i.__importStar(mb()),o=mb();class u extends s.APIResource{constructor(){super(...arguments),this.realtime=new g.Realtime(this._client),this.chatkit=new h.ChatKit(this._client),this.assistants=new r.Assistants(this._client),this.threads=new l.Threads(this._client)}}return yo.Beta=u,u.Realtime=m.Realtime,u.ChatKit=d.ChatKit,u.Assistants=c.Assistants,u.Threads=o.Threads,yo}var Ho={},vb;function R1(){if(vb)return Ho;vb=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.Completions=void 0;const i=Ce();class s extends i.APIResource{create(c,g){return this._client.post("/completions",{body:c,...g,stream:c.stream??!1})}}return Ho.Completions=s,Ho}var Mo={},No={},Po={},yb;function _b(){if(yb)return Po;yb=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.Content=void 0;const i=Ce(),s=vt(),r=et();class c extends i.APIResource{retrieve(m,h,d){const{container_id:l}=h;return this._client.get((0,r.path)`/containers/${l}/files/${m}/content`,{...d,headers:(0,s.buildHeaders)([{Accept:"application/binary"},d?.headers]),__binaryResponse:!0})}}return Po.Content=c,Po}var bb;function Ob(){if(bb)return No;bb=1,Object.defineProperty(No,"__esModule",{value:!0}),No.Files=void 0;const i=ze(),s=Ce(),r=i.__importStar(_b()),c=_b(),g=ht(),m=vt(),h=os(),d=et();class l extends s.APIResource{constructor(){super(...arguments),this.content=new r.Content(this._client)}create(u,f,v){return this._client.post((0,d.path)`/containers/${u}/files`,(0,h.multipartFormRequestOptions)({body:f,...v},this._client))}retrieve(u,f,v){const{container_id:_}=f;return this._client.get((0,d.path)`/containers/${_}/files/${u}`,v)}list(u,f={},v){return this._client.getAPIList((0,d.path)`/containers/${u}/files`,g.CursorPage,{query:f,...v})}delete(u,f,v){const{container_id:_}=f;return this._client.delete((0,d.path)`/containers/${_}/files/${u}`,{...v,headers:(0,m.buildHeaders)([{Accept:"*/*"},v?.headers])})}}return No.Files=l,l.Content=c.Content,No}var jb;function w1(){if(jb)return Mo;jb=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.Containers=void 0;const i=ze(),s=Ce(),r=i.__importStar(Ob()),c=Ob(),g=ht(),m=vt(),h=et();class d extends s.APIResource{constructor(){super(...arguments),this.files=new r.Files(this._client)}create(o,u){return this._client.post("/containers",{body:o,...u})}retrieve(o,u){return this._client.get((0,h.path)`/containers/${o}`,u)}list(o={},u){return this._client.getAPIList("/containers",g.CursorPage,{query:o,...u})}delete(o,u){return this._client.delete((0,h.path)`/containers/${o}`,{...u,headers:(0,m.buildHeaders)([{Accept:"*/*"},u?.headers])})}}return Mo.Containers=d,d.Files=c.Files,Mo}var ko={},qo={},Ab;function Sb(){if(Ab)return qo;Ab=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.Items=void 0;const i=Ce(),s=ht(),r=et();class c extends i.APIResource{create(m,h,d){const{include:l,...o}=h;return this._client.post((0,r.path)`/conversations/${m}/items`,{query:{include:l},body:o,...d})}retrieve(m,h,d){const{conversation_id:l,...o}=h;return this._client.get((0,r.path)`/conversations/${l}/items/${m}`,{query:o,...d})}list(m,h={},d){return this._client.getAPIList((0,r.path)`/conversations/${m}/items`,s.ConversationCursorPage,{query:h,...d})}delete(m,h,d){const{conversation_id:l}=h;return this._client.delete((0,r.path)`/conversations/${l}/items/${m}`,d)}}return qo.Items=c,qo}var Cb;function x1(){if(Cb)return ko;Cb=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.Conversations=void 0;const i=ze(),s=Ce(),r=i.__importStar(Sb()),c=Sb(),g=et();class m extends s.APIResource{constructor(){super(...arguments),this.items=new r.Items(this._client)}create(d={},l){return this._client.post("/conversations",{body:d,...l})}retrieve(d,l){return this._client.get((0,g.path)`/conversations/${d}`,l)}update(d,l,o){return this._client.post((0,g.path)`/conversations/${d}`,{body:l,...o})}delete(d,l){return this._client.delete((0,g.path)`/conversations/${d}`,l)}}return ko.Conversations=m,m.Items=c.Items,ko}var zo={},Rb;function E1(){if(Rb)return zo;Rb=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.Embeddings=void 0;const i=Ce(),s=Du();class r extends i.APIResource{create(g,m){const h=!!g.encoding_format;let d=h?g.encoding_format:"base64";h&&(0,s.loggerFor)(this._client).debug("embeddings/user defined encoding_format:",g.encoding_format);const l=this._client.post("/embeddings",{body:{...g,encoding_format:d},...m});return h?l:((0,s.loggerFor)(this._client).debug("embeddings/decoding base64 embeddings from base64"),l._thenUnwrap(o=>(o&&o.data&&o.data.forEach(u=>{const f=u.embedding;u.embedding=(0,s.toFloat32Array)(f)}),o)))}}return zo.Embeddings=r,zo}var Do={},Uo={},$o={},wb;function xb(){if(wb)return $o;wb=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.OutputItems=void 0;const i=Ce(),s=ht(),r=et();class c extends i.APIResource{retrieve(m,h,d){const{eval_id:l,run_id:o}=h;return this._client.get((0,r.path)`/evals/${l}/runs/${o}/output_items/${m}`,d)}list(m,h,d){const{eval_id:l,...o}=h;return this._client.getAPIList((0,r.path)`/evals/${l}/runs/${m}/output_items`,s.CursorPage,{query:o,...d})}}return $o.OutputItems=c,$o}var Eb;function Tb(){if(Eb)return Uo;Eb=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.Runs=void 0;const i=ze(),s=Ce(),r=i.__importStar(xb()),c=xb(),g=ht(),m=et();class h extends s.APIResource{constructor(){super(...arguments),this.outputItems=new r.OutputItems(this._client)}create(l,o,u){return this._client.post((0,m.path)`/evals/${l}/runs`,{body:o,...u})}retrieve(l,o,u){const{eval_id:f}=o;return this._client.get((0,m.path)`/evals/${f}/runs/${l}`,u)}list(l,o={},u){return this._client.getAPIList((0,m.path)`/evals/${l}/runs`,g.CursorPage,{query:o,...u})}delete(l,o,u){const{eval_id:f}=o;return this._client.delete((0,m.path)`/evals/${f}/runs/${l}`,u)}cancel(l,o,u){const{eval_id:f}=o;return this._client.post((0,m.path)`/evals/${f}/runs/${l}`,u)}}return Uo.Runs=h,h.OutputItems=c.OutputItems,Uo}var Ib;function T1(){if(Ib)return Do;Ib=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.Evals=void 0;const i=ze(),s=Ce(),r=i.__importStar(Tb()),c=Tb(),g=ht(),m=et();class h extends s.APIResource{constructor(){super(...arguments),this.runs=new r.Runs(this._client)}create(l,o){return this._client.post("/evals",{body:l,...o})}retrieve(l,o){return this._client.get((0,m.path)`/evals/${l}`,o)}update(l,o,u){return this._client.post((0,m.path)`/evals/${l}`,{body:o,...u})}list(l={},o){return this._client.getAPIList("/evals",g.CursorPage,{query:l,...o})}delete(l,o){return this._client.delete((0,m.path)`/evals/${l}`,o)}}return Do.Evals=h,h.Runs=c.Runs,Do}var Bo={},Hb;function I1(){if(Hb)return Bo;Hb=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.Files=void 0;const i=Ce(),s=ht(),r=vt(),c=Qc(),g=Dn(),m=os(),h=et();class d extends i.APIResource{create(o,u){return this._client.post("/files",(0,m.multipartFormRequestOptions)({body:o,...u},this._client))}retrieve(o,u){return this._client.get((0,h.path)`/files/${o}`,u)}list(o={},u){return this._client.getAPIList("/files",s.CursorPage,{query:o,...u})}delete(o,u){return this._client.delete((0,h.path)`/files/${o}`,u)}content(o,u){return this._client.get((0,h.path)`/files/${o}/content`,{...u,headers:(0,r.buildHeaders)([{Accept:"application/binary"},u?.headers]),__binaryResponse:!0})}async waitForProcessing(o,{pollInterval:u=5e3,maxWait:f=1800*1e3}={}){const v=new Set(["processed","error","deleted"]),_=Date.now();let O=await this.retrieve(o);for(;!O.status||!v.has(O.status);)if(await(0,c.sleep)(u),O=await this.retrieve(o),Date.now()-_>f)throw new g.APIConnectionTimeoutError({message:`Giving up on waiting for file ${o} to finish processing after ${f} milliseconds.`});return O}}return Bo.Files=d,Bo}var Lo={},Fo={},Mb;function Nb(){if(Mb)return Fo;Mb=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.Methods=void 0;const i=Ce();class s extends i.APIResource{}return Fo.Methods=s,Fo}var Go={},Vo={},Pb;function kb(){if(Pb)return Vo;Pb=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.Graders=void 0;const i=Ce();class s extends i.APIResource{run(c,g){return this._client.post("/fine_tuning/alpha/graders/run",{body:c,...g})}validate(c,g){return this._client.post("/fine_tuning/alpha/graders/validate",{body:c,...g})}}return Vo.Graders=s,Vo}var qb;function zb(){if(qb)return Go;qb=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.Alpha=void 0;const i=ze(),s=Ce(),r=i.__importStar(kb()),c=kb();class g extends s.APIResource{constructor(){super(...arguments),this.graders=new r.Graders(this._client)}}return Go.Alpha=g,g.Graders=c.Graders,Go}var Ko={},Yo={},Db;function Ub(){if(Db)return Yo;Db=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.Permissions=void 0;const i=Ce(),s=ht(),r=et();class c extends i.APIResource{create(m,h,d){return this._client.getAPIList((0,r.path)`/fine_tuning/checkpoints/${m}/permissions`,s.Page,{body:h,method:"post",...d})}retrieve(m,h={},d){return this._client.get((0,r.path)`/fine_tuning/checkpoints/${m}/permissions`,{query:h,...d})}delete(m,h,d){const{fine_tuned_model_checkpoint:l}=h;return this._client.delete((0,r.path)`/fine_tuning/checkpoints/${l}/permissions/${m}`,d)}}return Yo.Permissions=c,Yo}var $b;function Bb(){if($b)return Ko;$b=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.Checkpoints=void 0;const i=ze(),s=Ce(),r=i.__importStar(Ub()),c=Ub();class g extends s.APIResource{constructor(){super(...arguments),this.permissions=new r.Permissions(this._client)}}return Ko.Checkpoints=g,g.Permissions=c.Permissions,Ko}var Zo={},Xo={},Lb;function Fb(){if(Lb)return Xo;Lb=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.Checkpoints=void 0;const i=Ce(),s=ht(),r=et();class c extends i.APIResource{list(m,h={},d){return this._client.getAPIList((0,r.path)`/fine_tuning/jobs/${m}/checkpoints`,s.CursorPage,{query:h,...d})}}return Xo.Checkpoints=c,Xo}var Gb;function Vb(){if(Gb)return Zo;Gb=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.Jobs=void 0;const i=ze(),s=Ce(),r=i.__importStar(Fb()),c=Fb(),g=ht(),m=et();class h extends s.APIResource{constructor(){super(...arguments),this.checkpoints=new r.Checkpoints(this._client)}create(l,o){return this._client.post("/fine_tuning/jobs",{body:l,...o})}retrieve(l,o){return this._client.get((0,m.path)`/fine_tuning/jobs/${l}`,o)}list(l={},o){return this._client.getAPIList("/fine_tuning/jobs",g.CursorPage,{query:l,...o})}cancel(l,o){return this._client.post((0,m.path)`/fine_tuning/jobs/${l}/cancel`,o)}listEvents(l,o={},u){return this._client.getAPIList((0,m.path)`/fine_tuning/jobs/${l}/events`,g.CursorPage,{query:o,...u})}pause(l,o){return this._client.post((0,m.path)`/fine_tuning/jobs/${l}/pause`,o)}resume(l,o){return this._client.post((0,m.path)`/fine_tuning/jobs/${l}/resume`,o)}}return Zo.Jobs=h,h.Checkpoints=c.Checkpoints,Zo}var Kb;function H1(){if(Kb)return Lo;Kb=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.FineTuning=void 0;const i=ze(),s=Ce(),r=i.__importStar(Nb()),c=Nb(),g=i.__importStar(zb()),m=zb(),h=i.__importStar(Bb()),d=Bb(),l=i.__importStar(Vb()),o=Vb();class u extends s.APIResource{constructor(){super(...arguments),this.methods=new r.Methods(this._client),this.jobs=new l.Jobs(this._client),this.checkpoints=new h.Checkpoints(this._client),this.alpha=new g.Alpha(this._client)}}return Lo.FineTuning=u,u.Methods=c.Methods,u.Jobs=o.Jobs,u.Checkpoints=d.Checkpoints,u.Alpha=m.Alpha,Lo}var Qo={},Jo={},Yb;function Zb(){if(Yb)return Jo;Yb=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.GraderModels=void 0;const i=Ce();class s extends i.APIResource{}return Jo.GraderModels=s,Jo}var Xb;function M1(){if(Xb)return Qo;Xb=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.Graders=void 0;const i=ze(),s=Ce(),r=i.__importStar(Zb()),c=Zb();class g extends s.APIResource{constructor(){super(...arguments),this.graderModels=new r.GraderModels(this._client)}}return Qo.Graders=g,g.GraderModels=c.GraderModels,Qo}var Wo={},Qb;function N1(){if(Qb)return Wo;Qb=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.Images=void 0;const i=Ce(),s=os();class r extends i.APIResource{createVariation(g,m){return this._client.post("/images/variations",(0,s.multipartFormRequestOptions)({body:g,...m},this._client))}edit(g,m){return this._client.post("/images/edits",(0,s.multipartFormRequestOptions)({body:g,...m,stream:g.stream??!1},this._client))}generate(g,m){return this._client.post("/images/generations",{body:g,...m,stream:g.stream??!1})}}return Wo.Images=r,Wo}var ec={},Jb;function P1(){if(Jb)return ec;Jb=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Models=void 0;const i=Ce(),s=ht(),r=et();class c extends i.APIResource{retrieve(m,h){return this._client.get((0,r.path)`/models/${m}`,h)}list(m){return this._client.getAPIList("/models",s.Page,m)}delete(m,h){return this._client.delete((0,r.path)`/models/${m}`,h)}}return ec.Models=c,ec}var tc={},Wb;function k1(){if(Wb)return tc;Wb=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.Moderations=void 0;const i=Ce();class s extends i.APIResource{create(c,g){return this._client.post("/moderations",{body:c,...g})}}return tc.Moderations=s,tc}var nc={},sc={},e0;function t0(){if(e0)return sc;e0=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Calls=void 0;const i=Ce(),s=vt(),r=et();class c extends i.APIResource{accept(m,h,d){return this._client.post((0,r.path)`/realtime/calls/${m}/accept`,{body:h,...d,headers:(0,s.buildHeaders)([{Accept:"*/*"},d?.headers])})}hangup(m,h){return this._client.post((0,r.path)`/realtime/calls/${m}/hangup`,{...h,headers:(0,s.buildHeaders)([{Accept:"*/*"},h?.headers])})}refer(m,h,d){return this._client.post((0,r.path)`/realtime/calls/${m}/refer`,{body:h,...d,headers:(0,s.buildHeaders)([{Accept:"*/*"},d?.headers])})}reject(m,h={},d){return this._client.post((0,r.path)`/realtime/calls/${m}/reject`,{body:h,...d,headers:(0,s.buildHeaders)([{Accept:"*/*"},d?.headers])})}}return sc.Calls=c,sc}var ic={},n0;function s0(){if(n0)return ic;n0=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.ClientSecrets=void 0;const i=Ce();class s extends i.APIResource{create(c,g){return this._client.post("/realtime/client_secrets",{body:c,...g})}}return ic.ClientSecrets=s,ic}var i0;function q1(){if(i0)return nc;i0=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Realtime=void 0;const i=ze(),s=Ce(),r=i.__importStar(t0()),c=t0(),g=i.__importStar(s0()),m=s0();class h extends s.APIResource{constructor(){super(...arguments),this.clientSecrets=new g.ClientSecrets(this._client),this.calls=new r.Calls(this._client)}}return nc.Realtime=h,h.ClientSecrets=m.ClientSecrets,h.Calls=c.Calls,nc}var rc={},Gn={},r0;function z1(){if(r0)return Gn;r0=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.maybeParseResponse=r,Gn.parseResponse=c,Gn.hasAutoParseableInput=m,Gn.makeParseableResponseTool=h,Gn.isAutoParsableTool=d,Gn.shouldParseToolCall=u,Gn.validateInputTools=f,Gn.addOutputText=v;const i=Dn(),s=zu();function r(_,O){return!O||!m(O)?{..._,output_parsed:null,output:_.output.map(A=>A.type==="function_call"?{...A,parsed_arguments:null}:A.type==="message"?{...A,content:A.content.map(C=>({...C,parsed:null}))}:A)}:c(_,O)}function c(_,O){const A=_.output.map(b=>{if(b.type==="function_call")return{...b,parsed_arguments:o(O,b)};if(b.type==="message"){const S=b.content.map(x=>x.type==="output_text"?{...x,parsed:g(O,x.text)}:x);return{...b,content:S}}return b}),C=Object.assign({},_,{output:A});return Object.getOwnPropertyDescriptor(_,"output_text")||v(C),Object.defineProperty(C,"output_parsed",{enumerable:!0,get(){for(const b of C.output)if(b.type==="message"){for(const S of b.content)if(S.type==="output_text"&&S.parsed!==null)return S.parsed}return null}}),C}function g(_,O){return _.text?.format?.type!=="json_schema"?null:"$parseRaw"in _.text?.format?(_.text?.format).$parseRaw(O):JSON.parse(O)}function m(_){return!!(0,s.isAutoParsableResponseFormat)(_.text?.format)}function h(_,{parser:O,callback:A}){const C={..._};return Object.defineProperties(C,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:O,enumerable:!1},$callback:{value:A,enumerable:!1}}),C}function d(_){return _?.$brand==="auto-parseable-tool"}function l(_,O){return _.find(A=>A.type==="function"&&A.name===O)}function o(_,O){const A=l(_.tools??[],O.name);return{...O,...O,parsed_arguments:d(A)?A.$parseRaw(O.arguments):A?.strict?JSON.parse(O.arguments):null}}function u(_,O){if(!_)return!1;const A=l(_.tools??[],O.name);return d(A)||A?.strict||!1}function f(_){for(const O of _??[]){if(O.type!=="function")throw new i.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${O.type}\``);if(O.function.strict!==!0)throw new i.OpenAIError(`The \`${O.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}function v(_){const O=[];for(const A of _.output)if(A.type==="message")for(const C of A.content)C.type==="output_text"&&O.push(C.text);_.output_text=O.join("")}return Gn}var ac={},a0;function ix(){if(a0)return ac;a0=1;var i,s,r,c,g,m,h,d;Object.defineProperty(ac,"__esModule",{value:!0}),ac.ResponseStream=void 0;const l=ze(),o=Dn(),u=fp(),f=z1();let v=class D1 extends u.EventStream{constructor(A){super(),i.add(this),s.set(this,void 0),r.set(this,void 0),c.set(this,void 0),l.__classPrivateFieldSet(this,s,A,"f")}static createResponse(A,C,b){const S=new D1(C);return S._run(()=>S._createOrRetrieveResponse(A,C,{...b,headers:{...b?.headers,"X-Stainless-Helper-Method":"stream"}})),S}async _createOrRetrieveResponse(A,C,b){const S=b?.signal;S&&(S.aborted&&this.controller.abort(),S.addEventListener("abort",()=>this.controller.abort())),l.__classPrivateFieldGet(this,i,"m",g).call(this);let x,T=null;"response_id"in C?(x=await A.responses.retrieve(C.response_id,{stream:!0},{...b,signal:this.controller.signal,stream:!0}),T=C.starting_after??null):x=await A.responses.create({...C,stream:!0},{...b,signal:this.controller.signal}),this._connected();for await(const I of x)l.__classPrivateFieldGet(this,i,"m",m).call(this,I,T);if(x.controller.signal?.aborted)throw new o.APIUserAbortError;return l.__classPrivateFieldGet(this,i,"m",h).call(this)}[(s=new WeakMap,r=new WeakMap,c=new WeakMap,i=new WeakSet,g=function(){this.ended||l.__classPrivateFieldSet(this,r,void 0,"f")},m=function(C,b){if(this.ended)return;const S=(T,I)=>{(b==null||I.sequence_number>b)&&this._emit(T,I)},x=l.__classPrivateFieldGet(this,i,"m",d).call(this,C);switch(S("event",C),C.type){case"response.output_text.delta":{const T=x.output[C.output_index];if(!T)throw new o.OpenAIError(`missing output at index ${C.output_index}`);if(T.type==="message"){const I=T.content[C.content_index];if(!I)throw new o.OpenAIError(`missing content at index ${C.content_index}`);if(I.type!=="output_text")throw new o.OpenAIError(`expected content to be 'output_text', got ${I.type}`);S("response.output_text.delta",{...C,snapshot:I.text})}break}case"response.function_call_arguments.delta":{const T=x.output[C.output_index];if(!T)throw new o.OpenAIError(`missing output at index ${C.output_index}`);T.type==="function_call"&&S("response.function_call_arguments.delta",{...C,snapshot:T.arguments});break}default:S(C.type,C);break}},h=function(){if(this.ended)throw new o.OpenAIError("stream has ended, this shouldn't happen");const C=l.__classPrivateFieldGet(this,r,"f");if(!C)throw new o.OpenAIError("request ended without sending any events");l.__classPrivateFieldSet(this,r,void 0,"f");const b=_(C,l.__classPrivateFieldGet(this,s,"f"));return l.__classPrivateFieldSet(this,c,b,"f"),b},d=function(C){let b=l.__classPrivateFieldGet(this,r,"f");if(!b){if(C.type!=="response.created")throw new o.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${C.type}`);return b=l.__classPrivateFieldSet(this,r,C.response,"f"),b}switch(C.type){case"response.output_item.added":{b.output.push(C.item);break}case"response.content_part.added":{const S=b.output[C.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${C.output_index}`);const x=S.type,T=C.part;x==="message"&&T.type!=="reasoning_text"?S.content.push(T):x==="reasoning"&&T.type==="reasoning_text"&&(S.content||(S.content=[]),S.content.push(T));break}case"response.output_text.delta":{const S=b.output[C.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${C.output_index}`);if(S.type==="message"){const x=S.content[C.content_index];if(!x)throw new o.OpenAIError(`missing content at index ${C.content_index}`);if(x.type!=="output_text")throw new o.OpenAIError(`expected content to be 'output_text', got ${x.type}`);x.text+=C.delta}break}case"response.function_call_arguments.delta":{const S=b.output[C.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${C.output_index}`);S.type==="function_call"&&(S.arguments+=C.delta);break}case"response.reasoning_text.delta":{const S=b.output[C.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${C.output_index}`);if(S.type==="reasoning"){const x=S.content?.[C.content_index];if(!x)throw new o.OpenAIError(`missing content at index ${C.content_index}`);if(x.type!=="reasoning_text")throw new o.OpenAIError(`expected content to be 'reasoning_text', got ${x.type}`);x.text+=C.delta}break}case"response.completed":{l.__classPrivateFieldSet(this,r,C.response,"f");break}}return b},Symbol.asyncIterator)](){const A=[],C=[];let b=!1;return this.on("event",S=>{const x=C.shift();x?x.resolve(S):A.push(S)}),this.on("end",()=>{b=!0;for(const S of C)S.resolve(void 0);C.length=0}),this.on("abort",S=>{b=!0;for(const x of C)x.reject(S);C.length=0}),this.on("error",S=>{b=!0;for(const x of C)x.reject(S);C.length=0}),{next:async()=>A.length?{value:A.shift(),done:!1}:b?{value:void 0,done:!0}:new Promise((x,T)=>C.push({resolve:x,reject:T})).then(x=>x?{value:x,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const A=l.__classPrivateFieldGet(this,c,"f");if(!A)throw new o.OpenAIError("stream ended without producing a ChatCompletion");return A}};ac.ResponseStream=v;function _(O,A){return(0,f.maybeParseResponse)(O,A)}return ac}var oc={},o0;function c0(){if(o0)return oc;o0=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.InputItems=void 0;const i=Ce(),s=ht(),r=et();class c extends i.APIResource{list(m,h={},d){return this._client.getAPIList((0,r.path)`/responses/${m}/input_items`,s.CursorPage,{query:h,...d})}}return oc.InputItems=c,oc}var l0;function U1(){if(l0)return rc;l0=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.Responses=void 0;const i=ze(),s=z1(),r=ix(),c=Ce(),g=i.__importStar(c0()),m=c0(),h=vt(),d=et();class l extends c.APIResource{constructor(){super(...arguments),this.inputItems=new g.InputItems(this._client)}create(u,f){return this._client.post("/responses",{body:u,...f,stream:u.stream??!1})._thenUnwrap(v=>("object"in v&&v.object==="response"&&(0,s.addOutputText)(v),v))}retrieve(u,f={},v){return this._client.get((0,d.path)`/responses/${u}`,{query:f,...v,stream:f?.stream??!1})._thenUnwrap(_=>("object"in _&&_.object==="response"&&(0,s.addOutputText)(_),_))}delete(u,f){return this._client.delete((0,d.path)`/responses/${u}`,{...f,headers:(0,h.buildHeaders)([{Accept:"*/*"},f?.headers])})}parse(u,f){return this._client.responses.create(u,f)._thenUnwrap(v=>(0,s.parseResponse)(v,u))}stream(u,f){return r.ResponseStream.createResponse(this._client,u,f)}cancel(u,f){return this._client.post((0,d.path)`/responses/${u}/cancel`,f)}}return rc.Responses=l,l.InputItems=m.InputItems,rc}var cc={},lc={},u0;function d0(){if(u0)return lc;u0=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.Parts=void 0;const i=Ce(),s=os(),r=et();class c extends i.APIResource{create(m,h,d){return this._client.post((0,r.path)`/uploads/${m}/parts`,(0,s.multipartFormRequestOptions)({body:h,...d},this._client))}}return lc.Parts=c,lc}var f0;function $1(){if(f0)return cc;f0=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.Uploads=void 0;const i=ze(),s=Ce(),r=i.__importStar(d0()),c=d0(),g=et();class m extends s.APIResource{constructor(){super(...arguments),this.parts=new r.Parts(this._client)}create(d,l){return this._client.post("/uploads",{body:d,...l})}cancel(d,l){return this._client.post((0,g.path)`/uploads/${d}/cancel`,l)}complete(d,l,o){return this._client.post((0,g.path)`/uploads/${d}/complete`,{body:l,...o})}}return cc.Uploads=m,m.Parts=c.Parts,cc}var uc={},dc={},fc={},h0;function rx(){if(h0)return fc;h0=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.allSettledWithThrow=void 0;const i=async s=>{const r=await Promise.allSettled(s),c=r.filter(m=>m.status==="rejected");if(c.length){for(const m of c)console.error(m.reason);throw new Error(`${c.length} promise(s) failed - see the above errors`)}const g=[];for(const m of r)m.status==="fulfilled"&&g.push(m.value);return g};return fc.allSettledWithThrow=i,fc}var p0;function m0(){if(p0)return dc;p0=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.FileBatches=void 0;const i=Ce(),s=ht(),r=vt(),c=Qc(),g=rx(),m=et();class h extends i.APIResource{create(l,o,u){return this._client.post((0,m.path)`/vector_stores/${l}/file_batches`,{body:o,...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}retrieve(l,o,u){const{vector_store_id:f}=o;return this._client.get((0,m.path)`/vector_stores/${f}/file_batches/${l}`,{...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}cancel(l,o,u){const{vector_store_id:f}=o;return this._client.post((0,m.path)`/vector_stores/${f}/file_batches/${l}/cancel`,{...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}async createAndPoll(l,o,u){const f=await this.create(l,o);return await this.poll(l,f.id,u)}listFiles(l,o,u){const{vector_store_id:f,...v}=o;return this._client.getAPIList((0,m.path)`/vector_stores/${f}/file_batches/${l}/files`,s.CursorPage,{query:v,...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}async poll(l,o,u){const f=(0,r.buildHeaders)([u?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":u?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:v,response:_}=await this.retrieve(o,{vector_store_id:l},{...u,headers:f}).withResponse();switch(v.status){case"in_progress":let O=5e3;if(u?.pollIntervalMs)O=u.pollIntervalMs;else{const A=_.headers.get("openai-poll-after-ms");if(A){const C=parseInt(A);isNaN(C)||(O=C)}}await(0,c.sleep)(O);break;case"failed":case"cancelled":case"completed":return v}}}async uploadAndPoll(l,{files:o,fileIds:u=[]},f){if(o==null||o.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const v=f?.maxConcurrency??5,_=Math.min(v,o.length),O=this._client,A=o.values(),C=[...u];async function b(x){for(let T of x){const I=await O.files.create({file:T,purpose:"assistants"},f);C.push(I.id)}}const S=Array(_).fill(A).map(b);return await(0,g.allSettledWithThrow)(S),await this.createAndPoll(l,{file_ids:C})}}return dc.FileBatches=h,dc}var hc={},g0;function v0(){if(g0)return hc;g0=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.Files=void 0;const i=Ce(),s=ht(),r=vt(),c=Du(),g=et();class m extends i.APIResource{create(d,l,o){return this._client.post((0,g.path)`/vector_stores/${d}/files`,{body:l,...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(d,l,o){const{vector_store_id:u}=l;return this._client.get((0,g.path)`/vector_stores/${u}/files/${d}`,{...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(d,l,o){const{vector_store_id:u,...f}=l;return this._client.post((0,g.path)`/vector_stores/${u}/files/${d}`,{body:f,...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(d,l={},o){return this._client.getAPIList((0,g.path)`/vector_stores/${d}/files`,s.CursorPage,{query:l,...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(d,l,o){const{vector_store_id:u}=l;return this._client.delete((0,g.path)`/vector_stores/${u}/files/${d}`,{...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(d,l,o){const u=await this.create(d,l,o);return await this.poll(d,u.id,o)}async poll(d,l,o){const u=(0,r.buildHeaders)([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const f=await this.retrieve(l,{vector_store_id:d},{...o,headers:u}).withResponse(),v=f.data;switch(v.status){case"in_progress":let _=5e3;if(o?.pollIntervalMs)_=o.pollIntervalMs;else{const O=f.response.headers.get("openai-poll-after-ms");if(O){const A=parseInt(O);isNaN(A)||(_=A)}}await(0,c.sleep)(_);break;case"failed":case"completed":return v}}}async upload(d,l,o){const u=await this._client.files.create({file:l,purpose:"assistants"},o);return this.create(d,{file_id:u.id},o)}async uploadAndPoll(d,l,o){const u=await this.upload(d,l,o);return await this.poll(d,u.id,o)}content(d,l,o){const{vector_store_id:u}=l;return this._client.getAPIList((0,g.path)`/vector_stores/${u}/files/${d}/content`,s.Page,{...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}return hc.Files=m,hc}var y0;function B1(){if(y0)return uc;y0=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.VectorStores=void 0;const i=ze(),s=Ce(),r=i.__importStar(m0()),c=m0(),g=i.__importStar(v0()),m=v0(),h=ht(),d=vt(),l=et();class o extends s.APIResource{constructor(){super(...arguments),this.files=new g.Files(this._client),this.fileBatches=new r.FileBatches(this._client)}create(f,v){return this._client.post("/vector_stores",{body:f,...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}retrieve(f,v){return this._client.get((0,l.path)`/vector_stores/${f}`,{...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}update(f,v,_){return this._client.post((0,l.path)`/vector_stores/${f}`,{body:v,..._,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}list(f={},v){return this._client.getAPIList("/vector_stores",h.CursorPage,{query:f,...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}delete(f,v){return this._client.delete((0,l.path)`/vector_stores/${f}`,{...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}search(f,v,_){return this._client.getAPIList((0,l.path)`/vector_stores/${f}/search`,h.Page,{body:v,method:"post",..._,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}}return uc.VectorStores=o,o.Files=m.Files,o.FileBatches=c.FileBatches,uc}var pc={},_0;function L1(){if(_0)return pc;_0=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.Videos=void 0;const i=Ce(),s=ht(),r=vt(),c=os(),g=et();class m extends i.APIResource{create(d,l){return this._client.post("/videos",(0,c.maybeMultipartFormRequestOptions)({body:d,...l},this._client))}retrieve(d,l){return this._client.get((0,g.path)`/videos/${d}`,l)}list(d={},l){return this._client.getAPIList("/videos",s.ConversationCursorPage,{query:d,...l})}delete(d,l){return this._client.delete((0,g.path)`/videos/${d}`,l)}downloadContent(d,l={},o){return this._client.get((0,g.path)`/videos/${d}/content`,{query:l,...o,headers:(0,r.buildHeaders)([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}remix(d,l,o){return this._client.post((0,g.path)`/videos/${d}/remix`,(0,c.maybeMultipartFormRequestOptions)({body:l,...o},this._client))}}return pc.Videos=m,pc}var mc={},b0;function F1(){if(b0)return mc;b0=1;var i,s,r;Object.defineProperty(mc,"__esModule",{value:!0}),mc.Webhooks=void 0;const c=ze(),g=Dn(),m=Ce(),h=vt();class d extends m.APIResource{constructor(){super(...arguments),i.add(this)}async unwrap(o,u,f=this._client.webhookSecret,v=300){return await this.verifySignature(o,u,f,v),JSON.parse(o)}async verifySignature(o,u,f=this._client.webhookSecret,v=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");c.__classPrivateFieldGet(this,i,"m",s).call(this,f);const _=(0,h.buildHeaders)([u]).values,O=c.__classPrivateFieldGet(this,i,"m",r).call(this,_,"webhook-signature"),A=c.__classPrivateFieldGet(this,i,"m",r).call(this,_,"webhook-timestamp"),C=c.__classPrivateFieldGet(this,i,"m",r).call(this,_,"webhook-id"),b=parseInt(A,10);if(isNaN(b))throw new g.InvalidWebhookSignatureError("Invalid webhook timestamp format");const S=Math.floor(Date.now()/1e3);if(S-b>v)throw new g.InvalidWebhookSignatureError("Webhook timestamp is too old");if(b>S+v)throw new g.InvalidWebhookSignatureError("Webhook timestamp is too new");const x=O.split(" ").map(w=>w.startsWith("v1,")?w.substring(3):w),T=f.startsWith("whsec_")?Buffer.from(f.replace("whsec_",""),"base64"):Buffer.from(f,"utf-8"),I=C?`${C}.${A}.${o}`:`${A}.${o}`,H=await crypto.subtle.importKey("raw",T,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const w of x)try{const k=Buffer.from(w,"base64");if(await crypto.subtle.verify("HMAC",H,k,new TextEncoder().encode(I)))return}catch{continue}throw new g.InvalidWebhookSignatureError("The given webhook signature does not match the expected signature")}}return mc.Webhooks=d,i=new WeakSet,s=function(o){if(typeof o!="string"||o.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},r=function(o,u){if(!o)throw new Error("Headers are required");const f=o.get(u);if(f==null)throw new Error(`Missing required header: ${u}`);return f},mc}var O0;function ax(){return O0||(O0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Webhooks=i.Videos=i.VectorStores=i.Uploads=i.Responses=i.Realtime=i.Moderations=i.Models=i.Images=i.Graders=i.FineTuning=i.Files=i.Evals=i.Embeddings=i.Conversations=i.Containers=i.Completions=i.Beta=i.Batches=i.Audio=void 0;const s=ze();s.__exportStar(tx(),i),s.__exportStar(nx(),i);var r=O1();Object.defineProperty(i,"Audio",{enumerable:!0,get:function(){return r.Audio}});var c=j1();Object.defineProperty(i,"Batches",{enumerable:!0,get:function(){return c.Batches}});var g=C1();Object.defineProperty(i,"Beta",{enumerable:!0,get:function(){return g.Beta}});var m=R1();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return m.Completions}});var h=w1();Object.defineProperty(i,"Containers",{enumerable:!0,get:function(){return h.Containers}});var d=x1();Object.defineProperty(i,"Conversations",{enumerable:!0,get:function(){return d.Conversations}});var l=E1();Object.defineProperty(i,"Embeddings",{enumerable:!0,get:function(){return l.Embeddings}});var o=T1();Object.defineProperty(i,"Evals",{enumerable:!0,get:function(){return o.Evals}});var u=I1();Object.defineProperty(i,"Files",{enumerable:!0,get:function(){return u.Files}});var f=H1();Object.defineProperty(i,"FineTuning",{enumerable:!0,get:function(){return f.FineTuning}});var v=M1();Object.defineProperty(i,"Graders",{enumerable:!0,get:function(){return v.Graders}});var _=N1();Object.defineProperty(i,"Images",{enumerable:!0,get:function(){return _.Images}});var O=P1();Object.defineProperty(i,"Models",{enumerable:!0,get:function(){return O.Models}});var A=k1();Object.defineProperty(i,"Moderations",{enumerable:!0,get:function(){return A.Moderations}});var C=q1();Object.defineProperty(i,"Realtime",{enumerable:!0,get:function(){return C.Realtime}});var b=U1();Object.defineProperty(i,"Responses",{enumerable:!0,get:function(){return b.Responses}});var S=$1();Object.defineProperty(i,"Uploads",{enumerable:!0,get:function(){return S.Uploads}});var x=B1();Object.defineProperty(i,"VectorStores",{enumerable:!0,get:function(){return x.VectorStores}});var T=L1();Object.defineProperty(i,"Videos",{enumerable:!0,get:function(){return T.Videos}});var I=F1();Object.defineProperty(i,"Webhooks",{enumerable:!0,get:function(){return I.Webhooks}})})(yh)),yh}var j0;function Zh(){if(j0)return Ja;j0=1;var i,s,r,c;Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.OpenAI=void 0;const g=ze(),m=u1(),h=Oi(),d=Qc(),l=cp(),o=Fh(),u=g.__importStar(Iu()),f=g.__importStar(Kw()),v=g.__importStar(Xw()),_=d1(),O=g.__importStar(Fs()),A=g.__importStar(ht()),C=g.__importStar(p1()),b=g.__importStar(ax()),S=dp(),x=j1(),T=R1(),I=E1(),H=I1(),w=N1(),k=P1(),P=k1(),G=L1(),D=F1(),F=O1(),V=C1(),U=b1(),J=w1(),N=x1(),q=T1(),B=H1(),de=M1(),ye=q1(),M=U1(),Z=$1(),ce=B1(),le=Fh(),ne=vt(),me=A1(),pe=qu(),te=Oi();class re{constructor({baseURL:ee=(0,me.readEnv)("OPENAI_BASE_URL"),apiKey:he=(0,me.readEnv)("OPENAI_API_KEY"),organization:ve=(0,me.readEnv)("OPENAI_ORG_ID")??null,project:Te=(0,me.readEnv)("OPENAI_PROJECT_ID")??null,webhookSecret:Le=(0,me.readEnv)("OPENAI_WEBHOOK_SECRET")??null,...tt}={}){if(i.add(this),r.set(this,void 0),this.completions=new b.Completions(this),this.chat=new b.Chat(this),this.embeddings=new b.Embeddings(this),this.files=new b.Files(this),this.images=new b.Images(this),this.audio=new b.Audio(this),this.moderations=new b.Moderations(this),this.models=new b.Models(this),this.fineTuning=new b.FineTuning(this),this.graders=new b.Graders(this),this.vectorStores=new b.VectorStores(this),this.webhooks=new b.Webhooks(this),this.beta=new b.Beta(this),this.batches=new b.Batches(this),this.uploads=new b.Uploads(this),this.responses=new b.Responses(this),this.realtime=new b.Realtime(this),this.conversations=new b.Conversations(this),this.evals=new b.Evals(this),this.containers=new b.Containers(this),this.videos=new b.Videos(this),he===void 0)throw new O.OpenAIError("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const Be={apiKey:he,organization:ve,project:Te,webhookSecret:Le,...tt,baseURL:ee||"https://api.openai.com/v1"};if(!Be.dangerouslyAllowBrowser&&(0,le.isRunningInBrowser)())throw new O.OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=Be.baseURL,this.timeout=Be.timeout??s.DEFAULT_TIMEOUT,this.logger=Be.logger??console;const yt="warn";this.logLevel=yt,this.logLevel=(0,pe.parseLogLevel)(Be.logLevel,"ClientOptions.logLevel",this)??(0,pe.parseLogLevel)((0,me.readEnv)("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??yt,this.fetchOptions=Be.fetchOptions,this.maxRetries=Be.maxRetries??2,this.fetch=Be.fetch??u.getDefaultFetch(),g.__classPrivateFieldSet(this,r,f.FallbackEncoder,"f"),this._options=Be,this.apiKey=typeof he=="string"?he:"Missing Key",this.organization=ve,this.project=Te,this.webhookSecret=Le}withOptions(ee){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...ee})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:ee,nulls:he}){}async authHeaders(ee){return(0,ne.buildHeaders)([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(ee){return v.stringify(ee,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${_.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,m.uuid4)()}`}makeStatusError(ee,he,ve,Te){return O.APIError.generate(ee,he,ve,Te)}async _callApiKey(){const ee=this._options.apiKey;if(typeof ee!="function")return!1;let he;try{he=await ee()}catch(ve){throw ve instanceof O.OpenAIError?ve:new O.OpenAIError(`Failed to get token from 'apiKey' function: ${ve.message}`,{cause:ve})}if(typeof he!="string"||!he)throw new O.OpenAIError(`Expected 'apiKey' function argument to return a string but it returned ${he}`);return this.apiKey=he,!0}buildURL(ee,he,ve){const Te=!g.__classPrivateFieldGet(this,i,"m",c).call(this)&&ve||this.baseURL,Le=(0,h.isAbsoluteURL)(ee)?new URL(ee):new URL(Te+(Te.endsWith("/")&&ee.startsWith("/")?ee.slice(1):ee)),tt=this.defaultQuery();return(0,te.isEmptyObj)(tt)||(he={...tt,...he}),typeof he=="object"&&he&&!Array.isArray(he)&&(Le.search=this.stringifyQuery(he)),Le.toString()}async prepareOptions(ee){await this._callApiKey()}async prepareRequest(ee,{url:he,options:ve}){}get(ee,he){return this.methodRequest("get",ee,he)}post(ee,he){return this.methodRequest("post",ee,he)}patch(ee,he){return this.methodRequest("patch",ee,he)}put(ee,he){return this.methodRequest("put",ee,he)}delete(ee,he){return this.methodRequest("delete",ee,he)}methodRequest(ee,he,ve){return this.request(Promise.resolve(ve).then(Te=>({method:ee,path:he,...Te})))}request(ee,he=null){return new S.APIPromise(this,this.makeRequest(ee,he,void 0))}async makeRequest(ee,he,ve){const Te=await ee,Le=Te.maxRetries??this.maxRetries;he==null&&(he=Le),await this.prepareOptions(Te);const{req:tt,url:Be,timeout:yt}=await this.buildRequest(Te,{retryCount:Le-he});await this.prepareRequest(tt,{url:Be,options:Te});const st="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),bt=ve===void 0?"":`, retryOf: ${ve}`,_t=Date.now();if((0,pe.loggerFor)(this).debug(`[${st}] sending request`,(0,pe.formatRequestDetails)({retryOfRequestLogID:ve,method:Te.method,url:Be,options:Te,headers:tt.headers})),Te.signal?.aborted)throw new O.APIUserAbortError;const Un=new AbortController,it=await this.fetchWithTimeout(Be,tt,yt,Un).catch(l.castToError),Tt=Date.now();if(it instanceof globalThis.Error){const Sn=`retrying, ${he} attempts remaining`;if(Te.signal?.aborted)throw new O.APIUserAbortError;const Vt=(0,l.isAbortError)(it)||/timed? ?out/i.test(String(it)+("cause"in it?String(it.cause):""));if(he)return(0,pe.loggerFor)(this).info(`[${st}] connection ${Vt?"timed out":"failed"} - ${Sn}`),(0,pe.loggerFor)(this).debug(`[${st}] connection ${Vt?"timed out":"failed"} (${Sn})`,(0,pe.formatRequestDetails)({retryOfRequestLogID:ve,url:Be,durationMs:Tt-_t,message:it.message})),this.retryRequest(Te,he,ve??st);throw(0,pe.loggerFor)(this).info(`[${st}] connection ${Vt?"timed out":"failed"} - error; no more retries left`),(0,pe.loggerFor)(this).debug(`[${st}] connection ${Vt?"timed out":"failed"} (error; no more retries left)`,(0,pe.formatRequestDetails)({retryOfRequestLogID:ve,url:Be,durationMs:Tt-_t,message:it.message})),Vt?new O.APIConnectionTimeoutError:new O.APIConnectionError({cause:it})}const Bu=[...it.headers.entries()].filter(([Sn])=>Sn==="x-request-id").map(([Sn,Vt])=>", "+Sn+": "+JSON.stringify(Vt)).join(""),ir=`[${st}${bt}${Bu}] ${tt.method} ${Be} ${it.ok?"succeeded":"failed"} with status ${it.status} in ${Tt-_t}ms`;if(!it.ok){const Sn=await this.shouldRetry(it);if(he&&Sn){const Wn=`retrying, ${he} attempts remaining`;return await u.CancelReadableStream(it.body),(0,pe.loggerFor)(this).info(`${ir} - ${Wn}`),(0,pe.loggerFor)(this).debug(`[${st}] response error (${Wn})`,(0,pe.formatRequestDetails)({retryOfRequestLogID:ve,url:it.url,status:it.status,headers:it.headers,durationMs:Tt-_t})),this.retryRequest(Te,he,ve??st,it.headers)}const Vt=Sn?"error; no more retries left":"error; not retryable";(0,pe.loggerFor)(this).info(`${ir} - ${Vt}`);const Jc=await it.text().catch(Wn=>(0,l.castToError)(Wn).message),sa=(0,h.safeJSON)(Jc),Wc=sa?void 0:Jc;throw(0,pe.loggerFor)(this).debug(`[${st}] response error (${Vt})`,(0,pe.formatRequestDetails)({retryOfRequestLogID:ve,url:it.url,status:it.status,headers:it.headers,message:Wc,durationMs:Date.now()-_t})),this.makeStatusError(it.status,sa,Wc,it.headers)}return(0,pe.loggerFor)(this).info(ir),(0,pe.loggerFor)(this).debug(`[${st}] response start`,(0,pe.formatRequestDetails)({retryOfRequestLogID:ve,url:it.url,status:it.status,headers:it.headers,durationMs:Tt-_t})),{response:it,options:Te,controller:Un,requestLogID:st,retryOfRequestLogID:ve,startTime:_t}}getAPIList(ee,he,ve){return this.requestAPIList(he,{method:"get",path:ee,...ve})}requestAPIList(ee,he){const ve=this.makeRequest(he,null,void 0);return new A.PagePromise(this,ve,ee)}async fetchWithTimeout(ee,he,ve,Te){const{signal:Le,method:tt,...Be}=he||{};Le&&Le.addEventListener("abort",()=>Te.abort());const yt=setTimeout(()=>Te.abort(),ve),st=globalThis.ReadableStream&&Be.body instanceof globalThis.ReadableStream||typeof Be.body=="object"&&Be.body!==null&&Symbol.asyncIterator in Be.body,bt={signal:Te.signal,...st?{duplex:"half"}:{},method:"GET",...Be};tt&&(bt.method=tt.toUpperCase());try{return await this.fetch.call(void 0,ee,bt)}finally{clearTimeout(yt)}}async shouldRetry(ee){const he=ee.headers.get("x-should-retry");return he==="true"?!0:he==="false"?!1:ee.status===408||ee.status===409||ee.status===429||ee.status>=500}async retryRequest(ee,he,ve,Te){let Le;const tt=Te?.get("retry-after-ms");if(tt){const yt=parseFloat(tt);Number.isNaN(yt)||(Le=yt)}const Be=Te?.get("retry-after");if(Be&&!Le){const yt=parseFloat(Be);Number.isNaN(yt)?Le=Date.parse(Be)-Date.now():Le=yt*1e3}if(!(Le&&0<=Le&&Le<60*1e3)){const yt=ee.maxRetries??this.maxRetries;Le=this.calculateDefaultRetryTimeoutMillis(he,yt)}return await(0,d.sleep)(Le),this.makeRequest(ee,he-1,ve)}calculateDefaultRetryTimeoutMillis(ee,he){const Le=he-ee,tt=Math.min(.5*Math.pow(2,Le),8),Be=1-Math.random()*.25;return tt*Be*1e3}async buildRequest(ee,{retryCount:he=0}={}){const ve={...ee},{method:Te,path:Le,query:tt,defaultBaseURL:Be}=ve,yt=this.buildURL(Le,tt,Be);"timeout"in ve&&(0,h.validatePositiveInteger)("timeout",ve.timeout),ve.timeout=ve.timeout??this.timeout;const{bodyHeaders:st,body:bt}=this.buildBody({options:ve}),_t=await this.buildHeaders({options:ee,method:Te,bodyHeaders:st,retryCount:he});return{req:{method:Te,headers:_t,...ve.signal&&{signal:ve.signal},...globalThis.ReadableStream&&bt instanceof globalThis.ReadableStream&&{duplex:"half"},...bt&&{body:bt},...this.fetchOptions??{},...ve.fetchOptions??{}},url:yt,timeout:ve.timeout}}async buildHeaders({options:ee,method:he,bodyHeaders:ve,retryCount:Te}){let Le={};this.idempotencyHeader&&he!=="get"&&(ee.idempotencyKey||(ee.idempotencyKey=this.defaultIdempotencyKey()),Le[this.idempotencyHeader]=ee.idempotencyKey);const tt=(0,ne.buildHeaders)([Le,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(Te),...ee.timeout?{"X-Stainless-Timeout":String(Math.trunc(ee.timeout/1e3))}:{},...(0,o.getPlatformHeaders)(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(ee),this._options.defaultHeaders,ve,ee.headers]);return this.validateHeaders(tt),tt.values}buildBody({options:{body:ee,headers:he}}){if(!ee)return{bodyHeaders:void 0,body:void 0};const ve=(0,ne.buildHeaders)([he]);return ArrayBuffer.isView(ee)||ee instanceof ArrayBuffer||ee instanceof DataView||typeof ee=="string"&&ve.values.has("content-type")||globalThis.Blob&&ee instanceof globalThis.Blob||ee instanceof FormData||ee instanceof URLSearchParams||globalThis.ReadableStream&&ee instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:ee}:typeof ee=="object"&&(Symbol.asyncIterator in ee||Symbol.iterator in ee&&"next"in ee&&typeof ee.next=="function")?{bodyHeaders:void 0,body:u.ReadableStreamFrom(ee)}:g.__classPrivateFieldGet(this,r,"f").call(this,{body:ee,headers:ve})}}return Ja.OpenAI=re,s=re,r=new WeakMap,i=new WeakSet,c=function(){return this.baseURL!=="https://api.openai.com/v1"},re.OpenAI=s,re.DEFAULT_TIMEOUT=6e5,re.OpenAIError=O.OpenAIError,re.APIError=O.APIError,re.APIConnectionError=O.APIConnectionError,re.APIConnectionTimeoutError=O.APIConnectionTimeoutError,re.APIUserAbortError=O.APIUserAbortError,re.NotFoundError=O.NotFoundError,re.ConflictError=O.ConflictError,re.RateLimitError=O.RateLimitError,re.BadRequestError=O.BadRequestError,re.AuthenticationError=O.AuthenticationError,re.InternalServerError=O.InternalServerError,re.PermissionDeniedError=O.PermissionDeniedError,re.UnprocessableEntityError=O.UnprocessableEntityError,re.InvalidWebhookSignatureError=O.InvalidWebhookSignatureError,re.toFile=C.toFile,re.Completions=T.Completions,re.Chat=U.Chat,re.Embeddings=I.Embeddings,re.Files=H.Files,re.Images=w.Images,re.Audio=F.Audio,re.Moderations=P.Moderations,re.Models=k.Models,re.FineTuning=B.FineTuning,re.Graders=de.Graders,re.VectorStores=ce.VectorStores,re.Webhooks=D.Webhooks,re.Beta=V.Beta,re.Batches=x.Batches,re.Uploads=Z.Uploads,re.Responses=M.Responses,re.Realtime=ye.Realtime,re.Conversations=N.Conversations,re.Evals=q.Evals,re.Containers=J.Containers,re.Videos=G.Videos,Ja}var gc={},A0;function ox(){if(A0)return gc;A0=1;var i={};Object.defineProperty(gc,"__esModule",{value:!0}),gc.AzureOpenAI=void 0;const s=ze(),r=vt(),c=s.__importStar(Dn()),g=Du(),m=Zh();class h extends m.OpenAI{constructor({baseURL:o=(0,g.readEnv)("OPENAI_BASE_URL"),apiKey:u=(0,g.readEnv)("AZURE_OPENAI_API_KEY"),apiVersion:f=(0,g.readEnv)("OPENAI_API_VERSION"),endpoint:v,deployment:_,azureADTokenProvider:O,dangerouslyAllowBrowser:A,...C}={}){if(!f)throw new c.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if(typeof O=="function"&&(A=!0),!O&&!u)throw new c.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(O&&u)throw new c.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(C.defaultQuery={...C.defaultQuery,"api-version":f},o){if(v)throw new c.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(v||(v=i.AZURE_OPENAI_ENDPOINT),!v)throw new c.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");o=`${v}/openai`}super({apiKey:O??u,baseURL:o,...C,...A!==void 0?{dangerouslyAllowBrowser:A}:{}}),this.apiVersion="",this.apiVersion=f,this.deploymentName=_}async buildRequest(o,u={}){if(d.has(o.path)&&o.method==="post"&&o.body!==void 0){if(!(0,g.isObj)(o.body))throw new Error("Expected request body to be an object");const f=this.deploymentName||o.body.model||o.__metadata?.model;f!==void 0&&!this.baseURL.includes("/deployments")&&(o.path=`/deployments/${f}${o.path}`)}return super.buildRequest(o,u)}async authHeaders(o){return typeof this._options.apiKey=="string"?(0,r.buildHeaders)([{"api-key":this.apiKey}]):super.authHeaders(o)}}gc.AzureOpenAI=h;const d=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"]);return gc}var S0;function Uu(){return S0||(S0=1,(function(i,s){s=i.exports=function(...o){return new s.default(...o)},Object.defineProperty(s,"__esModule",{value:!0}),s.AzureOpenAI=s.InvalidWebhookSignatureError=s.UnprocessableEntityError=s.PermissionDeniedError=s.InternalServerError=s.AuthenticationError=s.BadRequestError=s.RateLimitError=s.ConflictError=s.NotFoundError=s.APIUserAbortError=s.APIConnectionTimeoutError=s.APIConnectionError=s.APIError=s.OpenAIError=s.PagePromise=s.OpenAI=s.APIPromise=s.toFile=s.default=void 0;var r=Zh();Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.OpenAI}});var c=p1();Object.defineProperty(s,"toFile",{enumerable:!0,get:function(){return c.toFile}});var g=dp();Object.defineProperty(s,"APIPromise",{enumerable:!0,get:function(){return g.APIPromise}});var m=Zh();Object.defineProperty(s,"OpenAI",{enumerable:!0,get:function(){return m.OpenAI}});var h=ht();Object.defineProperty(s,"PagePromise",{enumerable:!0,get:function(){return h.PagePromise}});var d=Fs();Object.defineProperty(s,"OpenAIError",{enumerable:!0,get:function(){return d.OpenAIError}}),Object.defineProperty(s,"APIError",{enumerable:!0,get:function(){return d.APIError}}),Object.defineProperty(s,"APIConnectionError",{enumerable:!0,get:function(){return d.APIConnectionError}}),Object.defineProperty(s,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return d.APIConnectionTimeoutError}}),Object.defineProperty(s,"APIUserAbortError",{enumerable:!0,get:function(){return d.APIUserAbortError}}),Object.defineProperty(s,"NotFoundError",{enumerable:!0,get:function(){return d.NotFoundError}}),Object.defineProperty(s,"ConflictError",{enumerable:!0,get:function(){return d.ConflictError}}),Object.defineProperty(s,"RateLimitError",{enumerable:!0,get:function(){return d.RateLimitError}}),Object.defineProperty(s,"BadRequestError",{enumerable:!0,get:function(){return d.BadRequestError}}),Object.defineProperty(s,"AuthenticationError",{enumerable:!0,get:function(){return d.AuthenticationError}}),Object.defineProperty(s,"InternalServerError",{enumerable:!0,get:function(){return d.InternalServerError}}),Object.defineProperty(s,"PermissionDeniedError",{enumerable:!0,get:function(){return d.PermissionDeniedError}}),Object.defineProperty(s,"UnprocessableEntityError",{enumerable:!0,get:function(){return d.UnprocessableEntityError}}),Object.defineProperty(s,"InvalidWebhookSignatureError",{enumerable:!0,get:function(){return d.InvalidWebhookSignatureError}});var l=ox();Object.defineProperty(s,"AzureOpenAI",{enumerable:!0,get:function(){return l.AzureOpenAI}})})(gu,gu.exports)),gu.exports}var Hs={};const cx={},lx=Object.freeze(Object.defineProperty({__proto__:null,default:cx},Symbol.toStringTag,{value:"Module"})),C0=cS(lx);var R0;function $u(){if(R0)return Hs;R0=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.isFsModuleAvailable=Hs.isRunningInBrowser=Hs.getBrowserInfo=void 0;function i(){if(typeof navigator>"u"||!navigator)return null;const c=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:g,pattern:m}of c){const h=m.exec(navigator.userAgent);if(h){const d=h[1]||0,l=h[2]||0,o=h[3]||0;return{browser:g,version:`${d}.${l}.${o}`}}}return null}Hs.getBrowserInfo=i;const s=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";Hs.isRunningInBrowser=s;const r=()=>{try{return!0}catch{return!1}};return Hs.isFsModuleAvailable=r,Hs}var w0;function Ne(){return w0||(w0=1,(function(i){var s={},r=Ui&&Ui.__awaiter||function(H,w,k,P){function G(D){return D instanceof k?D:new k(function(F){F(D)})}return new(k||(k=Promise))(function(D,F){function V(N){try{J(P.next(N))}catch(q){F(q)}}function U(N){try{J(P.throw(N))}catch(q){F(q)}}function J(N){N.done?D(N.value):G(N.value).then(V,U)}J((P=P.apply(H,w||[])).next())})},c=Ui&&Ui.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(i,"__esModule",{value:!0}),i.setApiKey=i.setBaseURL=i.toQueryParams=i.initOpenAIClient=i.defaultHeadersBuilder=i.portkeyHeaders=i.finalResponse=i.parseBody=i.overrideConfig=i.getPortkeyHeader=i.isEmpty=i.castToError=i.readEnv=i.getPlatformProperties=void 0;const g=Wt(),m=l1(),h=c(Uu()),d=$u(),l=()=>{if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{[`${g.PORTKEY_HEADER_PREFIX}runtime`]:"node",[`${g.PORTKEY_HEADER_PREFIX}runtime-version`]:process.version};const H=(0,d.getBrowserInfo)();return H?{[`${g.PORTKEY_HEADER_PREFIX}runtime`]:`browser: ${H.browser}`,[`${g.PORTKEY_HEADER_PREFIX}runtime-version`]:H.version}:{}};i.getPlatformProperties=l;const o=H=>{var w,k;if(typeof process<"u")return(k=(w=s)===null||w===void 0?void 0:w[H])!==null&&k!==void 0?k:void 0};i.readEnv=o;const u=H=>H instanceof Error?H:new Error(H);i.castToError=u;const f=H=>!!(H==null||typeof H=="string"&&H.trim().length===0||Array.isArray(H)&&H.length===0||typeof H=="object"&&Object.keys(H).length===0);i.isEmpty=f;const v=H=>`${g.PORTKEY_HEADER_PREFIX}${H}`;i.getPortkeyHeader=v;const _=(H,w)=>(0,i.isEmpty)(w)?H:w;i.overrideConfig=_;const O=H=>{if((0,i.isEmpty)(H))return{};const w={};for(let k in H){const P=H[k];k=k.replace("ID","Id").replace(/[A-Z]/g,G=>`_${G.toLowerCase()}`),w[k]=P}return w};i.parseBody=O;function A(H){var w;const k=C(H.response.headers);return Object.assign(Object.assign({},((w=H.data)===null||w===void 0?void 0:w.body)||H.data),{getHeaders:()=>k})}i.finalResponse=A;function C(H){const w=(0,m.createResponseHeaders)(H),k=g.PORTKEY_HEADER_PREFIX,P=Object.entries(w).filter(([G,D])=>G.startsWith(k)).map(([G,D])=>[G.replace(k,""),D]);return Object.fromEntries(P)}i.portkeyHeaders=C;function b(H){const w=H.customHeaders,k=H.portkeyHeaders;return Object.prototype.hasOwnProperty.call(w,"authorization")&&!w.authorization.startsWith("Bearer")&&(H.customHeaders.authorization="Bearer "+H.customHeaders.authorization),Object.assign(Object.assign({},w),k)}i.defaultHeadersBuilder=b;function S(H){var w;return new h.default({apiKey:H.apiKey||(0,i.readEnv)("OPENAI_API_KEY")||g.OPEN_AI_API_KEY,baseURL:H.baseURL,defaultHeaders:b(H),maxRetries:0,dangerouslyAllowBrowser:(w=H.dangerouslyAllowBrowser)!==null&&w!==void 0?w:!1,fetch:(k,P)=>r(this,void 0,void 0,function*(){var G,D;const F=Object.assign(Object.assign({},P),P?.body&&typeof((G=P.body)===null||G===void 0?void 0:G.pipe)=="function"&&{duplex:"half"});if(F.body&&((D=F.body.constructor)===null||D===void 0?void 0:D.name)==="FormData"){if(F.headers instanceof Headers)F.headers.delete("Content-Type");else if(F.headers&&"Content-Type"in F.headers&&typeof F.headers=="object"){const J=F.headers;delete J["Content-Type"]}}let V=!1,U;try{U=yield fetch(k,F)}catch{V=!0}if(V||U&&!U.ok&&H._shouldRetry(U))return yield fetch(k,F);if(U)return U;throw(0,i.castToError)(U)})})}i.initOpenAIClient=S;function x(H){if(!H)return"";const w=Object.entries(H).filter(([,k])=>k!=null).map(([k,P])=>`${k}=${P}`).join("&");return w?`?${w}`:""}i.toQueryParams=x;function T(H,w){return H||(w?g.PORTKEY_BASE_URL:g.LOCAL_BASE_URL)}i.setBaseURL=T;function I(H,w){if(w)return w;if(H===g.PORTKEY_BASE_URL&&!w)throw(0,i.castToError)(g.MISSING_API_KEY_ERROR_MESSAGE)}i.setApiKey=I})(Ui)),Ui}var vc={},x0;function Ue(){if(x0)return vc;x0=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.createHeaders=void 0;const i=Ne(),s=r=>{const c={};let g=[];r.forwardHeaders&&(g=r.forwardHeaders.map(m=>m.replace("ID","Id").replace(/[A-Z]/g,h=>`-${h.toLowerCase()}`)));for(let m in r){let h=r[m];if(!(0,i.isEmpty)(h)){if(m.toLocaleLowerCase()==="authorization"){c[m.toLowerCase()]=h||"";continue}typeof h=="boolean"&&(h=h.toString()),m==="forwardHeaders"&&(h=h.join(",")),m=m.replace("ID","Id").replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`),!(0,i.isEmpty)(h)&&typeof h=="object"&&(h=JSON.stringify(h)),g&&g.includes(m)?c[m]=h||"":c[(0,i.getPortkeyHeader)(m)]=h||""}}return c};return vc.createHeaders=s,vc}var E0;function ux(){if(E0)return Es;E0=1;var i=Es&&Es.__awaiter||function(l,o,u,f){function v(_){return _ instanceof u?_:new u(function(O){O(_)})}return new(u||(u=Promise))(function(_,O){function A(S){try{b(f.next(S))}catch(x){O(x)}}function C(S){try{b(f.throw(S))}catch(x){O(x)}}function b(S){S.done?_(S.value):v(S.value).then(A,C)}b((f=f.apply(l,o||[])).next())})};Object.defineProperty(Es,"__esModule",{value:!0}),Es.ChatCompletionsMessages=Es.Chat=void 0;const s=$e(),r=Wt(),c=Ne(),g=Ue();class m extends s.ApiResource{constructor(){super(...arguments),this.completions=new h(this.client)}}Es.Chat=m;class h extends s.ApiResource{constructor(){super(...arguments),this.messages=new d(this.client)}create(o,u,f){var v;const _=o;if(u){const A=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const O=(v=o.stream)!==null&&v!==void 0?v:!1;return this.post(r.CHAT_COMPLETE_API,Object.assign(Object.assign({body:_},f),{stream:O}))}retrieve(o,u,f){if(u){const v=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},u),{config:v})))}return this.getMethod(`${r.CHAT_COMPLETE_API}/${o}`,Object.assign({},f))}update(o,u,f,v){const _=u;if(f){const O=(0,c.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},f),{config:O})))}return this.post(`${r.CHAT_COMPLETE_API}/${o}`,Object.assign({body:_},v))}list(o,u,f){if(u){const v=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},u),{config:v})))}return this.getMethod(`${r.CHAT_COMPLETE_API}`,Object.assign(Object.assign({},f),o))}delete(o,u,f){if(u){const v=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},u),{config:v})))}return this.deleteMethod(`${r.CHAT_COMPLETE_API}/${o}`,Object.assign({},f))}parse(o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,c.initOpenAIClient)(this.client).responses.parse(o,f)})}stream(o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,c.initOpenAIClient)(this.client).chat.completions.stream(o,f)})}runTools(o,u,f){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return(0,c.initOpenAIClient)(this.client).chat.completions.runTools(o,f)}}class d extends s.ApiResource{list(o,u,f,v){if(f){const _=(0,c.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},f),{config:_})))}return this.getMethod(`${r.CHAT_COMPLETE_API}/${o}/messages`,Object.assign(Object.assign({},v),u))}}return Es.ChatCompletionsMessages=d,Es}var yc={},T0;function dx(){if(T0)return yc;T0=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.Completions=void 0;const i=$e(),s=Wt(),r=Ne(),c=Ue();class g extends i.ApiResource{create(h,d,l){var o;const u=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=(o=h.stream)!==null&&o!==void 0?o:!1;return this.client.responseHeaders,this.post(s.TEXT_COMPLETE_API,Object.assign(Object.assign({body:u},l),{stream:f}))}}return yc.Completions=g,yc}var _c={},I0;function fx(){if(I0)return _c;I0=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.Feedback=void 0;const i=$e(),s=Wt(),r=Ne(),c=Ue();class g extends i.ApiResource{create(h,d,l){const o=h;if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(s.FEEDBACK_API,Object.assign({body:o},l))}update(h,d,l){const o=h,u=h.feedbackID;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}return this.put(s.FEEDBACK_API+"/"+u,Object.assign({body:o},l))}}return _c.Feedback=g,_c}var Zt={},H0;function hx(){if(H0)return Zt;H0=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.PromptCompletions=Zt.PromptPartialsVersions=Zt.Partials=Zt.PromptVersions=Zt.Prompt=Zt.Generations=void 0;const i=Wt(),s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{create(f,v){console.warn("This API has been deprecated. Please use the Prompt API for the saved prompt.");const O={variables:f.variables};return this.post(`/v1/prompts/${f.promptID}/generate`,Object.assign({body:O},v))}}Zt.Generations=g;class m extends s.ApiResource{constructor(f){super(f),this.completions=new o(f),this.versions=new h(f),this.partials=new d(f)}render(f,v,_){const O=f,A=f.promptID;if(v){const b=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:b})))}return this.post(`/prompts/${A}/render`,Object.assign({body:O},_))}create(f,v,_){const O=f;if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}return this.post(i.PROMPTS_API,Object.assign({body:O},_))}list(f,v,_){const O=f?(0,r.toQueryParams)(f):"";if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}return this.getMethod(`${i.PROMPTS_API}${O}`,Object.assign({},_))}retrieve(f,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.getMethod(`${i.PROMPTS_API}/${f}`,Object.assign({},_))}update(f,v,_,O){const A=v;if(_){const b=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:b})))}return this.put(`${i.PROMPTS_API}/${f}`,Object.assign({body:A},O))}delete(f,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.deleteMethod(`${i.PROMPTS_API}/${f}`,Object.assign({},_))}publish(f,v,_,O){if(_){const C=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:C})))}return this.put(`${i.PROMPTS_API}/${f}/makeDefault`,Object.assign({body:v},O))}}Zt.Prompt=m;class h extends s.ApiResource{list(f,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.getMethod(`${i.PROMPTS_API}/${f}/versions`,Object.assign({},_))}retrieve(f,v,_,O){if(_){const C=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:C})))}return this.getMethod(`${i.PROMPTS_API}/${f}/versions/${v}`,Object.assign({},O))}update(f,v,_,O,A){if(O){const b=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:b})))}return this.put(`${i.PROMPTS_API}/${f}/versions/${v}`,Object.assign({body:_},A))}}Zt.PromptVersions=h;class d extends s.ApiResource{constructor(f){super(f),this.versions=new l(f)}create(f,v,_){const O=f;if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}return this.post(`${i.PROMPT_PARTIALS_API}`,Object.assign({body:O},_))}list(f,v,_){const O=f?(0,r.toQueryParams)(f):"";if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}return this.getMethod(`${i.PROMPT_PARTIALS_API}${O}`,Object.assign({},_))}retrieve(f,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.getMethod(`${i.PROMPT_PARTIALS_API}/${f}`,Object.assign({},_))}update(f,v,_,O){if(_){const C=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:C})))}return this.put(`${i.PROMPT_PARTIALS_API}/${f}`,Object.assign({body:v},O))}delete(f,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.deleteMethod(`${i.PROMPT_PARTIALS_API}/${f}`,Object.assign({},_))}publish(f,v,_,O){if(_){const C=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:C})))}return this.put(`${i.PROMPT_PARTIALS_API}/${f}/makeDefault`,Object.assign({body:v},O))}}Zt.Partials=d;class l extends s.ApiResource{list(f,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.getMethod(`${i.PROMPT_PARTIALS_API}/${f}/versions`,Object.assign({},_))}}Zt.PromptPartialsVersions=l;class o extends s.ApiResource{create(f,v,_){var O;if(v){const x=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:x})))}const A=f.promptID,C=f,b=(O=f.stream)!==null&&O!==void 0?O:!1;return delete C.promptID,C.stream=b,this.post(`/prompts/${A}/completions`,Object.assign(Object.assign({body:C},_),{stream:b}))}}return Zt.PromptCompletions=o,Zt}var bc={},M0;function px(){if(M0)return bc;M0=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.postMethod=void 0;const i=$e(),s=Ne(),r=Ue();let c=class extends i.ApiResource{create(m,h,d,l){const o=h;if(d){const f=(0,s.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(m,Object.assign({body:o},l))}};return bc.postMethod=c,bc}var Oc={},N0;function mx(){if(N0)return Oc;N0=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.getMethod=void 0;const i=$e(),s=Ne(),r=Ue();let c=class extends i.ApiResource{create(m,h,d){if(h){const o=(0,s.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},h),{config:o})))}return this.getMethod(m,Object.assign({},d))}};return Oc.getMethod=c,Oc}var jc={},P0;function gx(){if(P0)return jc;P0=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.deleteMethod=void 0;const i=$e(),s=Ne(),r=Ue();let c=class extends i.ApiResource{create(m,h,d){if(h){const o=(0,s.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},h),{config:o})))}return this.deleteMethod(m,Object.assign({},d))}};return jc.deleteMethod=c,jc}var Ac={},k0;function vx(){if(k0)return Ac;k0=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.putMethod=void 0;const i=$e(),s=Ne(),r=Ue();let c=class extends i.ApiResource{create(m,h,d,l){const o=h;if(d){const f=(0,s.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.put(m,Object.assign({body:o},l))}};return Ac.putMethod=c,Ac}var Sc={},q0;function yx(){if(q0)return Sc;q0=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.Embeddings=void 0;const i=$e(),s=Wt(),r=Ne(),c=Ue();class g extends i.ApiResource{create(h,d,l){const o=h;if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(s.EMBEDDINGS_API,Object.assign({body:o},l))}}return Sc.Embeddings=g,Sc}var Li={},z0;function _x(){if(z0)return Li;z0=1;var i=Li&&Li.__awaiter||function(m,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(A){try{O(l.next(A))}catch(C){f(C)}}function _(A){try{O(l.throw(A))}catch(C){f(C)}}function O(A){A.done?u(A.value):o(A.value).then(v,_)}O((l=l.apply(m,h||[])).next())})};Object.defineProperty(Li,"__esModule",{value:!0}),Li.Images=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{generate(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}const o=(0,r.initOpenAIClient)(this.client);return h.stream?o.images.generate(h,l):o.images.generate(h,l).withResponse().then(f=>(0,r.finalResponse)(f))}edit(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}const o=(0,r.initOpenAIClient)(this.client);return h.stream?o.images.edit(h,l):o.images.edit(h,l).withResponse().then(f=>(0,r.finalResponse)(f))}createVariation(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).images.createVariation(o,l).withResponse();return(0,r.finalResponse)(f)})}}return Li.Images=g,Li}var Fi={},D0;function bx(){if(D0)return Fi;D0=1;var i=Fi&&Fi.__awaiter||function(m,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(A){try{O(l.next(A))}catch(C){f(C)}}function _(A){try{O(l.throw(A))}catch(C){f(C)}}function O(A){A.done?u(A.value):o(A.value).then(v,_)}O((l=l.apply(m,h||[])).next())})};Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Assistants=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{create(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).beta.assistants.create(o,l).withResponse();return(0,r.finalResponse)(f)})}list(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).beta.assistants.list(o,l).withResponse();return(0,r.finalResponse)(f)})}retrieve(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).beta.assistants.retrieve(h,l).withResponse();return(0,r.finalResponse)(u)})}update(h,d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).beta.assistants.update(h,u,o).withResponse();return(0,r.finalResponse)(v)})}delete(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).beta.assistants.delete(h,l).withResponse();return(0,r.finalResponse)(u)})}}return Fi.Assistants=g,Fi}var bn={},U0;function Ox(){if(U0)return bn;U0=1;var i=bn&&bn.__awaiter||function(l,o,u,f){function v(_){return _ instanceof u?_:new u(function(O){O(_)})}return new(u||(u=Promise))(function(_,O){function A(S){try{b(f.next(S))}catch(x){O(x)}}function C(S){try{b(f.throw(S))}catch(x){O(x)}}function b(S){S.done?_(S.value):v(S.value).then(A,C)}b((f=f.apply(l,o||[])).next())})};Object.defineProperty(bn,"__esModule",{value:!0}),bn.Steps=bn.Runs=bn.Messages=bn.Threads=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{constructor(o){super(o),this.messages=new m(o),this.runs=new h(o)}create(o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).beta.threads.create(v,f).withResponse();return(0,r.finalResponse)(O)})}retrieve(o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.threads.retrieve(o,f).withResponse();return(0,r.finalResponse)(_)})}update(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.update(o,_,v).withResponse();return(0,r.finalResponse)(A)})}delete(o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.threads.delete(o,f).withResponse();return(0,r.finalResponse)(_)})}createAndRun(o,u,f){return i(this,void 0,void 0,function*(){const v=o,{stream:_}=v;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const O=(0,r.initOpenAIClient)(this.client);if(_===!0)return yield O.beta.threads.createAndRunStream(v,f);{const A=yield O.beta.threads.createAndRun(v,f).withResponse();return(0,r.finalResponse)(A)}})}createAndRunPoll(o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.createAndRunPoll(v,f)})}createAndRunStream(o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.createAndRunStream(v,f)})}}bn.Threads=g;class m extends s.ApiResource{create(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.create(o,_,v).withResponse();return(0,r.finalResponse)(A)})}list(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.list(o,_,v).withResponse();return(0,r.finalResponse)(A)})}retrieve(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const A=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.retrieve(o,{thread_id:u},v).withResponse();return(0,r.finalResponse)(O)})}update(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.update(o,_,v).withResponse();return(0,r.finalResponse)(A)})}delete(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const A=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.delete(o,{thread_id:u},v).withResponse();return(0,r.finalResponse)(O)})}}bn.Messages=m;class h extends s.ApiResource{constructor(o){super(o),this.steps=new d(o)}create(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u,{stream:O}=_;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const A=(0,r.initOpenAIClient)(this.client);if(O===!0)return yield A.beta.threads.runs.stream(o,_,v);{const C=yield A.beta.threads.runs.create(o,_,v).withResponse();return(0,r.finalResponse)(C)}})}list(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.list(o,_,v).withResponse();return(0,r.finalResponse)(A)})}retrieve(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const A=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.retrieve(o,{thread_id:u},v).withResponse();return(0,r.finalResponse)(O)})}update(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.update(o,_,v).withResponse();return(0,r.finalResponse)(A)})}submitToolOutputs(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.submitToolOutputs(o,_,v).withResponse();return(0,r.finalResponse)(A)})}submitToolOutputsAndPoll(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.submitToolOutputsAndPoll(o,_,v)})}submitToolOutputsStream(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.submitToolOutputsStream(o,_,v)})}cancel(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const b=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:b})))}const _=(0,r.initOpenAIClient)(this.client),A=Object.assign({body:{}},v),C=yield _.beta.threads.runs.cancel(o,{thread_id:u},A).withResponse();return(0,r.finalResponse)(C)})}createAndPoll(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.createAndPoll(o,_,v)})}createAndStream(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.createAndStream(o,_,v)})}poll(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const A=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.poll(o,{thread_id:u},v)})}stream(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.stream(o,_,v)})}}bn.Runs=h;class d extends s.ApiResource{list(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.steps.list(o,_,v).withResponse();return(0,r.finalResponse)(A)})}retrieve(o,{thread_id:u,run_id:f},v,_){return i(this,void 0,void 0,function*(){if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.steps.retrieve(o,{thread_id:u,run_id:f},_).withResponse();return(0,r.finalResponse)(A)})}}return bn.Steps=d,bn}var Gi={},$0;function jx(){if($0)return Gi;$0=1;var i=Gi&&Gi.__awaiter||function(m,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(A){try{O(l.next(A))}catch(C){f(C)}}function _(A){try{O(l.throw(A))}catch(C){f(C)}}function O(A){A.done?u(A.value):o(A.value).then(v,_)}O((l=l.apply(m,h||[])).next())})};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.MainFiles=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{create(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).files.create(o,l).withResponse();return(0,r.finalResponse)(f)})}list(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).files.list(o,l).withResponse();return(0,r.finalResponse)(f)})}retrieve(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).files.retrieve(h,l).withResponse();return(0,r.finalResponse)(u)})}delete(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).files.delete(h,l).withResponse();return(0,r.finalResponse)(u)})}content(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).files.content(h,l).withResponse();return(0,r.finalResponse)(u)})}retrieveContent(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).files.content(h,l).withResponse();return(0,r.finalResponse)(u)})}waitForProcessing(h,d,l){return i(this,void 0,void 0,function*(){const o=d;if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return yield(0,r.initOpenAIClient)(this.client).files.waitForProcessing(h,Object.assign(Object.assign({},o.pollInterval!==void 0&&{pollInterval:o.pollInterval}),o.maxWait!==void 0&&{maxWait:o.maxWait}))})}}return Gi.MainFiles=g,Gi}var Vi={},B0;function Ax(){if(B0)return Vi;B0=1;var i=Vi&&Vi.__awaiter||function(m,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(A){try{O(l.next(A))}catch(C){f(C)}}function _(A){try{O(l.throw(A))}catch(C){f(C)}}function O(A){A.done?u(A.value):o(A.value).then(v,_)}O((l=l.apply(m,h||[])).next())})};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Models=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{list(h,d){return i(this,void 0,void 0,function*(){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}const o=yield(0,r.initOpenAIClient)(this.client).models.list(d).withResponse();return(0,r.finalResponse)(o)})}retrieve(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).models.retrieve(h,l).withResponse();return(0,r.finalResponse)(u)})}delete(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).models.delete(h,l).withResponse();return(0,r.finalResponse)(u)})}}return Vi.Models=g,Vi}var On={},L0;function Sx(){if(L0)return On;L0=1,Object.defineProperty(On,"__esModule",{value:!0}),On.Member=On.Workspaces=On.Invites=On.Users=On.Admin=void 0;const i=$e(),s=Ue(),r=Ne();class c extends i.ApiResource{constructor(o){super(o),this.users=new g(o),this.workspaces=new h(o)}}On.Admin=c;class g extends i.ApiResource{constructor(){super(...arguments),this.invites=new m(this.client)}retrieve(o,u,f){const _=o.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/users/${_}`,Object.assign({},f))}list(o,u,f){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const _=(0,r.toQueryParams)(v);return this.getMethod(`/admin/users${_}`,Object.assign({},f))}update(o,u,f){const v=o,_=v.userId;return delete v.userId,u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.put(`/admin/users/${_}`,Object.assign({body:v},f))}delete(o,u,f){const v=o,_=v.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/users/${_}`,Object.assign({body:v},f))}}On.Users=g;class m extends i.ApiResource{create(o,u,f){const v=o;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post("/admin/users/invites",Object.assign({body:v},f))}retrieve(o,u,f){const _=o.inviteId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/users/invites/${_}`,Object.assign({},f))}list(o,u,f){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const _=v?(0,r.toQueryParams)(v):"";return this.getMethod(`/admin/users/invites${_}`,Object.assign({},f))}delete(o,u,f){const v=o,_=v.inviteId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/users/invites/${_}`,Object.assign({body:v},f))}resend(o,u,f){const _=o.inviteId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post(`/admin/users/invites/${_}/resend`,Object.assign({},f))}}On.Invites=m;class h extends i.ApiResource{constructor(){super(...arguments),this.users=new d(this.client)}create(o,u,f){const v=o;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post("/admin/workspaces",Object.assign({body:v},f))}retrieve(o,u,f){const _=o.workspaceId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/workspaces/${_}`,Object.assign({},f))}list(o,u,f){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const _=(0,r.toQueryParams)(v);return this.getMethod(`/admin/workspaces${_}`,Object.assign({},f))}update(o,u,f){const v=o,_=v.workspaceId;return delete v.workspaceId,u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.put(`/admin/workspaces/${_}`,Object.assign({body:v},f))}delete(o,u,f){const v=o,_=v.workspaceId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/workspaces/${_}`,Object.assign({body:v},f))}}On.Workspaces=h;class d extends i.ApiResource{create(o,u,f){const v=o,_=v.workspaceId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post(`/admin/workspaces/${_}/users`,Object.assign({body:v},f))}retrieve(o,u,f){const v=o,_=v.workspaceId,O=v.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/workspaces/${_}/users/${O}`,Object.assign({},f))}list(o,u,f){const v=o,_=v.workspaceId;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const O=(0,r.toQueryParams)(v);return this.getMethod(`/admin/workspaces/${_}/users${O}`,Object.assign({},f))}delete(o,u,f){const v=o,_=v.workspaceId,O=v.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/workspaces/${_}/users/${O}`,Object.assign({body:v},f))}update(o,u,f){const v=o,_=v.workspaceId,O=v.userId;return delete v.workspaceId,u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.put(`/admin/workspaces/${_}/users/${O}`,Object.assign({body:v},f))}}return On.Member=d,On}var Cc={},F0;function Cx(){if(F0)return Cc;F0=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.Configs=void 0;const i=$e(),s=Ue(),r=Ne();class c extends i.ApiResource{constructor(m){super(m)}create(m,h,d){const l=m;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.post("/configs",Object.assign({body:l},d))}retrieve(m,h,d){const o=m.slug;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.getMethod(`/configs/${o}`,Object.assign({},d))}update(m,h,d){const l=m,o=l.slug;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.put(`/configs/${o}`,Object.assign({body:l},d))}list(m,h,d){const l=m,o=(0,r.toQueryParams)(l);return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.getMethod(`/configs${o}`,Object.assign({},d))}delete(m,h,d){const l=m;let o="";return l.id?(o=l.id,console.warn('You are using "id" to delete a config. This will be deprecated in the future. Please use "slug" instead.')):l.slug&&(o=l.slug),h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.deleteMethod(`/configs/${o}`,Object.assign({},d))}}return Cc.Configs=c,Cc}var Ki={},G0;function Rx(){if(G0)return Ki;G0=1;var i=Ki&&Ki.__awaiter||function(m,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(A){try{O(l.next(A))}catch(C){f(C)}}function _(A){try{O(l.throw(A))}catch(C){f(C)}}function O(A){A.done?u(A.value):o(A.value).then(v,_)}O((l=l.apply(m,h||[])).next())})};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.Batches=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{create(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).batches.create(o,l).withResponse();return(0,r.finalResponse)(f)})}retrieve(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).batches.retrieve(h,l).withResponse();return(0,r.finalResponse)(u)})}list(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).batches.list(o,l).withResponse();return(0,r.finalResponse)(f)})}cancel(h,d,l){return i(this,void 0,void 0,function*(){if(d){const _=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:_})))}const o=(0,r.initOpenAIClient)(this.client),f=Object.assign({body:{}},l),v=yield o.batches.cancel(h,f).withResponse();return(0,r.finalResponse)(v)})}output(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.getMethod(`/batches/${h}/output`,l)}}return Ki.Batches=g,Ki}var Yi={},V0;function wx(){if(V0)return Yi;V0=1;var i=Yi&&Yi.__rest||function(m,h){var d={};for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&h.indexOf(l)<0&&(d[l]=m[l]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(m);o<l.length;o++)h.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(m,l[o])&&(d[l[o]]=m[l[o]]);return d};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.VirtualKeys=void 0;const s=$e(),r=Ue(),c=Ne();class g extends s.ApiResource{create(h,d,l){return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.post("/virtual-keys",Object.assign({body:h},l))}list(h,d,l){const o=h;d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d))));const u=(0,c.toQueryParams)(o);return this.getMethod(`/virtual-keys${u}`,Object.assign({},l))}retrieve(h,d,l){const{slug:o}=h;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.getMethod(`/virtual-keys/${o}`,Object.assign({},l))}update(h,d,l){const{slug:o}=h,u=i(h,["slug"]);return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.put(`/virtual-keys/${o}`,Object.assign({body:u},l))}delete(h,d,l){const{slug:o}=h;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.deleteMethod(`/virtual-keys/${o}`,Object.assign({},l))}}return Yi.VirtualKeys=g,Yi}var Ht={},K0;function xx(){if(K0)return Ht;K0=1;var i=Ht&&Ht.__awaiter||function(f,v,_,O){function A(C){return C instanceof _?C:new _(function(b){b(C)})}return new(_||(_=Promise))(function(C,b){function S(I){try{T(O.next(I))}catch(H){b(H)}}function x(I){try{T(O.throw(I))}catch(H){b(H)}}function T(I){I.done?C(I.value):A(I.value).then(S,x)}T((O=O.apply(f,v||[])).next())})};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.Permissions=Ht.FineTuningCheckpoints=Ht.Grader=Ht.Alpha=Ht.Checkpoints=Ht.Jobs=Ht.FineTuning=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{constructor(v){super(v),this.jobs=new m(v),this.checkpoints=new o(v),this.alpha=new d(v)}}Ht.FineTuning=g;class m extends s.ApiResource{constructor(v){super(v),this.checkpoints=new h(v)}create(v,_,O){return i(this,void 0,void 0,function*(){const A=v;if(_){const S=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.create(A,O).withResponse();return(0,r.finalResponse)(b)})}retrieve(v,_,O){return i(this,void 0,void 0,function*(){if(_){const b=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:b})))}const C=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.retrieve(v,O).withResponse();return(0,r.finalResponse)(C)})}list(v,_,O){return i(this,void 0,void 0,function*(){const A=v;if(_){const S=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.list(A,O).withResponse();return(0,r.finalResponse)(b)})}cancel(v,_,O){return i(this,void 0,void 0,function*(){if(_){const x=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:x})))}const A=(0,r.initOpenAIClient)(this.client),b=Object.assign({body:{}},O),S=yield A.fineTuning.jobs.cancel(v,b).withResponse();return(0,r.finalResponse)(S)})}listEvents(v,_,O,A){return i(this,void 0,void 0,function*(){const C=_;if(O){const x=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:x})))}const S=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.listEvents(v,C,A).withResponse();return(0,r.finalResponse)(S)})}}Ht.Jobs=m;class h extends s.ApiResource{list(v,_,O,A){return i(this,void 0,void 0,function*(){const C=_;if(O){const x=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:x})))}const S=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.checkpoints.list(v,C,A).withResponse();return(0,r.finalResponse)(S)})}}Ht.Checkpoints=h;class d extends s.ApiResource{constructor(v){super(v),this.grader=new l(v)}}Ht.Alpha=d;class l extends s.ApiResource{run(v,_,O){return i(this,void 0,void 0,function*(){if(_){const b=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:b})))}const C=yield(0,r.initOpenAIClient)(this.client).fineTuning.alpha.graders.run(v,O).withResponse();return(0,r.finalResponse)(C)})}validate(v,_,O){return i(this,void 0,void 0,function*(){if(_){const b=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:b})))}const C=yield(0,r.initOpenAIClient)(this.client).fineTuning.alpha.graders.validate(v,O).withResponse();return(0,r.finalResponse)(C)})}}Ht.Grader=l;class o extends s.ApiResource{constructor(v){super(v),this.permissions=new u(v)}}Ht.FineTuningCheckpoints=o;class u extends s.ApiResource{create(v,_,O,A){return i(this,void 0,void 0,function*(){if(O){const S=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.checkpoints.permissions.create(v,_,A).withResponse();return(0,r.finalResponse)(b)})}retrieve(v,_,O,A){return i(this,void 0,void 0,function*(){if(O){const S=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.checkpoints.permissions.retrieve(v,_,A).withResponse();return(0,r.finalResponse)(b)})}delete(v,{fine_tuned_model_checkpoint:_},O,A){return i(this,void 0,void 0,function*(){if(O){const S=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.checkpoints.permissions.delete(v,{fine_tuned_model_checkpoint:_},A).withResponse();return(0,r.finalResponse)(b)})}}return Ht.Permissions=u,Ht}var Zi={},Y0;function Ex(){if(Y0)return Zi;Y0=1;var i=Zi&&Zi.__awaiter||function(m,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(A){try{O(l.next(A))}catch(C){f(C)}}function _(A){try{O(l.throw(A))}catch(C){f(C)}}function O(A){A.done?u(A.value):o(A.value).then(v,_)}O((l=l.apply(m,h||[])).next())})};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Moderations=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{create(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).moderations.create(o,l).withResponse();return(0,r.finalResponse)(f)})}}return Zi.Moderations=g,Zi}var Xt={},Xr={},Z0;function Tx(){if(Z0)return Xr;Z0=1;var i=Xr&&Xr.__awaiter||function(b,S,x,T){function I(H){return H instanceof x?H:new x(function(w){w(H)})}return new(x||(x=Promise))(function(H,w){function k(D){try{G(T.next(D))}catch(F){w(F)}}function P(D){try{G(T.throw(D))}catch(F){w(F)}}function G(D){D.done?H(D.value):I(D.value).then(k,P)}G((T=T.apply(b,S||[])).next())})};Object.defineProperty(Xr,"__esModule",{value:!0});const r=(0,$u().isFsModuleAvailable)();let c,g,m,h,d;if(r)try{c=C0;const{promisify:b}=C0;g=b(c.open),m=b(c.read),h=b(c.stat),d=b(c.close)}catch{console.warn("File system operations not available in this environment")}function l(b){var S;return i(this,void 0,void 0,function*(){if(!r||!c)return null;try{const x=(S=b.split(".").pop())===null||S===void 0?void 0:S.toLowerCase(),I=(yield h(b)).size;switch(x){case"wav":return u(b);case"mp3":return f(b,I);case"mpga":return v(b,I);case"flac":return _(b);case"ogg":return O(b,I);case"mp4":case"m4a":return A(b);default:return null}}catch{return null}})}function o(b,S,x){return i(this,void 0,void 0,function*(){const T=yield g(b,"r"),I=Buffer.alloc(x);try{const{bytesRead:H}=yield m(T,I,0,x,S);return H<x?I.slice(0,H):I}finally{yield d(T)}})}function u(b){return i(this,void 0,void 0,function*(){try{const S=yield o(b,0,44);if(S.length<44)return null;const x=S.readUInt32LE(24),T=S.readUInt32LE(40),I=S.readUInt16LE(34),H=S.readUInt16LE(22),w=T/(x*H*(I/8));return Math.round(w*1e3).toString()}catch{return null}})}function f(b,S){return i(this,void 0,void 0,function*(){try{const x=yield o(b,0,Math.min(10240,S));if(x.length<128)return null;for(let T=0;T<x.length-4;T++)if(x[T]===255&&(x[T+1]&224)===224){const I=x[T+2]>>4&15,H=x[T+2]>>2&3,w=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320],k=[44100,48e3,32e3];if(I>=w.length||H>=k.length)continue;const P=Number(w[I]),G=Number(k[H]);if(!P||!G)continue;return(S*8/(P*1e3)*1e3).toFixed(0)}}catch{}return null})}function v(b,S){var x,T;return i(this,void 0,void 0,function*(){try{const I=yield o(b,0,Math.min(10240,S));if(I.length<128)return null;for(let H=0;H<I.length-4;H++)if(I[H]===255&&(I[H+1]&240)===240){const w=I[H+2]>>4&15,k=I[H+2]>>2&3,P=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,0],G=[[44100,48e3,32e3,0],[22050,24e3,16e3,0],[11025,12e3,8e3,0]],D=I[H+1]>>3&3,F=D===3?0:D===2?1:2;if(w===0||w>=P.length||k>=3||F>=G.length||k>=((x=G[F])===null||x===void 0?void 0:x.length))continue;const V=Number(P[w]),U=Number((T=G[F])===null||T===void 0?void 0:T[k]);if(!V||!U)continue;return(S*8/(V*1e3)*1e3).toFixed(0)}}catch{}return null})}function _(b){return i(this,void 0,void 0,function*(){try{if((yield o(b,0,4)).toString()!=="fLaC")return null;const x=yield o(b,4,102400);let T=0,I=!1,H=!1,w=0,k=0;for(;!I&&T<x.length&&!(T+4>x.length);){I=(x[T]&128)===128;const D=x[T]&127,F=x.readUInt32BE(T)&16777215;if(T+=4,D===0&&T+18<=x.length){k=x[T+10]<<12|x[T+11]<<4|(x[T+12]&240)>>4,w=(x[T+13]&15)<<32|x[T+14]<<24|x[T+15]<<16|x[T+16]<<8|x[T+17],H=!0;break}T+=F}if(!H||k===0)return null;const P=w/k;return Math.round(P*1e3).toString()}catch{return null}})}function O(b,S){return i(this,void 0,void 0,function*(){try{if((yield o(b,0,4)).toString()!=="OggS")return null;const T=yield o(b,0,Math.min(1e4,S)),I=Math.min(10240,S),H=yield o(b,Math.max(0,S-I),I);let w=0,k=0;for(;k<T.length-7;){if(k+7<=T.length&&T.slice(k,k+7).toString()==="vorbis"&&k+16<T.length){w=T.readUInt32LE(k+12);break}k++}if(w===0)return null;let P=0;for(k=0;k<H.length-27;)if(k+4<=H.length&&H.slice(k,k+4).toString()==="OggS")if(k+14<H.length){const F=Number(H.readBigInt64LE(k+6));if(F>P&&(P=F),k+27>=H.length)break;const V=H[k+26];let J=27+V;for(let N=0;N<V&&k+27+N<H.length;N++)J+=H[k+27+N];k+=J}else break;else k++;if(P===0)return null;const G=P/w;return Math.round(G*1e3).toString()}catch{return null}})}function A(b){return i(this,void 0,void 0,function*(){try{const S=yield g(b,"r");try{return yield C(S,b,0)}finally{yield d(S)}}catch{return null}})}function C(b,S,x){return i(this,void 0,void 0,function*(){try{const I=Buffer.alloc(8),{bytesRead:H}=yield m(b,I,0,8,x);if(H<8)return null;const w=I.readUInt32BE(0);if(w<8)return null;const k=I.slice(4,8).toString();if(k==="moov"){const P=yield o(S,x,w);for(let G=8;G<P.length-8;G++)if(G+4<=P.length&&P.slice(G,G+4).toString()==="mvhd"){if(G+5>=P.length)break;const D=P[G+4];let F,V;if(D===0){if(G+24>=P.length)break;F=P.readUInt32BE(G+16),V=P.readUInt32BE(G+20)}else{if(G+36>=P.length)break;F=P.readUInt32BE(G+24);const U=P.readUInt32BE(G+28),J=P.readUInt32BE(G+32);V=U*Math.pow(2,32)+J}if(F>0){const U=V/F;return Math.round(U*1e3).toString()}}}else if(["trak","mdia","minf","stbl"].includes(k))return C(b,S,x+8);if(w>0)return C(b,S,x+w)}catch{return null}return null})}return Xr.default=l,Xr}var X0;function Ix(){if(X0)return Xt;X0=1;var i=Xt&&Xt.__awaiter||function(v,_,O,A){function C(b){return b instanceof O?b:new O(function(S){S(b)})}return new(O||(O=Promise))(function(b,S){function x(H){try{I(A.next(H))}catch(w){S(w)}}function T(H){try{I(A.throw(H))}catch(w){S(w)}}function I(H){H.done?b(H.value):C(H.value).then(x,T)}I((A=A.apply(v,_||[])).next())})},s=Xt&&Xt.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.speech=Xt.translations=Xt.transcriptions=Xt.Audio=void 0;const r=$e(),c=Ne(),g=Ue(),m=Wt(),h=s(Tx()),d=$u();class l extends r.ApiResource{constructor(_){super(_),this.transcriptions=new o(_),this.translations=new u(_),this.speech=new f(_)}}Xt.Audio=l;class o extends r.ApiResource{create(_,O,A){var C;return i(this,void 0,void 0,function*(){const b=(C=_.file)===null||C===void 0?void 0:C.path;if(b&&this.client.calculateAudioDuration&&(0,d.isFsModuleAvailable)()){const T=yield(0,h.default)(b);T&&(O=Object.assign(Object.assign({},O),{[m.AUDIO_FILE_DURATION_HEADER]:T}))}if(O){const T=(0,c.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},O),{config:T})))}return(0,c.initOpenAIClient)(this.client).audio.transcriptions.create(_,A)})}}Xt.transcriptions=o;class u extends r.ApiResource{create(_,O,A){var C;return i(this,void 0,void 0,function*(){const b=_,S=(C=b.file)===null||C===void 0?void 0:C.path;if(S&&this.client.calculateAudioDuration&&(0,d.isFsModuleAvailable)()){const I=yield(0,h.default)(S);I&&(O=Object.assign(Object.assign({},O),{[m.AUDIO_FILE_DURATION_HEADER]:I}))}if(O){const I=(0,c.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},O),{config:I})))}const T=yield(0,c.initOpenAIClient)(this.client).audio.translations.create(b,A).withResponse();return(0,c.finalResponse)(T)})}}Xt.translations=u;class f extends r.ApiResource{create(_,O,A){return i(this,void 0,void 0,function*(){const C=_;if(O){const x=(0,c.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,g.createHeaders)(Object.assign(Object.assign({},O),{config:x})))}return yield(0,c.initOpenAIClient)(this.client).audio.speech.create(C,A)})}}return Xt.speech=f,Xt}var Vn={},Q0;function Hx(){if(Q0)return Vn;Q0=1;var i=Vn&&Vn.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function A(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,A)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.FileBatches=Vn.Files=Vn.VectorStores=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{constructor(l){super(l),this.files=new m(l),this.fileBatches=new h(l)}create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.create(f,u).withResponse();return(0,r.finalResponse)(_)})}retrieve(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).vectorStores.retrieve(l,u).withResponse();return(0,r.finalResponse)(v)})}update(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.update(l,v,f).withResponse();return(0,r.finalResponse)(O)})}list(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.list(f,u).withResponse();return(0,r.finalResponse)(_)})}delete(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).vectorStores.delete(l,u).withResponse();return(0,r.finalResponse)(v)})}}Vn.VectorStores=g;class m extends s.ApiResource{create(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.create(l,v,f).withResponse();return(0,r.finalResponse)(O)})}retrieve(l,{vector_store_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.retrieve(l,{vector_store_id:o},f).withResponse();return(0,r.finalResponse)(_)})}list(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.list(l,v,f).withResponse();return(0,r.finalResponse)(O)})}delete(l,{vector_store_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.delete(l,{vector_store_id:o},f).withResponse();return(0,r.finalResponse)(_)})}createAndPoll(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.createAndPoll(l,v,f)})}poll(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.poll(l,o,f)})}upload(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.upload(l,o,f)})}uploadAndPoll(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.uploadAndPoll(l,o,f)})}}Vn.Files=m;class h extends s.ApiResource{create(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.create(l,v,f).withResponse();return(0,r.finalResponse)(O)})}retrieve(l,{vector_store_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.retrieve(l,{vector_store_id:o},f).withResponse();return(0,r.finalResponse)(_)})}cancel(l,{vector_store_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const C=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:C})))}const v=(0,r.initOpenAIClient)(this.client),O=Object.assign({body:{}},f),A=yield v.vectorStores.fileBatches.cancel(l,{vector_store_id:o},O).withResponse();return(0,r.finalResponse)(A)})}createAndPoll(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.createAndPoll(l,v,f)})}listFiles(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.listFiles(l,v,f).withResponse();return(0,r.finalResponse)(O)})}poll(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.poll(l,o,f)})}uploadAndPoll(l,{files:o,fileIds:u=[]},f,v){return i(this,void 0,void 0,function*(){if(f){const A=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.uploadAndPoll(l,{files:o,fileIds:u},v)})}}return Vn.FileBatches=h,Vn}var Ms={},J0;function Mx(){if(J0)return Ms;J0=1;var i=Ms&&Ms.__awaiter||function(h,d,l,o){function u(f){return f instanceof l?f:new l(function(v){v(f)})}return new(l||(l=Promise))(function(f,v){function _(C){try{A(o.next(C))}catch(b){v(b)}}function O(C){try{A(o.throw(C))}catch(b){v(b)}}function A(C){C.done?f(C.value):u(C.value).then(_,O)}A((o=o.apply(h,d||[])).next())})};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.Parts=Ms.Uploads=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{constructor(d){super(d),this.parts=new m(d)}create(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).uploads.create(u,o).withResponse();return(0,r.finalResponse)(v)})}cancel(d,l,o){return i(this,void 0,void 0,function*(){if(l){const O=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:O})))}const u=(0,r.initOpenAIClient)(this.client),v=Object.assign({body:{}},o),_=yield u.uploads.cancel(d,v).withResponse();return(0,r.finalResponse)(_)})}complete(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).uploads.complete(d,f,u).withResponse();return(0,r.finalResponse)(_)})}}Ms.Uploads=g;class m extends s.ApiResource{create(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).uploads.parts.create(d,f,u).withResponse();return(0,r.finalResponse)(_)})}}return Ms.Parts=m,Ms}var Rc={},W0;function Nx(){if(W0)return Rc;W0=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.ApiKeys=void 0;const i=$e(),s=Ue(),r=Ne();class c extends i.ApiResource{create(m,h,d){const l=m,o=l.type,u=l["sub-type"];return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.post(`/api-keys/${o}/${u}`,Object.assign({body:l},d))}retrieve(m,h,d){const o=m.id;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.getMethod(`/api-keys/${o}`,Object.assign({},d))}update(m,h,d){const l=m,o=l.id;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.put(`/api-keys/${o}`,Object.assign({body:l},d))}list(m,h,d){const l=m;h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h))));const o=(0,r.toQueryParams)(l);return this.getMethod(`/api-keys${o}`,Object.assign({},d))}delete(m,h,d){const l=m,o=l.id;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.deleteMethod(`/api-keys/${o}`,Object.assign({body:l},d))}}return Rc.ApiKeys=c,Rc}var Ns={},eO;function Px(){if(eO)return Ns;eO=1;var i=Ns&&Ns.__rest||function(d,l){var o={};for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&l.indexOf(u)<0&&(o[u]=d[u]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(d);f<u.length;f++)l.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(d,u[f])&&(o[u[f]]=d[u[f]]);return o};Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.Exports=Ns.Logs=void 0;const s=$e(),r=Ue(),c=Ne(),g=Wt();class m extends s.ApiResource{constructor(l){super(l),this.exports=new h(l)}create(l,o,u){const f=l;if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return this.post(g.LOGS_API,Object.assign({body:f},u))}}Ns.Logs=m;class h extends s.ApiResource{create(l,o,u){const{workspaceId:f,requestedData:v}=l,_=i(l,["workspaceId","requestedData"]),O=Object.assign(Object.assign({},_),{workspace_id:f,requested_data:v});return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.post("/logs/exports",Object.assign({body:O},u))}retrieve(l,o,u){const v=l.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.getMethod(`/logs/exports/${v}`,Object.assign({},u))}list(l,o,u){const{workspaceId:f}=l,v=i(l,["workspaceId"]),_=Object.assign(Object.assign({},v),{workspace_id:f}),O=(0,c.toQueryParams)(_);return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.getMethod(`/logs/exports${O}`,Object.assign({},u))}update(l,o,u){const{workspaceId:f,requestedData:v}=l,_=i(l,["workspaceId","requestedData"]),O=Object.assign(Object.assign({},_),{workspace_id:f,requested_data:v}),A=O.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.put(`/logs/exports/${A}`,Object.assign({body:O},u))}start(l,o,u){const f=l,v=f.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.post(`/logs/exports/${v}/start`,Object.assign({body:f},u))}cancel(l,o,u){const f=l,v=f.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.post(`/logs/exports/${v}/cancel`,Object.assign({body:f},u))}download(l,o,u){const f=l,v=f.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.getMethod(`/logs/exports/${v}/download`,Object.assign({body:f},u))}}return Ns.Exports=h,Ns}var Kn={},tO;function kx(){if(tO)return Kn;tO=1;var i=Kn&&Kn.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function A(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,A)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.TranscriptionSessions=Kn.Sessions=Kn.Realtime=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{constructor(l){super(l),this.sessions=new m(l),this.transcriptionSessions=new h(l)}}Kn.Realtime=g;class m extends s.ApiResource{create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.realtime.sessions.create(f,u).withResponse();return(0,r.finalResponse)(_)})}}Kn.Sessions=m;class h extends s.ApiResource{create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.realtime.transcriptionSessions.create(f,u).withResponse();return(0,r.finalResponse)(_)})}}return Kn.TranscriptionSessions=h,Kn}var Ps={},nO;function qx(){if(nO)return Ps;nO=1;var i=Ps&&Ps.__awaiter||function(h,d,l,o){function u(f){return f instanceof l?f:new l(function(v){v(f)})}return new(l||(l=Promise))(function(f,v){function _(C){try{A(o.next(C))}catch(b){v(b)}}function O(C){try{A(o.throw(C))}catch(b){v(b)}}function A(C){C.done?f(C.value):u(C.value).then(_,O)}A((o=o.apply(h,d||[])).next())})};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.InputItems=Ps.Responses=void 0;const s=$e(),r=Ue(),c=Ne();class g extends s.ApiResource{constructor(d){super(d),this.inputItems=new m(d)}create(d,l,o){if(l){const v=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return(0,c.initOpenAIClient)(this.client).responses.create(d,o)}retrieve(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).responses.retrieve(d,f,u).withResponse();return(0,c.finalResponse)(_)})}delete(d,l,o){return i(this,void 0,void 0,function*(){if(l){const v=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=yield(0,c.initOpenAIClient)(this.client).responses.delete(d,o).withResponse();return(0,c.finalResponse)(f)})}parse(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).responses.parse(u,o)})}stream(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).responses.stream(u,o)})}cancel(d,l,o){return i(this,void 0,void 0,function*(){if(l){const O=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:O})))}const u=(0,c.initOpenAIClient)(this.client),v=Object.assign({body:{}},o),_=yield u.responses.cancel(d,v).withResponse();return(0,c.finalResponse)(_)})}}Ps.Responses=g;class m extends s.ApiResource{list(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).responses.inputItems.list(d,f,u).withResponse();return(0,c.finalResponse)(_)})}}return Ps.InputItems=m,Ps}var wc={},sO;function zx(){if(sO)return wc;sO=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.Labels=void 0;const i=Wt(),s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{create(h,d,l){const o=h;if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(`${i.LABELS_API}`,Object.assign({body:o},l))}list(h,d,l){const o=h?(0,r.toQueryParams)(h):"";if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.getMethod(`${i.LABELS_API}${o}`,Object.assign({},l))}retrieve(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.getMethod(`${i.LABELS_API}/${h}`,Object.assign({},l))}update(h,d,l,o){const u=d;if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return this.put(`${i.LABELS_API}/${h}`,Object.assign({body:u},o))}delete(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.deleteMethod(`${i.LABELS_API}/${h}`,Object.assign({},l))}}return wc.Labels=g,wc}var xc={},iO;function Dx(){if(iO)return xc;iO=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.Collections=void 0;const i=Wt(),s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{create(h,d,l){const o=h;if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(`${i.COLLECTIONS_API}`,Object.assign({body:o},l))}list(h,d,l){const o=h?(0,r.toQueryParams)(h):"";if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.getMethod(`${i.COLLECTIONS_API}${o}`,Object.assign({},l))}retrieve(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.getMethod(`${i.COLLECTIONS_API}/${h}`,Object.assign({},l))}update(h,d,l,o){if(l){const f=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:f})))}return this.put(`${i.COLLECTIONS_API}/${h}`,Object.assign({body:d},o))}delete(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.deleteMethod(`${i.COLLECTIONS_API}/${h}`,Object.assign({},l))}}return xc.Collections=g,xc}var Yn={},rO;function Ux(){if(rO)return Yn;rO=1;var i=Yn&&Yn.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function A(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,A)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.OutputItems=Yn.EvalsRuns=Yn.Evals=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{constructor(l){super(l),this.runs=new m(l)}create(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return yield(0,r.initOpenAIClient)(this.client).evals.create(l,u)})}retrieve(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).evals.retrieve(l,u).withResponse();return(0,r.finalResponse)(v)})}update(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.update(l,o,f).withResponse();return(0,r.finalResponse)(_)})}list(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).evals.list(l,u).withResponse();return(0,r.finalResponse)(v)})}delete(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).evals.delete(l,u).withResponse();return(0,r.finalResponse)(v)})}}Yn.Evals=g;class m extends s.ApiResource{constructor(l){super(l),this.outputItems=new h(l)}create(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.create(l,o,f).withResponse();return(0,r.finalResponse)(_)})}retrieve(l,{eval_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.retrieve(l,{eval_id:o},f).withResponse();return(0,r.finalResponse)(_)})}list(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.list(l,o,f).withResponse();return(0,r.finalResponse)(_)})}delete(l,{eval_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.delete(l,{eval_id:o},f).withResponse();return(0,r.finalResponse)(_)})}cancel(l,{eval_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const C=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:C})))}const v=(0,r.initOpenAIClient)(this.client),O=Object.assign({body:{}},f),A=yield v.evals.runs.cancel(l,{eval_id:o},O).withResponse();return(0,r.finalResponse)(A)})}}Yn.EvalsRuns=m;class h extends s.ApiResource{retrieve(l,{eval_id:o,run_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const A=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:A})))}const O=yield(0,r.initOpenAIClient)(this.client).evals.runs.outputItems.retrieve(l,{eval_id:o,run_id:u},v).withResponse();return(0,r.finalResponse)(O)})}list(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.outputItems.list(l,o,f).withResponse();return(0,r.finalResponse)(_)})}}return Yn.OutputItems=h,Yn}var Zn={},aO;function $x(){if(aO)return Zn;aO=1;var i=Zn&&Zn.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function A(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,A)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.Content=Zn.ContainersFiles=Zn.Containers=void 0;const s=$e(),r=Ue(),c=Ne();class g extends s.ApiResource{constructor(l){super(l),this.files=new m(l)}create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.create(f,u).withResponse();return(0,c.finalResponse)(_)})}retrieve(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,c.initOpenAIClient)(this.client).containers.retrieve(l,u).withResponse();return(0,c.finalResponse)(v)})}list(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,c.initOpenAIClient)(this.client).containers.list(l,u).withResponse();return(0,c.finalResponse)(v)})}delete(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,c.initOpenAIClient)(this.client).containers.delete(l,u).withResponse();return(0,c.finalResponse)(v)})}}Zn.Containers=g;class m extends s.ApiResource{constructor(l){super(l),this.content=new h(l)}create(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.create(l,o,f).withResponse();return(0,c.finalResponse)(_)})}retrieve(l,{container_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.retrieve(l,{container_id:o},f).withResponse();return(0,c.finalResponse)(_)})}list(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.list(l,o,f).withResponse();return(0,c.finalResponse)(_)})}delete(l,{container_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.delete(l,{container_id:o},f).withResponse();return(0,c.finalResponse)(_)})}}Zn.ContainersFiles=m;class h extends s.ApiResource{retrieve(l,{container_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(yield(0,c.initOpenAIClient)(this.client).containers.files.content.retrieve(l,{container_id:o},f)).text()})}}return Zn.Content=h,Zn}var Xn={},oO;function Bx(){if(oO)return Xn;oO=1;var i=Xn&&Xn.__rest||function(l,o){var u={};for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&o.indexOf(f)<0&&(u[f]=l[f]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,f=Object.getOwnPropertySymbols(l);v<f.length;v++)o.indexOf(f[v])<0&&Object.prototype.propertyIsEnumerable.call(l,f[v])&&(u[f[v]]=l[f[v]]);return u};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.Models=Xn.Workspaces=Xn.Integrations=void 0;const s=Wt(),r=$e(),c=Ue(),g=Ne();class m extends r.ApiResource{constructor(o){super(o),this.workspaces=new h(o),this.models=new d(o)}create(o,u,f){const v=o;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.post(`${s.INTEGRATIONS_API}`,Object.assign({body:v},f))}list(o,u,f){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u))));const _=(0,g.toQueryParams)(v);return this.getMethod(`${s.INTEGRATIONS_API}${_}`,Object.assign({},f))}retrieve(o,u,f){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.getMethod(`${s.INTEGRATIONS_API}/${_}`,Object.assign({},f))}update(o,u,f){const{slug:v}=o,_=i(o,["slug"]);return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.put(`${s.INTEGRATIONS_API}/${v}`,Object.assign({body:_},f))}delete(o,u,f){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.deleteMethod(`${s.INTEGRATIONS_API}/${_}`,Object.assign({},f))}}Xn.Integrations=m;class h extends r.ApiResource{constructor(o){super(o)}update(o,u,f){const{slug:v}=o,_=i(o,["slug"]);return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.put(`${s.INTEGRATIONS_API}/${v}/workspaces`,Object.assign({body:_},f))}list(o,u,f){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.getMethod(`${s.INTEGRATIONS_API}/${_}/workspaces`,Object.assign({},f))}}Xn.Workspaces=h;class d extends r.ApiResource{constructor(o){super(o)}update(o,u,f){const{slug:v}=o,_=i(o,["slug"]);return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.put(`${s.INTEGRATIONS_API}/${v}/models`,Object.assign({body:_},f))}list(o,u,f){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.getMethod(`${s.INTEGRATIONS_API}/${_}/models`,Object.assign({},f))}delete(o,u,f){const v=o,_=v.slug,O=v.slugs;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u))));const A=O?`?slugs=${O}`:"";return this.deleteMethod(`${s.INTEGRATIONS_API}/${_}/models${A}`,Object.assign({},f))}}return Xn.Models=d,Xn}var Xi={},cO;function Lx(){if(cO)return Xi;cO=1;var i=Xi&&Xi.__rest||function(h,d){var l={};for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&d.indexOf(o)<0&&(l[o]=h[o]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(h);u<o.length;u++)d.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(h,o[u])&&(l[o[u]]=h[o[u]]);return l};Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Providers=void 0;const s=Wt(),r=$e(),c=Ue(),g=Ne();class m extends r.ApiResource{list(d,l,o){const u=d;l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l))));const f=u?(0,g.toQueryParams)(u):"";return this.getMethod(`${s.PROVIDERS_API}${f}`,Object.assign({},o))}create(d,l,o){const u=d;return l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l)))),this.post(s.PROVIDERS_API,Object.assign({body:u},o))}retrieve(d,l,o){const{slug:u}=d,f=i(d,["slug"]);l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l))));const v=(0,g.toQueryParams)(f);return this.getMethod(`${s.PROVIDERS_API}/${u}${v}`,Object.assign({},o))}update(d,l,o){const{slug:u}=d,f=i(d,["slug"]);return l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l)))),this.put(`${s.PROVIDERS_API}/${u}`,Object.assign({body:f},o))}delete(d,l,o){const{slug:u}=d,f=i(d,["slug"]);l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l))));const v=(0,g.toQueryParams)(f);return this.deleteMethod(`${s.PROVIDERS_API}/${u}${v}`,Object.assign({},o))}}return Xi.Providers=m,Xi}var Qi={},lO;function Fx(){if(lO)return Qi;lO=1;var i=Qi&&Qi.__awaiter||function(m,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(A){try{O(l.next(A))}catch(C){f(C)}}function _(A){try{O(l.throw(A))}catch(C){f(C)}}function O(A){A.done?u(A.value):o(A.value).then(v,_)}O((l=l.apply(m,h||[])).next())})};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.Webhooks=void 0;const s=$e(),r=Ue(),c=Ne();class g extends s.ApiResource{constructor(h){super(h)}unwarp(h,d,l,o=300,u){return i(this,void 0,void 0,function*(){if(u){const _=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).webhooks.unwrap(h,d,l,o)})}verifySignature(h,d,l,o=300,u){return i(this,void 0,void 0,function*(){if(u){const _=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).webhooks.verifySignature(h,d,l,o)})}}return Qi.Webhooks=g,Qi}var Qn={},uO;function Gx(){if(uO)return Qn;uO=1;var i=Qn&&Qn.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function A(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,A)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.Calls=Qn.ClientSecrets=Qn.MainRealtime=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{constructor(l){super(l),this.clientSecrets=new m(l),this.calls=new h(l)}}Qn.MainRealtime=g;class m extends s.ApiResource{constructor(l){super(l)}create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).realtime.clientSecrets.create(f,u).withResponse();return(0,r.finalResponse)(_)})}}Qn.ClientSecrets=m;class h extends s.ApiResource{constructor(l){super(l)}accept(l,o,u,f){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.accept(l,o,f)}hangup(l,o,u){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.hangup(l,u)}refer(l,o,u,f){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.refer(l,o,f)}reject(l,o={},u,f){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.reject(l,o,f)}}return Qn.Calls=h,Qn}var ks={},dO;function Vx(){if(dO)return ks;dO=1;var i=ks&&ks.__awaiter||function(h,d,l,o){function u(f){return f instanceof l?f:new l(function(v){v(f)})}return new(l||(l=Promise))(function(f,v){function _(C){try{A(o.next(C))}catch(b){v(b)}}function O(C){try{A(o.throw(C))}catch(b){v(b)}}function A(C){C.done?f(C.value):u(C.value).then(_,O)}A((o=o.apply(h,d||[])).next())})};Object.defineProperty(ks,"__esModule",{value:!0}),ks.Items=ks.Conversations=void 0;const s=$e(),r=Ne(),c=Ue();class g extends s.ApiResource{constructor(d){super(d),this.items=new m(d)}create(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.create(u,o).withResponse();return(0,r.finalResponse)(v)})}retrieve(d,l,o){return i(this,void 0,void 0,function*(){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).conversations.retrieve(d,o).withResponse();return(0,r.finalResponse)(f)})}update(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).conversations.update(d,f,u).withResponse();return(0,r.finalResponse)(_)})}delete(d,l,o){return i(this,void 0,void 0,function*(){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).conversations.delete(d,o).withResponse();return(0,r.finalResponse)(f)})}}ks.Conversations=g;class m extends s.ApiResource{create(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.create(d,l,u).withResponse();return(0,r.finalResponse)(v)})}retrieve(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.retrieve(d,l,u).withResponse();return(0,r.finalResponse)(v)})}list(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.list(d,l,u).withResponse();return(0,r.finalResponse)(v)})}delete(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.delete(d,l,u).withResponse();return(0,r.finalResponse)(v)})}}return ks.Items=m,ks}var Ec={},fO;function Kx(){if(fO)return Ec;fO=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.Videos=void 0;const i=$e(),s=Ue(),r=Ne();class c extends i.ApiResource{constructor(m){super(m)}create(m,h,d){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.create(m,d)}retrieve(m,h,d){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.retrieve(m,d)}list(m={},h,d){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.list(m,d)}delete(m,h,d){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.delete(m,d)}downloadContent(m,h={},d,l){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return(0,r.initOpenAIClient)(this.client).videos.downloadContent(m,h,l)}remix(m,h,d,l){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return(0,r.initOpenAIClient)(this.client).videos.remix(m,h,l)}}return Ec.Videos=c,Ec}var qs={},hO;function Yx(){if(hO)return qs;hO=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.ChatKitThreads=qs.ChatKitSessions=qs.ChatKit=void 0;const i=$e(),s=Ue(),r=Ne();class c extends i.ApiResource{constructor(d){super(d),this.sessions=new g(d),this.threads=new m(d)}uploadFile(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return(0,r.initOpenAIClient)(this.client).beta.chatkit.uploadFile(d,o)}}qs.ChatKit=c;class g extends i.ApiResource{create(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=(0,r.initOpenAIClient)(this.client).beta.chatkit.sessions.create(d,o).withResponse();return(0,r.finalResponse)(f)}cancel(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=(0,r.initOpenAIClient)(this.client).beta.chatkit.sessions.cancel(d,o).withResponse();return(0,r.finalResponse)(f)}}qs.ChatKitSessions=g;class m extends i.ApiResource{retrieve(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.retrieve(d,o).withResponse();return(0,r.finalResponse)(f)}list(d={},l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.list(d,o)}delete(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.delete(d,o).withResponse();return(0,r.finalResponse)(f)}listItems(d,l={},o,u){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.listItems(d,l,u)}}return qs.ChatKitThreads=m,qs}var Tc={},pO;function Zx(){if(pO)return Tc;pO=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.Guardrails=void 0;const i=$e(),s=Ue(),r=Ne(),c=Wt();class g extends i.ApiResource{create(h,d,l){const o=h;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.post(c.GUARDRAILS_API,Object.assign({body:o},l))}list(h,d,l){const o=h;d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d))));const u=o?(0,r.toQueryParams)(o):"";return this.getMethod(`${c.GUARDRAILS_API}${u}`,Object.assign({},l))}retrieve(h,d,l){const u=h.guardrail_id;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.getMethod(`${c.GUARDRAILS_API}/${u}`,Object.assign({},l))}update(h,d,l){const o=h,u=o.guardrail_id;return delete o.guardrail_id,d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.put(`${c.GUARDRAILS_API}/${u}`,Object.assign({body:o},l))}delete(h,d,l){const o=h,u=o.guardrail_id;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.deleteMethod(`${c.GUARDRAILS_API}/${u}`,Object.assign({body:o},l))}}return Tc.Guardrails=g,Tc}var mO;function hp(){return mO||(mO=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Guardrails=i.ChatKit=i.Videos=i.Conversations=i.MainRealtime=i.Webhooks=i.Providers=i.Integrations=i.Containers=i.Evals=i.Collections=i.Labels=i.Responses=i.Realtime=i.Logs=i.ApiKeys=i.Uploads=i.VectorStores=i.Audio=i.Moderations=i.FineTuning=i.VirtualKeys=i.Batches=i.Configs=i.Admin=i.Models=i.MainFiles=i.Threads=i.Assistants=i.Images=i.Embeddings=i.putMethod=i.deleteMethod=i.getMethod=i.postMethod=i.Prompt=i.Generations=i.Feedback=i.createHeaders=i.Completions=i.Chat=void 0;var s=ux();Object.defineProperty(i,"Chat",{enumerable:!0,get:function(){return s.Chat}});var r=dx();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return r.Completions}});var c=Ue();Object.defineProperty(i,"createHeaders",{enumerable:!0,get:function(){return c.createHeaders}});var g=fx();Object.defineProperty(i,"Feedback",{enumerable:!0,get:function(){return g.Feedback}});var m=hx();Object.defineProperty(i,"Generations",{enumerable:!0,get:function(){return m.Generations}}),Object.defineProperty(i,"Prompt",{enumerable:!0,get:function(){return m.Prompt}});var h=px();Object.defineProperty(i,"postMethod",{enumerable:!0,get:function(){return h.postMethod}});var d=mx();Object.defineProperty(i,"getMethod",{enumerable:!0,get:function(){return d.getMethod}});var l=gx();Object.defineProperty(i,"deleteMethod",{enumerable:!0,get:function(){return l.deleteMethod}});var o=vx();Object.defineProperty(i,"putMethod",{enumerable:!0,get:function(){return o.putMethod}});var u=yx();Object.defineProperty(i,"Embeddings",{enumerable:!0,get:function(){return u.Embeddings}});var f=_x();Object.defineProperty(i,"Images",{enumerable:!0,get:function(){return f.Images}});var v=bx();Object.defineProperty(i,"Assistants",{enumerable:!0,get:function(){return v.Assistants}});var _=Ox();Object.defineProperty(i,"Threads",{enumerable:!0,get:function(){return _.Threads}});var O=jx();Object.defineProperty(i,"MainFiles",{enumerable:!0,get:function(){return O.MainFiles}});var A=Ax();Object.defineProperty(i,"Models",{enumerable:!0,get:function(){return A.Models}});var C=Sx();Object.defineProperty(i,"Admin",{enumerable:!0,get:function(){return C.Admin}});var b=Cx();Object.defineProperty(i,"Configs",{enumerable:!0,get:function(){return b.Configs}});var S=Rx();Object.defineProperty(i,"Batches",{enumerable:!0,get:function(){return S.Batches}});var x=wx();Object.defineProperty(i,"VirtualKeys",{enumerable:!0,get:function(){return x.VirtualKeys}});var T=xx();Object.defineProperty(i,"FineTuning",{enumerable:!0,get:function(){return T.FineTuning}});var I=Ex();Object.defineProperty(i,"Moderations",{enumerable:!0,get:function(){return I.Moderations}});var H=Ix();Object.defineProperty(i,"Audio",{enumerable:!0,get:function(){return H.Audio}});var w=Hx();Object.defineProperty(i,"VectorStores",{enumerable:!0,get:function(){return w.VectorStores}});var k=Mx();Object.defineProperty(i,"Uploads",{enumerable:!0,get:function(){return k.Uploads}});var P=Nx();Object.defineProperty(i,"ApiKeys",{enumerable:!0,get:function(){return P.ApiKeys}});var G=Px();Object.defineProperty(i,"Logs",{enumerable:!0,get:function(){return G.Logs}});var D=kx();Object.defineProperty(i,"Realtime",{enumerable:!0,get:function(){return D.Realtime}});var F=qx();Object.defineProperty(i,"Responses",{enumerable:!0,get:function(){return F.Responses}});var V=zx();Object.defineProperty(i,"Labels",{enumerable:!0,get:function(){return V.Labels}});var U=Dx();Object.defineProperty(i,"Collections",{enumerable:!0,get:function(){return U.Collections}});var J=Ux();Object.defineProperty(i,"Evals",{enumerable:!0,get:function(){return J.Evals}});var N=$x();Object.defineProperty(i,"Containers",{enumerable:!0,get:function(){return N.Containers}});var q=Bx();Object.defineProperty(i,"Integrations",{enumerable:!0,get:function(){return q.Integrations}});var B=Lx();Object.defineProperty(i,"Providers",{enumerable:!0,get:function(){return B.Providers}});var de=Fx();Object.defineProperty(i,"Webhooks",{enumerable:!0,get:function(){return de.Webhooks}});var ye=Gx();Object.defineProperty(i,"MainRealtime",{enumerable:!0,get:function(){return ye.MainRealtime}});var M=Vx();Object.defineProperty(i,"Conversations",{enumerable:!0,get:function(){return M.Conversations}});var Z=Kx();Object.defineProperty(i,"Videos",{enumerable:!0,get:function(){return Z.Videos}});var ce=Yx();Object.defineProperty(i,"ChatKit",{enumerable:!0,get:function(){return ce.ChatKit}});var le=Zx();Object.defineProperty(i,"Guardrails",{enumerable:!0,get:function(){return le.Guardrails}})})(uh)),uh}var jn={},An={},_u={exports:{}},gO;function Xx(){if(gO)return _u.exports;gO=1,_u.exports=i,_u.exports.HttpsAgent=i;function i(){}return _u.exports}var Ic={},vO;function Qx(){return vO||(vO=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.VERSION=void 0,Ic.VERSION="3.0.1"),Ic}var yO;function Jx(){if(yO)return An;yO=1;var i=An&&An.__awaiter||function(C,b,S,x){function T(I){return I instanceof S?I:new S(function(H){H(I)})}return new(S||(S=Promise))(function(I,H){function w(G){try{P(x.next(G))}catch(D){H(D)}}function k(G){try{P(x.throw(G))}catch(D){H(D)}}function P(G){G.done?I(G.value):T(G.value).then(w,k)}P((x=x.apply(C,b||[])).next())})},s=An&&An.__rest||function(C,b){var S={};for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&b.indexOf(x)<0&&(S[x]=C[x]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,x=Object.getOwnPropertySymbols(C);T<x.length;T++)b.indexOf(x[T])<0&&Object.prototype.propertyIsEnumerable.call(C,x[T])&&(S[x[T]]=C[x[T]]);return S},r=An&&An.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(An,"__esModule",{value:!0}),An.ApiClient=An.APIPromise=void 0;const c=r(Xx()),g=hp(),m=Wt(),h=c1(),d=l1(),l=Ne(),o=Qx(),u=new c.default({keepAlive:!0,timeout:300*1e3});function f(){if(typeof window<"u"&&window.fetch)return window.fetch.bind(window);if(typeof nh<"u"&&nh.fetch)return nh.fetch;if(typeof fetch<"u")return fetch.bind(globalThis);throw new Error("Fetch is not available in this environment")}function v(C){return i(this,void 0,void 0,function*(){const{response:b}=C;if(C.options.stream)return new d.Stream(b);const S=b.headers.get("content-type");if(S?.includes("application/json")){const T=_(C);return Object.assign(Object.assign({},yield b.json()),{getHeaders:()=>T})}return yield b.text()})}function _(C){const{responseHeaders:b}=C,S=(0,d.createResponseHeaders)(b),x=m.PORTKEY_HEADER_PREFIX,T=Object.entries(S).filter(([I,H])=>I.startsWith(x)).map(([I,H])=>[I.replace(x,""),H]);return Object.fromEntries(T)}class O extends Promise{constructor(b,S=v){super(x=>{x(null)}),this.responsePromise=b,this.parseResponse=S}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(b,S){return this.parse().then(b,S)}catch(b){return this.parse().catch(b)}finally(b){return this.parse().finally(b)}}An.APIPromise=O;class A{constructor(b){var{apiKey:S,baseURL:x,config:T,virtualKey:I,traceID:H,metadata:w,provider:k,Authorization:P,cacheForceRefresh:G,debug:D,customHost:F,openaiProject:V,openaiOrganization:U,awsSecretAccessKey:J,awsAccessKeyId:N,awsSessionToken:q,awsRegion:B,vertexProjectId:de,vertexRegion:ye,workersAiAccountId:M,azureResourceName:Z,azureDeploymentId:ce,azureApiVersion:le,azureEndpointName:ne,huggingfaceBaseUrl:me,forwardHeaders:pe,cacheNamespace:te,requestTimeout:re,strictOpenAiCompliance:we=!1,anthropicBeta:ee,anthropicVersion:he,mistralFimCompletion:ve,dangerouslyAllowBrowser:Te,vertexStorageBucketName:Le,providerFileName:tt,providerModel:Be,awsS3Bucket:yt,awsS3ObjectKey:st,awsBedrockModel:bt,fireworksAccountId:_t}=b,Un=s(b,["apiKey","baseURL","config","virtualKey","traceID","metadata","provider","Authorization","cacheForceRefresh","debug","customHost","openaiProject","openaiOrganization","awsSecretAccessKey","awsAccessKeyId","awsSessionToken","awsRegion","vertexProjectId","vertexRegion","workersAiAccountId","azureResourceName","azureDeploymentId","azureApiVersion","azureEndpointName","huggingfaceBaseUrl","forwardHeaders","cacheNamespace","requestTimeout","strictOpenAiCompliance","anthropicBeta","anthropicVersion","mistralFimCompletion","dangerouslyAllowBrowser","vertexStorageBucketName","providerFileName","providerModel","awsS3Bucket","awsS3ObjectKey","awsBedrockModel","fireworksAccountId"]);this.maxRetries=1,this.apiKey=S??"",this.baseURL=x??"",this.customHeaders=(0,g.createHeaders)(Object.assign({apiKey:S,config:T,virtualKey:I,traceID:H,metadata:w,provider:k,Authorization:P,cacheForceRefresh:G,debug:D,customHost:F,cacheNamespace:te,openaiProject:V,openaiOrganization:U,awsSecretAccessKey:J,awsAccessKeyId:N,awsSessionToken:q,awsRegion:B,vertexProjectId:de,vertexRegion:ye,workersAiAccountId:M,azureResourceName:Z,azureDeploymentId:ce,azureApiVersion:le,azureEndpointName:ne,huggingfaceBaseUrl:me,forwardHeaders:pe,requestTimeout:re,strictOpenAiCompliance:we,anthropicVersion:he,mistralFimCompletion:ve,anthropicBeta:ee,dangerouslyAllowBrowser:Te,vertexStorageBucketName:Le,providerFileName:tt,providerModel:Be,awsS3Bucket:yt,awsS3ObjectKey:st,awsBedrockModel:bt,fireworksAccountId:_t},Un)),this.portkeyHeaders=this.defaultHeaders(),this.fetch=f(),this.responseHeaders={}}defaultHeaders(){return Object.assign({"Content-Type":"application/json",[`${m.PORTKEY_HEADER_PREFIX}package-version`]:`portkey-${o.VERSION}`},(0,l.getPlatformProperties)())}_post(b,S){return this.methodRequest("post",b,S)}_put(b,S){return this.methodRequest("put",b,S)}_get(b,S){return this.methodRequest("get",b,S)}_delete(b,S){return this.methodRequest("delete",b,S)}generateError(b,S,x,T){return h.APIError.generate(b,S,x,T)}_shouldRetry(b){const S=b.status,x=b.headers.get("x-portkey-trace-id"),T=b.headers.get("x-portkey-request-id"),I=b.headers.get("x-portkey-gateway-exception");return!(S<500||x||T||I)}request(b,S=0){var x;return i(this,void 0,void 0,function*(){const{req:T,url:I}=this.buildRequest(b),H=yield this.fetch(I,T).catch(l.castToError);if(H instanceof Error){if(!((x=b.signal)===null||x===void 0)&&x.aborted)throw new h.APIUserAbortError;if(S<this.maxRetries)return this.request(b,S+1);throw H.name==="AbortError"?new h.APIConnectionTimeoutError({message:`${H.message} 
 STACK: ${H.stack}`}):new h.APIConnectionError({cause:H})}if(this.responseHeaders=(0,d.createResponseHeaders)(H.headers),!H.ok){if(S<this.maxRetries&&this._shouldRetry(H))return this.request(b,S+1);const w=yield H.text().catch(()=>"Unknown"),k=(0,d.safeJSON)(w),P=k?void 0:w;throw this.generateError(H.status,k,P,this.responseHeaders)}return{response:H,options:b,responseHeaders:H.headers}})}buildRequest(b){const S=new URL(this.baseURL+b.path),{method:x,body:T,extraHeaders:I}=b,H=Object.assign(Object.assign(Object.assign({},this.defaultHeaders()),this.customHeaders),I),k=Object.assign({method:x,headers:H},typeof window>"u"?{agent:u}:{});return x!=="get"&&T!==void 0&&(k.body=JSON.stringify((0,l.parseBody)(T))),{req:k,url:S.toString()}}methodRequest(b,S,x){return new O(this.request(Object.assign({method:b,path:S},x)))}}return An.ApiClient=A,An}var _O;function Wx(){if(_O)return jn;_O=1;var i=jn&&jn.__createBinding||(Object.create?(function(o,u,f,v){v===void 0&&(v=f);var _=Object.getOwnPropertyDescriptor(u,f);(!_||("get"in _?!u.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(o,v,_)}):(function(o,u,f,v){v===void 0&&(v=f),o[v]=u[f]})),s=jn&&jn.__setModuleDefault||(Object.create?(function(o,u){Object.defineProperty(o,"default",{enumerable:!0,value:u})}):function(o,u){o.default=u}),r=jn&&jn.__importStar||function(o){if(o&&o.__esModule)return o;var u={};if(o!=null)for(var f in o)f!=="default"&&Object.prototype.hasOwnProperty.call(o,f)&&i(u,o,f);return s(u,o),u},c=jn&&jn.__rest||function(o,u){var f={};for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&u.indexOf(v)<0&&(f[v]=o[v]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,v=Object.getOwnPropertySymbols(o);_<v.length;_++)u.indexOf(v[_])<0&&Object.prototype.propertyIsEnumerable.call(o,v[_])&&(f[v[_]]=o[v[_]]);return f};Object.defineProperty(jn,"__esModule",{value:!0}),jn.Portkey=void 0;const g=r(hp()),m=Jx(),h=$u(),d=Ne();class l extends m.ApiClient{constructor(u){var f,v,{apiKey:_=(f=(0,d.readEnv)("PORTKEY_API_KEY"))!==null&&f!==void 0?f:null,baseURL:O=(v=(0,d.readEnv)("PORTKEY_BASE_URL"))!==null&&v!==void 0?v:null,config:A,virtualKey:C,provider:b,traceID:S,metadata:x,Authorization:T,cacheForceRefresh:I,debug:H,customHost:w,openaiProject:k,openaiOrganization:P,awsSecretAccessKey:G,awsAccessKeyId:D,awsSessionToken:F,awsRegion:V,vertexProjectId:U,vertexRegion:J,workersAiAccountId:N,azureResourceName:q,azureDeploymentId:B,azureApiVersion:de,azureEndpointName:ye,huggingfaceBaseUrl:M,forwardHeaders:Z,cacheNamespace:ce,requestTimeout:le,strictOpenAiCompliance:ne,anthropicBeta:me,anthropicVersion:pe,mistralFimCompletion:te,dangerouslyAllowBrowser:re,vertexStorageBucketName:we,providerFileName:ee,providerModel:he,awsS3Bucket:ve,awsS3ObjectKey:Te,awsBedrockModel:Le,fireworksAccountId:tt,calculateAudioDuration:Be}=u,yt=c(u,["apiKey","baseURL","config","virtualKey","provider","traceID","metadata","Authorization","cacheForceRefresh","debug","customHost","openaiProject","openaiOrganization","awsSecretAccessKey","awsAccessKeyId","awsSessionToken","awsRegion","vertexProjectId","vertexRegion","workersAiAccountId","azureResourceName","azureDeploymentId","azureApiVersion","azureEndpointName","huggingfaceBaseUrl","forwardHeaders","cacheNamespace","requestTimeout","strictOpenAiCompliance","anthropicBeta","anthropicVersion","mistralFimCompletion","dangerouslyAllowBrowser","vertexStorageBucketName","providerFileName","providerModel","awsS3Bucket","awsS3ObjectKey","awsBedrockModel","fireworksAccountId","calculateAudioDuration"]);if((0,h.isRunningInBrowser)()&&!re)throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Portkey({ ..., dangerouslyAllowBrowser: true, ... });`);super(Object.assign({apiKey:_,baseURL:O,config:A,virtualKey:C,provider:b,traceID:S,metadata:x,Authorization:T,cacheForceRefresh:I,debug:H,customHost:w,cacheNamespace:ce,openaiProject:k,openaiOrganization:P,awsSecretAccessKey:G,awsAccessKeyId:D,awsSessionToken:F,awsRegion:V,vertexProjectId:U,vertexRegion:J,workersAiAccountId:N,azureResourceName:q,azureDeploymentId:B,azureApiVersion:de,azureEndpointName:ye,huggingfaceBaseUrl:M,forwardHeaders:Z,requestTimeout:le,strictOpenAiCompliance:ne,anthropicBeta:me,anthropicVersion:pe,mistralFimCompletion:te,dangerouslyAllowBrowser:re,vertexStorageBucketName:we,providerFileName:ee,providerModel:he,awsS3Bucket:ve,awsS3ObjectKey:Te,awsBedrockModel:Le,fireworksAccountId:tt},yt)),this.completions=new g.Completions(this),this.chat=new g.Chat(this),this.embeddings=new g.Embeddings(this),this.files=new g.MainFiles(this),this.images=new g.Images(this),this.models=new g.Models(this),this.generations=new g.Generations(this),this.prompts=new g.Prompt(this),this.labels=new g.Labels(this),this.collections=new g.Collections(this),this.feedback=new g.Feedback(this),this.batches=new g.Batches(this),this.fineTuning=new g.FineTuning(this),this.vectorStores=new g.VectorStores(this),this.moderations=new g.Moderations(this),this.audio=new g.Audio(this),this.uploads=new g.Uploads(this),this.responses=new g.Responses(this),this.evals=new g.Evals(this),this.containers=new g.Containers(this),this.webhooks=new g.Webhooks(this),this.admin=new g.Admin(this),this.virtualKeys=new g.VirtualKeys(this),this.apiKeys=new g.ApiKeys(this),this.configs=new g.Configs(this),this.logs=new g.Logs(this),this.integrations=new g.Integrations(this),this.providers=new g.Providers(this),this.realtime=new g.MainRealtime(this),this.conversations=new g.Conversations(this),this.videos=new g.Videos(this),this.guardrails=new g.Guardrails(this),this.beta={assistants:new g.Assistants(this),threads:new g.Threads(this),realtime:new g.Realtime(this),chatkit:new g.ChatKit(this)},this.post=(st,bt,_t,Un)=>new g.postMethod(this).create(st,bt,_t,Un),this.get=(st,bt,_t)=>new g.getMethod(this).create(st,bt,_t),this.delete=(st,bt,_t)=>new g.deleteMethod(this).create(st,bt,_t),this.put=(st,bt,_t,Un)=>new g.putMethod(this).create(st,bt,_t,Un),this.baseURL=(0,d.setBaseURL)(O,_),this.apiKey=(0,d.setApiKey)(this.baseURL,_),this.virtualKey=C||null,this.config=A||null,this.provider=b,this.traceID=S,this.metadata=x,this.cacheForceRefresh=I,this.debug=H,this.customHost=w,this.cacheNamespace=ce,this.openaiProject=k,this.openaiOrganization=P,this.awsSecretAccessKey=G,this.awsAccessKeyId=D,this.awsSessionToken=F,this.awsRegion=V,this.vertexProjectId=U,this.vertexRegion=J,this.workersAiAccountId=N,this.azureResourceName=q,this.azureDeploymentId=B,this.azureApiVersion=de,this.azureEndpointName=ye,this.huggingfaceBaseUrl=M,this.forwardHeaders=Z,this.requestTimeout=le,this.strictOpenAiCompliance=ne,this.anthropicBeta=me,this.anthropicVersion=pe,this.mistralFimCompletion=te,this.dangerouslyAllowBrowser=re??!1,this.vertexStorageBucketName=we,this.providerFileName=ee,this.providerModel=he,this.awsS3Bucket=ve,this.awsS3ObjectKey=Te,this.awsBedrockModel=Le,this.fireworksAccountId=tt,this.calculateAudioDuration=Be??!0}}return jn.Portkey=l,jn}var wh={},Hc={},Mc={},xh,bO;function eE(){return bO||(bO=1,xh=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),xh}var zs={},Nc={},OO;function tE(){if(OO)return Nc;OO=1;var i;Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.EventEmitter=void 0;const s=ze();let r=class{constructor(){i.set(this,{})}on(g,m){return(s.__classPrivateFieldGet(this,i,"f")[g]||(s.__classPrivateFieldGet(this,i,"f")[g]=[])).push({listener:m}),this}off(g,m){const h=s.__classPrivateFieldGet(this,i,"f")[g];if(!h)return this;const d=h.findIndex(l=>l.listener===m);return d>=0&&h.splice(d,1),this}once(g,m){return(s.__classPrivateFieldGet(this,i,"f")[g]||(s.__classPrivateFieldGet(this,i,"f")[g]=[])).push({listener:m,once:!0}),this}emitted(g){return new Promise((m,h)=>{this.once(g,m)})}_emit(g,...m){const h=s.__classPrivateFieldGet(this,i,"f")[g];h&&(s.__classPrivateFieldGet(this,i,"f")[g]=h.filter(d=>!d.once),h.forEach(({listener:d})=>d(...m)))}_hasListener(g){const m=s.__classPrivateFieldGet(this,i,"f")[g];return m&&m.length>0}};return Nc.EventEmitter=r,i=new WeakMap,Nc}var jO;function G1(){if(jO)return zs;jO=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.OpenAIRealtimeEmitter=zs.OpenAIRealtimeError=void 0,zs.isAzure=m,zs.buildRealtimeURL=h;const i=tE(),s=Dn(),r=Uu();class c extends s.OpenAIError{constructor(l,o){super(l),this.error=o?.error,this.event_id=o?.event_id}}zs.OpenAIRealtimeError=c;class g extends i.EventEmitter{_onError(l,o,u){if(o=l?.error?`${l.error.message} code=${l.error.code} param=${l.error.param} type=${l.error.type} event_id=${l.error.event_id}`:o??"unknown error",!this._hasListener("error")){const v=new c(o+"\n\nTo resolve these unhandled rejection errors you should bind an `error` callback, e.g. `rt.on('error', (error) => ...)` ",l);v.cause=u,Promise.reject(v);return}const f=new c(o,l);f.cause=u,this._emit("error",f)}}zs.OpenAIRealtimeEmitter=g;function m(d){return d instanceof r.AzureOpenAI}function h(d,l){const o="/realtime",u=d.baseURL,f=new URL(u+(u.endsWith("/")?o.slice(1):o));return f.protocol="wss",m(d)?(f.searchParams.set("api-version",d.apiVersion),f.searchParams.set("deployment",l)):f.searchParams.set("model",l),f}return zs}var AO;function nE(){if(AO)return Mc;AO=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.OpenAIRealtimeWS=void 0;const s=ze().__importStar(eE()),r=Uu(),c=G1();class g extends c.OpenAIRealtimeEmitter{constructor(h,d){if(super(),d??(d=new r.OpenAI),typeof d?._options?.apiKey=="function"&&!h.__resolvedApiKey)throw new Error(["Cannot open Realtime WebSocket with a function-based apiKey.","Use the .create() method so that the key is resolved before connecting:","await OpenAIRealtimeWS.create(client, { model })"].join(`
`));this.url=(0,c.buildRealtimeURL)(d,h.model),this.socket=new s.WebSocket(this.url,{...h.options,headers:{...h.options?.headers,...(0,c.isAzure)(d)&&!h.__resolvedApiKey?{}:{Authorization:`Bearer ${d.apiKey}`},"OpenAI-Beta":"realtime=v1"}}),this.socket.on("message",o=>{const u=(()=>{try{return JSON.parse(o.toString())}catch(f){return this._onError(null,"could not parse websocket event",f),null}})();u&&(this._emit("event",u),u.type==="error"?this._onError(u):this._emit(u.type,u))}),this.socket.on("error",o=>{this._onError(null,o.message,o)})}static async create(h,d){return new g({...d,__resolvedApiKey:await h._callApiKey()},h)}static async azure(h,d={}){const l=await h._callApiKey(),o=d.deploymentName??h.deploymentName;if(!o)throw new Error("No deployment name provided");return new g({model:o,options:{...d.options,headers:{...d.options?.headers,...l?{}:{"api-key":h.apiKey}}},__resolvedApiKey:l},h)}send(h){try{this.socket.send(JSON.stringify(h))}catch(d){this._onError(null,"could not send data",d)}}close(h){try{this.socket.close(h?.code??1e3,h?.reason??"OK")}catch(d){this._onError(null,"could not close the connection",d)}}}return Mc.OpenAIRealtimeWS=g,Mc}var SO;function sE(){if(SO)return Hc;SO=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.PortkeyAIRealtimeWS=void 0;const i=nE();class s extends i.OpenAIRealtimeWS{constructor(c,g){var m;const h=Object.assign(Object.assign({},c.options),{headers:Object.assign(Object.assign({},((m=c.options)===null||m===void 0?void 0:m.headers)||{}),g.customHeaders)});super(Object.assign(Object.assign({},c),{options:h}),g)}}return Hc.PortkeyAIRealtimeWS=s,Hc}var CO;function iE(){return CO||(CO=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.PortkeyAIRealtimeWS=void 0;var s=sE();Object.defineProperty(i,"PortkeyAIRealtimeWS",{enumerable:!0,get:function(){return s.PortkeyAIRealtimeWS}})})(wh)),wh}var Pc={},kc={},RO;function rE(){if(RO)return kc;RO=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.OpenAIRealtimeWebSocket=void 0;const i=Uu(),s=Dn(),r=G1(),c=Fh();class g extends r.OpenAIRealtimeEmitter{constructor(h,d){super();const l=typeof d?._options?.apiKey=="function",o=h.dangerouslyAllowBrowser??d?._options?.dangerouslyAllowBrowser??(d?.apiKey?.startsWith("ek_")?!0:null);if(!o&&(0,c.isRunningInBrowser)())throw new s.OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.

You can avoid this error by creating an ephemeral session token:
https://platform.openai.com/docs/api-reference/realtime-sessions
`);if(d??(d=new i.OpenAI({dangerouslyAllowBrowser:o})),l&&!h?.__resolvedApiKey)throw new Error(["Cannot open Realtime WebSocket with a function-based apiKey.","Use the .create() method so that the key is resolved before connecting:","await OpenAIRealtimeWebSocket.create(client, { model })"].join(`
`));this.url=(0,r.buildRealtimeURL)(d,h.model),h.onURL?.(this.url),this.socket=new WebSocket(this.url.toString(),["realtime",...(0,r.isAzure)(d)?[]:[`openai-insecure-api-key.${d.apiKey}`],"openai-beta.realtime-v1"]),this.socket.addEventListener("message",u=>{const f=(()=>{try{return JSON.parse(u.data.toString())}catch(v){return this._onError(null,"could not parse websocket event",v),null}})();f&&(this._emit("event",f),f.type==="error"?this._onError(f):this._emit(f.type,f))}),this.socket.addEventListener("error",u=>{this._onError(null,u.message,null)}),(0,r.isAzure)(d)&&(this.url.searchParams.get("Authorization")!==null?this.url.searchParams.set("Authorization","<REDACTED>"):this.url.searchParams.set("api-key","<REDACTED>"))}static async create(h,d){return new g({...d,__resolvedApiKey:await h._callApiKey()},h)}static async azure(h,d={}){const l=await h._callApiKey();function o(v){l?v.searchParams.set("Authorization",`Bearer ${h.apiKey}`):v.searchParams.set("api-key",h.apiKey)}const u=d.deploymentName??h.deploymentName;if(!u)throw new Error("No deployment name provided");const{dangerouslyAllowBrowser:f}=d;return new g({model:u,onURL:o,...f?{dangerouslyAllowBrowser:f}:{},__resolvedApiKey:l},h)}send(h){try{this.socket.send(JSON.stringify(h))}catch(d){this._onError(null,"could not send data",d)}}close(h){try{this.socket.close(h?.code??1e3,h?.reason??"OK")}catch(d){this._onError(null,"could not close the connection",d)}}}return kc.OpenAIRealtimeWebSocket=g,kc}var wO;function aE(){if(wO)return Pc;wO=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.PorkteyRealtimeWebSocket=void 0;const i=rE();class s extends i.OpenAIRealtimeWebSocket{constructor(c,g){super(Object.assign({},c),g)}}return Pc.PorkteyRealtimeWebSocket=s,Pc}var Jn={},Eh={},xO;function oE(){return xO||(xO=1,Object.defineProperty(Eh,"__esModule",{value:!0})),Eh}var EO;function cE(){if(EO)return Jn;EO=1;var i=Jn&&Jn.__createBinding||(Object.create?(function(c,g,m,h){h===void 0&&(h=m);var d=Object.getOwnPropertyDescriptor(g,m);(!d||("get"in d?!g.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(c,h,d)}):(function(c,g,m,h){h===void 0&&(h=m),c[h]=g[m]})),s=Jn&&Jn.__setModuleDefault||(Object.create?(function(c,g){Object.defineProperty(c,"default",{enumerable:!0,value:g})}):function(c,g){c.default=g}),r=Jn&&Jn.__importStar||function(c){if(c&&c.__esModule)return c;var g={};if(c!=null)for(var m in c)m!=="default"&&Object.prototype.hasOwnProperty.call(c,m)&&i(g,c,m);return s(g,c),g};return Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.ChatCompletionTypes=void 0,Jn.ChatCompletionTypes=r(oE()),Jn}var TO;function lE(){return TO||(TO=1,(function(i){var s=xs&&xs.__createBinding||(Object.create?(function(o,u,f,v){v===void 0&&(v=f);var _=Object.getOwnPropertyDescriptor(u,f);(!_||("get"in _?!u.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(o,v,_)}):(function(o,u,f,v){v===void 0&&(v=f),o[v]=u[f]})),r=xs&&xs.__setModuleDefault||(Object.create?(function(o,u){Object.defineProperty(o,"default",{enumerable:!0,value:u})}):function(o,u){o.default=u}),c=xs&&xs.__importStar||function(o){if(o&&o.__esModule)return o;var u={};if(o!=null)for(var f in o)f!=="default"&&Object.prototype.hasOwnProperty.call(o,f)&&s(u,o,f);return r(u,o),u};Object.defineProperty(i,"__esModule",{value:!0}),i.types=i.PorkteyRealtimeWebSocket=i.PortkeyAIRealtimeWS=i.createHeaders=i.PORTKEY_GATEWAY_URL=i.Portkey=void 0;const g=c(hp()),m=c(Wx()),h=c(Wt()),d=iE();Object.defineProperty(i,"PortkeyAIRealtimeWS",{enumerable:!0,get:function(){return d.PortkeyAIRealtimeWS}});const l=aE();Object.defineProperty(i,"PorkteyRealtimeWebSocket",{enumerable:!0,get:function(){return l.PorkteyRealtimeWebSocket}}),i.Portkey=m.Portkey,i.PORTKEY_GATEWAY_URL=h.PORTKEY_GATEWAY_URL,i.createHeaders=g.createHeaders,i.types=c(cE()),i.default=i.Portkey})(xs)),xs}var uE=lE();const IO=Qh(uE);class dE{client;config;constructor(s){this.config=s,this.client=new IO({apiKey:s.apiKey,provider:"openai",dangerouslyAllowBrowser:!0})}async createChatCompletion(s){try{return await this.client.chat.completions.create({model:"gpt-4o",messages:s.messages,tools:s.tools,temperature:s.temperature??.7,max_tokens:s.max_tokens??2e3,stream:s.stream??!1})}catch(r){throw console.error("Portkey API error:",r),r}}async*createChatCompletionStream(s){try{const r=await this.client.chat.completions.create({model:"gpt-4o",messages:s.messages,tools:s.tools,temperature:s.temperature??.7,max_tokens:s.max_tokens??2e3,stream:!0});for await(const c of r)yield c}catch(r){throw console.error("Portkey streaming error:",r),r}}updateConfig(s){this.config={...this.config,...s},this.client=new IO({apiKey:this.config.apiKey,provider:"openai",dangerouslyAllowBrowser:!0})}}let Xh=null;function Th(i){return i&&(Xh=new dE(i)),Xh}function fE(){return Xh!==null}function hE(i){return{type:"function",function:{name:i.name,description:i.description||`Call the ${i.name} tool`,parameters:{type:"object",properties:i.inputSchema.properties||{},required:i.inputSchema.required||[]}}}}function pE(i){const s=[];for(const r of Object.values(i))for(const c of r)s.push(hE(c));return s}function mE(i,s){for(const[r,c]of Object.entries(s))if(c.some(g=>g.name===i))return r;return null}const HO="hoot-portkey-api-key";function gE(){const[i,s]=ie.useState([{role:"assistant",content:fE()?" Hi! I'm connected to GPT-4o and can use your MCP tools. What would you like to do?":" Hi! Please configure your Portkey API key in settings to get started."}]),[r,c]=ie.useState(""),[g,m]=ie.useState(!1),[h,d]=ie.useState(null),[l,o]=ie.useState(!1),[u,f]=ie.useState(null),[v,_]=ie.useState(()=>localStorage.getItem(HO)||""),O=ie.useRef(null),A=De(P=>P.servers),C=De(P=>P.tools),b=A.filter(P=>P.connected),S=Object.values(C).flat(),x=!!v;ie.useEffect(()=>{v&&Th({apiKey:v})},[v]);const T=()=>{O.current?.scrollIntoView({behavior:"smooth"})};ie.useEffect(()=>{T()},[i]);const I=P=>{_(P),localStorage.setItem(HO,P),Th({apiKey:P}),s([{role:"assistant",content:" Great! I'm now connected to GPT-4o. I can use your MCP tools. What would you like to do?"}])},H=async()=>{if(!r.trim()||g)return;if(!x){alert("Please configure your Portkey API key in settings first."),o(!0);return}if(b.length===0){alert("Please connect to at least one MCP server in the Test Tools tab first.");return}const P={role:"user",content:r};s(G=>[...G,P]),c(""),m(!0);try{const G=Th();if(!G)throw new Error("Portkey client not initialized");const D=pE(C),F=i.filter(q=>q.role==="user"||q.role==="assistant").map(q=>({role:q.role,content:q.content}));F.push({role:"user",content:r});const V={model:"gpt-4o",messages:F,tools:D.length>0?D:void 0},U=await G.createChatCompletion({messages:F,tools:D.length>0?D:void 0}),N=U.choices[0].message;if(N.tool_calls&&N.tool_calls.length>0){s(q=>[...q,{role:"assistant",content:N.content||"I need to use some tools to help with that.",apiRequest:V,apiResponse:U}]);for(const q of N.tool_calls){const B=q.function.name,de=q.function.arguments;s(M=>[...M,{role:"tool",content:`Calling tool: ${B}`,toolCall:{id:q.id,name:B,arguments:de},apiRequest:{function:B,arguments:de}}]);const ye=mE(B,C);if(!ye)throw new Error(`Tool ${B} not found on any connected server`);try{const M=await Jr.executeTool(ye,B,JSON.parse(de));s(ne=>[...ne,{role:"tool",content:`Tool result: ${B}`,toolResult:{id:q.id,name:B,result:JSON.stringify(M,null,2)},apiResponse:M}]);const Z=[...F,{role:"assistant",content:N.content||null,tool_calls:N.tool_calls},{role:"tool",content:JSON.stringify(M),tool_call_id:q.id}],ce=await G.createChatCompletion({messages:Z,tools:D.length>0?D:void 0}),le=ce.choices[0].message;s(ne=>[...ne,{role:"assistant",content:le.content||"Done!",apiRequest:{messages:Z},apiResponse:ce}])}catch(M){s(Z=>[...Z,{role:"assistant",content:` Error executing tool ${B}: ${M.message}`}])}}}else s(q=>[...q,{role:"assistant",content:N.content||"I apologize, I could not generate a response.",apiRequest:V,apiResponse:U}])}catch(G){console.error("Error in LLM conversation:",G),s(D=>[...D,{role:"assistant",content:` Error: ${G.message||"Failed to process your request"}`}])}finally{m(!1)}},w=h!==null?i[h]:null,k=(P,G)=>{const D=typeof P=="string"?P:JSON.stringify(P,null,2);navigator.clipboard.writeText(D),f(G),setTimeout(()=>f(null),2e3)};return j.jsxs("div",{className:"hybrid-interface",children:[j.jsxs("div",{className:"chat-info-bar",children:[j.jsxs("div",{className:"chat-info-left",children:[j.jsxs("span",{className:"info-item",children:[j.jsx(bu,{size:14}),j.jsxs("span",{children:[b.length," server",b.length!==1?"s":""]})]}),j.jsx("span",{className:"info-divider",children:""}),j.jsxs("span",{className:"info-item",children:[j.jsx(Lr,{size:14}),j.jsxs("span",{children:[S.length," tool",S.length!==1?"s":""]})]})]}),j.jsxs("button",{className:`info-settings-button ${x?"":"needs-setup"}`,onClick:()=>o(!0),title:x?"API Settings":"Configure API Key",children:[j.jsx(DO,{size:14}),!x&&j.jsx("span",{className:"setup-indicator",children:"Setup Required"})]})]}),j.jsxs("div",{className:"hybrid-content",children:[j.jsxs("div",{className:"chat-pane full-width",children:[j.jsxs("div",{className:"chat-messages-hybrid",children:[i.map((P,G)=>j.jsxs("div",{className:`chat-message-hybrid chat-message-${P.role} ${G===h?"selected":""} ${P.apiRequest||P.apiResponse?"has-api-data":""}`,onClick:()=>P.apiRequest||P.apiResponse?d(G):null,children:[P.role==="user"&&j.jsx("div",{className:"message-avatar-hybrid user",children:"You"}),P.role==="assistant"&&j.jsx("div",{className:"message-avatar-hybrid assistant",children:j.jsx(bu,{size:14})}),P.role==="tool"&&j.jsx("div",{className:"message-avatar-hybrid tool",children:j.jsx(Lr,{size:14})}),j.jsxs("div",{className:"message-content-hybrid",children:[j.jsx("div",{className:"message-text-hybrid",children:P.content}),(P.apiRequest||P.apiResponse)&&j.jsxs("div",{className:"api-indicator",children:[j.jsx(Lr,{size:12}),"Click to view API details"]})]})]},G)),g&&j.jsxs("div",{className:"chat-message-hybrid chat-message-assistant",children:[j.jsx("div",{className:"message-avatar-hybrid assistant",children:j.jsx(bu,{size:14})}),j.jsx("div",{className:"message-content-hybrid",children:j.jsxs("div",{className:"typing-indicator-hybrid",children:[j.jsx("span",{}),j.jsx("span",{}),j.jsx("span",{})]})})]}),j.jsx("div",{ref:O})]}),j.jsx("div",{className:"chat-input-container-hybrid",children:j.jsxs("div",{className:"chat-input-wrapper-hybrid",children:[j.jsx("textarea",{className:"chat-input-hybrid",value:r,onChange:P=>c(P.target.value),onKeyPress:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),H())},placeholder:x?"Ask me anything about your MCP tools...":"Configure API key in settings first...",rows:1,disabled:g||!x}),j.jsx("button",{className:"chat-send-button-hybrid",onClick:H,disabled:!r.trim()||g||!x,children:j.jsx(tC,{size:16})})]})})]}),h!==null&&w&&j.jsxs("div",{className:"api-pane",children:[j.jsxs("div",{className:"api-pane-header",children:[j.jsx(Lr,{size:16}),j.jsx("span",{children:"Live API Calls"})]}),j.jsx("div",{className:"api-pane-content",children:w?j.jsxs(j.Fragment,{children:[w.apiRequest&&j.jsxs("div",{className:"api-block",children:[j.jsxs("div",{className:"api-block-header request",children:[j.jsx("span",{children:" Request"}),j.jsx("button",{className:"api-copy-button",onClick:()=>k(w.apiRequest,"request"),title:"Copy JSON",children:u==="request"?j.jsx(Dc,{size:14}):j.jsx(Uc,{size:14})})]}),j.jsx(Bc,{content:JSON.stringify(w.apiRequest),className:"api-json-viewer"})]}),w.apiResponse&&j.jsxs("div",{className:"api-block",children:[j.jsxs("div",{className:"api-block-header response",children:[j.jsx("span",{children:" Response"}),j.jsx("button",{className:"api-copy-button",onClick:()=>k(w.apiResponse,"response"),title:"Copy JSON",children:u==="response"?j.jsx(Dc,{size:14}):j.jsx(Uc,{size:14})})]}),j.jsx(Bc,{content:JSON.stringify(w.apiResponse),className:"api-json-viewer"})]}),w.toolCall&&j.jsxs("div",{className:"api-block",children:[j.jsxs("div",{className:"api-block-header tool-call",children:[j.jsxs("span",{children:[" Tool Call: ",w.toolCall.name]}),j.jsx("button",{className:"api-copy-button",onClick:()=>k(w.toolCall.arguments,"toolcall"),title:"Copy JSON",children:u==="toolcall"?j.jsx(Dc,{size:14}):j.jsx(Uc,{size:14})})]}),j.jsx(Bc,{content:w.toolCall.arguments,className:"api-json-viewer"})]}),w.toolResult&&j.jsxs("div",{className:"api-block",children:[j.jsxs("div",{className:"api-block-header tool-result",children:[j.jsxs("span",{children:[" Tool Result: ",w.toolResult.name]}),j.jsx("button",{className:"api-copy-button",onClick:()=>k(w.toolResult.result,"toolresult"),title:"Copy JSON",children:u==="toolresult"?j.jsx(Dc,{size:14}):j.jsx(Uc,{size:14})})]}),j.jsx(Bc,{content:w.toolResult.result,className:"api-json-viewer"})]}),!w.apiRequest&&!w.apiResponse&&!w.toolCall&&!w.toolResult&&j.jsxs("div",{className:"api-empty",children:[j.jsx(Lr,{size:32}),j.jsx("p",{children:"No API data for this message"})]})]}):j.jsxs("div",{className:"api-empty",children:[j.jsx(Lr,{size:32}),j.jsx("p",{children:"Click on a message to see API details"}),j.jsx("span",{className:"api-hint",children:"Messages with API data have a blue indicator"})]})})]})]}),l&&j.jsx(Vw,{onClose:()=>o(!1),onSave:I,currentApiKey:v})]})}const vE=ie.memo(function({server:s,mode:r,onSubmit:c,isSubmitting:g,error:m}){const[h,d]=ie.useState(s.name),[l,o]=ie.useState(s.transport),[u,f]=ie.useState(s.command||""),[v,_]=ie.useState(s.url||""),[O,A]=ie.useState(""),C=s.auth?.type==="oauth"&&s.auth&&"client_id"in s.auth&&!!s.auth.client_id,[b,S]=ie.useState(C?"oauth_client_credentials":s.auth?.type||"none"),[x,T]=ie.useState(s.auth?.type==="headers"&&s.auth.headers?Object.entries(s.auth.headers).map(([ne,me])=>({key:ne,value:me})):[{key:"",value:""}]),[I,H]=ie.useState(s.auth?.type==="oauth"&&s.auth&&"client_id"in s.auth&&s.auth.client_id||""),[w,k]=ie.useState(""),[P,G]=ie.useState(s.auth?.type==="oauth"&&s.auth&&"token_url"in s.auth&&s.auth.token_url||""),[D,F]=ie.useState(!1),[V,U]=ie.useState(s.auth?.type==="oauth"&&s.auth?.additionalHeaders?Object.entries(s.auth.additionalHeaders).map(([ne,me])=>({key:ne,value:me})):[{key:"",value:""}]),[J,N]=ie.useState(s.auth?.type==="oauth"&&s.auth?.customOAuthMetadata?.authorization_endpoint||""),[q,B]=ie.useState(s.auth?.type==="oauth"&&s.auth?.customOAuthMetadata?.token_endpoint||""),[de,ye]=ie.useState(s.auth?.type==="oauth"&&s.auth?.customOAuthMetadata?.client_id||""),[M,Z]=ie.useState(!1),ce=async()=>{if(!(!v.trim()||!v.startsWith("http"))&&b==="none"&&!(l!=="sse"&&l!=="http")){Z(!0);try{(await BO(v,l)).requiresOAuth&&(console.log(" OAuth detected for URL:",v),S("oauth"),Pn.info("OAuth Required","This server requires OAuth authentication"))}catch(ne){console.error("OAuth discovery error:",ne)}finally{Z(!1)}}},le=async()=>{if(A(""),!h.trim()){A("Server name is required");return}if(l==="stdio"&&!u.trim()){A("Command is required for stdio transport");return}if((l==="sse"||l==="http")&&!v.trim()){A("URL is required for SSE/HTTP transport");return}if(b==="headers"&&x.filter(te=>te.key.trim()&&te.value.trim()).length===0){A("At least one header with key and value is required for header-based auth");return}if(b==="oauth_client_credentials"&&(!I.trim()||!w.trim())){A("Client ID and Client Secret are required for OAuth Client Credentials");return}let ne;if(b!=="none"&&(ne={type:b==="oauth_client_credentials"?"oauth":b},b==="headers"?ne.headers=x.filter(pe=>pe.key.trim()&&pe.value.trim()).reduce((pe,te)=>({...pe,[te.key.trim()]:te.value.trim()}),{}):b==="oauth_client_credentials"&&(ne.client_id=I.trim(),ne.client_secret=w.trim(),P.trim()&&(ne.token_url=P.trim())),b==="oauth"||b==="oauth_client_credentials")){const pe=V.filter(te=>te.key.trim()&&te.value.trim());pe.length>0&&(ne.additionalHeaders=pe.reduce((te,re)=>({...te,[re.key.trim()]:re.value.trim()}),{})),(J.trim()||q.trim()||de.trim())&&(ne.customOAuthMetadata={},J.trim()&&(ne.customOAuthMetadata.authorization_endpoint=J.trim()),q.trim()&&(ne.customOAuthMetadata.token_endpoint=q.trim()),de.trim()&&(ne.customOAuthMetadata.client_id=de.trim()))}const me={name:h.trim(),transport:l,...l==="stdio"?{command:u.trim(),url:void 0}:{url:v.trim(),command:void 0},auth:ne};await c(me)};return j.jsxs(j.Fragment,{children:[(O||m)&&j.jsx("div",{className:"error-message",children:O||m}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:l==="stdio"?"Command":"URL"}),l==="stdio"?j.jsx("input",{type:"text",className:"form-input",placeholder:"node server.js",value:u,onChange:ne=>f(ne.target.value)}):j.jsxs(j.Fragment,{children:[j.jsx("input",{type:"text",className:"form-input",placeholder:"https://example.com/mcp",value:v,onChange:ne=>_(ne.target.value),onBlur:ce}),M&&j.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:" Checking for OAuth..."})]})]}),j.jsx("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid var(--border-color)"}}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Server Name"}),j.jsx("input",{type:"text",className:"form-input",placeholder:"My MCP Server",value:h,onChange:ne=>d(ne.target.value)})]}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Transport"}),j.jsxs("div",{className:"radio-group",children:[j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"transport",value:"http",checked:l==="http",onChange:ne=>o(ne.target.value)}),j.jsx("span",{children:"HTTP"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"transport",value:"sse",checked:l==="sse",onChange:ne=>o(ne.target.value)}),j.jsx("span",{children:"SSE"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"transport",value:"stdio",checked:l==="stdio",onChange:ne=>o(ne.target.value),disabled:!0,title:"stdio requires desktop app (coming soon)"}),j.jsx("span",{style:{opacity:.5},children:"stdio (coming soon)"})]})]})]}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Authentication"}),j.jsxs("div",{className:"radio-group",children:[j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"authType",value:"none",checked:b==="none",onChange:ne=>S(ne.target.value)}),j.jsx("span",{children:"None"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"authType",value:"headers",checked:b==="headers",onChange:ne=>S(ne.target.value)}),j.jsx("span",{children:"Headers"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"authType",value:"oauth",checked:b==="oauth",onChange:ne=>S(ne.target.value)}),j.jsx("span",{children:"OAuth 2.1 (PKCE)"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"authType",value:"oauth_client_credentials",checked:b==="oauth_client_credentials",onChange:ne=>S(ne.target.value)}),j.jsx("span",{children:"OAuth Client Credentials"})]})]})]}),b==="headers"&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsx("label",{className:"form-label",children:"Headers"}),x.map((ne,me)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Header Name (e.g., X-API-Key)",value:ne.key,onChange:pe=>{const te=[...x];te[me].key=pe.target.value,T(te)}})}),j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"password",className:"form-input",placeholder:"Header Value",value:ne.value,onChange:pe=>{const te=[...x];te[me].value=pe.target.value,T(te)}})}),x.length>1&&j.jsx("button",{onClick:()=>T(x.filter((pe,te)=>te!==me)),style:{padding:"10px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"var(--red-500)",cursor:"pointer",fontSize:"14px"},children:""})]},me)),j.jsx("button",{onClick:()=>T([...x,{key:"",value:""}]),style:{padding:"10px 16px",background:"rgba(92, 207, 230, 0.1)",border:"1px solid rgba(92, 207, 230, 0.3)",borderRadius:"6px",color:"var(--blue-500)",cursor:"pointer",fontSize:"13px",fontWeight:600,marginTop:"8px"},children:"+ Add Header"})]}),b==="oauth"&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsx("div",{className:"info-message",style:{fontSize:"13px",opacity:.8},children:"Hoot will automatically handle the OAuth flow with PKCE when you connect."}),j.jsxs("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid rgba(92, 207, 230, 0.2)"},children:[j.jsxs("button",{type:"button",onClick:()=>F(!D),style:{background:"none",border:"none",color:"var(--blue-500)",cursor:"pointer",fontSize:"13px",fontWeight:600,padding:0,display:"flex",alignItems:"center",gap:"6px",marginBottom:D?"16px":0},children:[j.jsx("span",{style:{transform:D?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),"Advanced OAuth Settings"]}),D&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsxs("div",{style:{marginBottom:"20px"},children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"8px"},children:["Additional Headers",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(sent with OAuth requests)"})]}),V.map((ne,me)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Header Name (e.g., X-API-Version)",value:ne.key,onChange:pe=>{const te=[...V];te[me].key=pe.target.value,U(te)}})}),j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Header Value",value:ne.value,onChange:pe=>{const te=[...V];te[me].value=pe.target.value,U(te)}})}),V.length>1&&j.jsx("button",{type:"button",onClick:()=>U(V.filter((pe,te)=>te!==me)),style:{padding:"10px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"var(--red-500)",cursor:"pointer",fontSize:"14px"},children:""})]},me)),j.jsx("button",{type:"button",onClick:()=>U([...V,{key:"",value:""}]),style:{padding:"10px 16px",background:"rgba(92, 207, 230, 0.1)",border:"1px solid rgba(92, 207, 230, 0.3)",borderRadius:"6px",color:"var(--blue-500)",cursor:"pointer",fontSize:"13px",fontWeight:600,marginTop:"8px"},children:"+ Add Header"})]}),j.jsxs("div",{children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"12px"},children:["Custom OAuth Endpoints",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(overrides auto-discovery)"})]}),j.jsx("div",{className:"form-field",children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Authorization Endpoint (optional)",value:J,onChange:ne=>N(ne.target.value)})}),j.jsx("div",{className:"form-field",children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Token Endpoint (optional)",value:q,onChange:ne=>B(ne.target.value)})}),j.jsx("div",{className:"form-field",style:{marginBottom:0},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Custom Client ID (optional)",value:de,onChange:ne=>ye(ne.target.value)})})]})]})]})]}),b==="oauth_client_credentials"&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Client ID"}),j.jsx("input",{type:"text",className:"form-input",placeholder:"your-client-id",value:I,onChange:ne=>H(ne.target.value)})]}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Client Secret"}),j.jsx("input",{type:"password",className:"form-input",placeholder:"your-client-secret",value:w,onChange:ne=>k(ne.target.value)})]}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Token URL (Optional)"}),j.jsx("input",{type:"text",className:"form-input",placeholder:"https://api.example.com/oauth/token",value:P,onChange:ne=>G(ne.target.value)})]})]}),j.jsx("div",{style:{marginTop:"32px",paddingBottom:"8px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:j.jsx("button",{className:"btn btn-primary",onClick:le,disabled:g,children:g?"Connecting...":r==="add"?"Add Server":"Save & Reconnect"})})]})}),yE=ie.memo(function({onClose:s}){console.log(" AddServerModal rendered");const[r,c]=ie.useState(""),[g,m]=ie.useState(""),[h,d]=ie.useState("idle"),[l,o]=ie.useState(null),u=De(I=>I.addServer),{connect:f}=ta(),[v,_]=ie.useState(!1),[O,A]=ie.useState(""),[C,b]=ie.useState([{id:"connect",label:"Finding your server",status:"pending"},{id:"transport",label:"Checking how to connect",status:"pending"},{id:"metadata",label:"Getting server details",status:"pending"},{id:"auth",label:"Checking if login is needed",status:"pending"}]),S=(I,H,w)=>{b(k=>k.map(P=>P.id===I?{...P,status:H,message:w}:P))},x=async()=>{if(m(""),!r.trim()){m("Server URL is required");return}try{new URL(r.trim())}catch{m("Please enter a valid URL (e.g., http://localhost:3000)");return}d("detecting"),b([{id:"connect",label:"Finding your server",status:"active"},{id:"transport",label:"Checking how to connect",status:"pending"},{id:"metadata",label:"Getting server details",status:"pending"},{id:"auth",label:"Checking if login is needed",status:"pending"}]);try{await new Promise(P=>setTimeout(P,400));const I=await _C(r.trim());if(!I.success){S("connect","error",I.error||"Connection failed"),d("error"),m(I.error||"Could not connect to server");return}S("connect","complete"),S("transport","active"),await new Promise(P=>setTimeout(P,300)),S("transport","complete",I.transport?.toUpperCase()),S("metadata","active"),await new Promise(P=>setTimeout(P,300));const H=I.serverInfo?.name||"Unknown Server";S("metadata","complete",H),S("auth","active"),await new Promise(P=>setTimeout(P,300));let w="None Required";I.requiresClientCredentials?w="Client Credentials Required":I.requiresOAuth?w="OAuth Required":I.requiresHeaderAuth&&(w="Custom Auth Required"),S("auth","complete",w),d("success");const k={id:`server-${Date.now()}`,name:H,url:r.trim(),transport:I.transport||"http"};I.requiresOAuth?k.auth={type:"oauth"}:I.requiresHeaderAuth?k.auth={type:"headers",headers:{}}:k.auth={type:"none"},o(k),await new Promise(P=>setTimeout(P,600)),d("configuring")}catch(I){console.error("Detection error:",I),d("error"),m(I instanceof Error?I.message:"Failed to detect server configuration")}},T=async I=>{_(!0),A("");try{const H=`server-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,w={id:H,name:I.name,transport:I.transport,connected:!1,url:I.url,command:I.command,auth:I.auth};if(u(w),I.auth?.type==="oauth"&&sessionStorage.setItem("oauth_server_id",H),await f(w))s();else{const P=De.getState().servers.find(G=>G.id===H);P?.error?A(P.error):console.log(" OAuth redirect initiated")}}catch(H){const w=H instanceof Error?H.message:"Failed to connect. Check settings and try again.";A(w)}finally{_(!1)}};return j.jsx("div",{className:"modal-overlay",onClick:s,children:j.jsxs("div",{className:"modal",onClick:I=>I.stopPropagation(),style:{maxWidth:h==="configuring"?"600px":"560px"},children:[j.jsxs("div",{className:"modal-header",children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[j.jsx("span",{style:{fontSize:"28px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),j.jsx("h2",{style:{margin:0},children:h==="configuring"?"Configure Server":"Add MCP Server"})]}),h!=="configuring"&&j.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"14px",fontWeight:400,marginTop:"4px",marginBottom:"24px"},children:"Enter your server URL and we'll figure out the rest"})]}),j.jsx("div",{className:"modal-body",children:h==="configuring"&&l?j.jsx(vE,{server:l,mode:"add",onSubmit:T,isSubmitting:v,error:O}):j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Server URL"}),j.jsx("input",{type:"text",className:"form-input",placeholder:"http://localhost:3000/mcp",value:r,onChange:I=>c(I.target.value),onKeyDown:I=>{I.key==="Enter"&&h==="idle"&&x()},disabled:h==="detecting",autoFocus:!0})]}),h==="detecting"&&j.jsx("div",{style:{marginTop:"24px"},children:C.map(I=>j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",marginBottom:"8px",background:I.status==="active"||I.status==="complete"?"rgba(92, 207, 230, 0.1)":"rgba(31, 36, 48, 0.6)",borderRadius:"8px",border:`1px solid ${I.status==="active"?"rgba(92, 207, 230, 0.3)":I.status==="complete"?"rgba(34, 197, 94, 0.3)":I.status==="error"?"rgba(239, 68, 68, 0.3)":"rgba(92, 207, 230, 0.1)"}`,transition:"all 0.3s ease"},children:[j.jsxs("div",{style:{width:"20px",height:"20px",flexShrink:0},children:[I.status==="active"&&j.jsx("div",{className:"spinner-small"}),I.status==="complete"&&j.jsx("span",{style:{color:"var(--green-500)",fontSize:"16px"},children:""}),I.status==="error"&&j.jsx("span",{style:{color:"var(--red-500)",fontSize:"16px"},children:""}),I.status==="pending"&&j.jsx("span",{style:{color:"var(--text-tertiary)",fontSize:"16px"},children:""})]}),j.jsxs("div",{style:{flex:1},children:[j.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:"var(--text-white)"},children:I.label}),I.message&&j.jsx("div",{style:{fontSize:"12px",color:I.status==="error"?"var(--red-500)":"var(--text-secondary)",marginTop:"2px"},children:I.message})]})]},I.id))}),h==="success"&&j.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"8px",textAlign:"center"},children:[j.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),j.jsx("div",{style:{color:"var(--green-500)",fontWeight:600,marginBottom:"4px"},children:"Detection Complete!"}),j.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:"Opening configuration..."})]}),g&&j.jsx("div",{className:"error-message",style:{marginTop:"16px"},children:g})]})}),h!=="configuring"&&j.jsxs("div",{className:"modal-footer",children:[j.jsx("button",{className:"btn btn-secondary",onClick:s,disabled:h==="detecting",children:"Cancel"}),h==="idle"||h==="error"?j.jsx("button",{className:"btn btn-primary",onClick:x,disabled:!r.trim(),children:"Detect Server"}):null]})]})})}),_E=ie.memo(function({mode:s="edit",server:r,onClose:c}){const[g,m]=ie.useState(r.name),[h,d]=ie.useState(r.transport),[l,o]=ie.useState(r.command||""),[u,f]=ie.useState(r.url||""),[v,_]=ie.useState(""),O=r.auth?.type==="oauth"&&r.auth&&"client_id"in r.auth&&!!r.auth.client_id,[A,C]=ie.useState(O?"oauth_client_credentials":r.auth?.type||"none"),[b,S]=ie.useState(r.auth?.type==="headers"&&r.auth.headers?Object.entries(r.auth.headers).map(([te,re])=>({key:te,value:re})):[{key:"",value:""}]),[x,T]=ie.useState(r.auth?.type==="oauth"&&r.auth&&"client_id"in r.auth&&r.auth.client_id||""),[I,H]=ie.useState(""),[w,k]=ie.useState(r.auth?.type==="oauth"&&r.auth&&"token_url"in r.auth&&r.auth.token_url||""),[P,G]=ie.useState(!1),[D,F]=ie.useState(r.auth?.type==="oauth"&&r.auth?.additionalHeaders?Object.entries(r.auth.additionalHeaders).map(([te,re])=>({key:te,value:re})):[{key:"",value:""}]),[V,U]=ie.useState(r.auth?.type==="oauth"&&r.auth?.customOAuthMetadata?.authorization_endpoint||""),[J,N]=ie.useState(r.auth?.type==="oauth"&&r.auth?.customOAuthMetadata?.token_endpoint||""),[q,B]=ie.useState(r.auth?.type==="oauth"&&r.auth?.customOAuthMetadata?.client_id||""),[de,ye]=ie.useState(!1),M=async()=>{if(!(!u.trim()||!u.startsWith("http"))&&A==="none"&&!(h!=="sse"&&h!=="http")){ye(!0);try{(await BO(u,h)).requiresOAuth&&(console.log(" OAuth detected for URL:",u),C("oauth"),Pn.info("OAuth Required","This server requires OAuth authentication"))}catch(te){console.error("OAuth discovery error:",te)}finally{ye(!1)}}},Z=De(te=>te.updateServer),ce=De(te=>te.addServer),{connect:le,disconnect:ne,isConnecting:me}=ta(),pe=async()=>{if(_(""),!g.trim()){_("Server name is required");return}if(h==="stdio"&&!l.trim()){_("Command is required for stdio transport");return}if((h==="sse"||h==="http")&&!u.trim()){_("URL is required for SSE/HTTP transport");return}if(A==="headers"&&b.filter(we=>we.key.trim()&&we.value.trim()).length===0){_("At least one header with key and value is required for header-based auth");return}if(A==="oauth_client_credentials"&&(!x.trim()||!I.trim())){_("Client ID and Client Secret are required for OAuth Client Credentials");return}let te;if(A!=="none"&&(te={type:A==="oauth_client_credentials"?"oauth":A},A==="headers"?te.headers=b.filter(re=>re.key.trim()&&re.value.trim()).reduce((re,we)=>({...re,[we.key.trim()]:we.value.trim()}),{}):A==="oauth_client_credentials"&&(te.client_id=x.trim(),te.client_secret=I.trim(),w.trim()&&(te.token_url=w.trim())),A==="oauth"||A==="oauth_client_credentials")){const re=D.filter(we=>we.key.trim()&&we.value.trim());re.length>0&&(te.additionalHeaders=re.reduce((we,ee)=>({...we,[ee.key.trim()]:ee.value.trim()}),{})),(V.trim()||J.trim()||q.trim())&&(te.customOAuthMetadata={},V.trim()&&(te.customOAuthMetadata.authorization_endpoint=V.trim()),J.trim()&&(te.customOAuthMetadata.token_endpoint=J.trim()),q.trim()&&(te.customOAuthMetadata.client_id=q.trim()))}if(s==="edit"&&r.connected&&await ne(r.id),s==="add"){const re=`server-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,we={id:re,name:g.trim(),transport:h,connected:!1,...h==="stdio"?{command:l.trim()}:{url:u.trim()},auth:te};ce(we),te?.type==="oauth"&&sessionStorage.setItem("oauth_server_id",re);try{if(await le(we))c();else{const he=De.getState().servers.find(ve=>ve.id===re);he?.error?_(he.error):console.log(" OAuth redirect initiated")}}catch(ee){const he=ee instanceof Error?ee.message:"Failed to connect. Check settings and try again.";_(he)}}else{Z(r.id,{name:g.trim(),transport:h,...h==="stdio"?{command:l.trim(),url:void 0}:{url:u.trim(),command:void 0},auth:te});const re=De.getState().servers.find(we=>we.id===r.id);if(re){re.auth?.type==="oauth"&&sessionStorage.setItem("oauth_server_id",re.id);try{if(await le(re))c();else{const ee=De.getState().servers.find(he=>he.id===r.id);ee?.error?_(ee.error):console.log(" OAuth redirect initiated")}}catch(we){const ee=we instanceof Error?we.message:"Failed to connect with new configuration. Check settings and try again.";_(ee)}}}};return j.jsx("div",{className:"modal-overlay",onClick:c,children:j.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),children:[j.jsx("div",{className:"modal-header",children:j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[j.jsx("span",{style:{fontSize:"28px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),j.jsx("h2",{style:{margin:0},children:s==="add"?"Configure Server":"Edit Server"})]})}),j.jsxs("div",{className:"modal-body",children:[v&&j.jsx("div",{className:"error-message",children:v}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:h==="stdio"?"Command":"URL"}),j.jsxs("div",{style:{position:"relative"},children:[j.jsx("input",{type:"text",className:"form-input",style:de?{paddingRight:"40px"}:{},placeholder:h==="stdio"?"node server.js":"http://localhost:3000",value:h==="stdio"?l:u,onChange:te=>h==="stdio"?o(te.target.value):f(te.target.value),onBlur:h!=="stdio"?M:void 0,autoFocus:!0}),de&&j.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",justifyContent:"center"},children:j.jsx("div",{className:"spinner-small"})})]})]}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Server Name"}),j.jsx("input",{type:"text",className:"form-input",placeholder:"My MCP Server",value:g,onChange:te=>m(te.target.value)})]}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Transport"}),j.jsxs("div",{className:"radio-group",children:[j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"transport",value:"http",checked:h==="http",onChange:te=>d(te.target.value)}),j.jsx("span",{children:"HTTP"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"transport",value:"sse",checked:h==="sse",onChange:te=>d(te.target.value)}),j.jsx("span",{children:"SSE"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"transport",value:"stdio",checked:h==="stdio",onChange:te=>d(te.target.value),disabled:!0,title:"stdio requires desktop app (coming soon)"}),j.jsx("span",{style:{opacity:.5},children:"stdio (desktop only)"})]})]}),h==="stdio"&&j.jsx("div",{className:"info-message",style:{marginTop:"8px"},children:"stdio transport requires a desktop app. Use SSE or HTTP for browser testing."})]}),j.jsxs("div",{className:"form-field",style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid var(--border-color)"},children:[j.jsx("label",{className:"form-label",children:"Authentication"}),j.jsxs("div",{className:"radio-group",children:[j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"authType",value:"none",checked:A==="none",onChange:te=>C(te.target.value)}),j.jsx("span",{children:"None"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"authType",value:"headers",checked:A==="headers",onChange:te=>C(te.target.value)}),j.jsx("span",{children:"Headers"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"authType",value:"oauth",checked:A==="oauth",onChange:te=>C(te.target.value)}),j.jsx("span",{children:"OAuth 2.1 (PKCE)"})]}),j.jsxs("label",{className:"radio-option",children:[j.jsx("input",{type:"radio",name:"authType",value:"oauth_client_credentials",checked:A==="oauth_client_credentials",onChange:te=>C(te.target.value)}),j.jsx("span",{children:"OAuth Client Credentials"})]})]})]}),A==="headers"&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsx("label",{className:"form-label",children:"Headers"}),b.map((te,re)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Header Name (e.g., X-API-Key)",value:te.key,onChange:we=>{const ee=[...b];ee[re].key=we.target.value,S(ee)}})}),j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"password",className:"form-input",placeholder:"Header Value",value:te.value,onChange:we=>{const ee=[...b];ee[re].value=we.target.value,S(ee)}})}),b.length>1&&j.jsx("button",{onClick:()=>S(b.filter((we,ee)=>ee!==re)),style:{padding:"10px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"var(--red-500)",cursor:"pointer",fontSize:"14px"},children:""})]},re)),j.jsx("button",{onClick:()=>S([...b,{key:"",value:""}]),style:{padding:"8px 16px",background:"rgba(92, 207, 230, 0.1)",border:"1px solid rgba(92, 207, 230, 0.3)",borderRadius:"6px",color:"var(--blue-500)",cursor:"pointer",fontSize:"13px",fontWeight:600,width:"100%",marginTop:"8px"},children:"+ Add Header"})]}),A==="oauth"&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsx("div",{className:"info-message",style:{fontSize:"13px",opacity:.8},children:"Hoot will automatically handle the OAuth flow with PKCE when you connect."}),j.jsxs("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid rgba(92, 207, 230, 0.2)"},children:[j.jsxs("button",{onClick:()=>G(!P),style:{background:"none",border:"none",color:"var(--blue-500)",cursor:"pointer",fontSize:"13px",fontWeight:600,padding:0,display:"flex",alignItems:"center",gap:"6px",marginBottom:P?"16px":0},children:[j.jsx("span",{style:{transform:P?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),"Advanced OAuth Settings"]}),P&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsxs("div",{style:{marginBottom:"20px"},children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"8px"},children:["Additional Headers",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(sent with OAuth requests)"})]}),D.map((te,re)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Header Name (e.g., X-API-Version)",value:te.key,onChange:we=>{const ee=[...D];ee[re].key=we.target.value,F(ee)}})}),j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Header Value",value:te.value,onChange:we=>{const ee=[...D];ee[re].value=we.target.value,F(ee)}})}),D.length>1&&j.jsx("button",{onClick:()=>F(D.filter((we,ee)=>ee!==re)),style:{padding:"10px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"var(--red-500)",cursor:"pointer",fontSize:"14px"},children:""})]},re)),j.jsx("button",{onClick:()=>F([...D,{key:"",value:""}]),style:{padding:"6px 12px",background:"rgba(92, 207, 230, 0.1)",border:"1px solid rgba(92, 207, 230, 0.3)",borderRadius:"6px",color:"var(--blue-500)",cursor:"pointer",fontSize:"12px",fontWeight:600,width:"100%"},children:"+ Add Header"})]}),j.jsxs("div",{children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"12px"},children:["Custom OAuth Endpoints",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(overrides auto-discovery)"})]}),j.jsx("div",{className:"form-field",children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Authorization Endpoint (optional)",value:V,onChange:te=>U(te.target.value)})}),j.jsx("div",{className:"form-field",children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Token Endpoint (optional)",value:J,onChange:te=>N(te.target.value)})}),j.jsx("div",{className:"form-field",style:{marginBottom:0},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Custom Client ID (optional)",value:q,onChange:te=>B(te.target.value)})})]})]})]})]}),A==="oauth_client_credentials"&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Client ID"}),j.jsx("input",{type:"text",className:"form-input",placeholder:"your-client-id",value:x,onChange:te=>T(te.target.value)})]}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Client Secret"}),j.jsx("input",{type:"password",className:"form-input",placeholder:"your-client-secret",value:I,onChange:te=>H(te.target.value)})]}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{className:"form-label",children:"Token URL (Optional)"}),j.jsx("input",{type:"text",className:"form-input",placeholder:"https://api.example.com/oauth/token",value:w,onChange:te=>k(te.target.value)})]}),j.jsxs("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid rgba(92, 207, 230, 0.2)"},children:[j.jsxs("button",{onClick:()=>G(!P),style:{background:"none",border:"none",color:"var(--blue-500)",cursor:"pointer",fontSize:"13px",fontWeight:600,padding:0,display:"flex",alignItems:"center",gap:"6px",marginBottom:P?"16px":0},children:[j.jsx("span",{style:{transform:P?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),"Advanced Settings"]}),P&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsxs("div",{style:{marginBottom:"20px"},children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"8px"},children:["Additional Headers",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(sent with OAuth requests)"})]}),D.map((te,re)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Header Name (e.g., X-API-Version)",value:te.key,onChange:we=>{const ee=[...D];ee[re].key=we.target.value,F(ee)}})}),j.jsx("div",{style:{flex:1},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Header Value",value:te.value,onChange:we=>{const ee=[...D];ee[re].value=we.target.value,F(ee)}})}),D.length>1&&j.jsx("button",{onClick:()=>F(D.filter((we,ee)=>ee!==re)),style:{padding:"10px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"var(--red-500)",cursor:"pointer",fontSize:"14px"},children:""})]},re)),j.jsx("button",{onClick:()=>F([...D,{key:"",value:""}]),style:{padding:"10px 16px",background:"rgba(92, 207, 230, 0.1)",border:"1px solid rgba(92, 207, 230, 0.3)",borderRadius:"6px",color:"var(--blue-500)",cursor:"pointer",fontSize:"13px",fontWeight:600,marginTop:"8px"},children:"+ Add Header"})]}),j.jsxs("div",{children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"12px"},children:["Custom OAuth Endpoints",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(overrides auto-discovery)"})]}),j.jsx("div",{className:"form-field",children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Authorization Endpoint (optional)",value:V,onChange:te=>U(te.target.value)})}),j.jsx("div",{className:"form-field",children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Token Endpoint (optional)",value:J,onChange:te=>N(te.target.value)})}),j.jsx("div",{className:"form-field",style:{marginBottom:0},children:j.jsx("input",{type:"text",className:"form-input",placeholder:"Custom Client ID (optional)",value:q,onChange:te=>B(te.target.value)})})]})]})]})]})]}),j.jsxs("div",{className:"modal-footer",children:[j.jsx("button",{className:"btn btn-secondary",onClick:c,disabled:me,children:"Cancel"}),j.jsx("button",{className:"btn btn-primary",onClick:pe,disabled:me,children:me?"Connecting...":s==="add"?"Add Server":"Save & Reconnect"})]})]})})});function bE(){const[i,s]=ie.useState("processing"),[r,c]=ie.useState("Processing authorization..."),{connect:g}=ta(),m=De(l=>l.servers),h=ie.useRef(!1);ie.useEffect(()=>{if(h.current){console.log("OAuth callback already executed, skipping duplicate");return}h.current=!0,d()},[]);const d=async()=>{try{sessionStorage.removeItem("oauth_last_redirect");const l=new URLSearchParams(window.location.search),o=l.get("code"),u=l.get("error"),f=l.get("error_description");if(u){const b={access_denied:"Authorization was cancelled or denied. You can try again if you change your mind.",invalid_request:"Invalid OAuth request. The server may have incorrect OAuth configuration.",unauthorized_client:"This client is not authorized. Please check the server's OAuth client ID configuration.",unsupported_response_type:"OAuth configuration error. The server may not support the required response type.",invalid_scope:"The requested permissions are invalid or not available.",server_error:"The authorization server encountered an error. Please try again later.",temporarily_unavailable:"The authorization server is temporarily unavailable. Please try again in a few moments."}[u]||f||`OAuth error: ${u}`;throw new Error(b)}if(!o)throw new Error("No authorization code was received from the OAuth provider. This may indicate a configuration issue with the server.");const v=sessionStorage.getItem("oauth_server_id")||sessionStorage.getItem("oauth_pending_server");if(!v)throw new Error("OAuth session expired. Please return to Hoot and try connecting again.");const _=m.find(C=>C.id===v);if(!_)throw new Error("Server not found. It may have been deleted while you were authorizing.");c(`Exchanging authorization code for ${_.name}...`);let O=!1,A=null;try{O=await g(_,o)}catch(C){A=C instanceof Error?C:new Error("Connection failed"),console.log("Connection error during OAuth callback:",A)}if(O)s("success"),c(` Successfully authorized ${_.name}!`);else if(c(`Waiting for ${_.name} to complete connection...`),await new Promise(S=>setTimeout(S,1500)),De.getState().servers.find(S=>S.id===v)?.connected)s("success"),c(` Successfully authorized ${_.name}!`);else{const S=A?.message||"Failed to complete OAuth connection. The token exchange may have failed. Please try reconnecting.";throw new Error(S)}try{const C=await CC(v);if(C&&C.name){console.log(` Updating server name from "${_.name}" to "${C.name}"`);const b=De.getState().updateServer;b(v,{name:C.name,...C.version&&{}})}}catch(C){console.log("Could not fetch server info after OAuth:",C)}sessionStorage.removeItem("oauth_server_id"),sessionStorage.removeItem("oauth_pending_server"),sessionStorage.removeItem("oauth_last_redirect"),setTimeout(()=>{window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate"))},1e3)}catch(l){console.error("OAuth callback error:",l),s("error");let o="OAuth authorization failed";l instanceof Error&&(o=l.message,o.includes("Code verifier")||o.includes("PKCE")?o="Token exchange failed: PKCE verification error. The authorization session may have expired. Please try connecting again.":o.includes("Backend server is not running")?o="Unable to complete authorization: Backend server is not running. Please ensure the backend is started.":o.includes("Failed to fetch")||o.includes("Network")?o="Network error during token exchange. Please check your internet connection and try again.":o.includes("401")||o.includes("invalid_client")?o="Token exchange failed: Invalid client credentials. Please verify the OAuth configuration (client ID and secret) for this server.":o.includes("invalid_grant")||o.includes("authorization code")?o="Token exchange failed: The authorization code is invalid or expired. This can happen if you took too long to authorize. Please try connecting again.":o.includes("CORS")&&(o="Token exchange failed due to CORS restrictions. The server needs to allow requests from this domain.")),c(o)}};return j.jsx("div",{className:"oauth-callback",children:j.jsxs("div",{className:`oauth-callback-content ${i==="error"?"error":""}`,children:[j.jsxs("div",{className:"oauth-icon",children:[i==="processing"&&j.jsx("div",{className:"spinner",children:""}),i==="success"&&j.jsx("div",{className:"success-icon",children:""}),i==="error"&&j.jsx("div",{className:"error-icon",children:""})]}),j.jsxs("h2",{className:"oauth-title",children:[i==="processing"&&"Authorizing...",i==="success"&&"Authorization Complete!",i==="error"&&"Authorization Failed"]}),j.jsx("p",{className:"oauth-message",children:r}),i==="error"&&j.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.href="/",children:"Return to Hoot"}),i==="success"&&j.jsx("p",{className:"oauth-redirect",children:"Redirecting you back to Hoot..."})]})})}function OE(){try{if(window.location.hash.startsWith("#/try")){const g=new URL(window.location.href.replace("#/try","")).searchParams.get("config");if(g){const m=atob(g),h=JSON.parse(m);return MO(h)}}const r=new URLSearchParams(window.location.search).get("try");if(r){const c=atob(r),g=JSON.parse(c);return MO(g)}return null}catch(i){return console.error("Failed to parse Try in Hoot URL:",i),Pn.error("Invalid Link",'The "Try in Hoot" link is malformed or invalid'),null}}function MO(i){if(!i||typeof i!="object")throw new Error("Config must be an object");if(i.url&&!i.name&&!i.transport)return{name:"",transport:"http",url:i.url,...i.auth&&{auth:i.auth}};if(!i.name||typeof i.name!="string")throw new Error('Config must include a "name" string (or just provide URL for auto-detection)');if(!i.transport||!["stdio","sse","http"].includes(i.transport))throw new Error('Config must include a valid "transport" (stdio, sse, or http)');if(i.transport==="stdio"&&!i.command)throw new Error('stdio transport requires a "command" field');if((i.transport==="sse"||i.transport==="http")&&!i.url)throw new Error('SSE/HTTP transport requires a "url" field');if(i.auth&&((!i.auth.type||!["none","headers","oauth","client_credentials"].includes(i.auth.type))&&console.warn(`Unknown auth type: ${i.auth.type}, but allowing it for future compatibility`),i.auth.type==="headers"&&!i.auth.headers))throw new Error('Header auth requires "headers" object');return{name:i.name,transport:i.transport,...i.command&&{command:i.command},...i.url&&{url:i.url},...i.auth&&{auth:i.auth}}}function jE({config:i,onConfirm:s,onCancel:r}){return o1.createPortal(j.jsx("div",{className:"modal-overlay",children:j.jsxs("div",{className:"modal",style:{maxWidth:"520px"},children:[j.jsxs("div",{className:"modal-header",children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[j.jsx("span",{style:{fontSize:"28px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),j.jsx("h2",{style:{margin:0},children:"Try in Hoot"})]}),j.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"14px",fontWeight:400,marginTop:"4px",marginBottom:"24px"},children:"Add this server to get started"})]}),j.jsxs("div",{className:"modal-body",children:[j.jsxs("div",{style:{background:"rgba(31, 36, 48, 0.6)",padding:"20px",borderRadius:"10px",marginBottom:"20px",border:"2px solid rgba(92, 207, 230, 0.2)"},children:[j.jsx(qc,{label:"Server Name",value:i.name,icon:""}),j.jsx(qc,{label:"Transport",value:i.transport.toUpperCase(),icon:"",badge:!0}),i.url&&j.jsx(qc,{label:"URL",value:i.url,icon:"",mono:!0}),i.command&&j.jsx(qc,{label:"Command",value:i.command,icon:"",mono:!0}),i.auth&&i.auth.type!=="none"&&j.jsx(qc,{label:"Authentication",value:i.auth.type==="oauth"?"OAuth 2.1":"Custom Headers",icon:"",isLast:!0})]}),j.jsxs("div",{style:{background:"rgba(255, 174, 87, 0.08)",border:"1px solid rgba(255, 174, 87, 0.25)",padding:"12px 14px",borderRadius:"8px",fontSize:"12px",lineHeight:"1.5",color:"rgba(255, 174, 87, 0.9)",display:"flex",gap:"10px"},children:[j.jsx("span",{style:{flexShrink:0},children:""}),j.jsx("span",{children:"Only add servers from trusted sources"})]})]}),j.jsxs("div",{className:"modal-footer",children:[j.jsx("button",{className:"btn btn-secondary",onClick:r,children:"Cancel"}),j.jsx("button",{className:"btn btn-primary",onClick:s,children:"Add & Connect"})]})]})}),document.body)}function qc({label:i,value:s,icon:r,mono:c,badge:g,isLast:m}){return j.jsxs("div",{style:{marginBottom:m?"0":"14px"},children:[j.jsxs("div",{style:{color:"var(--blue-500)",fontSize:"11px",fontWeight:600,marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"6px"},children:[j.jsx("span",{children:r}),j.jsx("span",{children:i})]}),j.jsx("div",{style:{color:"var(--text-white)",fontSize:"14px",fontWeight:500,fontFamily:c?"var(--font-mono)":"var(--font-sans)",wordBreak:"break-all",lineHeight:"1.4",...g&&{display:"inline-block",background:"rgba(31, 36, 48, 0.8)",padding:"4px 10px",borderRadius:"6px",border:"1px solid rgba(92, 207, 230, 0.3)",color:"var(--blue-500)",fontSize:"12px",fontWeight:600}},children:s})]})}function AE(){const[i,s]=ie.useState(null),[r,c]=ie.useState(!1),g=De(l=>l.addServer),{connect:m}=ta();ie.useEffect(()=>{const l=OE();if(l){s(l);const o=new URL(window.location.href);o.hash.startsWith("#/try")?(o.hash="",window.history.replaceState({},"",o.toString())):o.searchParams.has("try")&&(o.searchParams.delete("try"),window.history.replaceState({},"",o.toString()))}},[]);const h=async()=>{if(!(!i||r)){c(!0);try{g(i);const l=De.getState().servers,o=l[l.length-1];if(await m(o))Pn.success("Server Added",`Successfully connected to ${i.name}`),s(null);else{const f=De.getState().servers.find(v=>v.id===o.id);f?.error?(Pn.error("Connection Failed",f.error),s(null)):(Pn.info("OAuth Required","Redirecting to complete authentication..."),s(null))}}catch(l){const o=l instanceof Error?l.message:"Failed to add server";Pn.error("Failed to Add Server",o),s(null)}finally{c(!1)}}},d=()=>{s(null)};return i?j.jsx(jE,{config:i,onConfirm:h,onCancel:d}):null}const SE=ie.memo(function({toast:s,onDismiss:r}){ie.useEffect(()=>{const g=s.duration||5e3;if(g>0){const m=setTimeout(()=>{r(s.id)},g);return()=>clearTimeout(m)}},[s,r]);const c=()=>{switch(s.type){case"success":return j.jsx(NS,{size:20});case"error":return j.jsx(kS,{size:20});case"warning":return j.jsx(kO,{size:20});case"info":return j.jsx(VS,{size:20})}};return j.jsxs("div",{className:`toast toast-${s.type}`,children:[j.jsx("div",{className:"toast-icon",children:c()}),j.jsxs("div",{className:"toast-content",children:[j.jsx("div",{className:"toast-message",children:s.message}),s.description&&j.jsx("div",{className:"toast-description",children:s.description})]}),j.jsx("button",{className:"toast-close",onClick:()=>r(s.id),"aria-label":"Dismiss",children:j.jsx(UO,{size:16})})]})}),CE=ie.memo(function({toasts:s,onDismiss:r}){return j.jsx("div",{className:"toast-container",children:s.map(c=>j.jsx(SE,{toast:c,onDismiss:r},c.id))})});class RE extends ie.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error(" Error Boundary caught an error:",s,r),this.setState({error:s,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onReset?.()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:j.jsx("div",{className:"error-boundary",children:j.jsxs("div",{className:"error-boundary-content",children:[j.jsx("div",{className:"error-icon",children:j.jsx(cC,{size:48})}),j.jsx("h2",{className:"error-title",children:"Something went wrong"}),j.jsx("p",{className:"error-message",children:this.state.error?.message||"An unexpected error occurred"}),!1,j.jsxs("button",{className:"btn btn-primary",onClick:this.handleReset,children:[j.jsx(Ih,{size:16}),j.jsx("span",{children:"Try Again"})]})]})}):this.props.children}}function wE(){const i=De(c=>c.servers),s=De(c=>c.tools),{connect:r}=ta();ie.useEffect(()=>{let c=!1;if(c)return;if(c=!0,sessionStorage.getItem("skip_auto_reconnect")){console.log(" Skipping auto-reconnect after OAuth callback"),sessionStorage.removeItem("skip_auto_reconnect");return}const g=i.filter(m=>s[m.id]&&s[m.id].length>0&&!m.connected);g.length>0&&(console.log(` Hoot: Auto-reconnecting to ${g.length} server(s)...`),g.forEach(m=>{const h=m.auth?.type==="oauth";r(m,void 0,h).catch(d=>{m.auth?.type==="oauth"?console.log(` ${m.name} needs manual reconnection (OAuth)`):console.warn(`Failed to auto-reconnect to ${m.name}:`,d)})}))},[])}const xE="0.5.0",EE={version:xE};class TE{logs=[];maxLogs=1e3;isEnabled=!1;constructor(){this.isEnabled&&(this.interceptConsole(),console.log(" Development logger initialized. Logs are being captured."))}interceptConsole(){const s=console.log,r=console.warn,c=console.error,g=console.info,m=console.debug;console.log=(...h)=>{this.addLog("log",h),s.apply(console,h)},console.warn=(...h)=>{this.addLog("warn",h),r.apply(console,h)},console.error=(...h)=>{this.addLog("error",h),c.apply(console,h)},console.info=(...h)=>{this.addLog("info",h),g.apply(console,h)},console.debug=(...h)=>{this.addLog("debug",h),m.apply(console,h)}}addLog(s,r){if(!this.isEnabled)return;const c=new Date().toISOString();this.logs.push({timestamp:c,level:s,args:r}),this.logs.length>this.maxLogs&&this.logs.shift()}formatLogs(){return this.logs.map(s=>{const r=s.args.map(c=>{if(typeof c=="object")try{return JSON.stringify(c,null,2)}catch{return String(c)}return String(c)}).join(" ");return`[${s.timestamp}] [${s.level.toUpperCase()}] ${r}`}).join(`
`)}downloadLogs(){if(!this.isEnabled){console.warn("Logger is not enabled in production");return}const s=this.formatLogs(),r=new Blob([s],{type:"text/plain"}),c=URL.createObjectURL(r),g=document.createElement("a");g.href=c,g.download=`hoot-logs-${Date.now()}.txt`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(c),console.log(" Logs downloaded successfully")}getLogs(){return this.formatLogs()}clearLogs(){this.logs=[],console.log(" Logs cleared")}exposeToWindow(){this.isEnabled&&(window.hootLogger={download:()=>this.downloadLogs(),clear:()=>this.clearLogs(),get:()=>this.getLogs(),count:()=>this.logs.length},console.log(` Logger controls available:
  - hootLogger.download() - Download logs to file
  - hootLogger.clear() - Clear all logs
  - hootLogger.get() - Get logs as string
  - hootLogger.count() - Get log count`))}}new TE;function IE(){const[i,s]=ie.useState(!1),[r,c]=ie.useState(null),[g,m]=ie.useState(window.location.pathname),[h,d]=ie.useState("test"),l=Wi(f=>f.toasts),o=Wi(f=>f.removeToast);return wE(),ie.useEffect(()=>{const f=()=>{m(window.location.pathname)};return window.addEventListener("popstate",f),()=>window.removeEventListener("popstate",f)},[]),g==="/oauth/callback"?j.jsx(bE,{}):j.jsx(RE,{children:j.jsxs("div",{className:"app",children:[j.jsxs("header",{className:"app-header",children:[j.jsxs("div",{className:"app-branding",children:[j.jsx("span",{className:"logo-icon",children:""}),j.jsx("h1",{className:"app-title",children:"Hoot"}),j.jsx("span",{className:"app-tagline",children:"MCP Testing Tool"})]}),j.jsxs("nav",{className:"app-nav",children:[j.jsxs("button",{className:`nav-button ${h==="test"?"active":""}`,onClick:()=>d("test"),title:"Test MCP tools manually",children:[j.jsx(Wh,{size:18}),j.jsx("span",{children:"Test Tools"})]}),j.jsxs("button",{className:`nav-button ${h==="hybrid"?"active":""}`,onClick:()=>d("hybrid"),title:"Chat with AI to test tools",children:[j.jsx(bu,{size:18}),j.jsx("span",{children:"Chat"})]})]}),j.jsxs("div",{className:"app-actions",children:[j.jsx("a",{href:"https://portkey.ai/docs/hoot",target:"_blank",rel:"noopener noreferrer",className:"header-link",title:"Documentation",children:j.jsx(xS,{size:18})}),j.jsx("a",{href:"https://portkey.ai/community",target:"_blank",rel:"noopener noreferrer",className:"header-link",title:"Discord",children:j.jsx(XS,{size:18})}),j.jsxs("a",{href:"https://github.com/portkey-ai/hoot",target:"_blank",rel:"noopener noreferrer",className:"version-badge",title:"View on GitHub",children:[j.jsx(FS,{size:14}),j.jsxs("span",{children:["v",EE.version]})]})]})]}),j.jsxs("div",{className:"app-content",children:[h==="test"&&j.jsxs("div",{className:"test-layout",children:[j.jsx(Mw,{onAddServer:()=>s(!0),onEditServer:f=>c(f)}),j.jsx(kw,{}),j.jsx($w,{})]}),h==="hybrid"&&j.jsx(gE,{})]}),i&&j.jsx(yE,{onClose:()=>s(!1)}),r&&j.jsx(_E,{server:r,onClose:()=>c(null)}),j.jsx(AE,{}),j.jsx(CE,{toasts:l,onDismiss:o})]})})}yS.createRoot(document.getElementById("root")).render(j.jsx(zc.StrictMode,{children:j.jsx(IE,{})}));

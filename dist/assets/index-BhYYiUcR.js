(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const h of p.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function r(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(m){if(m.ep)return;m.ep=!0;const p=r(m);fetch(m.href,p)}})();var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ip(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function jS(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var s=i.default;if(typeof s=="function"){var r=function c(){var m=!1;try{m=this instanceof c}catch{}return m?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(c){var m=Object.getOwnPropertyDescriptor(i,c);Object.defineProperty(r,c,m.get?m:{enumerable:!0,get:function(){return i[c]}})}),r}var lh={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function AS(){if(_y)return to;_y=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(c,m,p){var h=null;if(p!==void 0&&(h=""+p),m.key!==void 0&&(h=""+m.key),"key"in m){p={};for(var d in m)d!=="key"&&(p[d]=m[d])}else p=m;return m=p.ref,{$$typeof:i,type:c,key:h,ref:m!==void 0?m:null,props:p}}return to.Fragment=s,to.jsx=r,to.jsxs=r,to}var by;function SS(){return by||(by=1,lh.exports=AS()),lh.exports}var A=SS(),uh={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function CS(){if(Oy)return He;Oy=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),v=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,C={};function b(M,Z,X){this.props=M,this.context=Z,this.refs=C,this.updater=X||O}b.prototype.isReactComponent={},b.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function S(){}S.prototype=b.prototype;function x(M,Z,X){this.props=M,this.context=Z,this.refs=C,this.updater=X||O}var E=x.prototype=new S;E.constructor=x,j(E,b.prototype),E.isPureReactComponent=!0;var I=Array.isArray;function H(){}var w={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function N(M,Z,X){var ie=X.ref;return{$$typeof:i,type:M,key:Z,ref:ie!==void 0?ie:null,props:X}}function B(M,Z){return N(M.type,Z,M.props)}function F(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function W(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(X){return Z[X]})}var K=/\/+/g;function $(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?W(""+M.key):Z.toString(36)}function Y(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(H,H):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function P(M,Z,X,ie,ee){var fe=typeof M;(fe==="undefined"||fe==="boolean")&&(M=null);var ge=!1;if(M===null)ge=!0;else switch(fe){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(M.$$typeof){case i:case s:ge=!0;break;case u:return ge=M._init,P(ge(M._payload),Z,X,ie,ee)}}if(ge)return ee=ee(M),ge=ie===""?"."+$(M,0):ie,I(ee)?(X="",ge!=null&&(X=ge.replace(K,"$&/")+"/"),P(ee,Z,X,"",function(we){return we})):ee!=null&&(F(ee)&&(ee=B(ee,X+(ee.key==null||M&&M.key===ee.key?"":(""+ee.key).replace(K,"$&/")+"/")+ge)),Z.push(ee)),1;ge=0;var ae=ie===""?".":ie+":";if(I(M))for(var oe=0;oe<M.length;oe++)ie=M[oe],fe=ae+$(ie,oe),ge+=P(ie,Z,X,fe,ee);else if(oe=_(M),typeof oe=="function")for(M=oe.call(M),oe=0;!(ie=M.next()).done;)ie=ie.value,fe=ae+$(ie,oe++),ge+=P(ie,Z,X,fe,ee);else if(fe==="object"){if(typeof M.then=="function")return P(Y(M),Z,X,ie,ee);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ge}function q(M,Z,X){if(M==null)return M;var ie=[],ee=0;return P(M,ie,"","",function(fe){return Z.call(X,fe,ee++)}),ie}function L(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(X){(M._status===0||M._status===-1)&&(M._status=1,M._result=X)},function(X){(M._status===0||M._status===-1)&&(M._status=2,M._result=X)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var de=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},me={map:q,forEach:function(M,Z,X){q(M,function(){Z.apply(this,arguments)},X)},count:function(M){var Z=0;return q(M,function(){Z++}),Z},toArray:function(M){return q(M,function(Z){return Z})||[]},only:function(M){if(!F(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return He.Activity=f,He.Children=me,He.Component=b,He.Fragment=r,He.Profiler=m,He.PureComponent=x,He.StrictMode=c,He.Suspense=l,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,He.__COMPILER_RUNTIME={__proto__:null,c:function(M){return w.H.useMemoCache(M)}},He.cache=function(M){return function(){return M.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(M,Z,X){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=j({},M.props),ee=M.key;if(Z!=null)for(fe in Z.key!==void 0&&(ee=""+Z.key),Z)!k.call(Z,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Z.ref===void 0||(ie[fe]=Z[fe]);var fe=arguments.length-2;if(fe===1)ie.children=X;else if(1<fe){for(var ge=Array(fe),ae=0;ae<fe;ae++)ge[ae]=arguments[ae+2];ie.children=ge}return N(M.type,ee,ie)},He.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:p,_context:M},M},He.createElement=function(M,Z,X){var ie,ee={},fe=null;if(Z!=null)for(ie in Z.key!==void 0&&(fe=""+Z.key),Z)k.call(Z,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ee[ie]=Z[ie]);var ge=arguments.length-2;if(ge===1)ee.children=X;else if(1<ge){for(var ae=Array(ge),oe=0;oe<ge;oe++)ae[oe]=arguments[oe+2];ee.children=ae}if(M&&M.defaultProps)for(ie in ge=M.defaultProps,ge)ee[ie]===void 0&&(ee[ie]=ge[ie]);return N(M,fe,ee)},He.createRef=function(){return{current:null}},He.forwardRef=function(M){return{$$typeof:d,render:M}},He.isValidElement=F,He.lazy=function(M){return{$$typeof:u,_payload:{_status:-1,_result:M},_init:L}},He.memo=function(M,Z){return{$$typeof:o,type:M,compare:Z===void 0?null:Z}},He.startTransition=function(M){var Z=w.T,X={};w.T=X;try{var ie=M(),ee=w.S;ee!==null&&ee(X,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(H,de)}catch(fe){de(fe)}finally{Z!==null&&X.types!==null&&(Z.types=X.types),w.T=Z}},He.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},He.use=function(M){return w.H.use(M)},He.useActionState=function(M,Z,X){return w.H.useActionState(M,Z,X)},He.useCallback=function(M,Z){return w.H.useCallback(M,Z)},He.useContext=function(M){return w.H.useContext(M)},He.useDebugValue=function(){},He.useDeferredValue=function(M,Z){return w.H.useDeferredValue(M,Z)},He.useEffect=function(M,Z){return w.H.useEffect(M,Z)},He.useEffectEvent=function(M){return w.H.useEffectEvent(M)},He.useId=function(){return w.H.useId()},He.useImperativeHandle=function(M,Z,X){return w.H.useImperativeHandle(M,Z,X)},He.useInsertionEffect=function(M,Z){return w.H.useInsertionEffect(M,Z)},He.useLayoutEffect=function(M,Z){return w.H.useLayoutEffect(M,Z)},He.useMemo=function(M,Z){return w.H.useMemo(M,Z)},He.useOptimistic=function(M,Z){return w.H.useOptimistic(M,Z)},He.useReducer=function(M,Z,X){return w.H.useReducer(M,Z,X)},He.useRef=function(M){return w.H.useRef(M)},He.useState=function(M){return w.H.useState(M)},He.useSyncExternalStore=function(M,Z,X){return w.H.useSyncExternalStore(M,Z,X)},He.useTransition=function(){return w.H.useTransition()},He.version="19.2.0",He}var jy;function rp(){return jy||(jy=1,uh.exports=CS()),uh.exports}var se=rp();const Ht=ip(se);var dh={exports:{}},no={},fh={exports:{}},hh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function RS(){return Ay||(Ay=1,(function(i){function s(P,q){var L=P.length;P.push(q);e:for(;0<L;){var de=L-1>>>1,me=P[de];if(0<m(me,q))P[de]=q,P[L]=me,L=de;else break e}}function r(P){return P.length===0?null:P[0]}function c(P){if(P.length===0)return null;var q=P[0],L=P.pop();if(L!==q){P[0]=L;e:for(var de=0,me=P.length,M=me>>>1;de<M;){var Z=2*(de+1)-1,X=P[Z],ie=Z+1,ee=P[ie];if(0>m(X,L))ie<me&&0>m(ee,X)?(P[de]=ee,P[ie]=L,de=ie):(P[de]=X,P[Z]=L,de=Z);else if(ie<me&&0>m(ee,L))P[de]=ee,P[ie]=L,de=ie;else break e}}return q}function m(P,q){var L=P.sortIndex-q.sortIndex;return L!==0?L:P.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var l=[],o=[],u=1,f=null,v=3,_=!1,O=!1,j=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function E(P){for(var q=r(o);q!==null;){if(q.callback===null)c(o);else if(q.startTime<=P)c(o),q.sortIndex=q.expirationTime,s(l,q);else break;q=r(o)}}function I(P){if(j=!1,E(P),!O)if(r(l)!==null)O=!0,H||(H=!0,W());else{var q=r(o);q!==null&&Y(I,q.startTime-P)}}var H=!1,w=-1,k=5,N=-1;function B(){return C?!0:!(i.unstable_now()-N<k)}function F(){if(C=!1,H){var P=i.unstable_now();N=P;var q=!0;try{e:{O=!1,j&&(j=!1,S(w),w=-1),_=!0;var L=v;try{t:{for(E(P),f=r(l);f!==null&&!(f.expirationTime>P&&B());){var de=f.callback;if(typeof de=="function"){f.callback=null,v=f.priorityLevel;var me=de(f.expirationTime<=P);if(P=i.unstable_now(),typeof me=="function"){f.callback=me,E(P),q=!0;break t}f===r(l)&&c(l),E(P)}else c(l);f=r(l)}if(f!==null)q=!0;else{var M=r(o);M!==null&&Y(I,M.startTime-P),q=!1}}break e}finally{f=null,v=L,_=!1}q=void 0}}finally{q?W():H=!1}}}var W;if(typeof x=="function")W=function(){x(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,$=K.port2;K.port1.onmessage=F,W=function(){$.postMessage(null)}}else W=function(){b(F,0)};function Y(P,q){w=b(function(){P(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(P){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var L=v;v=q;try{return P()}finally{v=L}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=v;v=P;try{return q()}finally{v=L}},i.unstable_scheduleCallback=function(P,q,L){var de=i.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?de+L:de):L=de,P){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=L+me,P={id:u++,callback:q,priorityLevel:P,startTime:L,expirationTime:me,sortIndex:-1},L>de?(P.sortIndex=L,s(o,P),r(l)===null&&P===r(o)&&(j?(S(w),w=-1):j=!0,Y(I,L-de))):(P.sortIndex=me,s(l,P),O||_||(O=!0,H||(H=!0,W()))),P},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(P){var q=v;return function(){var L=v;v=q;try{return P.apply(this,arguments)}finally{v=L}}}})(hh)),hh}var Sy;function wS(){return Sy||(Sy=1,fh.exports=RS()),fh.exports}var ph={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function xS(){if(Cy)return Kt;Cy=1;var i=rp();function s(l){var o="https://react.dev/errors/"+l;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var c={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},m=Symbol.for("react.portal");function p(l,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:f==null?null:""+f,children:l,containerInfo:o,implementation:u}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(l,o){if(l==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Kt.createPortal=function(l,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(s(299));return p(l,o,null,u)},Kt.flushSync=function(l){var o=h.T,u=c.p;try{if(h.T=null,c.p=2,l)return l()}finally{h.T=o,c.p=u,c.d.f()}},Kt.preconnect=function(l,o){typeof l=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,c.d.C(l,o))},Kt.prefetchDNS=function(l){typeof l=="string"&&c.d.D(l)},Kt.preinit=function(l,o){if(typeof l=="string"&&o&&typeof o.as=="string"){var u=o.as,f=d(u,o.crossOrigin),v=typeof o.integrity=="string"?o.integrity:void 0,_=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;u==="style"?c.d.S(l,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:f,integrity:v,fetchPriority:_}):u==="script"&&c.d.X(l,{crossOrigin:f,integrity:v,fetchPriority:_,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},Kt.preinitModule=function(l,o){if(typeof l=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var u=d(o.as,o.crossOrigin);c.d.M(l,{crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&c.d.M(l)},Kt.preload=function(l,o){if(typeof l=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var u=o.as,f=d(u,o.crossOrigin);c.d.L(l,u,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},Kt.preloadModule=function(l,o){if(typeof l=="string")if(o){var u=d(o.as,o.crossOrigin);c.d.m(l,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else c.d.m(l)},Kt.requestFormReset=function(l){c.d.r(l)},Kt.unstable_batchedUpdates=function(l,o){return l(o)},Kt.useFormState=function(l,o,u){return h.H.useFormState(l,o,u)},Kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var Ry;function LO(){if(Ry)return ph.exports;Ry=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),ph.exports=xS(),ph.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function ES(){if(wy)return no;wy=1;var i=wS(),s=rp(),r=LO();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(p(e)!==e)throw Error(c(188))}function o(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,a=t;;){var g=n.return;if(g===null)break;var y=g.alternate;if(y===null){if(a=g.return,a!==null){n=a;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===n)return l(g),e;if(y===a)return l(g),t;y=y.sibling}throw Error(c(188))}if(n.return!==a.return)n=g,a=y;else{for(var R=!1,T=g.child;T;){if(T===n){R=!0,n=g,a=y;break}if(T===a){R=!0,a=g,n=y;break}T=T.sibling}if(!R){for(T=y.child;T;){if(T===n){R=!0,n=y,a=g;break}if(T===a){R=!0,a=y,n=g;break}T=T.sibling}if(!R)throw Error(c(189))}}if(n.alternate!==a)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function u(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=u(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case b:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case H:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case x:return e.displayName||"Context";case S:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return t=e.displayName||null,t!==null?t:$(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return $(e(t))}catch{}}return null}var Y=Array.isArray,P=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},de=[],me=-1;function M(e){return{current:e}}function Z(e){0>me||(e.current=de[me],de[me]=null,me--)}function X(e,t){me++,de[me]=e.current,e.current=t}var ie=M(null),ee=M(null),fe=M(null),ge=M(null);function ae(e,t){switch(X(fe,t),X(ee,e),X(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bv(t),e=Lv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(ie),X(ie,e)}function oe(){Z(ie),Z(ee),Z(fe)}function we(e){e.memoizedState!==null&&X(ge,e);var t=ie.current,n=Lv(t,e.type);t!==n&&(X(ee,e),X(ie,n))}function ne(e){ee.current===e&&(Z(ie),Z(ee)),ge.current===e&&(Z(ge),Qa._currentValue=L)}var pe,ve;function Te(e){if(pe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",ve=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+ve}var Le=!1;function nt(e,t){if(!e||Le)return"";Le=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var Q=te}Reflect.construct(e,[],le)}else{try{le.call()}catch(te){Q=te}e.call(le.prototype)}}else{try{throw Error()}catch(te){Q=te}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&Q&&typeof te.stack=="string")return[te.stack,Q.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=a.DetermineComponentFrameRoot(),R=y[0],T=y[1];if(R&&T){var z=R.split(`
`),V=T.split(`
`);for(g=a=0;a<z.length&&!z[a].includes("DetermineComponentFrameRoot");)a++;for(;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;if(a===z.length||g===V.length)for(a=z.length-1,g=V.length-1;1<=a&&0<=g&&z[a]!==V[g];)g--;for(;1<=a&&0<=g;a--,g--)if(z[a]!==V[g]){if(a!==1||g!==1)do if(a--,g--,0>g||z[a]!==V[g]){var re=`
`+z[a].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=a&&0<=g);break}}}finally{Le=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Te(n):""}function Be(e,t){switch(e.tag){case 26:case 27:case 5:return Te(e.type);case 16:return Te("Lazy");case 13:return e.child!==t&&t!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return nt(e.type,!1);case 11:return nt(e.type.render,!1);case 1:return nt(e.type,!0);case 31:return Te("Activity");default:return""}}function bt(e){try{var t="",n=null;do t+=Be(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var it=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,Ot=i.unstable_cancelCallback,Fn=i.unstable_shouldYield,rt=i.unstable_requestPaint,Mt=i.unstable_now,Yu=i.unstable_getCurrentPriorityLevel,cr=i.unstable_ImmediatePriority,wn=i.unstable_UserBlockingPriority,Zt=i.unstable_NormalPriority,il=i.unstable_LowPriority,la=i.unstable_IdlePriority,rl=i.log,jp=i.unstable_setDisableYieldValue,rs=null,hn=null;function Zs(e){if(typeof rl=="function"&&jp(e),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(rs,e)}catch{}}var pn=Math.clz32?Math.clz32:cj,aj=Math.log,oj=Math.LN2;function cj(e){return e>>>=0,e===0?32:31-(aj(e)/oj|0)|0}var al=256,ol=262144,cl=4194304;function wi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ll(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var g=0,y=e.suspendedLanes,R=e.pingedLanes;e=e.warmLanes;var T=a&134217727;return T!==0?(a=T&~y,a!==0?g=wi(a):(R&=T,R!==0?g=wi(R):n||(n=T&~e,n!==0&&(g=wi(n))))):(T=a&~y,T!==0?g=wi(T):R!==0?g=wi(R):n||(n=a&~e,n!==0&&(g=wi(n)))),g===0?0:t!==0&&t!==g&&(t&y)===0&&(y=g&-g,n=t&-t,y>=n||y===32&&(n&4194048)!==0)?t:g}function ua(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function lj(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ap(){var e=cl;return cl<<=1,(cl&62914560)===0&&(cl=4194304),e}function Zu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function da(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uj(e,t,n,a,g,y){var R=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,z=e.expirationTimes,V=e.hiddenUpdates;for(n=R&~n;0<n;){var re=31-pn(n),le=1<<re;T[re]=0,z[re]=-1;var Q=V[re];if(Q!==null)for(V[re]=null,re=0;re<Q.length;re++){var te=Q[re];te!==null&&(te.lane&=-536870913)}n&=~le}a!==0&&Sp(e,a,0),y!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=y&~(R&~t))}function Sp(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-pn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Cp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-pn(n),g=1<<a;g&t|e[a]&t&&(e[a]|=t),n&=~g}}function Rp(e,t){var n=t&-t;return n=(n&42)!==0?1:Xu(n),(n&(e.suspendedLanes|t))!==0?0:n}function Xu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wp(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:fy(e.type))}function xp(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}var Xs=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Xs,sn="__reactProps$"+Xs,lr="__reactContainer$"+Xs,Ju="__reactEvents$"+Xs,dj="__reactListeners$"+Xs,fj="__reactHandles$"+Xs,Ep="__reactResources$"+Xs,fa="__reactMarker$"+Xs;function Wu(e){delete e[Dt],delete e[sn],delete e[Ju],delete e[dj],delete e[fj]}function ur(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lr]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xv(e);e!==null;){if(n=e[Dt])return n;e=Xv(e)}return t}e=n,n=e.parentNode}return null}function dr(e){if(e=e[Dt]||e[lr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ha(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function fr(e){var t=e[Ep];return t||(t=e[Ep]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qt(e){e[fa]=!0}var Tp=new Set,Ip={};function xi(e,t){hr(e,t),hr(e+"Capture",t)}function hr(e,t){for(Ip[e]=t,e=0;e<t.length;e++)Tp.add(t[e])}var hj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hp={},Mp={};function pj(e){return it.call(Mp,e)?!0:it.call(Hp,e)?!1:hj.test(e)?Mp[e]=!0:(Hp[e]=!0,!1)}function ul(e,t,n){if(pj(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function dl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ps(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function xn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mj(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,y=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(R){n=""+R,y.call(this,R)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(R){n=""+R},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){if(!e._valueTracker){var t=Pp(e)?"checked":"value";e._valueTracker=mj(e,t,""+e[t])}}function Np(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Pp(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gj=/[\n"\\]/g;function En(e){return e.replace(gj,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function td(e,t,n,a,g,y,R,T){e.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.type=R:e.removeAttribute("type"),t!=null?R==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xn(t)):e.value!==""+xn(t)&&(e.value=""+xn(t)):R!=="submit"&&R!=="reset"||e.removeAttribute("value"),t!=null?nd(e,R,xn(t)):n!=null?nd(e,R,xn(n)):a!=null&&e.removeAttribute("value"),g==null&&y!=null&&(e.defaultChecked=!!y),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+xn(T):e.removeAttribute("name")}function kp(e,t,n,a,g,y,R,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),t!=null||n!=null){if(!(y!=="submit"&&y!=="reset"||t!=null)){ed(e);return}n=n!=null?""+xn(n):"",t=t!=null?""+xn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}a=a??g,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=T?e.checked:!!a,e.defaultChecked=!!a,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(e.name=R),ed(e)}function nd(e,t,n){t==="number"&&fl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function pr(e,t,n,a){if(e=e.options,t){t={};for(var g=0;g<n.length;g++)t["$"+n[g]]=!0;for(n=0;n<e.length;n++)g=t.hasOwnProperty("$"+e[n].value),e[n].selected!==g&&(e[n].selected=g),g&&a&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,g=0;g<e.length;g++){if(e[g].value===n){e[g].selected=!0,a&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function qp(e,t,n){if(t!=null&&(t=""+xn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xn(n):""}function zp(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(c(92));if(Y(a)){if(1<a.length)throw Error(c(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=xn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),ed(e)}function mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $p(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||vj.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Dp(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var g in t)a=t[g],t.hasOwnProperty(g)&&n[g]!==a&&$p(e,g,a)}else for(var y in t)t.hasOwnProperty(y)&&$p(e,y,t[y])}function sd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_j=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(e){return _j.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ms(){}var id=null;function rd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,vr=null;function Up(e){var t=dr(e);if(t&&(e=t.stateNode)){var n=e[sn]||null;e:switch(e=t.stateNode,t.type){case"input":if(td(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+En(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var g=a[sn]||null;if(!g)throw Error(c(90));td(a,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Np(a)}break e;case"textarea":qp(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&pr(e,!!n.multiple,t,!1)}}}var ad=!1;function Bp(e,t,n){if(ad)return e(t,n);ad=!0;try{var a=e(t);return a}finally{if(ad=!1,(gr!==null||vr!==null)&&(eu(),gr&&(t=gr,e=vr,vr=gr=null,Up(t),e)))for(t=0;t<e.length;t++)Up(e[t])}}function pa(e,t){var n=e.stateNode;if(n===null)return null;var a=n[sn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=!1;if(gs)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){od=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{od=!1}var Qs=null,cd=null,pl=null;function Lp(){if(pl)return pl;var e,t=cd,n=t.length,a,g="value"in Qs?Qs.value:Qs.textContent,y=g.length;for(e=0;e<n&&t[e]===g[e];e++);var R=n-e;for(a=1;a<=R&&t[n-a]===g[y-a];a++);return pl=g.slice(e,1<a?1-a:void 0)}function ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function Fp(){return!1}function rn(e){function t(n,a,g,y,R){this._reactName=n,this._targetInst=g,this.type=a,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?gl:Fp,this.isPropagationStopped=Fp,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=rn(Ei),ga=f({},Ei,{view:0,detail:0}),bj=rn(ga),ld,ud,va,yl=f({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==va&&(va&&e.type==="mousemove"?(ld=e.screenX-va.screenX,ud=e.screenY-va.screenY):ud=ld=0,va=e),ld)},movementY:function(e){return"movementY"in e?e.movementY:ud}}),Gp=rn(yl),Oj=f({},yl,{dataTransfer:0}),jj=rn(Oj),Aj=f({},ga,{relatedTarget:0}),dd=rn(Aj),Sj=f({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Cj=rn(Sj),Rj=f({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wj=rn(Rj),xj=f({},Ei,{data:0}),Vp=rn(xj),Ej={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ij={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ij[e])?!!t[e]:!1}function fd(){return Hj}var Mj=f({},ga,{key:function(e){if(e.key){var t=Ej[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(e){return e.type==="keypress"?ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pj=rn(Mj),Nj=f({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kp=rn(Nj),kj=f({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),qj=rn(kj),zj=f({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),$j=rn(zj),Dj=f({},yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uj=rn(Dj),Bj=f({},Ei,{newState:0,oldState:0}),Lj=rn(Bj),Fj=[9,13,27,32],hd=gs&&"CompositionEvent"in window,ya=null;gs&&"documentMode"in document&&(ya=document.documentMode);var Gj=gs&&"TextEvent"in window&&!ya,Yp=gs&&(!hd||ya&&8<ya&&11>=ya),Zp=" ",Xp=!1;function Qp(e,t){switch(e){case"keyup":return Fj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function Vj(e,t){switch(e){case"compositionend":return Jp(t);case"keypress":return t.which!==32?null:(Xp=!0,Zp);case"textInput":return e=t.data,e===Zp&&Xp?null:e;default:return null}}function Kj(e,t){if(yr)return e==="compositionend"||!hd&&Qp(e,t)?(e=Lp(),pl=cd=Qs=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yp&&t.locale!=="ko"?null:t.data;default:return null}}var Yj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yj[e.type]:t==="textarea"}function em(e,t,n,a){gr?vr?vr.push(a):vr=[a]:gr=a,t=ou(t,"onChange"),0<t.length&&(n=new vl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var _a=null,ba=null;function Zj(e){kv(e,0)}function _l(e){var t=ha(e);if(Np(t))return e}function tm(e,t){if(e==="change")return t}var nm=!1;if(gs){var pd;if(gs){var md="oninput"in document;if(!md){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),md=typeof sm.oninput=="function"}pd=md}else pd=!1;nm=pd&&(!document.documentMode||9<document.documentMode)}function im(){_a&&(_a.detachEvent("onpropertychange",rm),ba=_a=null)}function rm(e){if(e.propertyName==="value"&&_l(ba)){var t=[];em(t,ba,e,rd(e)),Bp(Zj,t)}}function Xj(e,t,n){e==="focusin"?(im(),_a=t,ba=n,_a.attachEvent("onpropertychange",rm)):e==="focusout"&&im()}function Qj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(ba)}function Jj(e,t){if(e==="click")return _l(t)}function Wj(e,t){if(e==="input"||e==="change")return _l(t)}function eA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:eA;function Oa(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var g=n[a];if(!it.call(t,g)||!mn(e[g],t[g]))return!1}return!0}function am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function om(e,t){var n=am(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=am(n)}}function cm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=fl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fl(e.document)}return t}function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tA=gs&&"documentMode"in document&&11>=document.documentMode,_r=null,vd=null,ja=null,yd=!1;function um(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yd||_r==null||_r!==fl(a)||(a=_r,"selectionStart"in a&&gd(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ja&&Oa(ja,a)||(ja=a,a=ou(vd,"onSelect"),0<a.length&&(t=new vl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=_r)))}function Ti(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},_d={},dm={};gs&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function Ii(e){if(_d[e])return _d[e];if(!br[e])return e;var t=br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dm)return _d[e]=t[n];return e}var fm=Ii("animationend"),hm=Ii("animationiteration"),pm=Ii("animationstart"),nA=Ii("transitionrun"),sA=Ii("transitionstart"),iA=Ii("transitioncancel"),mm=Ii("transitionend"),gm=new Map,bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bd.push("scrollEnd");function Gn(e,t){gm.set(e,t),xi(t,[e])}var bl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tn=[],Or=0,Od=0;function Ol(){for(var e=Or,t=Od=Or=0;t<e;){var n=Tn[t];Tn[t++]=null;var a=Tn[t];Tn[t++]=null;var g=Tn[t];Tn[t++]=null;var y=Tn[t];if(Tn[t++]=null,a!==null&&g!==null){var R=a.pending;R===null?g.next=g:(g.next=R.next,R.next=g),a.pending=g}y!==0&&vm(n,g,y)}}function jl(e,t,n,a){Tn[Or++]=e,Tn[Or++]=t,Tn[Or++]=n,Tn[Or++]=a,Od|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function jd(e,t,n,a){return jl(e,t,n,a),Al(e)}function Hi(e,t){return jl(e,null,null,t),Al(e)}function vm(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var g=!1,y=e.return;y!==null;)y.childLanes|=n,a=y.alternate,a!==null&&(a.childLanes|=n),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(g=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,g&&t!==null&&(g=31-pn(n),e=y.hiddenUpdates,a=e[g],a===null?e[g]=[t]:a.push(t),t.lane=n|536870912),y):null}function Al(e){if(50<Fa)throw Fa=0,Hf=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var jr={};function rA(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,a){return new rA(e,t,n,a)}function Ad(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vs(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ym(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sl(e,t,n,a,g,y){var R=0;if(a=e,typeof e=="function")Ad(e)&&(R=1);else if(typeof e=="string")R=uS(e,n,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=gn(31,n,t,g),e.elementType=N,e.lanes=y,e;case j:return Mi(n.children,g,y,t);case C:R=8,g|=24;break;case b:return e=gn(12,n,t,g|2),e.elementType=b,e.lanes=y,e;case I:return e=gn(13,n,t,g),e.elementType=I,e.lanes=y,e;case H:return e=gn(19,n,t,g),e.elementType=H,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:R=10;break e;case S:R=9;break e;case E:R=11;break e;case w:R=14;break e;case k:R=16,a=null;break e}R=29,n=Error(c(130,e===null?"null":typeof e,"")),a=null}return t=gn(R,n,t,g),t.elementType=e,t.type=a,t.lanes=y,t}function Mi(e,t,n,a){return e=gn(7,e,a,t),e.lanes=n,e}function Sd(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function _m(e){var t=gn(18,null,null,0);return t.stateNode=e,t}function Cd(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bm=new WeakMap;function In(e,t){if(typeof e=="object"&&e!==null){var n=bm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:bt(t)},bm.set(e,t),t)}return{value:e,source:t,stack:bt(t)}}var Ar=[],Sr=0,Cl=null,Aa=0,Hn=[],Mn=0,Js=null,as=1,os="";function ys(e,t){Ar[Sr++]=Aa,Ar[Sr++]=Cl,Cl=e,Aa=t}function Om(e,t,n){Hn[Mn++]=as,Hn[Mn++]=os,Hn[Mn++]=Js,Js=e;var a=as;e=os;var g=32-pn(a)-1;a&=~(1<<g),n+=1;var y=32-pn(t)+g;if(30<y){var R=g-g%5;y=(a&(1<<R)-1).toString(32),a>>=R,g-=R,as=1<<32-pn(t)+g|n<<g|a,os=y+e}else as=1<<y|n<<g|a,os=e}function Rd(e){e.return!==null&&(ys(e,1),Om(e,1,0))}function wd(e){for(;e===Cl;)Cl=Ar[--Sr],Ar[Sr]=null,Aa=Ar[--Sr],Ar[Sr]=null;for(;e===Js;)Js=Hn[--Mn],Hn[Mn]=null,os=Hn[--Mn],Hn[Mn]=null,as=Hn[--Mn],Hn[Mn]=null}function jm(e,t){Hn[Mn++]=as,Hn[Mn++]=os,Hn[Mn++]=Js,as=t.id,os=t.overflow,Js=e}var Ut=null,gt=null,Ze=!1,Ws=null,Pn=!1,xd=Error(c(519));function ei(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sa(In(t,e)),xd}function Am(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Dt]=e,t[sn]=a,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Va.length;n++)Ge(Va[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),kp(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),zp(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Dv(t.textContent,n)?(a.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),a.onScroll!=null&&Ge("scroll",t),a.onScrollEnd!=null&&Ge("scrollend",t),a.onClick!=null&&(t.onclick=ms),t=!0):t=!1,t||ei(e,!0)}function Sm(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ut=Ut.return}}function Cr(e){if(e!==Ut)return!1;if(!Ze)return Sm(e),Ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Kf(e.type,e.memoizedProps)),n=!n),n&&gt&&ei(e),Sm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));gt=Zv(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));gt=Zv(e)}else t===27?(t=gt,pi(e.type)?(e=Jf,Jf=null,gt=e):gt=t):gt=Ut?kn(e.stateNode.nextSibling):null;return!0}function Pi(){gt=Ut=null,Ze=!1}function Ed(){var e=Ws;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Ws=null),e}function Sa(e){Ws===null?Ws=[e]:Ws.push(e)}var Td=M(null),Ni=null,_s=null;function ti(e,t,n){X(Td,t._currentValue),t._currentValue=n}function bs(e){e._currentValue=Td.current,Z(Td)}function Id(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Hd(e,t,n,a){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var y=g.dependencies;if(y!==null){var R=g.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=g;for(var z=0;z<t.length;z++)if(T.context===t[z]){y.lanes|=n,T=y.alternate,T!==null&&(T.lanes|=n),Id(y.return,n,e),a||(R=null);break e}y=T.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(c(341));R.lanes|=n,y=R.alternate,y!==null&&(y.lanes|=n),Id(R,n,e),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===e){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function Rr(e,t,n,a){e=null;for(var g=t,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(c(387));if(R=R.memoizedProps,R!==null){var T=g.type;mn(g.pendingProps.value,R.value)||(e!==null?e.push(T):e=[T])}}else if(g===ge.current){if(R=g.alternate,R===null)throw Error(c(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(Qa):e=[Qa])}g=g.return}e!==null&&Hd(t,e,n,a),t.flags|=262144}function Rl(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){Ni=e,_s=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return Cm(Ni,e)}function wl(e,t){return Ni===null&&ki(e),Cm(e,t)}function Cm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},_s===null){if(e===null)throw Error(c(308));_s=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _s=_s.next=t;return n}var aA=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},oA=i.unstable_scheduleCallback,cA=i.unstable_NormalPriority,wt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new aA,data:new Map,refCount:0}}function Ca(e){e.refCount--,e.refCount===0&&oA(cA,function(){e.controller.abort()})}var Ra=null,Pd=0,wr=0,xr=null;function lA(e,t){if(Ra===null){var n=Ra=[];Pd=0,wr=zf(),xr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Pd++,t.then(Rm,Rm),t}function Rm(){if(--Pd===0&&Ra!==null){xr!==null&&(xr.status="fulfilled");var e=Ra;Ra=null,wr=0,xr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function uA(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(g){n.push(g)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var g=0;g<n.length;g++)(0,n[g])(t)},function(g){for(a.status="rejected",a.reason=g,g=0;g<n.length;g++)(0,n[g])(void 0)}),a}var wm=P.S;P.S=function(e,t){uv=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&lA(e,t),wm!==null&&wm(e,t)};var qi=M(null);function Nd(){var e=qi.current;return e!==null?e:dt.pooledCache}function xl(e,t){t===null?X(qi,qi.current):X(qi,t.pool)}function xm(){var e=Nd();return e===null?null:{parent:wt._currentValue,pool:e}}var Er=Error(c(460)),kd=Error(c(474)),El=Error(c(542)),Tl={then:function(){}};function Em(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ms,ms),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hm(e),e;default:if(typeof t.status=="string")t.then(ms,ms);else{if(e=dt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var g=t;g.status="fulfilled",g.value=a}},function(a){if(t.status==="pending"){var g=t;g.status="rejected",g.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hm(e),e}throw $i=t,Er}}function zi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?($i=n,Er):n}}var $i=null;function Im(){if($i===null)throw Error(c(459));var e=$i;return $i=null,e}function Hm(e){if(e===Er||e===El)throw Error(c(483))}var Tr=null,wa=0;function Il(e){var t=wa;return wa+=1,Tr===null&&(Tr=[]),Tm(Tr,e,t)}function xa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hl(e,t){throw t.$$typeof===v?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mm(e){function t(U,D){if(e){var G=U.deletions;G===null?(U.deletions=[D],U.flags|=16):G.push(D)}}function n(U,D){if(!e)return null;for(;D!==null;)t(U,D),D=D.sibling;return null}function a(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function g(U,D){return U=vs(U,D),U.index=0,U.sibling=null,U}function y(U,D,G){return U.index=G,e?(G=U.alternate,G!==null?(G=G.index,G<D?(U.flags|=67108866,D):G):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function R(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,D,G,ce){return D===null||D.tag!==6?(D=Sd(G,U.mode,ce),D.return=U,D):(D=g(D,G),D.return=U,D)}function z(U,D,G,ce){var Re=G.type;return Re===j?re(U,D,G.props.children,ce,G.key):D!==null&&(D.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===k&&zi(Re)===D.type)?(D=g(D,G.props),xa(D,G),D.return=U,D):(D=Sl(G.type,G.key,G.props,null,U.mode,ce),xa(D,G),D.return=U,D)}function V(U,D,G,ce){return D===null||D.tag!==4||D.stateNode.containerInfo!==G.containerInfo||D.stateNode.implementation!==G.implementation?(D=Cd(G,U.mode,ce),D.return=U,D):(D=g(D,G.children||[]),D.return=U,D)}function re(U,D,G,ce,Re){return D===null||D.tag!==7?(D=Mi(G,U.mode,ce,Re),D.return=U,D):(D=g(D,G),D.return=U,D)}function le(U,D,G){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Sd(""+D,U.mode,G),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return G=Sl(D.type,D.key,D.props,null,U.mode,G),xa(G,D),G.return=U,G;case O:return D=Cd(D,U.mode,G),D.return=U,D;case k:return D=zi(D),le(U,D,G)}if(Y(D)||W(D))return D=Mi(D,U.mode,G,null),D.return=U,D;if(typeof D.then=="function")return le(U,Il(D),G);if(D.$$typeof===x)return le(U,wl(U,D),G);Hl(U,D)}return null}function Q(U,D,G,ce){var Re=D!==null?D.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Re!==null?null:T(U,D,""+G,ce);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return G.key===Re?z(U,D,G,ce):null;case O:return G.key===Re?V(U,D,G,ce):null;case k:return G=zi(G),Q(U,D,G,ce)}if(Y(G)||W(G))return Re!==null?null:re(U,D,G,ce,null);if(typeof G.then=="function")return Q(U,D,Il(G),ce);if(G.$$typeof===x)return Q(U,D,wl(U,G),ce);Hl(U,G)}return null}function te(U,D,G,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return U=U.get(G)||null,T(D,U,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return U=U.get(ce.key===null?G:ce.key)||null,z(D,U,ce,Re);case O:return U=U.get(ce.key===null?G:ce.key)||null,V(D,U,ce,Re);case k:return ce=zi(ce),te(U,D,G,ce,Re)}if(Y(ce)||W(ce))return U=U.get(G)||null,re(D,U,ce,Re,null);if(typeof ce.then=="function")return te(U,D,G,Il(ce),Re);if(ce.$$typeof===x)return te(U,D,G,wl(D,ce),Re);Hl(D,ce)}return null}function Oe(U,D,G,ce){for(var Re=null,We=null,Ae=D,ke=D=0,Ke=null;Ae!==null&&ke<G.length;ke++){Ae.index>ke?(Ke=Ae,Ae=null):Ke=Ae.sibling;var et=Q(U,Ae,G[ke],ce);if(et===null){Ae===null&&(Ae=Ke);break}e&&Ae&&et.alternate===null&&t(U,Ae),D=y(et,D,ke),We===null?Re=et:We.sibling=et,We=et,Ae=Ke}if(ke===G.length)return n(U,Ae),Ze&&ys(U,ke),Re;if(Ae===null){for(;ke<G.length;ke++)Ae=le(U,G[ke],ce),Ae!==null&&(D=y(Ae,D,ke),We===null?Re=Ae:We.sibling=Ae,We=Ae);return Ze&&ys(U,ke),Re}for(Ae=a(Ae);ke<G.length;ke++)Ke=te(Ae,U,ke,G[ke],ce),Ke!==null&&(e&&Ke.alternate!==null&&Ae.delete(Ke.key===null?ke:Ke.key),D=y(Ke,D,ke),We===null?Re=Ke:We.sibling=Ke,We=Ke);return e&&Ae.forEach(function(_i){return t(U,_i)}),Ze&&ys(U,ke),Re}function xe(U,D,G,ce){if(G==null)throw Error(c(151));for(var Re=null,We=null,Ae=D,ke=D=0,Ke=null,et=G.next();Ae!==null&&!et.done;ke++,et=G.next()){Ae.index>ke?(Ke=Ae,Ae=null):Ke=Ae.sibling;var _i=Q(U,Ae,et.value,ce);if(_i===null){Ae===null&&(Ae=Ke);break}e&&Ae&&_i.alternate===null&&t(U,Ae),D=y(_i,D,ke),We===null?Re=_i:We.sibling=_i,We=_i,Ae=Ke}if(et.done)return n(U,Ae),Ze&&ys(U,ke),Re;if(Ae===null){for(;!et.done;ke++,et=G.next())et=le(U,et.value,ce),et!==null&&(D=y(et,D,ke),We===null?Re=et:We.sibling=et,We=et);return Ze&&ys(U,ke),Re}for(Ae=a(Ae);!et.done;ke++,et=G.next())et=te(Ae,U,ke,et.value,ce),et!==null&&(e&&et.alternate!==null&&Ae.delete(et.key===null?ke:et.key),D=y(et,D,ke),We===null?Re=et:We.sibling=et,We=et);return e&&Ae.forEach(function(OS){return t(U,OS)}),Ze&&ys(U,ke),Re}function ut(U,D,G,ce){if(typeof G=="object"&&G!==null&&G.type===j&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case _:e:{for(var Re=G.key;D!==null;){if(D.key===Re){if(Re=G.type,Re===j){if(D.tag===7){n(U,D.sibling),ce=g(D,G.props.children),ce.return=U,U=ce;break e}}else if(D.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===k&&zi(Re)===D.type){n(U,D.sibling),ce=g(D,G.props),xa(ce,G),ce.return=U,U=ce;break e}n(U,D);break}else t(U,D);D=D.sibling}G.type===j?(ce=Mi(G.props.children,U.mode,ce,G.key),ce.return=U,U=ce):(ce=Sl(G.type,G.key,G.props,null,U.mode,ce),xa(ce,G),ce.return=U,U=ce)}return R(U);case O:e:{for(Re=G.key;D!==null;){if(D.key===Re)if(D.tag===4&&D.stateNode.containerInfo===G.containerInfo&&D.stateNode.implementation===G.implementation){n(U,D.sibling),ce=g(D,G.children||[]),ce.return=U,U=ce;break e}else{n(U,D);break}else t(U,D);D=D.sibling}ce=Cd(G,U.mode,ce),ce.return=U,U=ce}return R(U);case k:return G=zi(G),ut(U,D,G,ce)}if(Y(G))return Oe(U,D,G,ce);if(W(G)){if(Re=W(G),typeof Re!="function")throw Error(c(150));return G=Re.call(G),xe(U,D,G,ce)}if(typeof G.then=="function")return ut(U,D,Il(G),ce);if(G.$$typeof===x)return ut(U,D,wl(U,G),ce);Hl(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,D!==null&&D.tag===6?(n(U,D.sibling),ce=g(D,G),ce.return=U,U=ce):(n(U,D),ce=Sd(G,U.mode,ce),ce.return=U,U=ce),R(U)):n(U,D)}return function(U,D,G,ce){try{wa=0;var Re=ut(U,D,G,ce);return Tr=null,Re}catch(Ae){if(Ae===Er||Ae===El)throw Ae;var We=gn(29,Ae,null,U.mode);return We.lanes=ce,We.return=U,We}finally{}}}var Di=Mm(!0),Pm=Mm(!1),ni=!1;function qd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(st&2)!==0){var g=a.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),a.pending=t,t=Al(e),vm(e,null,n),t}return jl(e,a,t,n),Al(e)}function Ea(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Cp(e,n)}}function $d(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var g=null,y=null;if(n=n.firstBaseUpdate,n!==null){do{var R={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};y===null?g=y=R:y=y.next=R,n=n.next}while(n!==null);y===null?g=y=t:y=y.next=t}else g=y=t;n={baseState:a.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Dd=!1;function Ta(){if(Dd){var e=xr;if(e!==null)throw e}}function Ia(e,t,n,a){Dd=!1;var g=e.updateQueue;ni=!1;var y=g.firstBaseUpdate,R=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var z=T,V=z.next;z.next=null,R===null?y=V:R.next=V,R=z;var re=e.alternate;re!==null&&(re=re.updateQueue,T=re.lastBaseUpdate,T!==R&&(T===null?re.firstBaseUpdate=V:T.next=V,re.lastBaseUpdate=z))}if(y!==null){var le=g.baseState;R=0,re=V=z=null,T=y;do{var Q=T.lane&-536870913,te=Q!==T.lane;if(te?(Ve&Q)===Q:(a&Q)===Q){Q!==0&&Q===wr&&(Dd=!0),re!==null&&(re=re.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Oe=e,xe=T;Q=t;var ut=n;switch(xe.tag){case 1:if(Oe=xe.payload,typeof Oe=="function"){le=Oe.call(ut,le,Q);break e}le=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=xe.payload,Q=typeof Oe=="function"?Oe.call(ut,le,Q):Oe,Q==null)break e;le=f({},le,Q);break e;case 2:ni=!0}}Q=T.callback,Q!==null&&(e.flags|=64,te&&(e.flags|=8192),te=g.callbacks,te===null?g.callbacks=[Q]:te.push(Q))}else te={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},re===null?(V=re=te,z=le):re=re.next=te,R|=Q;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;te=T,T=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);re===null&&(z=le),g.baseState=z,g.firstBaseUpdate=V,g.lastBaseUpdate=re,y===null&&(g.shared.lanes=0),li|=R,e.lanes=R,e.memoizedState=le}}function Nm(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function km(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Nm(n[e],t)}var Ir=M(null),Ml=M(0);function qm(e,t){e=Es,X(Ml,e),X(Ir,t),Es=e|t.baseLanes}function Ud(){X(Ml,Es),X(Ir,Ir.current)}function Bd(){Es=Ml.current,Z(Ir),Z(Ml)}var vn=M(null),Nn=null;function ri(e){var t=e.alternate;X(Ct,Ct.current&1),X(vn,e),Nn===null&&(t===null||Ir.current!==null||t.memoizedState!==null)&&(Nn=e)}function Ld(e){X(Ct,Ct.current),X(vn,e),Nn===null&&(Nn=e)}function zm(e){e.tag===22?(X(Ct,Ct.current),X(vn,e),Nn===null&&(Nn=e)):ai()}function ai(){X(Ct,Ct.current),X(vn,vn.current)}function yn(e){Z(vn),Nn===e&&(Nn=null),Z(Ct)}var Ct=M(0);function Pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xf(n)||Qf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Os=0,Ne=null,ct=null,xt=null,Nl=!1,Hr=!1,Ui=!1,kl=0,Ha=0,Mr=null,dA=0;function At(){throw Error(c(321))}function Fd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function Gd(e,t,n,a,g,y){return Os=y,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=e===null||e.memoizedState===null?Og:of,Ui=!1,y=n(a,g),Ui=!1,Hr&&(y=Dm(t,n,a,g)),$m(e),y}function $m(e){P.H=Na;var t=ct!==null&&ct.next!==null;if(Os=0,xt=ct=Ne=null,Nl=!1,Ha=0,Mr=null,t)throw Error(c(300));e===null||Et||(e=e.dependencies,e!==null&&Rl(e)&&(Et=!0))}function Dm(e,t,n,a){Ne=e;var g=0;do{if(Hr&&(Mr=null),Ha=0,Hr=!1,25<=g)throw Error(c(301));if(g+=1,xt=ct=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=jg,y=t(n,a)}while(Hr);return y}function fA(){var e=P.H,t=e.useState()[0];return t=typeof t.then=="function"?Ma(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Ne.flags|=1024),t}function Vd(){var e=kl!==0;return kl=0,e}function Kd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yd(e){if(Nl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nl=!1}Os=0,xt=ct=Ne=null,Hr=!1,Ha=kl=0,Mr=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ne.memoizedState=xt=e:xt=xt.next=e,xt}function Rt(){if(ct===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=xt===null?Ne.memoizedState:xt.next;if(t!==null)xt=t,ct=e;else{if(e===null)throw Ne.alternate===null?Error(c(467)):Error(c(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},xt===null?Ne.memoizedState=xt=e:xt=xt.next=e}return xt}function ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ma(e){var t=Ha;return Ha+=1,Mr===null&&(Mr=[]),e=Tm(Mr,e,t),t=Ne,(xt===null?t.memoizedState:xt.next)===null&&(t=t.alternate,P.H=t===null||t.memoizedState===null?Og:of),e}function zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ma(e);if(e.$$typeof===x)return Bt(e)}throw Error(c(438,String(e)))}function Zd(e){var t=null,n=Ne.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Ne.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(g){return g.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ql(),Ne.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=B;return t.index++,n}function js(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=Rt();return Xd(t,ct,e)}function Xd(e,t,n){var a=e.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=n;var g=e.baseQueue,y=a.pending;if(y!==null){if(g!==null){var R=g.next;g.next=y.next,y.next=R}t.baseQueue=g=y,a.pending=null}if(y=e.baseState,g===null)e.memoizedState=y;else{t=g.next;var T=R=null,z=null,V=t,re=!1;do{var le=V.lane&-536870913;if(le!==V.lane?(Ve&le)===le:(Os&le)===le){var Q=V.revertLane;if(Q===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),le===wr&&(re=!0);else if((Os&Q)===Q){V=V.next,Q===wr&&(re=!0);continue}else le={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},z===null?(T=z=le,R=y):z=z.next=le,Ne.lanes|=Q,li|=Q;le=V.action,Ui&&n(y,le),y=V.hasEagerState?V.eagerState:n(y,le)}else Q={lane:le,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},z===null?(T=z=Q,R=y):z=z.next=Q,Ne.lanes|=le,li|=le;V=V.next}while(V!==null&&V!==t);if(z===null?R=y:z.next=T,!mn(y,e.memoizedState)&&(Et=!0,re&&(n=xr,n!==null)))throw n;e.memoizedState=y,e.baseState=R,e.baseQueue=z,a.lastRenderedState=y}return g===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Qd(e){var t=Rt(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var a=n.dispatch,g=n.pending,y=t.memoizedState;if(g!==null){n.pending=null;var R=g=g.next;do y=e(y,R.action),R=R.next;while(R!==g);mn(y,t.memoizedState)||(Et=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),n.lastRenderedState=y}return[y,a]}function Um(e,t,n){var a=Ne,g=Rt(),y=Ze;if(y){if(n===void 0)throw Error(c(407));n=n()}else n=t();var R=!mn((ct||g).memoizedState,n);if(R&&(g.memoizedState=n,Et=!0),g=g.queue,ef(Fm.bind(null,a,g,e),[e]),g.getSnapshot!==t||R||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,Pr(9,{destroy:void 0},Lm.bind(null,a,g,n,t),null),dt===null)throw Error(c(349));y||(Os&127)!==0||Bm(a,t,n)}return n}function Bm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t=ql(),Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lm(e,t,n,a){t.value=n,t.getSnapshot=a,Gm(t)&&Vm(e)}function Fm(e,t,n){return n(function(){Gm(t)&&Vm(e)})}function Gm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function Vm(e){var t=Hi(e,2);t!==null&&un(t,e,2)}function Jd(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),Ui){Zs(!0);try{n()}finally{Zs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:e},t}function Km(e,t,n,a){return e.baseState=n,Xd(e,ct,typeof a=="function"?a:js)}function hA(e,t,n,a,g){if(Bl(e))throw Error(c(485));if(e=t.action,e!==null){var y={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};P.T!==null?n(!0):y.isTransition=!1,a(y),n=t.pending,n===null?(y.next=t.pending=y,Ym(t,y)):(y.next=n.next,t.pending=n.next=y)}}function Ym(e,t){var n=t.action,a=t.payload,g=e.state;if(t.isTransition){var y=P.T,R={};P.T=R;try{var T=n(g,a),z=P.S;z!==null&&z(R,T),Zm(e,t,T)}catch(V){Wd(e,t,V)}finally{y!==null&&R.types!==null&&(y.types=R.types),P.T=y}}else try{y=n(g,a),Zm(e,t,y)}catch(V){Wd(e,t,V)}}function Zm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Xm(e,t,a)},function(a){return Wd(e,t,a)}):Xm(e,t,n)}function Xm(e,t,n){t.status="fulfilled",t.value=n,Qm(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ym(e,n)))}function Wd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Qm(t),t=t.next;while(t!==a)}e.action=null}function Qm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jm(e,t){return t}function Wm(e,t){if(Ze){var n=dt.formState;if(n!==null){e:{var a=Ne;if(Ze){if(gt){t:{for(var g=gt,y=Pn;g.nodeType!==8;){if(!y){g=null;break t}if(g=kn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){gt=kn(g.nextSibling),a=g.data==="F!";break e}}ei(a)}a=!1}a&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:t},n.queue=a,n=yg.bind(null,Ne,a),a.dispatch=n,a=Jd(!1),y=af.bind(null,Ne,!1,a.queue),a=Xt(),g={state:t,dispatch:null,action:e,pending:null},a.queue=g,n=hA.bind(null,Ne,g,y,n),g.dispatch=n,a.memoizedState=e,[t,n,!1]}function eg(e){var t=Rt();return tg(t,ct,e)}function tg(e,t,n){if(t=Xd(e,t,Jm)[0],e=$l(js)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Ma(t)}catch(R){throw R===Er?El:R}else a=t;t=Rt();var g=t.queue,y=g.dispatch;return n!==t.memoizedState&&(Ne.flags|=2048,Pr(9,{destroy:void 0},pA.bind(null,g,n),null)),[a,y,e]}function pA(e,t){e.action=t}function ng(e){var t=Rt(),n=ct;if(n!==null)return tg(t,n,e);Rt(),t=t.memoizedState,n=Rt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Pr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Ne.updateQueue,t===null&&(t=ql(),Ne.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function sg(){return Rt().memoizedState}function Dl(e,t,n,a){var g=Xt();Ne.flags|=e,g.memoizedState=Pr(1|t,{destroy:void 0},n,a===void 0?null:a)}function Ul(e,t,n,a){var g=Rt();a=a===void 0?null:a;var y=g.memoizedState.inst;ct!==null&&a!==null&&Fd(a,ct.memoizedState.deps)?g.memoizedState=Pr(t,y,n,a):(Ne.flags|=e,g.memoizedState=Pr(1|t,y,n,a))}function ig(e,t){Dl(8390656,8,e,t)}function ef(e,t){Ul(2048,8,e,t)}function mA(e){Ne.flags|=4;var t=Ne.updateQueue;if(t===null)t=ql(),Ne.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function rg(e){var t=Rt().memoizedState;return mA({ref:t,nextImpl:e}),function(){if((st&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function ag(e,t){return Ul(4,2,e,t)}function og(e,t){return Ul(4,4,e,t)}function cg(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lg(e,t,n){n=n!=null?n.concat([e]):null,Ul(4,4,cg.bind(null,t,e),n)}function tf(){}function ug(e,t){var n=Rt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Fd(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function dg(e,t){var n=Rt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Fd(t,a[1]))return a[0];if(a=e(),Ui){Zs(!0);try{e()}finally{Zs(!1)}}return n.memoizedState=[a,t],a}function nf(e,t,n){return n===void 0||(Os&1073741824)!==0&&(Ve&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=fv(),Ne.lanes|=e,li|=e,n)}function fg(e,t,n,a){return mn(n,t)?n:Ir.current!==null?(e=nf(e,n,a),mn(e,t)||(Et=!0),e):(Os&42)===0||(Os&1073741824)!==0&&(Ve&261930)===0?(Et=!0,e.memoizedState=n):(e=fv(),Ne.lanes|=e,li|=e,t)}function hg(e,t,n,a,g){var y=q.p;q.p=y!==0&&8>y?y:8;var R=P.T,T={};P.T=T,af(e,!1,t,n);try{var z=g(),V=P.S;if(V!==null&&V(T,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var re=uA(z,a);Pa(e,t,re,On(e))}else Pa(e,t,a,On(e))}catch(le){Pa(e,t,{then:function(){},status:"rejected",reason:le},On())}finally{q.p=y,R!==null&&T.types!==null&&(R.types=T.types),P.T=R}}function gA(){}function sf(e,t,n,a){if(e.tag!==5)throw Error(c(476));var g=pg(e).queue;hg(e,g,t,L,n===null?gA:function(){return mg(e),n(a)})}function pg(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:L},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mg(e){var t=pg(e);t.next===null&&(t=e.alternate.memoizedState),Pa(e,t.next.queue,{},On())}function rf(){return Bt(Qa)}function gg(){return Rt().memoizedState}function vg(){return Rt().memoizedState}function vA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=On();e=si(n);var a=ii(t,e,n);a!==null&&(un(a,t,n),Ea(a,t,n)),t={cache:Md()},e.payload=t;return}t=t.return}}function yA(e,t,n){var a=On();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Bl(e)?_g(t,n):(n=jd(e,t,n,a),n!==null&&(un(n,e,a),bg(n,t,a)))}function yg(e,t,n){var a=On();Pa(e,t,n,a)}function Pa(e,t,n,a){var g={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bl(e))_g(t,g);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var R=t.lastRenderedState,T=y(R,n);if(g.hasEagerState=!0,g.eagerState=T,mn(T,R))return jl(e,t,g,0),dt===null&&Ol(),!1}catch{}finally{}if(n=jd(e,t,g,a),n!==null)return un(n,e,a),bg(n,t,a),!0}return!1}function af(e,t,n,a){if(a={lane:2,revertLane:zf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Bl(e)){if(t)throw Error(c(479))}else t=jd(e,n,a,2),t!==null&&un(t,e,2)}function Bl(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function _g(e,t){Hr=Nl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bg(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Cp(e,n)}}var Na={readContext:Bt,use:zl,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Na.useEffectEvent=At;var Og={readContext:Bt,use:zl,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:ig,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Dl(4194308,4,cg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){Dl(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var a=e();if(Ui){Zs(!0);try{e()}finally{Zs(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Xt();if(n!==void 0){var g=n(t);if(Ui){Zs(!0);try{n(t)}finally{Zs(!1)}}}else g=t;return a.memoizedState=a.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},a.queue=e,e=e.dispatch=yA.bind(null,Ne,e),[a.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Jd(e);var t=e.queue,n=yg.bind(null,Ne,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tf,useDeferredValue:function(e,t){var n=Xt();return nf(n,e,t)},useTransition:function(){var e=Jd(!1);return e=hg.bind(null,Ne,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Ne,g=Xt();if(Ze){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),dt===null)throw Error(c(349));(Ve&127)!==0||Bm(a,t,n)}g.memoizedState=n;var y={value:n,getSnapshot:t};return g.queue=y,ig(Fm.bind(null,a,y,e),[e]),a.flags|=2048,Pr(9,{destroy:void 0},Lm.bind(null,a,y,n,t),null),n},useId:function(){var e=Xt(),t=dt.identifierPrefix;if(Ze){var n=os,a=as;n=(a&~(1<<32-pn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=kl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=dA++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rf,useFormState:Wm,useActionState:Wm,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=af.bind(null,Ne,!0,n),n.dispatch=t,[e,t]},useMemoCache:Zd,useCacheRefresh:function(){return Xt().memoizedState=vA.bind(null,Ne)},useEffectEvent:function(e){var t=Xt(),n={impl:e};return t.memoizedState=n,function(){if((st&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},of={readContext:Bt,use:zl,useCallback:ug,useContext:Bt,useEffect:ef,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:og,useMemo:dg,useReducer:$l,useRef:sg,useState:function(){return $l(js)},useDebugValue:tf,useDeferredValue:function(e,t){var n=Rt();return fg(n,ct.memoizedState,e,t)},useTransition:function(){var e=$l(js)[0],t=Rt().memoizedState;return[typeof e=="boolean"?e:Ma(e),t]},useSyncExternalStore:Um,useId:gg,useHostTransitionStatus:rf,useFormState:eg,useActionState:eg,useOptimistic:function(e,t){var n=Rt();return Km(n,ct,e,t)},useMemoCache:Zd,useCacheRefresh:vg};of.useEffectEvent=rg;var jg={readContext:Bt,use:zl,useCallback:ug,useContext:Bt,useEffect:ef,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:og,useMemo:dg,useReducer:Qd,useRef:sg,useState:function(){return Qd(js)},useDebugValue:tf,useDeferredValue:function(e,t){var n=Rt();return ct===null?nf(n,e,t):fg(n,ct.memoizedState,e,t)},useTransition:function(){var e=Qd(js)[0],t=Rt().memoizedState;return[typeof e=="boolean"?e:Ma(e),t]},useSyncExternalStore:Um,useId:gg,useHostTransitionStatus:rf,useFormState:ng,useActionState:ng,useOptimistic:function(e,t){var n=Rt();return ct!==null?Km(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Zd,useCacheRefresh:vg};jg.useEffectEvent=rg;function cf(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lf={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=On(),g=si(a);g.payload=t,n!=null&&(g.callback=n),t=ii(e,g,a),t!==null&&(un(t,e,a),Ea(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=On(),g=si(a);g.tag=1,g.payload=t,n!=null&&(g.callback=n),t=ii(e,g,a),t!==null&&(un(t,e,a),Ea(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=On(),a=si(n);a.tag=2,t!=null&&(a.callback=t),t=ii(e,a,n),t!==null&&(un(t,e,n),Ea(t,e,n))}};function Ag(e,t,n,a,g,y,R){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,y,R):t.prototype&&t.prototype.isPureReactComponent?!Oa(n,a)||!Oa(g,y):!0}function Sg(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&lf.enqueueReplaceState(t,t.state,null)}function Bi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=f({},n));for(var g in e)n[g]===void 0&&(n[g]=e[g])}return n}function Cg(e){bl(e)}function Rg(e){console.error(e)}function wg(e){bl(e)}function Ll(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function xg(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function uf(e,t,n){return n=si(n),n.tag=3,n.payload={element:null},n.callback=function(){Ll(e,t)},n}function Eg(e){return e=si(e),e.tag=3,e}function Tg(e,t,n,a){var g=n.type.getDerivedStateFromError;if(typeof g=="function"){var y=a.value;e.payload=function(){return g(y)},e.callback=function(){xg(t,n,a)}}var R=n.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(e.callback=function(){xg(t,n,a),typeof g!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})})}function _A(e,t,n,a,g){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Rr(t,n,g,!0),n=vn.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?tu():n.alternate===null&&St===0&&(St=3),n.flags&=-257,n.flags|=65536,n.lanes=g,a===Tl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Nf(e,a,g)),!1;case 22:return n.flags|=65536,a===Tl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Nf(e,a,g)),!1}throw Error(c(435,n.tag))}return Nf(e,a,g),tu(),!1}if(Ze)return t=vn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=g,a!==xd&&(e=Error(c(422),{cause:a}),Sa(In(e,n)))):(a!==xd&&(t=Error(c(423),{cause:a}),Sa(In(t,n))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,a=In(a,n),g=uf(e.stateNode,a,g),$d(e,g),St!==4&&(St=2)),!1;var y=Error(c(520),{cause:a});if(y=In(y,n),La===null?La=[y]:La.push(y),St!==4&&(St=2),t===null)return!0;a=In(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=g&-g,n.lanes|=e,e=uf(n.stateNode,a,e),$d(n,e),!1;case 1:if(t=n.type,y=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ui===null||!ui.has(y))))return n.flags|=65536,g&=-g,n.lanes|=g,g=Eg(g),Tg(g,e,n,a),$d(n,g),!1}n=n.return}while(n!==null);return!1}var df=Error(c(461)),Et=!1;function Lt(e,t,n,a){t.child=e===null?Pm(t,null,n,a):Di(t,e.child,n,a)}function Ig(e,t,n,a,g){n=n.render;var y=t.ref;if("ref"in a){var R={};for(var T in a)T!=="ref"&&(R[T]=a[T])}else R=a;return ki(t),a=Gd(e,t,n,R,y,g),T=Vd(),e!==null&&!Et?(Kd(e,t,g),As(e,t,g)):(Ze&&T&&Rd(t),t.flags|=1,Lt(e,t,a,g),t.child)}function Hg(e,t,n,a,g){if(e===null){var y=n.type;return typeof y=="function"&&!Ad(y)&&y.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=y,Mg(e,t,y,a,g)):(e=Sl(n.type,null,a,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,!_f(e,g)){var R=y.memoizedProps;if(n=n.compare,n=n!==null?n:Oa,n(R,a)&&e.ref===t.ref)return As(e,t,g)}return t.flags|=1,e=vs(y,a),e.ref=t.ref,e.return=t,t.child=e}function Mg(e,t,n,a,g){if(e!==null){var y=e.memoizedProps;if(Oa(y,a)&&e.ref===t.ref)if(Et=!1,t.pendingProps=a=y,_f(e,g))(e.flags&131072)!==0&&(Et=!0);else return t.lanes=e.lanes,As(e,t,g)}return ff(e,t,n,a,g)}function Pg(e,t,n,a){var g=a.children,y=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(y=y!==null?y.baseLanes|n:n,e!==null){for(a=t.child=e.child,g=0;a!==null;)g=g|a.lanes|a.childLanes,a=a.sibling;a=g&~y}else a=0,t.child=null;return Ng(e,t,y,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xl(t,y!==null?y.cachePool:null),y!==null?qm(t,y):Ud(),zm(t);else return a=t.lanes=536870912,Ng(e,t,y!==null?y.baseLanes|n:n,n,a)}else y!==null?(xl(t,y.cachePool),qm(t,y),ai(),t.memoizedState=null):(e!==null&&xl(t,null),Ud(),ai());return Lt(e,t,g,n),t.child}function ka(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ng(e,t,n,a,g){var y=Nd();return y=y===null?null:{parent:wt._currentValue,pool:y},t.memoizedState={baseLanes:n,cachePool:y},e!==null&&xl(t,null),Ud(),zm(t),e!==null&&Rr(e,t,a,!0),t.childLanes=g,null}function Fl(e,t){return t=Vl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function kg(e,t,n){return Di(t,e.child,null,n),e=Fl(t,t.pendingProps),e.flags|=2,yn(t),t.memoizedState=null,e}function bA(e,t,n){var a=t.pendingProps,g=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ze){if(a.mode==="hidden")return e=Fl(t,a),t.lanes=536870912,ka(null,e);if(Ld(t),(e=gt)?(e=Yv(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Js!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},n=_m(e),n.return=t,t.child=n,Ut=t,gt=null)):e=null,e===null)throw ei(t);return t.lanes=536870912,null}return Fl(t,a)}var y=e.memoizedState;if(y!==null){var R=y.dehydrated;if(Ld(t),g)if(t.flags&256)t.flags&=-257,t=kg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Et||Rr(e,t,n,!1),g=(n&e.childLanes)!==0,Et||g){if(a=dt,a!==null&&(R=Rp(a,n),R!==0&&R!==y.retryLane))throw y.retryLane=R,Hi(e,R),un(a,e,R),df;tu(),t=kg(e,t,n)}else e=y.treeContext,gt=kn(R.nextSibling),Ut=t,Ze=!0,Ws=null,Pn=!1,e!==null&&jm(t,e),t=Fl(t,a),t.flags|=4096;return t}return e=vs(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Gl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ff(e,t,n,a,g){return ki(t),n=Gd(e,t,n,a,void 0,g),a=Vd(),e!==null&&!Et?(Kd(e,t,g),As(e,t,g)):(Ze&&a&&Rd(t),t.flags|=1,Lt(e,t,n,g),t.child)}function qg(e,t,n,a,g,y){return ki(t),t.updateQueue=null,n=Dm(t,a,n,g),$m(e),a=Vd(),e!==null&&!Et?(Kd(e,t,y),As(e,t,y)):(Ze&&a&&Rd(t),t.flags|=1,Lt(e,t,n,y),t.child)}function zg(e,t,n,a,g){if(ki(t),t.stateNode===null){var y=jr,R=n.contextType;typeof R=="object"&&R!==null&&(y=Bt(R)),y=new n(a,y),t.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=lf,t.stateNode=y,y._reactInternals=t,y=t.stateNode,y.props=a,y.state=t.memoizedState,y.refs={},qd(t),R=n.contextType,y.context=typeof R=="object"&&R!==null?Bt(R):jr,y.state=t.memoizedState,R=n.getDerivedStateFromProps,typeof R=="function"&&(cf(t,n,R,a),y.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&lf.enqueueReplaceState(y,y.state,null),Ia(t,a,y,g),Ta(),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){y=t.stateNode;var T=t.memoizedProps,z=Bi(n,T);y.props=z;var V=y.context,re=n.contextType;R=jr,typeof re=="object"&&re!==null&&(R=Bt(re));var le=n.getDerivedStateFromProps;re=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,re||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||V!==R)&&Sg(t,y,a,R),ni=!1;var Q=t.memoizedState;y.state=Q,Ia(t,a,y,g),Ta(),V=t.memoizedState,T||Q!==V||ni?(typeof le=="function"&&(cf(t,n,le,a),V=t.memoizedState),(z=ni||Ag(t,n,z,a,Q,V,R))?(re||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=V),y.props=a,y.state=V,y.context=R,a=z):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{y=t.stateNode,zd(e,t),R=t.memoizedProps,re=Bi(n,R),y.props=re,le=t.pendingProps,Q=y.context,V=n.contextType,z=jr,typeof V=="object"&&V!==null&&(z=Bt(V)),T=n.getDerivedStateFromProps,(V=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==le||Q!==z)&&Sg(t,y,a,z),ni=!1,Q=t.memoizedState,y.state=Q,Ia(t,a,y,g),Ta();var te=t.memoizedState;R!==le||Q!==te||ni||e!==null&&e.dependencies!==null&&Rl(e.dependencies)?(typeof T=="function"&&(cf(t,n,T,a),te=t.memoizedState),(re=ni||Ag(t,n,re,a,Q,te,z)||e!==null&&e.dependencies!==null&&Rl(e.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,te,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,te,z)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=te),y.props=a,y.state=te,y.context=z,a=re):(typeof y.componentDidUpdate!="function"||R===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),a=!1)}return y=a,Gl(e,t),a=(t.flags&128)!==0,y||a?(y=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:y.render(),t.flags|=1,e!==null&&a?(t.child=Di(t,e.child,null,g),t.child=Di(t,null,n,g)):Lt(e,t,n,g),t.memoizedState=y.state,e=t.child):e=As(e,t,g),e}function $g(e,t,n,a){return Pi(),t.flags|=256,Lt(e,t,n,a),t.child}var hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(e){return{baseLanes:e,cachePool:xm()}}function mf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=bn),e}function Dg(e,t,n){var a=t.pendingProps,g=!1,y=(t.flags&128)!==0,R;if((R=y)||(R=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),R&&(g=!0,t.flags&=-129),R=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ze){if(g?ri(t):ai(),(e=gt)?(e=Yv(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Js!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},n=_m(e),n.return=t,t.child=n,Ut=t,gt=null)):e=null,e===null)throw ei(t);return Qf(e)?t.lanes=32:t.lanes=536870912,null}var T=a.children;return a=a.fallback,g?(ai(),g=t.mode,T=Vl({mode:"hidden",children:T},g),a=Mi(a,g,n,null),T.return=t,a.return=t,T.sibling=a,t.child=T,a=t.child,a.memoizedState=pf(n),a.childLanes=mf(e,R,n),t.memoizedState=hf,ka(null,a)):(ri(t),gf(t,T))}var z=e.memoizedState;if(z!==null&&(T=z.dehydrated,T!==null)){if(y)t.flags&256?(ri(t),t.flags&=-257,t=vf(e,t,n)):t.memoizedState!==null?(ai(),t.child=e.child,t.flags|=128,t=null):(ai(),T=a.fallback,g=t.mode,a=Vl({mode:"visible",children:a.children},g),T=Mi(T,g,n,null),T.flags|=2,a.return=t,T.return=t,a.sibling=T,t.child=a,Di(t,e.child,null,n),a=t.child,a.memoizedState=pf(n),a.childLanes=mf(e,R,n),t.memoizedState=hf,t=ka(null,a));else if(ri(t),Qf(T)){if(R=T.nextSibling&&T.nextSibling.dataset,R)var V=R.dgst;R=V,a=Error(c(419)),a.stack="",a.digest=R,Sa({value:a,source:null,stack:null}),t=vf(e,t,n)}else if(Et||Rr(e,t,n,!1),R=(n&e.childLanes)!==0,Et||R){if(R=dt,R!==null&&(a=Rp(R,n),a!==0&&a!==z.retryLane))throw z.retryLane=a,Hi(e,a),un(R,e,a),df;Xf(T)||tu(),t=vf(e,t,n)}else Xf(T)?(t.flags|=192,t.child=e.child,t=null):(e=z.treeContext,gt=kn(T.nextSibling),Ut=t,Ze=!0,Ws=null,Pn=!1,e!==null&&jm(t,e),t=gf(t,a.children),t.flags|=4096);return t}return g?(ai(),T=a.fallback,g=t.mode,z=e.child,V=z.sibling,a=vs(z,{mode:"hidden",children:a.children}),a.subtreeFlags=z.subtreeFlags&65011712,V!==null?T=vs(V,T):(T=Mi(T,g,n,null),T.flags|=2),T.return=t,a.return=t,a.sibling=T,t.child=a,ka(null,a),a=t.child,T=e.child.memoizedState,T===null?T=pf(n):(g=T.cachePool,g!==null?(z=wt._currentValue,g=g.parent!==z?{parent:z,pool:z}:g):g=xm(),T={baseLanes:T.baseLanes|n,cachePool:g}),a.memoizedState=T,a.childLanes=mf(e,R,n),t.memoizedState=hf,ka(e.child,a)):(ri(t),n=e.child,e=n.sibling,n=vs(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(R=t.deletions,R===null?(t.deletions=[e],t.flags|=16):R.push(e)),t.child=n,t.memoizedState=null,n)}function gf(e,t){return t=Vl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vl(e,t){return e=gn(22,e,null,t),e.lanes=0,e}function vf(e,t,n){return Di(t,e.child,null,n),e=gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ug(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Id(e.return,t,n)}function yf(e,t,n,a,g,y){var R=e.memoizedState;R===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:g,treeForkCount:y}:(R.isBackwards=t,R.rendering=null,R.renderingStartTime=0,R.last=a,R.tail=n,R.tailMode=g,R.treeForkCount=y)}function Bg(e,t,n){var a=t.pendingProps,g=a.revealOrder,y=a.tail;a=a.children;var R=Ct.current,T=(R&2)!==0;if(T?(R=R&1|2,t.flags|=128):R&=1,X(Ct,R),Lt(e,t,a,n),a=Ze?Aa:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,n,t);else if(e.tag===19)Ug(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(n=t.child,g=null;n!==null;)e=n.alternate,e!==null&&Pl(e)===null&&(g=n),n=n.sibling;n=g,n===null?(g=t.child,t.child=null):(g=n.sibling,n.sibling=null),yf(t,!1,g,n,y,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Pl(e)===null){t.child=g;break}e=g.sibling,g.sibling=n,n=g,g=e}yf(t,!0,n,null,y,a);break;case"together":yf(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function As(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),li|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Rr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=vs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _f(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Rl(e)))}function OA(e,t,n){switch(t.tag){case 3:ae(t,t.stateNode.containerInfo),ti(t,wt,e.memoizedState.cache),Pi();break;case 27:case 5:we(t);break;case 4:ae(t,t.stateNode.containerInfo);break;case 10:ti(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ld(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ri(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Dg(e,t,n):(ri(t),e=As(e,t,n),e!==null?e.sibling:null);ri(t);break;case 19:var g=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Rr(e,t,n,!1),a=(n&t.childLanes)!==0),g){if(a)return Bg(e,t,n);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X(Ct,Ct.current),a)break;return null;case 22:return t.lanes=0,Pg(e,t,n,t.pendingProps);case 24:ti(t,wt,e.memoizedState.cache)}return As(e,t,n)}function Lg(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Et=!0;else{if(!_f(e,n)&&(t.flags&128)===0)return Et=!1,OA(e,t,n);Et=(e.flags&131072)!==0}else Et=!1,Ze&&(t.flags&1048576)!==0&&Om(t,Aa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=zi(t.elementType),t.type=e,typeof e=="function")Ad(e)?(a=Bi(e,a),t.tag=1,t=zg(null,t,e,a,n)):(t.tag=0,t=ff(null,t,e,a,n));else{if(e!=null){var g=e.$$typeof;if(g===E){t.tag=11,t=Ig(null,t,e,a,n);break e}else if(g===w){t.tag=14,t=Hg(null,t,e,a,n);break e}}throw t=$(e)||e,Error(c(306,t,""))}}return t;case 0:return ff(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,g=Bi(a,t.pendingProps),zg(e,t,a,g,n);case 3:e:{if(ae(t,t.stateNode.containerInfo),e===null)throw Error(c(387));a=t.pendingProps;var y=t.memoizedState;g=y.element,zd(e,t),Ia(t,a,null,n);var R=t.memoizedState;if(a=R.cache,ti(t,wt,a),a!==y.cache&&Hd(t,[wt],n,!0),Ta(),a=R.element,y.isDehydrated)if(y={element:a,isDehydrated:!1,cache:R.cache},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){t=$g(e,t,a,n);break e}else if(a!==g){g=In(Error(c(424)),t),Sa(g),t=$g(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(gt=kn(e.firstChild),Ut=t,Ze=!0,Ws=null,Pn=!0,n=Pm(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Pi(),a===g){t=As(e,t,n);break e}Lt(e,t,a,n)}t=t.child}return t;case 26:return Gl(e,t),e===null?(n=ey(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ze||(n=t.type,e=t.pendingProps,a=cu(fe.current).createElement(n),a[Dt]=t,a[sn]=e,Ft(a,n,e),qt(a),t.stateNode=a):t.memoizedState=ey(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&Ze&&(a=t.stateNode=Qv(t.type,t.pendingProps,fe.current),Ut=t,Pn=!0,g=gt,pi(t.type)?(Jf=g,gt=kn(a.firstChild)):gt=g),Lt(e,t,t.pendingProps.children,n),Gl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ze&&((g=a=gt)&&(a=QA(a,t.type,t.pendingProps,Pn),a!==null?(t.stateNode=a,Ut=t,gt=kn(a.firstChild),Pn=!1,g=!0):g=!1),g||ei(t)),we(t),g=t.type,y=t.pendingProps,R=e!==null?e.memoizedProps:null,a=y.children,Kf(g,y)?a=null:R!==null&&Kf(g,R)&&(t.flags|=32),t.memoizedState!==null&&(g=Gd(e,t,fA,null,null,n),Qa._currentValue=g),Gl(e,t),Lt(e,t,a,n),t.child;case 6:return e===null&&Ze&&((e=n=gt)&&(n=JA(n,t.pendingProps,Pn),n!==null?(t.stateNode=n,Ut=t,gt=null,e=!0):e=!1),e||ei(t)),null;case 13:return Dg(e,t,n);case 4:return ae(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Di(t,null,a,n):Lt(e,t,a,n),t.child;case 11:return Ig(e,t,t.type,t.pendingProps,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ti(t,t.type,a.value),Lt(e,t,a.children,n),t.child;case 9:return g=t.type._context,a=t.pendingProps.children,ki(t),g=Bt(g),a=a(g),t.flags|=1,Lt(e,t,a,n),t.child;case 14:return Hg(e,t,t.type,t.pendingProps,n);case 15:return Mg(e,t,t.type,t.pendingProps,n);case 19:return Bg(e,t,n);case 31:return bA(e,t,n);case 22:return Pg(e,t,n,t.pendingProps);case 24:return ki(t),a=Bt(wt),e===null?(g=Nd(),g===null&&(g=dt,y=Md(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=n),g=y),t.memoizedState={parent:a,cache:g},qd(t),ti(t,wt,g)):((e.lanes&n)!==0&&(zd(e,t),Ia(t,null,null,n),Ta()),g=e.memoizedState,y=t.memoizedState,g.parent!==a?(g={parent:a,cache:a},t.memoizedState=g,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=g),ti(t,wt,a)):(a=y.cache,ti(t,wt,a),a!==g.cache&&Hd(t,[wt],n,!0))),Lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Ss(e){e.flags|=4}function bf(e,t,n,a,g){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(gv())e.flags|=8192;else throw $i=Tl,kd}else e.flags&=-16777217}function Fg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ry(t))if(gv())e.flags|=8192;else throw $i=Tl,kd}function Kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ap():536870912,e.lanes|=t,zr|=t)}function qa(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var g=e.child;g!==null;)n|=g.lanes|g.childLanes,a|=g.subtreeFlags&65011712,a|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)n|=g.lanes|g.childLanes,a|=g.subtreeFlags,a|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function jA(e,t,n){var a=t.pendingProps;switch(wd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return vt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),bs(wt),oe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cr(t)?Ss(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ed())),vt(t),null;case 26:var g=t.type,y=t.memoizedState;return e===null?(Ss(t),y!==null?(vt(t),Fg(t,y)):(vt(t),bf(t,g,null,a,n))):y?y!==e.memoizedState?(Ss(t),vt(t),Fg(t,y)):(vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ss(t),vt(t),bf(t,g,e,a,n)),null;case 27:if(ne(t),n=fe.current,g=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ss(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return vt(t),null}e=ie.current,Cr(t)?Am(t):(e=Qv(g,a,n),t.stateNode=e,Ss(t))}return vt(t),null;case 5:if(ne(t),g=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ss(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return vt(t),null}if(y=ie.current,Cr(t))Am(t);else{var R=cu(fe.current);switch(y){case 1:y=R.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=R.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=R.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=R.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=R.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof a.is=="string"?R.createElement("select",{is:a.is}):R.createElement("select"),a.multiple?y.multiple=!0:a.size&&(y.size=a.size);break;default:y=typeof a.is=="string"?R.createElement(g,{is:a.is}):R.createElement(g)}}y[Dt]=t,y[sn]=a;e:for(R=t.child;R!==null;){if(R.tag===5||R.tag===6)y.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===t)break e;for(;R.sibling===null;){if(R.return===null||R.return===t)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}t.stateNode=y;e:switch(Ft(y,g,a),g){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ss(t)}}return vt(t),bf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ss(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(c(166));if(e=fe.current,Cr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,g=Ut,g!==null)switch(g.tag){case 27:case 5:a=g.memoizedProps}e[Dt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Dv(e.nodeValue,n)),e||ei(t,!0)}else e=cu(e).createTextNode(a),e[Dt]=t,t.stateNode=e}return vt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Cr(t),n!==null){if(e===null){if(!a)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Dt]=t}else Pi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),e=!1}else n=Ed(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(yn(t),t):(yn(t),null);if((t.flags&128)!==0)throw Error(c(558))}return vt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=Cr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!g)throw Error(c(318));if(g=t.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(c(317));g[Dt]=t}else Pi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),g=!1}else g=Ed(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return t.flags&256?(yn(t),t):(yn(t),null)}return yn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,g=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(g=a.alternate.memoizedState.cachePool.pool),y=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(y=a.memoizedState.cachePool.pool),y!==g&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),vt(t),null);case 4:return oe(),e===null&&Bf(t.stateNode.containerInfo),vt(t),null;case 10:return bs(t.type),vt(t),null;case 19:if(Z(Ct),a=t.memoizedState,a===null)return vt(t),null;if(g=(t.flags&128)!==0,y=a.rendering,y===null)if(g)qa(a,!1);else{if(St!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=Pl(e),y!==null){for(t.flags|=128,qa(a,!1),e=y.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ym(n,e),n=n.sibling;return X(Ct,Ct.current&1|2),Ze&&ys(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Mt()>Jl&&(t.flags|=128,g=!0,qa(a,!1),t.lanes=4194304)}else{if(!g)if(e=Pl(y),e!==null){if(t.flags|=128,g=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),qa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!y.alternate&&!Ze)return vt(t),null}else 2*Mt()-a.renderingStartTime>Jl&&n!==536870912&&(t.flags|=128,g=!0,qa(a,!1),t.lanes=4194304);a.isBackwards?(y.sibling=t.child,t.child=y):(e=a.last,e!==null?e.sibling=y:t.child=y,a.last=y)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Mt(),e.sibling=null,n=Ct.current,X(Ct,g?n&1|2:n&1),Ze&&ys(t,a.treeForkCount),e):(vt(t),null);case 22:case 23:return yn(t),Bd(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),n=t.updateQueue,n!==null&&Kl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Z(qi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bs(wt),vt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function AA(e,t){switch(wd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bs(wt),oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ne(t),null;case 31:if(t.memoizedState!==null){if(yn(t),t.alternate===null)throw Error(c(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(yn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(Ct),null;case 4:return oe(),null;case 10:return bs(t.type),null;case 22:case 23:return yn(t),Bd(),e!==null&&Z(qi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bs(wt),null;case 25:return null;default:return null}}function Gg(e,t){switch(wd(t),t.tag){case 3:bs(wt),oe();break;case 26:case 27:case 5:ne(t);break;case 4:oe();break;case 31:t.memoizedState!==null&&yn(t);break;case 13:yn(t);break;case 19:Z(Ct);break;case 10:bs(t.type);break;case 22:case 23:yn(t),Bd(),e!==null&&Z(qi);break;case 24:bs(wt)}}function za(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var g=a.next;n=g;do{if((n.tag&e)===e){a=void 0;var y=n.create,R=n.inst;a=y(),R.destroy=a}n=n.next}while(n!==g)}}catch(T){ot(t,t.return,T)}}function oi(e,t,n){try{var a=t.updateQueue,g=a!==null?a.lastEffect:null;if(g!==null){var y=g.next;a=y;do{if((a.tag&e)===e){var R=a.inst,T=R.destroy;if(T!==void 0){R.destroy=void 0,g=t;var z=n,V=T;try{V()}catch(re){ot(g,z,re)}}}a=a.next}while(a!==y)}}catch(re){ot(t,t.return,re)}}function Vg(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{km(t,n)}catch(a){ot(e,e.return,a)}}}function Kg(e,t,n){n.props=Bi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ot(e,t,a)}}function $a(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(g){ot(e,t,g)}}function cs(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(g){ot(e,t,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(g){ot(e,t,g)}else n.current=null}function Yg(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(g){ot(e,e.return,g)}}function Of(e,t,n){try{var a=e.stateNode;GA(a,e.type,n,t),a[sn]=t}catch(g){ot(e,e.return,g)}}function Zg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pi(e.type)||e.tag===4}function jf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Af(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ms));else if(a!==4&&(a===27&&pi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Af(e,t,n),e=e.sibling;e!==null;)Af(e,t,n),e=e.sibling}function Yl(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&pi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Yl(e,t,n),e=e.sibling;e!==null;)Yl(e,t,n),e=e.sibling}function Xg(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,g=t.attributes;g.length;)t.removeAttributeNode(g[0]);Ft(t,a,n),t[Dt]=e,t[sn]=n}catch(y){ot(e,e.return,y)}}var Cs=!1,Tt=!1,Sf=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,zt=null;function SA(e,t){if(e=e.containerInfo,Gf=mu,e=lm(e),gd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var g=a.anchorOffset,y=a.focusNode;a=a.focusOffset;try{n.nodeType,y.nodeType}catch{n=null;break e}var R=0,T=-1,z=-1,V=0,re=0,le=e,Q=null;t:for(;;){for(var te;le!==n||g!==0&&le.nodeType!==3||(T=R+g),le!==y||a!==0&&le.nodeType!==3||(z=R+a),le.nodeType===3&&(R+=le.nodeValue.length),(te=le.firstChild)!==null;)Q=le,le=te;for(;;){if(le===e)break t;if(Q===n&&++V===g&&(T=R),Q===y&&++re===a&&(z=R),(te=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=te}n=T===-1||z===-1?null:{start:T,end:z}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vf={focusedElem:e,selectionRange:n},mu=!1,zt=t;zt!==null;)if(t=zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,zt=e;else for(;zt!==null;){switch(t=zt,y=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)g=e[n],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,n=t,g=y.memoizedProps,y=y.memoizedState,a=n.stateNode;try{var Oe=Bi(n.type,g);e=a.getSnapshotBeforeUpdate(Oe,y),a.__reactInternalSnapshotBeforeUpdate=e}catch(xe){ot(n,n.return,xe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Zf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,zt=e;break}zt=t.return}}function Jg(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ws(e,n),a&4&&za(5,n);break;case 1:if(ws(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(R){ot(n,n.return,R)}else{var g=Bi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(g,t,e.__reactInternalSnapshotBeforeUpdate)}catch(R){ot(n,n.return,R)}}a&64&&Vg(n),a&512&&$a(n,n.return);break;case 3:if(ws(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{km(e,t)}catch(R){ot(n,n.return,R)}}break;case 27:t===null&&a&4&&Xg(n);case 26:case 5:ws(e,n),t===null&&a&4&&Yg(n),a&512&&$a(n,n.return);break;case 12:ws(e,n);break;case 31:ws(e,n),a&4&&tv(e,n);break;case 13:ws(e,n),a&4&&nv(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=MA.bind(null,n),WA(e,n))));break;case 22:if(a=n.memoizedState!==null||Cs,!a){t=t!==null&&t.memoizedState!==null||Tt,g=Cs;var y=Tt;Cs=a,(Tt=t)&&!y?xs(e,n,(n.subtreeFlags&8772)!==0):ws(e,n),Cs=g,Tt=y}break;case 30:break;default:ws(e,n)}}function Wg(e){var t=e.alternate;t!==null&&(e.alternate=null,Wg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var yt=null,an=!1;function Rs(e,t,n){for(n=n.child;n!==null;)ev(e,t,n),n=n.sibling}function ev(e,t,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(rs,n)}catch{}switch(n.tag){case 26:Tt||cs(n,t),Rs(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Tt||cs(n,t);var a=yt,g=an;pi(n.type)&&(yt=n.stateNode,an=!1),Rs(e,t,n),Ya(n.stateNode),yt=a,an=g;break;case 5:Tt||cs(n,t);case 6:if(a=yt,g=an,yt=null,Rs(e,t,n),yt=a,an=g,yt!==null)if(an)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(n.stateNode)}catch(y){ot(n,t,y)}else try{yt.removeChild(n.stateNode)}catch(y){ot(n,t,y)}break;case 18:yt!==null&&(an?(e=yt,Vv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Vr(e)):Vv(yt,n.stateNode));break;case 4:a=yt,g=an,yt=n.stateNode.containerInfo,an=!0,Rs(e,t,n),yt=a,an=g;break;case 0:case 11:case 14:case 15:oi(2,n,t),Tt||oi(4,n,t),Rs(e,t,n);break;case 1:Tt||(cs(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Kg(n,t,a)),Rs(e,t,n);break;case 21:Rs(e,t,n);break;case 22:Tt=(a=Tt)||n.memoizedState!==null,Rs(e,t,n),Tt=a;break;default:Rs(e,t,n)}}function tv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vr(e)}catch(n){ot(t,t.return,n)}}}function nv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vr(e)}catch(n){ot(t,t.return,n)}}function CA(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qg),t;default:throw Error(c(435,e.tag))}}function Zl(e,t){var n=CA(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var g=PA.bind(null,e,a);a.then(g,g)}})}function on(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var g=n[a],y=e,R=t,T=R;e:for(;T!==null;){switch(T.tag){case 27:if(pi(T.type)){yt=T.stateNode,an=!1;break e}break;case 5:yt=T.stateNode,an=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(yt===null)throw Error(c(160));ev(y,R,g),yt=null,an=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sv(t,e),t=t.sibling}var Vn=null;function sv(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(t,e),cn(e),a&4&&(oi(3,e,e.return),za(3,e),oi(5,e,e.return));break;case 1:on(t,e),cn(e),a&512&&(Tt||n===null||cs(n,n.return)),a&64&&Cs&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var g=Vn;if(on(t,e),cn(e),a&512&&(Tt||n===null||cs(n,n.return)),a&4){var y=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,g=g.ownerDocument||g;t:switch(a){case"title":y=g.getElementsByTagName("title")[0],(!y||y[fa]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(a),g.head.insertBefore(y,g.querySelector("head > title"))),Ft(y,a,n),y[Dt]=e,qt(y),a=y;break e;case"link":var R=sy("link","href",g).get(a+(n.href||""));if(R){for(var T=0;T<R.length;T++)if(y=R[T],y.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&y.getAttribute("rel")===(n.rel==null?null:n.rel)&&y.getAttribute("title")===(n.title==null?null:n.title)&&y.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){R.splice(T,1);break t}}y=g.createElement(a),Ft(y,a,n),g.head.appendChild(y);break;case"meta":if(R=sy("meta","content",g).get(a+(n.content||""))){for(T=0;T<R.length;T++)if(y=R[T],y.getAttribute("content")===(n.content==null?null:""+n.content)&&y.getAttribute("name")===(n.name==null?null:n.name)&&y.getAttribute("property")===(n.property==null?null:n.property)&&y.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&y.getAttribute("charset")===(n.charSet==null?null:n.charSet)){R.splice(T,1);break t}}y=g.createElement(a),Ft(y,a,n),g.head.appendChild(y);break;default:throw Error(c(468,a))}y[Dt]=e,qt(y),a=y}e.stateNode=a}else iy(g,e.type,e.stateNode);else e.stateNode=ny(g,a,e.memoizedProps);else y!==a?(y===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):y.count--,a===null?iy(g,e.type,e.stateNode):ny(g,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Of(e,e.memoizedProps,n.memoizedProps)}break;case 27:on(t,e),cn(e),a&512&&(Tt||n===null||cs(n,n.return)),n!==null&&a&4&&Of(e,e.memoizedProps,n.memoizedProps);break;case 5:if(on(t,e),cn(e),a&512&&(Tt||n===null||cs(n,n.return)),e.flags&32){g=e.stateNode;try{mr(g,"")}catch(Oe){ot(e,e.return,Oe)}}a&4&&e.stateNode!=null&&(g=e.memoizedProps,Of(e,g,n!==null?n.memoizedProps:g)),a&1024&&(Sf=!0);break;case 6:if(on(t,e),cn(e),a&4){if(e.stateNode===null)throw Error(c(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Oe){ot(e,e.return,Oe)}}break;case 3:if(du=null,g=Vn,Vn=lu(t.containerInfo),on(t,e),Vn=g,cn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(t.containerInfo)}catch(Oe){ot(e,e.return,Oe)}Sf&&(Sf=!1,iv(e));break;case 4:a=Vn,Vn=lu(e.stateNode.containerInfo),on(t,e),cn(e),Vn=a;break;case 12:on(t,e),cn(e);break;case 31:on(t,e),cn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Zl(e,a)));break;case 13:on(t,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ql=Mt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Zl(e,a)));break;case 22:g=e.memoizedState!==null;var z=n!==null&&n.memoizedState!==null,V=Cs,re=Tt;if(Cs=V||g,Tt=re||z,on(t,e),Tt=re,Cs=V,cn(e),a&8192)e:for(t=e.stateNode,t._visibility=g?t._visibility&-2:t._visibility|1,g&&(n===null||z||Cs||Tt||Li(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){z=n=t;try{if(y=z.stateNode,g)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{T=z.stateNode;var le=z.memoizedProps.style,Q=le!=null&&le.hasOwnProperty("display")?le.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Oe){ot(z,z.return,Oe)}}}else if(t.tag===6){if(n===null){z=t;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(Oe){ot(z,z.return,Oe)}}}else if(t.tag===18){if(n===null){z=t;try{var te=z.stateNode;g?Kv(te,!0):Kv(z.stateNode,!1)}catch(Oe){ot(z,z.return,Oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Zl(e,n))));break;case 19:on(t,e),cn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Zl(e,a)));break;case 30:break;case 21:break;default:on(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Zg(a)){n=a;break}a=a.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var g=n.stateNode,y=jf(e);Yl(e,y,g);break;case 5:var R=n.stateNode;n.flags&32&&(mr(R,""),n.flags&=-33);var T=jf(e);Yl(e,T,R);break;case 3:case 4:var z=n.stateNode.containerInfo,V=jf(e);Af(e,V,z);break;default:throw Error(c(161))}}catch(re){ot(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;iv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ws(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Jg(e,t.alternate,t),t=t.sibling}function Li(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oi(4,t,t.return),Li(t);break;case 1:cs(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Kg(t,t.return,n),Li(t);break;case 27:Ya(t.stateNode);case 26:case 5:cs(t,t.return),Li(t);break;case 22:t.memoizedState===null&&Li(t);break;case 30:Li(t);break;default:Li(t)}e=e.sibling}}function xs(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,g=e,y=t,R=y.flags;switch(y.tag){case 0:case 11:case 15:xs(g,y,n),za(4,y);break;case 1:if(xs(g,y,n),a=y,g=a.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(V){ot(a,a.return,V)}if(a=y,g=a.updateQueue,g!==null){var T=a.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)Nm(z[g],T)}catch(V){ot(a,a.return,V)}}n&&R&64&&Vg(y),$a(y,y.return);break;case 27:Xg(y);case 26:case 5:xs(g,y,n),n&&a===null&&R&4&&Yg(y),$a(y,y.return);break;case 12:xs(g,y,n);break;case 31:xs(g,y,n),n&&R&4&&tv(g,y);break;case 13:xs(g,y,n),n&&R&4&&nv(g,y);break;case 22:y.memoizedState===null&&xs(g,y,n),$a(y,y.return);break;case 30:break;default:xs(g,y,n)}t=t.sibling}}function Cf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ca(n))}function Rf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ca(e))}function Kn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rv(e,t,n,a),t=t.sibling}function rv(e,t,n,a){var g=t.flags;switch(t.tag){case 0:case 11:case 15:Kn(e,t,n,a),g&2048&&za(9,t);break;case 1:Kn(e,t,n,a);break;case 3:Kn(e,t,n,a),g&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ca(e)));break;case 12:if(g&2048){Kn(e,t,n,a),e=t.stateNode;try{var y=t.memoizedProps,R=y.id,T=y.onPostCommit;typeof T=="function"&&T(R,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){ot(t,t.return,z)}}else Kn(e,t,n,a);break;case 31:Kn(e,t,n,a);break;case 13:Kn(e,t,n,a);break;case 23:break;case 22:y=t.stateNode,R=t.alternate,t.memoizedState!==null?y._visibility&2?Kn(e,t,n,a):Da(e,t):y._visibility&2?Kn(e,t,n,a):(y._visibility|=2,Nr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),g&2048&&Cf(R,t);break;case 24:Kn(e,t,n,a),g&2048&&Rf(t.alternate,t);break;default:Kn(e,t,n,a)}}function Nr(e,t,n,a,g){for(g=g&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var y=e,R=t,T=n,z=a,V=R.flags;switch(R.tag){case 0:case 11:case 15:Nr(y,R,T,z,g),za(8,R);break;case 23:break;case 22:var re=R.stateNode;R.memoizedState!==null?re._visibility&2?Nr(y,R,T,z,g):Da(y,R):(re._visibility|=2,Nr(y,R,T,z,g)),g&&V&2048&&Cf(R.alternate,R);break;case 24:Nr(y,R,T,z,g),g&&V&2048&&Rf(R.alternate,R);break;default:Nr(y,R,T,z,g)}t=t.sibling}}function Da(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,g=a.flags;switch(a.tag){case 22:Da(n,a),g&2048&&Cf(a.alternate,a);break;case 24:Da(n,a),g&2048&&Rf(a.alternate,a);break;default:Da(n,a)}t=t.sibling}}var Ua=8192;function kr(e,t,n){if(e.subtreeFlags&Ua)for(e=e.child;e!==null;)av(e,t,n),e=e.sibling}function av(e,t,n){switch(e.tag){case 26:kr(e,t,n),e.flags&Ua&&e.memoizedState!==null&&dS(n,Vn,e.memoizedState,e.memoizedProps);break;case 5:kr(e,t,n);break;case 3:case 4:var a=Vn;Vn=lu(e.stateNode.containerInfo),kr(e,t,n),Vn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ua,Ua=16777216,kr(e,t,n),Ua=a):kr(e,t,n));break;default:kr(e,t,n)}}function ov(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ba(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];zt=a,lv(a,e)}ov(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cv(e),e=e.sibling}function cv(e){switch(e.tag){case 0:case 11:case 15:Ba(e),e.flags&2048&&oi(9,e,e.return);break;case 3:Ba(e);break;case 12:Ba(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xl(e)):Ba(e);break;default:Ba(e)}}function Xl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];zt=a,lv(a,e)}ov(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:oi(8,t,t.return),Xl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function lv(e,t){for(;zt!==null;){var n=zt;switch(n.tag){case 0:case 11:case 15:oi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ca(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,zt=a;else e:for(n=e;zt!==null;){a=zt;var g=a.sibling,y=a.return;if(Wg(a),a===n){zt=null;break e}if(g!==null){g.return=y,zt=g;break e}zt=y}}}var RA={getCacheForType:function(e){var t=Bt(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Bt(wt).controller.signal}},wA=typeof WeakMap=="function"?WeakMap:Map,st=0,dt=null,Fe=null,Ve=0,at=0,_n=null,ci=!1,qr=!1,wf=!1,Es=0,St=0,li=0,Fi=0,xf=0,bn=0,zr=0,La=null,ln=null,Ef=!1,Ql=0,uv=0,Jl=1/0,Wl=null,ui=null,Pt=0,di=null,$r=null,Ts=0,Tf=0,If=null,dv=null,Fa=0,Hf=null;function On(){return(st&2)!==0&&Ve!==0?Ve&-Ve:P.T!==null?zf():wp()}function fv(){if(bn===0)if((Ve&536870912)===0||Ze){var e=ol;ol<<=1,(ol&3932160)===0&&(ol=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function un(e,t,n){(e===dt&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Dr(e,0),fi(e,Ve,bn,!1)),da(e,n),((st&2)===0||e!==dt)&&(e===dt&&((st&2)===0&&(Fi|=n),St===4&&fi(e,Ve,bn,!1)),ls(e))}function hv(e,t,n){if((st&6)!==0)throw Error(c(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ua(e,t),g=a?TA(e,t):Pf(e,t,!0),y=a;do{if(g===0){qr&&!a&&fi(e,t,0,!1);break}else{if(n=e.current.alternate,y&&!xA(n)){g=Pf(e,t,!1),y=!1;continue}if(g===2){if(y=t,e.errorRecoveryDisabledLanes&y)var R=0;else R=e.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){t=R;e:{var T=e;g=La;var z=T.current.memoizedState.isDehydrated;if(z&&(Dr(T,R).flags|=256),R=Pf(T,R,!1),R!==2){if(wf&&!z){T.errorRecoveryDisabledLanes|=y,Fi|=y,g=4;break e}y=ln,ln=g,y!==null&&(ln===null?ln=y:ln.push.apply(ln,y))}g=R}if(y=!1,g!==2)continue}}if(g===1){Dr(e,0),fi(e,t,0,!0);break}e:{switch(a=e,y=g,y){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:fi(a,t,bn,!ci);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(g=Ql+300-Mt(),10<g)){if(fi(a,t,bn,!ci),ll(a,0,!0)!==0)break e;Ts=t,a.timeoutHandle=Fv(pv.bind(null,a,n,ln,Wl,Ef,t,bn,Fi,zr,ci,y,"Throttled",-0,0),g);break e}pv(a,n,ln,Wl,Ef,t,bn,Fi,zr,ci,y,null,-0,0)}}break}while(!0);ls(e)}function pv(e,t,n,a,g,y,R,T,z,V,re,le,Q,te){if(e.timeoutHandle=-1,le=t.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ms},av(t,y,le);var Oe=(y&62914560)===y?Ql-Mt():(y&4194048)===y?uv-Mt():0;if(Oe=fS(le,Oe),Oe!==null){Ts=y,e.cancelPendingCommit=Oe(jv.bind(null,e,t,y,n,a,g,R,T,z,re,le,null,Q,te)),fi(e,y,R,!V);return}}jv(e,t,y,n,a,g,R,T,z)}function xA(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var g=n[a],y=g.getSnapshot;g=g.value;try{if(!mn(y(),g))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fi(e,t,n,a){t&=~xf,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var g=t;0<g;){var y=31-pn(g),R=1<<y;a[y]=-1,g&=~R}n!==0&&Sp(e,n,t)}function eu(){return(st&6)===0?(Ga(0),!1):!0}function Mf(){if(Fe!==null){if(at===0)var e=Fe.return;else e=Fe,_s=Ni=null,Yd(e),Tr=null,wa=0,e=Fe;for(;e!==null;)Gg(e.alternate,e),e=e.return;Fe=null}}function Dr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,YA(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ts=0,Mf(),dt=e,Fe=n=vs(e.current,null),Ve=t,at=0,_n=null,ci=!1,qr=ua(e,t),wf=!1,zr=bn=xf=Fi=li=St=0,ln=La=null,Ef=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var g=31-pn(a),y=1<<g;t|=e[g],a&=~y}return Es=t,Ol(),n}function mv(e,t){Ne=null,P.H=Na,t===Er||t===El?(t=Im(),at=3):t===kd?(t=Im(),at=4):at=t===df?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_n=t,Fe===null&&(St=1,Ll(e,In(t,e.current)))}function gv(){var e=vn.current;return e===null?!0:(Ve&4194048)===Ve?Nn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?e===Nn:!1}function vv(){var e=P.H;return P.H=Na,e===null?Na:e}function yv(){var e=P.A;return P.A=RA,e}function tu(){St=4,ci||(Ve&4194048)!==Ve&&vn.current!==null||(qr=!0),(li&134217727)===0&&(Fi&134217727)===0||dt===null||fi(dt,Ve,bn,!1)}function Pf(e,t,n){var a=st;st|=2;var g=vv(),y=yv();(dt!==e||Ve!==t)&&(Wl=null,Dr(e,t)),t=!1;var R=St;e:do try{if(at!==0&&Fe!==null){var T=Fe,z=_n;switch(at){case 8:Mf(),R=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(t=!0);var V=at;if(at=0,_n=null,Ur(e,T,z,V),n&&qr){R=0;break e}break;default:V=at,at=0,_n=null,Ur(e,T,z,V)}}EA(),R=St;break}catch(re){mv(e,re)}while(!0);return t&&e.shellSuspendCounter++,_s=Ni=null,st=a,P.H=g,P.A=y,Fe===null&&(dt=null,Ve=0,Ol()),R}function EA(){for(;Fe!==null;)_v(Fe)}function TA(e,t){var n=st;st|=2;var a=vv(),g=yv();dt!==e||Ve!==t?(Wl=null,Jl=Mt()+500,Dr(e,t)):qr=ua(e,t);e:do try{if(at!==0&&Fe!==null){t=Fe;var y=_n;t:switch(at){case 1:at=0,_n=null,Ur(e,t,y,1);break;case 2:case 9:if(Em(y)){at=0,_n=null,bv(t);break}t=function(){at!==2&&at!==9||dt!==e||(at=7),ls(e)},y.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Em(y)?(at=0,_n=null,bv(t)):(at=0,_n=null,Ur(e,t,y,7));break;case 5:var R=null;switch(Fe.tag){case 26:R=Fe.memoizedState;case 5:case 27:var T=Fe;if(R?ry(R):T.stateNode.complete){at=0,_n=null;var z=T.sibling;if(z!==null)Fe=z;else{var V=T.return;V!==null?(Fe=V,nu(V)):Fe=null}break t}}at=0,_n=null,Ur(e,t,y,5);break;case 6:at=0,_n=null,Ur(e,t,y,6);break;case 8:Mf(),St=6;break e;default:throw Error(c(462))}}IA();break}catch(re){mv(e,re)}while(!0);return _s=Ni=null,P.H=a,P.A=g,st=n,Fe!==null?0:(dt=null,Ve=0,Ol(),St)}function IA(){for(;Fe!==null&&!Fn();)_v(Fe)}function _v(e){var t=Lg(e.alternate,e,Es);e.memoizedProps=e.pendingProps,t===null?nu(e):Fe=t}function bv(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qg(n,t,t.pendingProps,t.type,void 0,Ve);break;case 11:t=qg(n,t,t.pendingProps,t.type.render,t.ref,Ve);break;case 5:Yd(t);default:Gg(n,t),t=Fe=ym(t,Es),t=Lg(n,t,Es)}e.memoizedProps=e.pendingProps,t===null?nu(e):Fe=t}function Ur(e,t,n,a){_s=Ni=null,Yd(t),Tr=null,wa=0;var g=t.return;try{if(_A(e,g,t,n,Ve)){St=1,Ll(e,In(n,e.current)),Fe=null;return}}catch(y){if(g!==null)throw Fe=g,y;St=1,Ll(e,In(n,e.current)),Fe=null;return}t.flags&32768?(Ze||a===1?e=!0:qr||(Ve&536870912)!==0?e=!1:(ci=e=!0,(a===2||a===9||a===3||a===6)&&(a=vn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ov(t,e)):nu(t)}function nu(e){var t=e;do{if((t.flags&32768)!==0){Ov(t,ci);return}e=t.return;var n=jA(t.alternate,t,Es);if(n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);St===0&&(St=5)}function Ov(e,t){do{var n=AA(e.alternate,e);if(n!==null){n.flags&=32767,Fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=n}while(e!==null);St=6,Fe=null}function jv(e,t,n,a,g,y,R,T,z){e.cancelPendingCommit=null;do su();while(Pt!==0);if((st&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(y=t.lanes|t.childLanes,y|=Od,uj(e,n,y,R,T,z),e===dt&&(Fe=dt=null,Ve=0),$r=t,di=e,Ts=n,Tf=y,If=g,dv=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,NA(Zt,function(){return wv(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=P.T,P.T=null,g=q.p,q.p=2,R=st,st|=4;try{SA(e,t,n)}finally{st=R,q.p=g,P.T=a}}Pt=1,Av(),Sv(),Cv()}}function Av(){if(Pt===1){Pt=0;var e=di,t=$r,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=P.T,P.T=null;var a=q.p;q.p=2;var g=st;st|=4;try{sv(t,e);var y=Vf,R=lm(e.containerInfo),T=y.focusedElem,z=y.selectionRange;if(R!==T&&T&&T.ownerDocument&&cm(T.ownerDocument.documentElement,T)){if(z!==null&&gd(T)){var V=z.start,re=z.end;if(re===void 0&&(re=V),"selectionStart"in T)T.selectionStart=V,T.selectionEnd=Math.min(re,T.value.length);else{var le=T.ownerDocument||document,Q=le&&le.defaultView||window;if(Q.getSelection){var te=Q.getSelection(),Oe=T.textContent.length,xe=Math.min(z.start,Oe),ut=z.end===void 0?xe:Math.min(z.end,Oe);!te.extend&&xe>ut&&(R=ut,ut=xe,xe=R);var U=om(T,xe),D=om(T,ut);if(U&&D&&(te.rangeCount!==1||te.anchorNode!==U.node||te.anchorOffset!==U.offset||te.focusNode!==D.node||te.focusOffset!==D.offset)){var G=le.createRange();G.setStart(U.node,U.offset),te.removeAllRanges(),xe>ut?(te.addRange(G),te.extend(D.node,D.offset)):(G.setEnd(D.node,D.offset),te.addRange(G))}}}}for(le=[],te=T;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<le.length;T++){var ce=le[T];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}mu=!!Gf,Vf=Gf=null}finally{st=g,q.p=a,P.T=n}}e.current=t,Pt=2}}function Sv(){if(Pt===2){Pt=0;var e=di,t=$r,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=P.T,P.T=null;var a=q.p;q.p=2;var g=st;st|=4;try{Jg(e,t.alternate,t)}finally{st=g,q.p=a,P.T=n}}Pt=3}}function Cv(){if(Pt===4||Pt===3){Pt=0,rt();var e=di,t=$r,n=Ts,a=dv;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pt=5:(Pt=0,$r=di=null,Rv(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(ui=null),Qu(n),t=t.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(rs,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=P.T,g=q.p,q.p=2,P.T=null;try{for(var y=e.onRecoverableError,R=0;R<a.length;R++){var T=a[R];y(T.value,{componentStack:T.stack})}}finally{P.T=t,q.p=g}}(Ts&3)!==0&&su(),ls(e),g=e.pendingLanes,(n&261930)!==0&&(g&42)!==0?e===Hf?Fa++:(Fa=0,Hf=e):Fa=0,Ga(0)}}function Rv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ca(t)))}function su(){return Av(),Sv(),Cv(),wv()}function wv(){if(Pt!==5)return!1;var e=di,t=Tf;Tf=0;var n=Qu(Ts),a=P.T,g=q.p;try{q.p=32>n?32:n,P.T=null,n=If,If=null;var y=di,R=Ts;if(Pt=0,$r=di=null,Ts=0,(st&6)!==0)throw Error(c(331));var T=st;if(st|=4,cv(y.current),rv(y,y.current,R,n),st=T,Ga(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(rs,y)}catch{}return!0}finally{q.p=g,P.T=a,Rv(e,t)}}function xv(e,t,n){t=In(n,t),t=uf(e.stateNode,t,2),e=ii(e,t,2),e!==null&&(da(e,2),ls(e))}function ot(e,t,n){if(e.tag===3)xv(e,e,n);else for(;t!==null;){if(t.tag===3){xv(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ui===null||!ui.has(a))){e=In(n,e),n=Eg(2),a=ii(t,n,2),a!==null&&(Tg(n,a,t,e),da(a,2),ls(a));break}}t=t.return}}function Nf(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new wA;var g=new Set;a.set(t,g)}else g=a.get(t),g===void 0&&(g=new Set,a.set(t,g));g.has(n)||(wf=!0,g.add(n),e=HA.bind(null,e,t,n),t.then(e,e))}function HA(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,dt===e&&(Ve&n)===n&&(St===4||St===3&&(Ve&62914560)===Ve&&300>Mt()-Ql?(st&2)===0&&Dr(e,0):xf|=n,zr===Ve&&(zr=0)),ls(e)}function Ev(e,t){t===0&&(t=Ap()),e=Hi(e,t),e!==null&&(da(e,t),ls(e))}function MA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ev(e,n)}function PA(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,g=e.memoizedState;g!==null&&(n=g.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(t),Ev(e,n)}function NA(e,t){return jt(e,t)}var iu=null,Br=null,kf=!1,ru=!1,qf=!1,hi=0;function ls(e){e!==Br&&e.next===null&&(Br===null?iu=Br=e:Br=Br.next=e),ru=!0,kf||(kf=!0,qA())}function Ga(e,t){if(!qf&&ru){qf=!0;do for(var n=!1,a=iu;a!==null;){if(e!==0){var g=a.pendingLanes;if(g===0)var y=0;else{var R=a.suspendedLanes,T=a.pingedLanes;y=(1<<31-pn(42|e)+1)-1,y&=g&~(R&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(n=!0,Mv(a,y))}else y=Ve,y=ll(a,a===dt?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(y&3)===0||ua(a,y)||(n=!0,Mv(a,y));a=a.next}while(n);qf=!1}}function kA(){Tv()}function Tv(){ru=kf=!1;var e=0;hi!==0&&KA()&&(e=hi);for(var t=Mt(),n=null,a=iu;a!==null;){var g=a.next,y=Iv(a,t);y===0?(a.next=null,n===null?iu=g:n.next=g,g===null&&(Br=n)):(n=a,(e!==0||(y&3)!==0)&&(ru=!0)),a=g}Pt!==0&&Pt!==5||Ga(e),hi!==0&&(hi=0)}function Iv(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,g=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var R=31-pn(y),T=1<<R,z=g[R];z===-1?((T&n)===0||(T&a)!==0)&&(g[R]=lj(T,t)):z<=t&&(e.expiredLanes|=T),y&=~T}if(t=dt,n=Ve,n=ll(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ot(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ua(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Ot(a),Qu(n)){case 2:case 8:n=wn;break;case 32:n=Zt;break;case 268435456:n=la;break;default:n=Zt}return a=Hv.bind(null,e),n=jt(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Ot(a),e.callbackPriority=2,e.callbackNode=null,2}function Hv(e,t){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var a=Ve;return a=ll(e,e===dt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(hv(e,a,t),Iv(e,Mt()),e.callbackNode!=null&&e.callbackNode===n?Hv.bind(null,e):null)}function Mv(e,t){if(su())return null;hv(e,t,!0)}function qA(){ZA(function(){(st&6)!==0?jt(cr,kA):Tv()})}function zf(){if(hi===0){var e=wr;e===0&&(e=al,al<<=1,(al&261888)===0&&(al=256)),hi=e}return hi}function Pv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hl(""+e)}function Nv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function zA(e,t,n,a,g){if(t==="submit"&&n&&n.stateNode===g){var y=Pv((g[sn]||null).action),R=a.submitter;R&&(t=(t=R[sn]||null)?Pv(t.formAction):R.getAttribute("formAction"),t!==null&&(y=t,R=null));var T=new vl("action","action",null,a,g);e.push({event:T,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(hi!==0){var z=R?Nv(g,R):new FormData(g);sf(n,{pending:!0,data:z,method:g.method,action:y},null,z)}}else typeof y=="function"&&(T.preventDefault(),z=R?Nv(g,R):new FormData(g),sf(n,{pending:!0,data:z,method:g.method,action:y},y,z))},currentTarget:g}]})}}for(var $f=0;$f<bd.length;$f++){var Df=bd[$f],$A=Df.toLowerCase(),DA=Df[0].toUpperCase()+Df.slice(1);Gn($A,"on"+DA)}Gn(fm,"onAnimationEnd"),Gn(hm,"onAnimationIteration"),Gn(pm,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(nA,"onTransitionRun"),Gn(sA,"onTransitionStart"),Gn(iA,"onTransitionCancel"),Gn(mm,"onTransitionEnd"),hr("onMouseEnter",["mouseout","mouseover"]),hr("onMouseLeave",["mouseout","mouseover"]),hr("onPointerEnter",["pointerout","pointerover"]),hr("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Va));function kv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],g=a.event;a=a.listeners;e:{var y=void 0;if(t)for(var R=a.length-1;0<=R;R--){var T=a[R],z=T.instance,V=T.currentTarget;if(T=T.listener,z!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=V;try{y(g)}catch(re){bl(re)}g.currentTarget=null,y=z}else for(R=0;R<a.length;R++){if(T=a[R],z=T.instance,V=T.currentTarget,T=T.listener,z!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=V;try{y(g)}catch(re){bl(re)}g.currentTarget=null,y=z}}}}function Ge(e,t){var n=t[Ju];n===void 0&&(n=t[Ju]=new Set);var a=e+"__bubble";n.has(a)||(qv(t,e,2,!1),n.add(a))}function Uf(e,t,n){var a=0;t&&(a|=4),qv(n,e,a,t)}var au="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[au]){e[au]=!0,Tp.forEach(function(n){n!=="selectionchange"&&(UA.has(n)||Uf(n,!1,e),Uf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[au]||(t[au]=!0,Uf("selectionchange",!1,t))}}function qv(e,t,n,a){switch(fy(t)){case 2:var g=mS;break;case 8:g=gS;break;default:g=sh}n=g.bind(null,t,n,e),g=void 0,!od||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),a?g!==void 0?e.addEventListener(t,n,{capture:!0,passive:g}):e.addEventListener(t,n,!0):g!==void 0?e.addEventListener(t,n,{passive:g}):e.addEventListener(t,n,!1)}function Lf(e,t,n,a,g){var y=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var R=a.tag;if(R===3||R===4){var T=a.stateNode.containerInfo;if(T===g)break;if(R===4)for(R=a.return;R!==null;){var z=R.tag;if((z===3||z===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;T!==null;){if(R=ur(T),R===null)return;if(z=R.tag,z===5||z===6||z===26||z===27){a=y=R;continue e}T=T.parentNode}}a=a.return}Bp(function(){var V=y,re=rd(n),le=[];e:{var Q=gm.get(e);if(Q!==void 0){var te=vl,Oe=e;switch(e){case"keypress":if(ml(n)===0)break e;case"keydown":case"keyup":te=Pj;break;case"focusin":Oe="focus",te=dd;break;case"focusout":Oe="blur",te=dd;break;case"beforeblur":case"afterblur":te=dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=jj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=qj;break;case fm:case hm:case pm:te=Cj;break;case mm:te=$j;break;case"scroll":case"scrollend":te=bj;break;case"wheel":te=Uj;break;case"copy":case"cut":case"paste":te=wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Kp;break;case"toggle":case"beforetoggle":te=Lj}var xe=(t&4)!==0,ut=!xe&&(e==="scroll"||e==="scrollend"),U=xe?Q!==null?Q+"Capture":null:Q;xe=[];for(var D=V,G;D!==null;){var ce=D;if(G=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||G===null||U===null||(ce=pa(D,U),ce!=null&&xe.push(Ka(D,ce,G))),ut)break;D=D.return}0<xe.length&&(Q=new te(Q,Oe,null,n,re),le.push({event:Q,listeners:xe}))}}if((t&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",Q&&n!==id&&(Oe=n.relatedTarget||n.fromElement)&&(ur(Oe)||Oe[lr]))break e;if((te||Q)&&(Q=re.window===re?re:(Q=re.ownerDocument)?Q.defaultView||Q.parentWindow:window,te?(Oe=n.relatedTarget||n.toElement,te=V,Oe=Oe?ur(Oe):null,Oe!==null&&(ut=p(Oe),xe=Oe.tag,Oe!==ut||xe!==5&&xe!==27&&xe!==6)&&(Oe=null)):(te=null,Oe=V),te!==Oe)){if(xe=Gp,ce="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(xe=Kp,ce="onPointerLeave",U="onPointerEnter",D="pointer"),ut=te==null?Q:ha(te),G=Oe==null?Q:ha(Oe),Q=new xe(ce,D+"leave",te,n,re),Q.target=ut,Q.relatedTarget=G,ce=null,ur(re)===V&&(xe=new xe(U,D+"enter",Oe,n,re),xe.target=G,xe.relatedTarget=ut,ce=xe),ut=ce,te&&Oe)t:{for(xe=BA,U=te,D=Oe,G=0,ce=U;ce;ce=xe(ce))G++;ce=0;for(var Re=D;Re;Re=xe(Re))ce++;for(;0<G-ce;)U=xe(U),G--;for(;0<ce-G;)D=xe(D),ce--;for(;G--;){if(U===D||D!==null&&U===D.alternate){xe=U;break t}U=xe(U),D=xe(D)}xe=null}else xe=null;te!==null&&zv(le,Q,te,xe,!1),Oe!==null&&ut!==null&&zv(le,ut,Oe,xe,!0)}}e:{if(Q=V?ha(V):window,te=Q.nodeName&&Q.nodeName.toLowerCase(),te==="select"||te==="input"&&Q.type==="file")var We=tm;else if(Wp(Q))if(nm)We=Wj;else{We=Qj;var Ae=Xj}else te=Q.nodeName,!te||te.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?V&&sd(V.elementType)&&(We=tm):We=Jj;if(We&&(We=We(e,V))){em(le,We,n,re);break e}Ae&&Ae(e,Q,V),e==="focusout"&&V&&Q.type==="number"&&V.memoizedProps.value!=null&&nd(Q,"number",Q.value)}switch(Ae=V?ha(V):window,e){case"focusin":(Wp(Ae)||Ae.contentEditable==="true")&&(_r=Ae,vd=V,ja=null);break;case"focusout":ja=vd=_r=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,um(le,n,re);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":um(le,n,re)}var ke;if(hd)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else yr?Qp(e,n)&&(Ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ke="onCompositionStart");Ke&&(Yp&&n.locale!=="ko"&&(yr||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&yr&&(ke=Lp()):(Qs=re,cd="value"in Qs?Qs.value:Qs.textContent,yr=!0)),Ae=ou(V,Ke),0<Ae.length&&(Ke=new Vp(Ke,e,null,n,re),le.push({event:Ke,listeners:Ae}),ke?Ke.data=ke:(ke=Jp(n),ke!==null&&(Ke.data=ke)))),(ke=Gj?Vj(e,n):Kj(e,n))&&(Ke=ou(V,"onBeforeInput"),0<Ke.length&&(Ae=new Vp("onBeforeInput","beforeinput",null,n,re),le.push({event:Ae,listeners:Ke}),Ae.data=ke)),zA(le,e,V,n,re)}kv(le,t)})}function Ka(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ou(e,t){for(var n=t+"Capture",a=[];e!==null;){var g=e,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=pa(e,n),g!=null&&a.unshift(Ka(e,g,y)),g=pa(e,t),g!=null&&a.push(Ka(e,g,y))),e.tag===3)return a;e=e.return}return[]}function BA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zv(e,t,n,a,g){for(var y=t._reactName,R=[];n!==null&&n!==a;){var T=n,z=T.alternate,V=T.stateNode;if(T=T.tag,z!==null&&z===a)break;T!==5&&T!==26&&T!==27||V===null||(z=V,g?(V=pa(n,y),V!=null&&R.unshift(Ka(n,V,z))):g||(V=pa(n,y),V!=null&&R.push(Ka(n,V,z)))),n=n.return}R.length!==0&&e.push({event:t,listeners:R})}var LA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function $v(e){return(typeof e=="string"?e:""+e).replace(LA,`
`).replace(FA,"")}function Dv(e,t){return t=$v(t),$v(e)===t}function lt(e,t,n,a,g,y){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||mr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&mr(e,""+a);break;case"className":dl(e,"class",a);break;case"tabIndex":dl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(e,n,a);break;case"style":Dp(e,a,y);break;case"data":if(t!=="object"){dl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=hl(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(n==="formAction"?(t!=="input"&&lt(e,t,"name",g.name,g,null),lt(e,t,"formEncType",g.formEncType,g,null),lt(e,t,"formMethod",g.formMethod,g,null),lt(e,t,"formTarget",g.formTarget,g,null)):(lt(e,t,"encType",g.encType,g,null),lt(e,t,"method",g.method,g,null),lt(e,t,"target",g.target,g,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=hl(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ms);break;case"onScroll":a!=null&&Ge("scroll",e);break;case"onScrollEnd":a!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(g.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=hl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),ul(e,"popover",a);break;case"xlinkActuate":ps(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ps(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ps(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ps(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ps(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ps(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ps(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ps(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ps(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ul(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=yj.get(n)||n,ul(e,n,a))}}function Ff(e,t,n,a,g,y){switch(n){case"style":Dp(e,a,y);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(g.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof a=="string"?mr(e,a):(typeof a=="number"||typeof a=="bigint")&&mr(e,""+a);break;case"onScroll":a!=null&&Ge("scroll",e);break;case"onScrollEnd":a!=null&&Ge("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ip.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(g=n.endsWith("Capture"),t=n.slice(2,g?n.length-7:void 0),y=e[sn]||null,y=y!=null?y[n]:null,typeof y=="function"&&e.removeEventListener(t,y,g),typeof a=="function")){typeof y!="function"&&y!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,g);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ul(e,n,a)}}}function Ft(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var a=!1,g=!1,y;for(y in n)if(n.hasOwnProperty(y)){var R=n[y];if(R!=null)switch(y){case"src":a=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:lt(e,t,y,R,n,null)}}g&&lt(e,t,"srcSet",n.srcSet,n,null),a&&lt(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var T=y=R=g=null,z=null,V=null;for(a in n)if(n.hasOwnProperty(a)){var re=n[a];if(re!=null)switch(a){case"name":g=re;break;case"type":R=re;break;case"checked":z=re;break;case"defaultChecked":V=re;break;case"value":y=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(c(137,t));break;default:lt(e,t,a,re,n,null)}}kp(e,y,T,z,V,R,g,!1);return;case"select":Ge("invalid",e),a=R=y=null;for(g in n)if(n.hasOwnProperty(g)&&(T=n[g],T!=null))switch(g){case"value":y=T;break;case"defaultValue":R=T;break;case"multiple":a=T;default:lt(e,t,g,T,n,null)}t=y,n=R,e.multiple=!!a,t!=null?pr(e,!!a,t,!1):n!=null&&pr(e,!!a,n,!0);return;case"textarea":Ge("invalid",e),y=g=a=null;for(R in n)if(n.hasOwnProperty(R)&&(T=n[R],T!=null))switch(R){case"value":a=T;break;case"defaultValue":g=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(c(91));break;default:lt(e,t,R,T,n,null)}zp(e,a,g,y);return;case"option":for(z in n)if(n.hasOwnProperty(z)&&(a=n[z],a!=null))switch(z){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:lt(e,t,z,a,n,null)}return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(a=0;a<Va.length;a++)Ge(Va[a],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in n)if(n.hasOwnProperty(V)&&(a=n[V],a!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:lt(e,t,V,a,n,null)}return;default:if(sd(t)){for(re in n)n.hasOwnProperty(re)&&(a=n[re],a!==void 0&&Ff(e,t,re,a,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(a=n[T],a!=null&&lt(e,t,T,a,n,null))}function GA(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,R=null,T=null,z=null,V=null,re=null;for(te in n){var le=n[te];if(n.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=le;default:a.hasOwnProperty(te)||lt(e,t,te,null,a,le)}}for(var Q in a){var te=a[Q];if(le=n[Q],a.hasOwnProperty(Q)&&(te!=null||le!=null))switch(Q){case"type":y=te;break;case"name":g=te;break;case"checked":V=te;break;case"defaultChecked":re=te;break;case"value":R=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(c(137,t));break;default:te!==le&&lt(e,t,Q,te,a,le)}}td(e,R,T,z,V,re,y,g);return;case"select":te=R=T=Q=null;for(y in n)if(z=n[y],n.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":te=z;default:a.hasOwnProperty(y)||lt(e,t,y,null,a,z)}for(g in a)if(y=a[g],z=n[g],a.hasOwnProperty(g)&&(y!=null||z!=null))switch(g){case"value":Q=y;break;case"defaultValue":T=y;break;case"multiple":R=y;default:y!==z&&lt(e,t,g,y,a,z)}t=T,n=R,a=te,Q!=null?pr(e,!!n,Q,!1):!!a!=!!n&&(t!=null?pr(e,!!n,t,!0):pr(e,!!n,n?[]:"",!1));return;case"textarea":te=Q=null;for(T in n)if(g=n[T],n.hasOwnProperty(T)&&g!=null&&!a.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:lt(e,t,T,null,a,g)}for(R in a)if(g=a[R],y=n[R],a.hasOwnProperty(R)&&(g!=null||y!=null))switch(R){case"value":Q=g;break;case"defaultValue":te=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(c(91));break;default:g!==y&&lt(e,t,R,g,a,y)}qp(e,Q,te);return;case"option":for(var Oe in n)if(Q=n[Oe],n.hasOwnProperty(Oe)&&Q!=null&&!a.hasOwnProperty(Oe))switch(Oe){case"selected":e.selected=!1;break;default:lt(e,t,Oe,null,a,Q)}for(z in a)if(Q=a[z],te=n[z],a.hasOwnProperty(z)&&Q!==te&&(Q!=null||te!=null))switch(z){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:lt(e,t,z,Q,a,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in n)Q=n[xe],n.hasOwnProperty(xe)&&Q!=null&&!a.hasOwnProperty(xe)&&lt(e,t,xe,null,a,Q);for(V in a)if(Q=a[V],te=n[V],a.hasOwnProperty(V)&&Q!==te&&(Q!=null||te!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(c(137,t));break;default:lt(e,t,V,Q,a,te)}return;default:if(sd(t)){for(var ut in n)Q=n[ut],n.hasOwnProperty(ut)&&Q!==void 0&&!a.hasOwnProperty(ut)&&Ff(e,t,ut,void 0,a,Q);for(re in a)Q=a[re],te=n[re],!a.hasOwnProperty(re)||Q===te||Q===void 0&&te===void 0||Ff(e,t,re,Q,a,te);return}}for(var U in n)Q=n[U],n.hasOwnProperty(U)&&Q!=null&&!a.hasOwnProperty(U)&&lt(e,t,U,null,a,Q);for(le in a)Q=a[le],te=n[le],!a.hasOwnProperty(le)||Q===te||Q==null&&te==null||lt(e,t,le,Q,a,te)}function Uv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var g=n[a],y=g.transferSize,R=g.initiatorType,T=g.duration;if(y&&T&&Uv(R)){for(R=0,T=g.responseEnd,a+=1;a<n.length;a++){var z=n[a],V=z.startTime;if(V>T)break;var re=z.transferSize,le=z.initiatorType;re&&Uv(le)&&(z=z.responseEnd,R+=re*(z<T?1:(T-V)/(z-V)))}if(--a,t+=8*(y+R)/(g.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gf=null,Vf=null;function cu(e){return e.nodeType===9?e:e.ownerDocument}function Bv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yf=null;function KA(){var e=window.event;return e&&e.type==="popstate"?e===Yf?!1:(Yf=e,!0):(Yf=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(e){return Gv.resolve(null).then(e).catch(XA)}:Fv;function XA(e){setTimeout(function(){throw e})}function pi(e){return e==="head"}function Vv(e,t){var n=t,a=0;do{var g=n.nextSibling;if(e.removeChild(n),g&&g.nodeType===8)if(n=g.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(g),Vr(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ya(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ya(n);for(var y=n.firstChild;y;){var R=y.nextSibling,T=y.nodeName;y[fa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||n.removeChild(y),y=R}}else n==="body"&&Ya(e.ownerDocument.body);n=g}while(n);Vr(t)}function Kv(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Zf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Zf(n),Wu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function QA(e,t,n,a){for(;e.nodeType===1;){var g=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[fa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function JA(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function Yv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kn(e.nextSibling),e===null))return null;return e}function Xf(e){return e.data==="$?"||e.data==="$~"}function Qf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function WA(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Jf=null;function Zv(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return kn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Xv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Qv(e,t,n){switch(t=cu(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Ya(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wu(e)}var qn=new Map,Jv=new Set;function lu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Is=q.d;q.d={f:eS,r:tS,D:nS,C:sS,L:iS,m:rS,X:oS,S:aS,M:cS};function eS(){var e=Is.f(),t=eu();return e||t}function tS(e){var t=dr(e);t!==null&&t.tag===5&&t.type==="form"?mg(t):Is.r(e)}var Lr=typeof document>"u"?null:document;function Wv(e,t,n){var a=Lr;if(a&&typeof t=="string"&&t){var g=En(t);g='link[rel="'+e+'"][href="'+g+'"]',typeof n=="string"&&(g+='[crossorigin="'+n+'"]'),Jv.has(g)||(Jv.add(g),e={rel:e,crossOrigin:n,href:t},a.querySelector(g)===null&&(t=a.createElement("link"),Ft(t,"link",e),qt(t),a.head.appendChild(t)))}}function nS(e){Is.D(e),Wv("dns-prefetch",e,null)}function sS(e,t){Is.C(e,t),Wv("preconnect",e,t)}function iS(e,t,n){Is.L(e,t,n);var a=Lr;if(a&&e&&t){var g='link[rel="preload"][as="'+En(t)+'"]';t==="image"&&n&&n.imageSrcSet?(g+='[imagesrcset="'+En(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(g+='[imagesizes="'+En(n.imageSizes)+'"]')):g+='[href="'+En(e)+'"]';var y=g;switch(t){case"style":y=Fr(e);break;case"script":y=Gr(e)}qn.has(y)||(e=f({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),qn.set(y,e),a.querySelector(g)!==null||t==="style"&&a.querySelector(Za(y))||t==="script"&&a.querySelector(Xa(y))||(t=a.createElement("link"),Ft(t,"link",e),qt(t),a.head.appendChild(t)))}}function rS(e,t){Is.m(e,t);var n=Lr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",g='link[rel="modulepreload"][as="'+En(a)+'"][href="'+En(e)+'"]',y=g;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Gr(e)}if(!qn.has(y)&&(e=f({rel:"modulepreload",href:e},t),qn.set(y,e),n.querySelector(g)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xa(y)))return}a=n.createElement("link"),Ft(a,"link",e),qt(a),n.head.appendChild(a)}}}function aS(e,t,n){Is.S(e,t,n);var a=Lr;if(a&&e){var g=fr(a).hoistableStyles,y=Fr(e);t=t||"default";var R=g.get(y);if(!R){var T={loading:0,preload:null};if(R=a.querySelector(Za(y)))T.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qn.get(y))&&Wf(e,n);var z=R=a.createElement("link");qt(z),Ft(z,"link",e),z._p=new Promise(function(V,re){z.onload=V,z.onerror=re}),z.addEventListener("load",function(){T.loading|=1}),z.addEventListener("error",function(){T.loading|=2}),T.loading|=4,uu(R,t,a)}R={type:"stylesheet",instance:R,count:1,state:T},g.set(y,R)}}}function oS(e,t){Is.X(e,t);var n=Lr;if(n&&e){var a=fr(n).hoistableScripts,g=Gr(e),y=a.get(g);y||(y=n.querySelector(Xa(g)),y||(e=f({src:e,async:!0},t),(t=qn.get(g))&&eh(e,t),y=n.createElement("script"),qt(y),Ft(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(g,y))}}function cS(e,t){Is.M(e,t);var n=Lr;if(n&&e){var a=fr(n).hoistableScripts,g=Gr(e),y=a.get(g);y||(y=n.querySelector(Xa(g)),y||(e=f({src:e,async:!0,type:"module"},t),(t=qn.get(g))&&eh(e,t),y=n.createElement("script"),qt(y),Ft(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(g,y))}}function ey(e,t,n,a){var g=(g=fe.current)?lu(g):null;if(!g)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fr(n.href),n=fr(g).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fr(n.href);var y=fr(g).hoistableStyles,R=y.get(e);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,R),(y=g.querySelector(Za(e)))&&!y._p&&(R.instance=y,R.state.loading=5),qn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qn.set(e,n),y||lS(g,e,n,R.state))),t&&a===null)throw Error(c(528,""));return R}if(t&&a!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Gr(n),n=fr(g).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Fr(e){return'href="'+En(e)+'"'}function Za(e){return'link[rel="stylesheet"]['+e+"]"}function ty(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function lS(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ft(t,"link",n),qt(t),e.head.appendChild(t))}function Gr(e){return'[src="'+En(e)+'"]'}function Xa(e){return"script[async]"+e}function ny(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+En(n.href)+'"]');if(a)return t.instance=a,qt(a),a;var g=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),qt(a),Ft(a,"style",g),uu(a,n.precedence,e),t.instance=a;case"stylesheet":g=Fr(n.href);var y=e.querySelector(Za(g));if(y)return t.state.loading|=4,t.instance=y,qt(y),y;a=ty(n),(g=qn.get(g))&&Wf(a,g),y=(e.ownerDocument||e).createElement("link"),qt(y);var R=y;return R._p=new Promise(function(T,z){R.onload=T,R.onerror=z}),Ft(y,"link",a),t.state.loading|=4,uu(y,n.precedence,e),t.instance=y;case"script":return y=Gr(n.src),(g=e.querySelector(Xa(y)))?(t.instance=g,qt(g),g):(a=n,(g=qn.get(y))&&(a=f({},n),eh(a,g)),e=e.ownerDocument||e,g=e.createElement("script"),qt(g),Ft(g,"link",a),e.head.appendChild(g),t.instance=g);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,uu(a,n.precedence,e));return t.instance}function uu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=a.length?a[a.length-1]:null,y=g,R=0;R<a.length;R++){var T=a[R];if(T.dataset.precedence===t)y=T;else if(y!==g)break}y?y.parentNode.insertBefore(e,y.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Wf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function eh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var du=null;function sy(e,t,n){if(du===null){var a=new Map,g=du=new Map;g.set(n,a)}else g=du,a=g.get(n),a||(a=new Map,g.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),g=0;g<n.length;g++){var y=n[g];if(!(y[fa]||y[Dt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(t)||"";R=e+R;var T=a.get(R);T?T.push(y):a.set(R,[y])}}return a}function iy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function uS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ry(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dS(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var g=Fr(a.href),y=t.querySelector(Za(g));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=fu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=y,qt(y);return}y=t.ownerDocument||t,a=ty(a),(g=qn.get(g))&&Wf(a,g),y=y.createElement("link"),qt(y);var R=y;R._p=new Promise(function(T,z){R.onload=T,R.onerror=z}),Ft(y,"link",a),n.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=fu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var th=0;function fS(e,t){return e.stylesheets&&e.count===0&&pu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&pu(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+t);0<e.imgBytes&&th===0&&(th=62500*VA());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pu(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>th?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(g)}}:null}function fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hu=null;function pu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hu=new Map,t.forEach(hS,e),hu=null,fu.call(e))}function hS(e,t){if(!(t.state.loading&4)){var n=hu.get(e);if(n)var a=n.get(null);else{n=new Map,hu.set(e,n);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var R=g[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(n.set(R.dataset.precedence,R),a=R)}a&&n.set(null,a)}g=t.instance,R=g.getAttribute("data-precedence"),y=n.get(R)||a,y===a&&n.set(null,g),n.set(R,g),this.count++,a=fu.bind(this),g.addEventListener("load",a),g.addEventListener("error",a),y?y.parentNode.insertBefore(g,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),t.state.loading|=4}}var Qa={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function pS(e,t,n,a,g,y,R,T,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.hiddenUpdates=Zu(null),this.identifierPrefix=a,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function ay(e,t,n,a,g,y,R,T,z,V,re,le){return e=new pS(e,t,n,R,z,V,re,le,T),t=1,y===!0&&(t|=24),y=gn(3,null,null,t),e.current=y,y.stateNode=e,t=Md(),t.refCount++,e.pooledCache=t,t.refCount++,y.memoizedState={element:a,isDehydrated:n,cache:t},qd(y),e}function oy(e){return e?(e=jr,e):jr}function cy(e,t,n,a,g,y){g=oy(g),a.context===null?a.context=g:a.pendingContext=g,a=si(t),a.payload={element:n},y=y===void 0?null:y,y!==null&&(a.callback=y),n=ii(e,a,t),n!==null&&(un(n,e,t),Ea(n,e,t))}function ly(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nh(e,t){ly(e,t),(e=e.alternate)&&ly(e,t)}function uy(e){if(e.tag===13||e.tag===31){var t=Hi(e,67108864);t!==null&&un(t,e,67108864),nh(e,67108864)}}function dy(e){if(e.tag===13||e.tag===31){var t=On();t=Xu(t);var n=Hi(e,t);n!==null&&un(n,e,t),nh(e,t)}}var mu=!0;function mS(e,t,n,a){var g=P.T;P.T=null;var y=q.p;try{q.p=2,sh(e,t,n,a)}finally{q.p=y,P.T=g}}function gS(e,t,n,a){var g=P.T;P.T=null;var y=q.p;try{q.p=8,sh(e,t,n,a)}finally{q.p=y,P.T=g}}function sh(e,t,n,a){if(mu){var g=ih(a);if(g===null)Lf(e,t,a,gu,n),hy(e,a);else if(yS(g,e,t,n,a))a.stopPropagation();else if(hy(e,a),t&4&&-1<vS.indexOf(e)){for(;g!==null;){var y=dr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=wi(y.pendingLanes);if(R!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;R;){var z=1<<31-pn(R);T.entanglements[1]|=z,R&=~z}ls(y),(st&6)===0&&(Jl=Mt()+500,Ga(0))}}break;case 31:case 13:T=Hi(y,2),T!==null&&un(T,y,2),eu(),nh(y,2)}if(y=ih(a),y===null&&Lf(e,t,a,gu,n),y===g)break;g=y}g!==null&&a.stopPropagation()}else Lf(e,t,a,null,n)}}function ih(e){return e=rd(e),rh(e)}var gu=null;function rh(e){if(gu=null,e=ur(e),e!==null){var t=p(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return gu=e,null}function fy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yu()){case cr:return 2;case wn:return 8;case Zt:case il:return 32;case la:return 268435456;default:return 32}default:return 32}}var ah=!1,mi=null,gi=null,vi=null,Ja=new Map,Wa=new Map,yi=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hy(e,t){switch(e){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function eo(e,t,n,a,g,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:y,targetContainers:[g]},t!==null&&(t=dr(t),t!==null&&uy(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function yS(e,t,n,a,g){switch(t){case"focusin":return mi=eo(mi,e,t,n,a,g),!0;case"dragenter":return gi=eo(gi,e,t,n,a,g),!0;case"mouseover":return vi=eo(vi,e,t,n,a,g),!0;case"pointerover":var y=g.pointerId;return Ja.set(y,eo(Ja.get(y)||null,e,t,n,a,g)),!0;case"gotpointercapture":return y=g.pointerId,Wa.set(y,eo(Wa.get(y)||null,e,t,n,a,g)),!0}return!1}function py(e){var t=ur(e.target);if(t!==null){var n=p(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,xp(e.priority,function(){dy(n)});return}}else if(t===31){if(t=d(n),t!==null){e.blockedOn=t,xp(e.priority,function(){dy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ih(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);id=a,n.target.dispatchEvent(a),id=null}else return t=dr(n),t!==null&&uy(t),e.blockedOn=n,!1;t.shift()}return!0}function my(e,t,n){vu(e)&&n.delete(t)}function _S(){ah=!1,mi!==null&&vu(mi)&&(mi=null),gi!==null&&vu(gi)&&(gi=null),vi!==null&&vu(vi)&&(vi=null),Ja.forEach(my),Wa.forEach(my)}function yu(e,t){e.blockedOn===t&&(e.blockedOn=null,ah||(ah=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_S)))}var _u=null;function gy(e){_u!==e&&(_u=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){_u===e&&(_u=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],g=e[t+2];if(typeof a!="function"){if(rh(a||n)===null)continue;break}var y=dr(n);y!==null&&(e.splice(t,3),t-=3,sf(y,{pending:!0,data:g,method:n.method,action:a},a,g))}}))}function Vr(e){function t(z){return yu(z,e)}mi!==null&&yu(mi,e),gi!==null&&yu(gi,e),vi!==null&&yu(vi,e),Ja.forEach(t),Wa.forEach(t);for(var n=0;n<yi.length;n++){var a=yi[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)py(n),n.blockedOn===null&&yi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var g=n[a],y=n[a+1],R=g[sn]||null;if(typeof y=="function")R||gy(n);else if(R){var T=null;if(y&&y.hasAttribute("formAction")){if(g=y,R=y[sn]||null)T=R.formAction;else if(rh(g)!==null)continue}else T=R.action;typeof T=="function"?n[a+1]=T:(n.splice(a,3),a-=3),gy(n)}}}function vy(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(R){return g=R})},focusReset:"manual",scroll:"manual"})}function t(){g!==null&&(g(),g=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),g!==null&&(g(),g=null)}}}function oh(e){this._internalRoot=e}bu.prototype.render=oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,a=On();cy(n,a,e,t,null,null)},bu.prototype.unmount=oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cy(e.current,2,null,e,null,null),eu(),t[lr]=null}};function bu(e){this._internalRoot=e}bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=wp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yi.length&&t!==0&&t<yi[n].priority;n++);yi.splice(n,0,e),n===0&&py(e)}};var yy=s.version;if(yy!=="19.2.0")throw Error(c(527,yy,"19.2.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=o(t),e=e!==null?u(e):null,e=e===null?null:e.stateNode,e};var bS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{rs=Ou.inject(bS),hn=Ou}catch{}}return no.createRoot=function(e,t){if(!m(e))throw Error(c(299));var n=!1,a="",g=Cg,y=Rg,R=wg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(g=t.onUncaughtError),t.onCaughtError!==void 0&&(y=t.onCaughtError),t.onRecoverableError!==void 0&&(R=t.onRecoverableError)),t=ay(e,1,!1,null,null,n,a,null,g,y,R,vy),e[lr]=t.current,Bf(e),new oh(t)},no.hydrateRoot=function(e,t,n){if(!m(e))throw Error(c(299));var a=!1,g="",y=Cg,R=Rg,T=wg,z=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(g=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(R=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(z=n.formState)),t=ay(e,1,!0,t,n??null,a,g,z,y,R,T,vy),t.context=oy(null),n=t.current,a=On(),a=Xu(a),g=si(a),g.callback=null,ii(n,g,a),n=a,t.current.lanes=n,da(t,n),ls(t),e[lr]=t.current,Bf(e),new bu(t)},no.version="19.2.0",no}var xy;function TS(){if(xy)return dh.exports;xy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),dh.exports=ES(),dh.exports}var IS=TS();const HS=ip(IS),MS="modulepreload",PS=function(i){return"/"+i},Ey={},Ty=function(s,r,c){let m=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var h=o;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),l=d?.nonce||d?.getAttribute("nonce");m=o(r.map(u=>{if(u=PS(u),u in Ey)return;Ey[u]=!0;const f=u.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const _=document.createElement("link");if(_.rel=f?"stylesheet":MS,f||(_.as="script"),_.crossOrigin="",_.href=u,l&&_.setAttribute("nonce",l),document.head.appendChild(_),f)return new Promise((O,j)=>{_.addEventListener("load",O),_.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${u}`)))})}))}function p(d){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=d,window.dispatchEvent(l),!l.defaultPrevented)throw d}return m.then(d=>{for(const l of d||[])l.status==="rejected"&&p(l.reason);return s().catch(p)})};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,c)=>c?c.toUpperCase():r.toLowerCase()),Iy=i=>{const s=kS(i);return s.charAt(0).toUpperCase()+s.slice(1)},FO=(...i)=>i.filter((s,r,c)=>!!s&&s.trim()!==""&&c.indexOf(s)===r).join(" ").trim(),qS=i=>{for(const s in i)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=se.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:c,className:m="",children:p,iconNode:h,...d},l)=>se.createElement("svg",{ref:l,...zS,width:s,height:s,stroke:i,strokeWidth:c?Number(r)*24/Number(s):r,className:FO("lucide",m),...!p&&!qS(d)&&{"aria-hidden":"true"},...d},[...h.map(([o,u])=>se.createElement(o,u)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(i,s)=>{const r=se.forwardRef(({className:c,...m},p)=>se.createElement($S,{ref:p,iconNode:s,className:FO(`lucide-${NS(Iy(i))}`,`lucide-${i}`,c),...m}));return r.displayName=Iy(i),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],US=ht("book-open",DS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gc=ht("check",BS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hy=ht("chevron-down",LS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],My=ht("chevron-right",FS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],GO=ht("circle-alert",GS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KS=ht("circle-check-big",VS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ZS=ht("circle-x",YS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QS=ht("clock",XS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Kr=ht("code-xml",JS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vc=ht("copy",WS);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],tC=ht("ellipsis-vertical",eC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],sC=ht("github",nC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rC=ht("info",iC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],VO=ht("key",aC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Py=ht("log-out",oC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],lC=ht("message-circle",cC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],dC=ht("palette",uC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zh=ht("refresh-cw",fC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pC=ht("save",hC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gC=ht("send",mC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],KO=ht("server",vC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YO=ht("settings",yC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ru=ht("sparkles",_C);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],OC=ht("trash-2",bC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AC=ht("triangle-alert",jC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],ap=ht("wrench",SC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZO=ht("x",CC),Ny=i=>{let s;const r=new Set,c=(o,u)=>{const f=typeof o=="function"?o(s):o;if(!Object.is(f,s)){const v=s;s=u??(typeof f!="object"||f===null)?f:Object.assign({},s,f),r.forEach(_=>_(s,v))}},m=()=>s,d={setState:c,getState:m,getInitialState:()=>l,subscribe:o=>(r.add(o),()=>r.delete(o))},l=s=i(c,m,d);return d},RC=(i=>i?Ny(i):Ny),wC=i=>i;function xC(i,s=wC){const r=Ht.useSyncExternalStore(i.subscribe,Ht.useCallback(()=>s(i.getState()),[i,s]),Ht.useCallback(()=>s(i.getInitialState()),[i,s]));return Ht.useDebugValue(r),r}const ky=i=>{const s=RC(i),r=c=>xC(s,c);return Object.assign(r,s),r},op=(i=>i?ky(i):ky);function cp(i,s){let r;try{r=i()}catch{return}return{getItem:m=>{var p;const h=l=>l===null?null:JSON.parse(l,void 0),d=(p=r.getItem(m))!=null?p:null;return d instanceof Promise?d.then(h):h(d)},setItem:(m,p)=>r.setItem(m,JSON.stringify(p,void 0)),removeItem:m=>r.removeItem(m)}}const $h=i=>s=>{try{const r=i(s);return r instanceof Promise?r:{then(c){return $h(c)(r)},catch(c){return this}}}catch(r){return{then(c){return this},catch(c){return $h(c)(r)}}}},EC=(i,s)=>(r,c,m)=>{let p={storage:cp(()=>localStorage),partialize:j=>j,version:0,merge:(j,C)=>({...C,...j}),...s},h=!1;const d=new Set,l=new Set;let o=p.storage;if(!o)return i((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${p.name}', the given storage is currently unavailable.`),r(...j)},c,m);const u=()=>{const j=p.partialize({...c()});return o.setItem(p.name,{state:j,version:p.version})},f=m.setState;m.setState=(j,C)=>(f(j,C),u());const v=i((...j)=>(r(...j),u()),c,m);m.getInitialState=()=>v;let _;const O=()=>{var j,C;if(!o)return;h=!1,d.forEach(S=>{var x;return S((x=c())!=null?x:v)});const b=((C=p.onRehydrateStorage)==null?void 0:C.call(p,(j=c())!=null?j:v))||void 0;return $h(o.getItem.bind(o))(p.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==p.version){if(p.migrate){const x=p.migrate(S.state,S.version);return x instanceof Promise?x.then(E=>[!0,E]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var x;const[E,I]=S;if(_=p.merge(I,(x=c())!=null?x:v),r(_,!0),E)return u()}).then(()=>{b?.(_,void 0),_=c(),h=!0,l.forEach(S=>S(_))}).catch(S=>{b?.(void 0,S)})};return m.persist={setOptions:j=>{p={...p,...j},j.storage&&(o=j.storage)},clearStorage:()=>{o?.removeItem(p.name)},getOptions:()=>p,rehydrate:()=>O(),hasHydrated:()=>h,onHydrate:j=>(d.add(j),()=>{d.delete(j)}),onFinishHydration:j=>(l.add(j),()=>{l.delete(j)})},p.skipHydration||O(),_||v},XO=EC,TC=cp(()=>({getItem:i=>{const s=localStorage.getItem(i);if(!s)return null;const r=JSON.parse(s);return r.state?.serverData&&Object.keys(r.state.serverData).forEach(c=>{const m=r.state.serverData[c];m.toolStates&&Object.keys(m.toolStates).forEach(p=>{const h=m.toolStates[p];h.lastExecuted&&(h.lastExecuted=new Date(h.lastExecuted))})}),s},setItem:(i,s)=>{localStorage.setItem(i,s)},removeItem:i=>{localStorage.removeItem(i)}})),Zc=op()(XO((i,s)=>({serverData:{},recordToolExecution:(r,c)=>{i(m=>{const p=m.serverData[r]||{toolStates:{},toolParameters:{}},h=p.toolStates[c]||{executionCount:0};return{serverData:{...m.serverData,[r]:{...p,toolStates:{...p.toolStates,[c]:{lastExecuted:new Date,executionCount:h.executionCount+1}}}}}})},saveToolParameters:(r,c,m)=>{i(p=>{const h=p.serverData[r]||{toolStates:{},toolParameters:{}};return{serverData:{...p.serverData,[r]:{...h,toolParameters:{...h.toolParameters,[c]:m}}}}})},getToolParameters:(r,c)=>s().serverData[r]?.toolParameters[c],getToolState:(r,c)=>s().serverData[r]?.toolStates[c],clearServerData:r=>{i(c=>{const{[r]:m,...p}=c.serverData;return{serverData:p}})},clearToolParameters:(r,c)=>{i(m=>{const p=m.serverData[r];if(!p)return m;const{[c]:h,...d}=p.toolParameters;return{serverData:{...m.serverData,[r]:{...p,toolParameters:d}}}})}}),{name:"hoot-tool-state",version:1,storage:TC})),IC=cp(()=>({getItem:i=>{const s=localStorage.getItem(i);if(!s)return null;const r=JSON.parse(s);return r.state?.servers&&(r.state.servers=r.state.servers.map(c=>({...c,lastConnected:c.lastConnected?new Date(c.lastConnected):void 0}))),r.state?.history&&(r.state.history=r.state.history.map(c=>({...c,timestamp:new Date(c.timestamp),result:{...c.result,timestamp:new Date(c.result.timestamp)}}))),s},setItem:(i,s)=>{localStorage.setItem(i,s)},removeItem:i=>{localStorage.removeItem(i)}})),$e=op()(XO(i=>({servers:[],selectedServerId:null,selectedToolName:null,tools:{},history:[],inputMode:"form",searchQuery:"",executingTools:[],addServer:s=>i(r=>({servers:[...r.servers,{...s,id:"id"in s?s.id:crypto.randomUUID(),connected:!1}]})),removeServer:s=>i(r=>(Zc.getState().clearServerData(s),{servers:r.servers.filter(c=>c.id!==s),selectedServerId:r.selectedServerId===s?null:r.selectedServerId,tools:Object.fromEntries(Object.entries(r.tools).filter(([c])=>c!==s))})),updateServer:(s,r)=>i(c=>({servers:c.servers.map(m=>m.id===s?{...m,...r}:m)})),setSelectedServer:s=>i({selectedServerId:s,selectedToolName:null}),setTools:(s,r)=>i(c=>({tools:{...c.tools,[s]:r}})),setSelectedTool:s=>i({selectedToolName:s}),addToHistory:s=>i(r=>({history:[{...s,id:crypto.randomUUID(),timestamp:new Date},...r.history].slice(0,100)})),clearHistory:()=>i({history:[]}),setToolExecuting:(s,r,c)=>i(m=>{const p=`${s}:${r}`;if(c){if(!m.executingTools.includes(p))return{executingTools:[...m.executingTools,p]}}else return{executingTools:m.executingTools.filter(h=>h!==p)};return m}),setInputMode:s=>i({inputMode:s}),setSearchQuery:s=>i({searchQuery:s})}),{name:"hoot-storage",version:1,storage:IC,partialize:i=>({servers:i.servers.map(s=>({...s,connected:!1,error:void 0})),tools:i.tools,inputMode:i.inputMode,history:i.history.slice(0,50),selectedServerId:null,selectedToolName:null,searchQuery:"",executingTools:[]})}));class HC{serverId;_redirectUrl;constructor(s,r,c=`${window.location.origin}/oauth/callback`){this.serverId=s,this._redirectUrl=c}get redirectUrl(){return this._redirectUrl}get clientMetadata(){return{client_name:"Hoot MCP Testing Tool",client_uri:window.location.origin,redirect_uris:[this._redirectUrl],grant_types:["authorization_code","refresh_token"],response_types:["code"],token_endpoint_auth_method:"none"}}async state(){const s=new Uint8Array(32);return crypto.getRandomValues(s),Array.from(s,r=>r.toString(16).padStart(2,"0")).join("")}async clientInformation(){const s=`oauth_client_${this.serverId}`,r=localStorage.getItem(s);if(r)try{return JSON.parse(r)}catch{return}}async saveClientInformation(s){const r=`oauth_client_${this.serverId}`;localStorage.setItem(r,JSON.stringify(s))}async tokens(){const s=`oauth_tokens_${this.serverId}`,r=localStorage.getItem(s);if(r)try{return JSON.parse(r)}catch{return}}async saveTokens(s){const r=`oauth_tokens_${this.serverId}`;localStorage.setItem(r,JSON.stringify(s)),console.log(` Hoot: Saved OAuth tokens for server ${this.serverId}`)}async redirectToAuthorization(s){console.log(` Hoot: Redirecting to authorization: ${s.toString()}`);const r=sessionStorage.getItem("oauth_last_redirect"),c=Date.now();if(r&&c-parseInt(r)<3e3)throw console.error(" Hoot: Redirect loop detected! Aborting to prevent infinite redirects."),sessionStorage.removeItem("oauth_last_redirect"),new Error("OAuth redirect loop detected. Please check your OAuth configuration.");sessionStorage.setItem("oauth_last_redirect",c.toString()),sessionStorage.setItem("oauth_server_id",this.serverId),await new Promise(m=>setTimeout(m,100)),console.log(" Hoot: Performing redirect now..."),window.location.href=s.toString()}async saveCodeVerifier(s){const r=`oauth_verifier_${this.serverId}`;sessionStorage.setItem(r,s)}async codeVerifier(){const s=`oauth_verifier_${this.serverId}`,r=sessionStorage.getItem(s);if(!r)throw new Error("Code verifier not found. Authorization flow may have been interrupted.");return r}async invalidateCredentials(s){console.warn(` Hoot: Invalidating credentials (${s}) for server ${this.serverId}`),(s==="all"||s==="client")&&localStorage.removeItem(`oauth_client_${this.serverId}`),(s==="all"||s==="tokens")&&localStorage.removeItem(`oauth_tokens_${this.serverId}`),(s==="all"||s==="verifier")&&sessionStorage.removeItem(`oauth_verifier_${this.serverId}`)}async isTokenExpired(s){return(s||await this.tokens())?.expires_in,!1}async getValidAccessToken(){const s=await this.tokens();if(s?.access_token)return s.access_token}}const is="http://localhost:8008";let Ai=null,Yr=null;async function QO(){return Ai||Yr||(Yr=(async()=>{try{const i=await fetch(`${is}/auth/token`,{method:"GET",credentials:"include"});if(!i.ok)throw new Error("Failed to retrieve session token");if(Ai=(await i.json()).token,!Ai)throw new Error("No token received from backend");return Ai}catch(i){throw console.error("Failed to get session token:",i),Yr=null,new Error("Cannot connect to Hoot backend. Make sure it's running on port 8008.")}finally{Ai&&(Yr=null)}})(),Yr)}async function MC(){try{await QO(),console.log("Backend client initialized successfully")}catch(i){console.error("Failed to initialize backend client:",i)}}async function ss(i,s={},r=!0){try{const c=await QO(),m=new Headers(s.headers);m.set("x-hoot-token",c),m.set("Content-Type","application/json");const p=await fetch(i,{...s,headers:m});return p.status===401&&r?(console.log("Auth token expired, refreshing..."),Ai=null,ss(i,s,!1)):p}catch(c){if(r)return Ai=null,ss(i,s,!1);throw c}}async function JO(i,s){try{const c=await(await ss(`${is}/mcp/discover-oauth`,{method:"POST",body:JSON.stringify({url:i,transport:s})})).json();return c.success?{requiresOAuth:c.requiresOAuth||!1}:{requiresOAuth:!1,error:c.error}}catch(r){return console.error("OAuth discovery error:",r),{requiresOAuth:!1,error:r instanceof Error?r.message:"Discovery failed"}}}async function PC(i){try{const s=await ss(`${is}/mcp/auto-detect`,{method:"POST",body:JSON.stringify({url:i})}),r=await s.json();return!s.ok||!r.success?{success:!1,error:r.error||"Auto-detection failed"}:{success:!0,serverInfo:r.serverInfo,transport:r.transport,requiresOAuth:r.requiresOAuth||!1,requiresClientCredentials:r.requiresClientCredentials||!1,requiresHeaderAuth:r.requiresHeaderAuth||!1}}catch(s){return console.error("Auto-detect error:",s),{success:!1,error:s instanceof Error?s.message:"Auto-detection failed"}}}async function NC(){try{return(await fetch(`${is}/health`,{method:"GET",signal:AbortSignal.timeout(1e3)})).ok}catch{return!1}}async function kC(i,s){try{const r=await ss(`${is}/mcp/connect`,{method:"POST",body:JSON.stringify({serverId:i.id,serverName:i.name,url:i.url,transport:i.transport,auth:i.auth,authorizationCode:s})}),c=await r.json();return r.ok?{success:!0}:{success:!1,error:c.error||"Connection failed",needsAuth:c.needsAuth||!1,authorizationUrl:c.authorizationUrl}}catch(r){return console.error("Backend connection error:",r),{success:!1,error:r instanceof Error?r.message:"Failed to connect to backend server"}}}async function qC(i){try{await ss(`${is}/mcp/disconnect`,{method:"POST",body:JSON.stringify({serverId:i})})}catch(s){throw console.error("Backend disconnect error:",s),s}}async function qy(i){try{const s=await ss(`${is}/mcp/clear-oauth-tokens`,{method:"POST",body:JSON.stringify({serverId:i})});if(!s.ok){const r=await s.json();throw new Error(r.error||"Failed to clear OAuth tokens")}}catch(s){throw console.error("Backend clear OAuth tokens error:",s),s}}async function zC(i){try{const s=await ss(`${is}/mcp/tools/${i}`,{method:"GET"});if(!s.ok){const c=await s.json();throw new Error(c.error||"Failed to list tools")}return(await s.json()).tools}catch(s){throw console.error("Backend list tools error:",s),s}}async function $C(i,s,r){try{const c=await ss(`${is}/mcp/execute`,{method:"POST",body:JSON.stringify({serverId:i,toolName:s,arguments:r})});if(!c.ok){const p=await c.json();throw new Error(p.error||"Tool execution failed")}return(await c.json()).result}catch(c){throw console.error("Backend execute tool error:",c),c}}async function DC(i){try{const s=await ss(`${is}/mcp/server-info/${i}`,{method:"GET"});return s.ok?(await s.json()).serverInfo:null}catch(s){return console.error("Backend get server info error:",s),null}}async function UC(i){try{const s=await ss(`${is}/mcp/oauth-metadata/${i}`,{method:"GET"});return s.ok?(await s.json()).metadata||null:(s.status!==404&&console.error(`Failed to fetch OAuth metadata (${s.status}):`,await s.text()),null)}catch(s){return console.error("Backend get OAuth metadata error:",s),null}}class BC{oauthProviders=new Map;connectedServers=new Set;async connect(s,r,c=!1){this.connectedServers.has(s.id)&&await this.disconnect(s.id);try{if(console.log(` Connecting to ${s.name} via backend...`,{transport:s.transport,url:s.url,hasAuth:!!s.auth,authType:s.auth?.type,hasAuthCode:!!r}),!await NC())throw new Error("Backend server is not running. Please start it with: npm run backend");if(s.auth?.type==="oauth"&&s.url){const h=new HC(s.id,s.url);this.oauthProviders.set(s.id,h)}const p=await kC(s,r);if(!p.success){if(p.needsAuth&&p.authorizationUrl){if(c)return console.log(` ${s.name} needs OAuth authorization (skipped during auto-reconnect)`),!1;const h=this.oauthProviders.get(s.id);if(h)return console.log(` Redirecting to OAuth: ${p.authorizationUrl}`),await h.redirectToAuthorization(new URL(p.authorizationUrl)),!1}throw new Error(p.error||"Connection failed")}return this.connectedServers.add(s.id),console.log(` Connected to ${s.name}`),!0}catch(m){throw this.oauthProviders.delete(s.id),this.connectedServers.delete(s.id),console.error(` Connection failed for ${s.name}:`,m),m}}async disconnect(s){try{await qC(s),this.connectedServers.delete(s),this.oauthProviders.delete(s)}catch(r){console.error("Disconnect error:",r),this.connectedServers.delete(s),this.oauthProviders.delete(s)}}getOAuthProvider(s){return this.oauthProviders.get(s)}async needsTokenRefresh(s){const r=this.oauthProviders.get(s);return r?r.isTokenExpired():!1}async listTools(s){if(!this.connectedServers.has(s))throw new Error("Server not connected");return await zC(s)}async executeTool(s,r,c){if(!this.connectedServers.has(s))throw new Error("Server not connected");return await $C(s,r,c)}isConnected(s){return this.connectedServers.has(s)}async disconnectAll(){const s=Array.from(this.connectedServers);await Promise.all(s.map(r=>this.disconnect(r)))}}const sa=new BC,LC=Object.freeze(Object.defineProperty({__proto__:null,mcpClient:sa},Symbol.toStringTag,{value:"Module"})),sr=op(i=>({toasts:[],addToast:(s,r,c,m)=>{const h={id:`toast-${Date.now()}-${Math.random()}`,type:s,message:r,description:c,duration:m??5e3};i(d=>({toasts:[...d.toasts,h]}))},removeToast:s=>{i(r=>({toasts:r.toasts.filter(c=>c.id!==s)}))},clearToasts:()=>{i({toasts:[]})}})),$n={success:(i,s,r)=>{sr.getState().addToast("success",i,s,r)},error:(i,s,r)=>{sr.getState().addToast("error",i,s,r)},warning:(i,s,r)=>{sr.getState().addToast("warning",i,s,r)},warn:(i,s,r)=>{sr.getState().addToast("warning",i,s,r)},info:(i,s,r)=>{sr.getState().addToast("info",i,s,r)}};var Je;(function(i){i.assertEqual=m=>{};function s(m){}i.assertIs=s;function r(m){throw new Error}i.assertNever=r,i.arrayToEnum=m=>{const p={};for(const h of m)p[h]=h;return p},i.getValidEnumValues=m=>{const p=i.objectKeys(m).filter(d=>typeof m[m[d]]!="number"),h={};for(const d of p)h[d]=m[d];return i.objectValues(h)},i.objectValues=m=>i.objectKeys(m).map(function(p){return m[p]}),i.objectKeys=typeof Object.keys=="function"?m=>Object.keys(m):m=>{const p=[];for(const h in m)Object.prototype.hasOwnProperty.call(m,h)&&p.push(h);return p},i.find=(m,p)=>{for(const h of m)if(p(h))return h},i.isInteger=typeof Number.isInteger=="function"?m=>Number.isInteger(m):m=>typeof m=="number"&&Number.isFinite(m)&&Math.floor(m)===m;function c(m,p=" | "){return m.map(h=>typeof h=="string"?`'${h}'`:h).join(p)}i.joinValues=c,i.jsonStringifyReplacer=(m,p)=>typeof p=="bigint"?p.toString():p})(Je||(Je={}));var zy;(function(i){i.mergeShapes=(s,r)=>({...s,...r})})(zy||(zy={}));const be=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Si=i=>{switch(typeof i){case"undefined":return be.undefined;case"string":return be.string;case"number":return Number.isNaN(i)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(i)?be.array:i===null?be.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?be.promise:typeof Map<"u"&&i instanceof Map?be.map:typeof Set<"u"&&i instanceof Set?be.set:typeof Date<"u"&&i instanceof Date?be.date:be.object;default:return be.unknown}},he=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vs extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=c=>{this.issues=[...this.issues,c]},this.addIssues=(c=[])=>{this.issues=[...this.issues,...c]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(p){return p.message},c={_errors:[]},m=p=>{for(const h of p.issues)if(h.code==="invalid_union")h.unionErrors.map(m);else if(h.code==="invalid_return_type")m(h.returnTypeError);else if(h.code==="invalid_arguments")m(h.argumentsError);else if(h.path.length===0)c._errors.push(r(h));else{let d=c,l=0;for(;l<h.path.length;){const o=h.path[l];l===h.path.length-1?(d[o]=d[o]||{_errors:[]},d[o]._errors.push(r(h))):d[o]=d[o]||{_errors:[]},d=d[o],l++}}};return m(this),c}static assert(s){if(!(s instanceof Vs))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},c=[];for(const m of this.issues)if(m.path.length>0){const p=m.path[0];r[p]=r[p]||[],r[p].push(s(m))}else c.push(s(m));return{formErrors:c,fieldErrors:r}}get formErrors(){return this.flatten()}}Vs.create=i=>new Vs(i);const Dh=(i,s)=>{let r;switch(i.code){case he.invalid_type:i.received===be.undefined?r="Required":r=`Expected ${i.expected}, received ${i.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(i.expected,Je.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${Je.joinValues(i.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Je.joinValues(i.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${Je.joinValues(i.options)}, received '${i.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(r=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?r=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?r=`Invalid input: must end with "${i.validation.endsWith}"`:Je.assertNever(i.validation):i.validation!=="regex"?r=`Invalid ${i.validation}`:r="Invalid";break;case he.too_small:i.type==="array"?r=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?r=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?r=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="bigint"?r=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?r=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:r="Invalid input";break;case he.too_big:i.type==="array"?r=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?r=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?r=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?r=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?r=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${i.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=s.defaultError,Je.assertNever(i)}return{message:r}};let FC=Dh;function GC(){return FC}const VC=i=>{const{data:s,path:r,errorMaps:c,issueData:m}=i,p=[...r,...m.path||[]],h={...m,path:p};if(m.message!==void 0)return{...m,path:p,message:m.message};let d="";const l=c.filter(o=>!!o).slice().reverse();for(const o of l)d=o(h,{data:s,defaultError:d}).message;return{...m,path:p,message:d}};function _e(i,s){const r=GC(),c=VC({issueData:s,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,r,r===Dh?void 0:Dh].filter(m=>!!m)});i.common.issues.push(c)}class en{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const c=[];for(const m of r){if(m.status==="aborted")return Ee;m.status==="dirty"&&s.dirty(),c.push(m.value)}return{status:s.value,value:c}}static async mergeObjectAsync(s,r){const c=[];for(const m of r){const p=await m.key,h=await m.value;c.push({key:p,value:h})}return en.mergeObjectSync(s,c)}static mergeObjectSync(s,r){const c={};for(const m of r){const{key:p,value:h}=m;if(p.status==="aborted"||h.status==="aborted")return Ee;p.status==="dirty"&&s.dirty(),h.status==="dirty"&&s.dirty(),p.value!=="__proto__"&&(typeof h.value<"u"||m.alwaysSet)&&(c[p.value]=h.value)}return{status:s.value,value:c}}}const Ee=Object.freeze({status:"aborted"}),Kc=i=>({status:"dirty",value:i}),Dn=i=>({status:"valid",value:i}),$y=i=>i.status==="aborted",Dy=i=>i.status==="dirty",ia=i=>i.status==="valid",wu=i=>typeof Promise<"u"&&i instanceof Promise;var Se;(function(i){i.errToObj=s=>typeof s=="string"?{message:s}:s||{},i.toString=s=>typeof s=="string"?s:s?.message})(Se||(Se={}));class ds{constructor(s,r,c,m){this._cachedPath=[],this.parent=s,this.data=r,this._path=c,this._key=m}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Uy=(i,s)=>{if(ia(s))return{success:!0,data:s.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Vs(i.common.issues);return this._error=r,this._error}}};function qe(i){if(!i)return{};const{errorMap:s,invalid_type_error:r,required_error:c,description:m}=i;if(s&&(r||c))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:m}:{errorMap:(h,d)=>{const{message:l}=i;return h.code==="invalid_enum_value"?{message:l??d.defaultError}:typeof d.data>"u"?{message:l??c??d.defaultError}:h.code!=="invalid_type"?{message:d.defaultError}:{message:l??r??d.defaultError}},description:m}}class Ye{get description(){return this._def.description}_getType(s){return Si(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:Si(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new en,ctx:{common:s.parent.common,data:s.data,parsedType:Si(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(wu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const c=this.safeParse(s,r);if(c.success)return c.data;throw c.error}safeParse(s,r){const c={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Si(s)},m=this._parseSync({data:s,path:c.path,parent:c});return Uy(c,m)}"~validate"(s){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Si(s)};if(!this["~standard"].async)try{const c=this._parseSync({data:s,path:[],parent:r});return ia(c)?{value:c.value}:{issues:r.common.issues}}catch(c){c?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(c=>ia(c)?{value:c.value}:{issues:r.common.issues})}async parseAsync(s,r){const c=await this.safeParseAsync(s,r);if(c.success)return c.data;throw c.error}async safeParseAsync(s,r){const c={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Si(s)},m=this._parse({data:s,path:c.path,parent:c}),p=await(wu(m)?m:Promise.resolve(m));return Uy(c,p)}refine(s,r){const c=m=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(m):r;return this._refinement((m,p)=>{const h=s(m),d=()=>p.addIssue({code:he.custom,...c(m)});return typeof Promise<"u"&&h instanceof Promise?h.then(l=>l?!0:(d(),!1)):h?!0:(d(),!1)})}refinement(s,r){return this._refinement((c,m)=>s(c)?!0:(m.addIssue(typeof r=="function"?r(c,m):r),!1))}_refinement(s){return new ar({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Gs.create(this,this._def)}nullable(){return or.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return us.create(this)}promise(){return Mu.create(this,this._def)}or(s){return Eu.create([this,s],this._def)}and(s){return Tu.create(this,s,this._def)}transform(s){return new ar({...qe(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new Pu({...qe(this._def),innerType:this,defaultValue:r,typeName:Ie.ZodDefault})}brand(){return new n1({typeName:Ie.ZodBranded,type:this,...qe(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new Nu({...qe(this._def),innerType:this,catchValue:r,typeName:Ie.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return up.create(this,s)}readonly(){return ku.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const KC=/^c[^\s-]{8,}$/i,YC=/^[0-9a-z]+$/,ZC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,QC=/^[a-z0-9_-]{21}$/i,JC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,WC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,eR=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mh;const nR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aR=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oR=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,WO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cR=new RegExp(`^${WO}$`);function e1(i){let s="[0-5]\\d";i.precision?s=`${s}\\.\\d{${i.precision}}`:i.precision==null&&(s=`${s}(\\.\\d+)?`);const r=i.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function lR(i){return new RegExp(`^${e1(i)}$`)}function uR(i){let s=`${WO}T${e1(i)}`;const r=[];return r.push(i.local?"Z?":"Z"),i.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function dR(i,s){return!!((s==="v4"||!s)&&nR.test(i)||(s==="v6"||!s)&&iR.test(i))}function fR(i,s){if(!JC.test(i))return!1;try{const[r]=i.split(".");if(!r)return!1;const c=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),m=JSON.parse(atob(c));return!(typeof m!="object"||m===null||"typ"in m&&m?.typ!=="JWT"||!m.alg||s&&m.alg!==s)}catch{return!1}}function hR(i,s){return!!((s==="v4"||!s)&&sR.test(i)||(s==="v6"||!s)&&rR.test(i))}class Fs extends Ye{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==be.string){const p=this._getOrReturnCtx(s);return _e(p,{code:he.invalid_type,expected:be.string,received:p.parsedType}),Ee}const c=new en;let m;for(const p of this._def.checks)if(p.kind==="min")s.data.length<p.value&&(m=this._getOrReturnCtx(s,m),_e(m,{code:he.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),c.dirty());else if(p.kind==="max")s.data.length>p.value&&(m=this._getOrReturnCtx(s,m),_e(m,{code:he.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),c.dirty());else if(p.kind==="length"){const h=s.data.length>p.value,d=s.data.length<p.value;(h||d)&&(m=this._getOrReturnCtx(s,m),h?_e(m,{code:he.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}):d&&_e(m,{code:he.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}),c.dirty())}else if(p.kind==="email")eR.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"email",code:he.invalid_string,message:p.message}),c.dirty());else if(p.kind==="emoji")mh||(mh=new RegExp(tR,"u")),mh.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"emoji",code:he.invalid_string,message:p.message}),c.dirty());else if(p.kind==="uuid")XC.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"uuid",code:he.invalid_string,message:p.message}),c.dirty());else if(p.kind==="nanoid")QC.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"nanoid",code:he.invalid_string,message:p.message}),c.dirty());else if(p.kind==="cuid")KC.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"cuid",code:he.invalid_string,message:p.message}),c.dirty());else if(p.kind==="cuid2")YC.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"cuid2",code:he.invalid_string,message:p.message}),c.dirty());else if(p.kind==="ulid")ZC.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"ulid",code:he.invalid_string,message:p.message}),c.dirty());else if(p.kind==="url")try{new URL(s.data)}catch{m=this._getOrReturnCtx(s,m),_e(m,{validation:"url",code:he.invalid_string,message:p.message}),c.dirty()}else p.kind==="regex"?(p.regex.lastIndex=0,p.regex.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"regex",code:he.invalid_string,message:p.message}),c.dirty())):p.kind==="trim"?s.data=s.data.trim():p.kind==="includes"?s.data.includes(p.value,p.position)||(m=this._getOrReturnCtx(s,m),_e(m,{code:he.invalid_string,validation:{includes:p.value,position:p.position},message:p.message}),c.dirty()):p.kind==="toLowerCase"?s.data=s.data.toLowerCase():p.kind==="toUpperCase"?s.data=s.data.toUpperCase():p.kind==="startsWith"?s.data.startsWith(p.value)||(m=this._getOrReturnCtx(s,m),_e(m,{code:he.invalid_string,validation:{startsWith:p.value},message:p.message}),c.dirty()):p.kind==="endsWith"?s.data.endsWith(p.value)||(m=this._getOrReturnCtx(s,m),_e(m,{code:he.invalid_string,validation:{endsWith:p.value},message:p.message}),c.dirty()):p.kind==="datetime"?uR(p).test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{code:he.invalid_string,validation:"datetime",message:p.message}),c.dirty()):p.kind==="date"?cR.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{code:he.invalid_string,validation:"date",message:p.message}),c.dirty()):p.kind==="time"?lR(p).test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{code:he.invalid_string,validation:"time",message:p.message}),c.dirty()):p.kind==="duration"?WC.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"duration",code:he.invalid_string,message:p.message}),c.dirty()):p.kind==="ip"?dR(s.data,p.version)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"ip",code:he.invalid_string,message:p.message}),c.dirty()):p.kind==="jwt"?fR(s.data,p.alg)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"jwt",code:he.invalid_string,message:p.message}),c.dirty()):p.kind==="cidr"?hR(s.data,p.version)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"cidr",code:he.invalid_string,message:p.message}),c.dirty()):p.kind==="base64"?aR.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"base64",code:he.invalid_string,message:p.message}),c.dirty()):p.kind==="base64url"?oR.test(s.data)||(m=this._getOrReturnCtx(s,m),_e(m,{validation:"base64url",code:he.invalid_string,message:p.message}),c.dirty()):Je.assertNever(p);return{status:c.value,value:s.data}}_regex(s,r,c){return this.refinement(m=>s.test(m),{validation:r,code:he.invalid_string,...Se.errToObj(c)})}_addCheck(s){return new Fs({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...Se.errToObj(s)})}url(s){return this._addCheck({kind:"url",...Se.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...Se.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...Se.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...Se.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...Se.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...Se.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...Se.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...Se.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...Se.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...Se.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...Se.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...Se.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof s?.precision>"u"?null:s?.precision,offset:s?.offset??!1,local:s?.local??!1,...Se.errToObj(s?.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof s?.precision>"u"?null:s?.precision,...Se.errToObj(s?.message)})}duration(s){return this._addCheck({kind:"duration",...Se.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...Se.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r?.position,...Se.errToObj(r?.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...Se.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...Se.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...Se.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...Se.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...Se.errToObj(r)})}nonempty(s){return this.min(1,Se.errToObj(s))}trim(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Fs.create=i=>new Fs({checks:[],typeName:Ie.ZodString,coerce:i?.coerce??!1,...qe(i)});function pR(i,s){const r=(i.toString().split(".")[1]||"").length,c=(s.toString().split(".")[1]||"").length,m=r>c?r:c,p=Number.parseInt(i.toFixed(m).replace(".","")),h=Number.parseInt(s.toFixed(m).replace(".",""));return p%h/10**m}class ra extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==be.number){const p=this._getOrReturnCtx(s);return _e(p,{code:he.invalid_type,expected:be.number,received:p.parsedType}),Ee}let c;const m=new en;for(const p of this._def.checks)p.kind==="int"?Je.isInteger(s.data)||(c=this._getOrReturnCtx(s,c),_e(c,{code:he.invalid_type,expected:"integer",received:"float",message:p.message}),m.dirty()):p.kind==="min"?(p.inclusive?s.data<p.value:s.data<=p.value)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:he.too_small,minimum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),m.dirty()):p.kind==="max"?(p.inclusive?s.data>p.value:s.data>=p.value)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:he.too_big,maximum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),m.dirty()):p.kind==="multipleOf"?pR(s.data,p.value)!==0&&(c=this._getOrReturnCtx(s,c),_e(c,{code:he.not_multiple_of,multipleOf:p.value,message:p.message}),m.dirty()):p.kind==="finite"?Number.isFinite(s.data)||(c=this._getOrReturnCtx(s,c),_e(c,{code:he.not_finite,message:p.message}),m.dirty()):Je.assertNever(p);return{status:m.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,Se.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Se.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Se.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Se.toString(r))}setLimit(s,r,c,m){return new ra({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:c,message:Se.toString(m)}]})}_addCheck(s){return new ra({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:Se.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Se.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:Se.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&Je.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const c of this._def.checks){if(c.kind==="finite"||c.kind==="int"||c.kind==="multipleOf")return!0;c.kind==="min"?(r===null||c.value>r)&&(r=c.value):c.kind==="max"&&(s===null||c.value<s)&&(s=c.value)}return Number.isFinite(r)&&Number.isFinite(s)}}ra.create=i=>new ra({checks:[],typeName:Ie.ZodNumber,coerce:i?.coerce||!1,...qe(i)});class Xc extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==be.bigint)return this._getInvalidInput(s);let c;const m=new en;for(const p of this._def.checks)p.kind==="min"?(p.inclusive?s.data<p.value:s.data<=p.value)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:he.too_small,type:"bigint",minimum:p.value,inclusive:p.inclusive,message:p.message}),m.dirty()):p.kind==="max"?(p.inclusive?s.data>p.value:s.data>=p.value)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:he.too_big,type:"bigint",maximum:p.value,inclusive:p.inclusive,message:p.message}),m.dirty()):p.kind==="multipleOf"?s.data%p.value!==BigInt(0)&&(c=this._getOrReturnCtx(s,c),_e(c,{code:he.not_multiple_of,multipleOf:p.value,message:p.message}),m.dirty()):Je.assertNever(p);return{status:m.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return _e(r,{code:he.invalid_type,expected:be.bigint,received:r.parsedType}),Ee}gte(s,r){return this.setLimit("min",s,!0,Se.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Se.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Se.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Se.toString(r))}setLimit(s,r,c,m){return new Xc({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:c,message:Se.toString(m)}]})}_addCheck(s){return new Xc({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Se.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Xc.create=i=>new Xc({checks:[],typeName:Ie.ZodBigInt,coerce:i?.coerce??!1,...qe(i)});class Uh extends Ye{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==be.boolean){const c=this._getOrReturnCtx(s);return _e(c,{code:he.invalid_type,expected:be.boolean,received:c.parsedType}),Ee}return Dn(s.data)}}Uh.create=i=>new Uh({typeName:Ie.ZodBoolean,coerce:i?.coerce||!1,...qe(i)});class xu extends Ye{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==be.date){const p=this._getOrReturnCtx(s);return _e(p,{code:he.invalid_type,expected:be.date,received:p.parsedType}),Ee}if(Number.isNaN(s.data.getTime())){const p=this._getOrReturnCtx(s);return _e(p,{code:he.invalid_date}),Ee}const c=new en;let m;for(const p of this._def.checks)p.kind==="min"?s.data.getTime()<p.value&&(m=this._getOrReturnCtx(s,m),_e(m,{code:he.too_small,message:p.message,inclusive:!0,exact:!1,minimum:p.value,type:"date"}),c.dirty()):p.kind==="max"?s.data.getTime()>p.value&&(m=this._getOrReturnCtx(s,m),_e(m,{code:he.too_big,message:p.message,inclusive:!0,exact:!1,maximum:p.value,type:"date"}),c.dirty()):Je.assertNever(p);return{status:c.value,value:new Date(s.data.getTime())}}_addCheck(s){return new xu({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:Se.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:Se.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}xu.create=i=>new xu({checks:[],coerce:i?.coerce||!1,typeName:Ie.ZodDate,...qe(i)});class By extends Ye{_parse(s){if(this._getType(s)!==be.symbol){const c=this._getOrReturnCtx(s);return _e(c,{code:he.invalid_type,expected:be.symbol,received:c.parsedType}),Ee}return Dn(s.data)}}By.create=i=>new By({typeName:Ie.ZodSymbol,...qe(i)});class Bh extends Ye{_parse(s){if(this._getType(s)!==be.undefined){const c=this._getOrReturnCtx(s);return _e(c,{code:he.invalid_type,expected:be.undefined,received:c.parsedType}),Ee}return Dn(s.data)}}Bh.create=i=>new Bh({typeName:Ie.ZodUndefined,...qe(i)});class Lh extends Ye{_parse(s){if(this._getType(s)!==be.null){const c=this._getOrReturnCtx(s);return _e(c,{code:he.invalid_type,expected:be.null,received:c.parsedType}),Ee}return Dn(s.data)}}Lh.create=i=>new Lh({typeName:Ie.ZodNull,...qe(i)});class Fh extends Ye{constructor(){super(...arguments),this._any=!0}_parse(s){return Dn(s.data)}}Fh.create=i=>new Fh({typeName:Ie.ZodAny,...qe(i)});class Gh extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Dn(s.data)}}Gh.create=i=>new Gh({typeName:Ie.ZodUnknown,...qe(i)});class Ci extends Ye{_parse(s){const r=this._getOrReturnCtx(s);return _e(r,{code:he.invalid_type,expected:be.never,received:r.parsedType}),Ee}}Ci.create=i=>new Ci({typeName:Ie.ZodNever,...qe(i)});class Ly extends Ye{_parse(s){if(this._getType(s)!==be.undefined){const c=this._getOrReturnCtx(s);return _e(c,{code:he.invalid_type,expected:be.void,received:c.parsedType}),Ee}return Dn(s.data)}}Ly.create=i=>new Ly({typeName:Ie.ZodVoid,...qe(i)});class us extends Ye{_parse(s){const{ctx:r,status:c}=this._processInputParams(s),m=this._def;if(r.parsedType!==be.array)return _e(r,{code:he.invalid_type,expected:be.array,received:r.parsedType}),Ee;if(m.exactLength!==null){const h=r.data.length>m.exactLength.value,d=r.data.length<m.exactLength.value;(h||d)&&(_e(r,{code:h?he.too_big:he.too_small,minimum:d?m.exactLength.value:void 0,maximum:h?m.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:m.exactLength.message}),c.dirty())}if(m.minLength!==null&&r.data.length<m.minLength.value&&(_e(r,{code:he.too_small,minimum:m.minLength.value,type:"array",inclusive:!0,exact:!1,message:m.minLength.message}),c.dirty()),m.maxLength!==null&&r.data.length>m.maxLength.value&&(_e(r,{code:he.too_big,maximum:m.maxLength.value,type:"array",inclusive:!0,exact:!1,message:m.maxLength.message}),c.dirty()),r.common.async)return Promise.all([...r.data].map((h,d)=>m.type._parseAsync(new ds(r,h,r.path,d)))).then(h=>en.mergeArray(c,h));const p=[...r.data].map((h,d)=>m.type._parseSync(new ds(r,h,r.path,d)));return en.mergeArray(c,p)}get element(){return this._def.type}min(s,r){return new us({...this._def,minLength:{value:s,message:Se.toString(r)}})}max(s,r){return new us({...this._def,maxLength:{value:s,message:Se.toString(r)}})}length(s,r){return new us({...this._def,exactLength:{value:s,message:Se.toString(r)}})}nonempty(s){return this.min(1,s)}}us.create=(i,s)=>new us({type:i,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...qe(s)});function na(i){if(i instanceof It){const s={};for(const r in i.shape){const c=i.shape[r];s[r]=Gs.create(na(c))}return new It({...i._def,shape:()=>s})}else return i instanceof us?new us({...i._def,type:na(i.element)}):i instanceof Gs?Gs.create(na(i.unwrap())):i instanceof or?or.create(na(i.unwrap())):i instanceof ir?ir.create(i.items.map(s=>na(s))):i}class It extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=Je.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==be.object){const o=this._getOrReturnCtx(s);return _e(o,{code:he.invalid_type,expected:be.object,received:o.parsedType}),Ee}const{status:c,ctx:m}=this._processInputParams(s),{shape:p,keys:h}=this._getCached(),d=[];if(!(this._def.catchall instanceof Ci&&this._def.unknownKeys==="strip"))for(const o in m.data)h.includes(o)||d.push(o);const l=[];for(const o of h){const u=p[o],f=m.data[o];l.push({key:{status:"valid",value:o},value:u._parse(new ds(m,f,m.path,o)),alwaysSet:o in m.data})}if(this._def.catchall instanceof Ci){const o=this._def.unknownKeys;if(o==="passthrough")for(const u of d)l.push({key:{status:"valid",value:u},value:{status:"valid",value:m.data[u]}});else if(o==="strict")d.length>0&&(_e(m,{code:he.unrecognized_keys,keys:d}),c.dirty());else if(o!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const o=this._def.catchall;for(const u of d){const f=m.data[u];l.push({key:{status:"valid",value:u},value:o._parse(new ds(m,f,m.path,u)),alwaysSet:u in m.data})}}return m.common.async?Promise.resolve().then(async()=>{const o=[];for(const u of l){const f=await u.key,v=await u.value;o.push({key:f,value:v,alwaysSet:u.alwaysSet})}return o}).then(o=>en.mergeObjectSync(c,o)):en.mergeObjectSync(c,l)}get shape(){return this._def.shape()}strict(s){return Se.errToObj,new It({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,c)=>{const m=this._def.errorMap?.(r,c).message??c.defaultError;return r.code==="unrecognized_keys"?{message:Se.errToObj(s).message??m}:{message:m}}}:{}})}strip(){return new It({...this._def,unknownKeys:"strip"})}passthrough(){return new It({...this._def,unknownKeys:"passthrough"})}extend(s){return new It({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new It({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:Ie.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new It({...this._def,catchall:s})}pick(s){const r={};for(const c of Je.objectKeys(s))s[c]&&this.shape[c]&&(r[c]=this.shape[c]);return new It({...this._def,shape:()=>r})}omit(s){const r={};for(const c of Je.objectKeys(this.shape))s[c]||(r[c]=this.shape[c]);return new It({...this._def,shape:()=>r})}deepPartial(){return na(this)}partial(s){const r={};for(const c of Je.objectKeys(this.shape)){const m=this.shape[c];s&&!s[c]?r[c]=m:r[c]=m.optional()}return new It({...this._def,shape:()=>r})}required(s){const r={};for(const c of Je.objectKeys(this.shape))if(s&&!s[c])r[c]=this.shape[c];else{let p=this.shape[c];for(;p instanceof Gs;)p=p._def.innerType;r[c]=p}return new It({...this._def,shape:()=>r})}keyof(){return t1(Je.objectKeys(this.shape))}}It.create=(i,s)=>new It({shape:()=>i,unknownKeys:"strip",catchall:Ci.create(),typeName:Ie.ZodObject,...qe(s)});It.strictCreate=(i,s)=>new It({shape:()=>i,unknownKeys:"strict",catchall:Ci.create(),typeName:Ie.ZodObject,...qe(s)});It.lazycreate=(i,s)=>new It({shape:i,unknownKeys:"strip",catchall:Ci.create(),typeName:Ie.ZodObject,...qe(s)});class Eu extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s),c=this._def.options;function m(p){for(const d of p)if(d.result.status==="valid")return d.result;for(const d of p)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const h=p.map(d=>new Vs(d.ctx.common.issues));return _e(r,{code:he.invalid_union,unionErrors:h}),Ee}if(r.common.async)return Promise.all(c.map(async p=>{const h={...r,common:{...r.common,issues:[]},parent:null};return{result:await p._parseAsync({data:r.data,path:r.path,parent:h}),ctx:h}})).then(m);{let p;const h=[];for(const l of c){const o={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:o});if(u.status==="valid")return u;u.status==="dirty"&&!p&&(p={result:u,ctx:o}),o.common.issues.length&&h.push(o.common.issues)}if(p)return r.common.issues.push(...p.ctx.common.issues),p.result;const d=h.map(l=>new Vs(l));return _e(r,{code:he.invalid_union,unionErrors:d}),Ee}}get options(){return this._def.options}}Eu.create=(i,s)=>new Eu({options:i,typeName:Ie.ZodUnion,...qe(s)});const Ls=i=>i instanceof Kh?Ls(i.schema):i instanceof ar?Ls(i.innerType()):i instanceof Hu?[i.value]:i instanceof rr?i.options:i instanceof Yh?Je.objectValues(i.enum):i instanceof Pu?Ls(i._def.innerType):i instanceof Bh?[void 0]:i instanceof Lh?[null]:i instanceof Gs?[void 0,...Ls(i.unwrap())]:i instanceof or?[null,...Ls(i.unwrap())]:i instanceof n1||i instanceof ku?Ls(i.unwrap()):i instanceof Nu?Ls(i._def.innerType):[];class lp extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==be.object)return _e(r,{code:he.invalid_type,expected:be.object,received:r.parsedType}),Ee;const c=this.discriminator,m=r.data[c],p=this.optionsMap.get(m);return p?r.common.async?p._parseAsync({data:r.data,path:r.path,parent:r}):p._parseSync({data:r.data,path:r.path,parent:r}):(_e(r,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),Ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,r,c){const m=new Map;for(const p of r){const h=Ls(p.shape[s]);if(!h.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const d of h){if(m.has(d))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(d)}`);m.set(d,p)}}return new lp({typeName:Ie.ZodDiscriminatedUnion,discriminator:s,options:r,optionsMap:m,...qe(c)})}}function Vh(i,s){const r=Si(i),c=Si(s);if(i===s)return{valid:!0,data:i};if(r===be.object&&c===be.object){const m=Je.objectKeys(s),p=Je.objectKeys(i).filter(d=>m.indexOf(d)!==-1),h={...i,...s};for(const d of p){const l=Vh(i[d],s[d]);if(!l.valid)return{valid:!1};h[d]=l.data}return{valid:!0,data:h}}else if(r===be.array&&c===be.array){if(i.length!==s.length)return{valid:!1};const m=[];for(let p=0;p<i.length;p++){const h=i[p],d=s[p],l=Vh(h,d);if(!l.valid)return{valid:!1};m.push(l.data)}return{valid:!0,data:m}}else return r===be.date&&c===be.date&&+i==+s?{valid:!0,data:i}:{valid:!1}}class Tu extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s),m=(p,h)=>{if($y(p)||$y(h))return Ee;const d=Vh(p.value,h.value);return d.valid?((Dy(p)||Dy(h))&&r.dirty(),{status:r.value,value:d.data}):(_e(c,{code:he.invalid_intersection_types}),Ee)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([p,h])=>m(p,h)):m(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}Tu.create=(i,s,r)=>new Tu({left:i,right:s,typeName:Ie.ZodIntersection,...qe(r)});class ir extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==be.array)return _e(c,{code:he.invalid_type,expected:be.array,received:c.parsedType}),Ee;if(c.data.length<this._def.items.length)return _e(c,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ee;!this._def.rest&&c.data.length>this._def.items.length&&(_e(c,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const p=[...c.data].map((h,d)=>{const l=this._def.items[d]||this._def.rest;return l?l._parse(new ds(c,h,c.path,d)):null}).filter(h=>!!h);return c.common.async?Promise.all(p).then(h=>en.mergeArray(r,h)):en.mergeArray(r,p)}get items(){return this._def.items}rest(s){return new ir({...this._def,rest:s})}}ir.create=(i,s)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ir({items:i,typeName:Ie.ZodTuple,rest:null,...qe(s)})};class Iu extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==be.object)return _e(c,{code:he.invalid_type,expected:be.object,received:c.parsedType}),Ee;const m=[],p=this._def.keyType,h=this._def.valueType;for(const d in c.data)m.push({key:p._parse(new ds(c,d,c.path,d)),value:h._parse(new ds(c,c.data[d],c.path,d)),alwaysSet:d in c.data});return c.common.async?en.mergeObjectAsync(r,m):en.mergeObjectSync(r,m)}get element(){return this._def.valueType}static create(s,r,c){return r instanceof Ye?new Iu({keyType:s,valueType:r,typeName:Ie.ZodRecord,...qe(c)}):new Iu({keyType:Fs.create(),valueType:s,typeName:Ie.ZodRecord,...qe(r)})}}class Fy extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==be.map)return _e(c,{code:he.invalid_type,expected:be.map,received:c.parsedType}),Ee;const m=this._def.keyType,p=this._def.valueType,h=[...c.data.entries()].map(([d,l],o)=>({key:m._parse(new ds(c,d,c.path,[o,"key"])),value:p._parse(new ds(c,l,c.path,[o,"value"]))}));if(c.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const l of h){const o=await l.key,u=await l.value;if(o.status==="aborted"||u.status==="aborted")return Ee;(o.status==="dirty"||u.status==="dirty")&&r.dirty(),d.set(o.value,u.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const l of h){const o=l.key,u=l.value;if(o.status==="aborted"||u.status==="aborted")return Ee;(o.status==="dirty"||u.status==="dirty")&&r.dirty(),d.set(o.value,u.value)}return{status:r.value,value:d}}}}Fy.create=(i,s,r)=>new Fy({valueType:s,keyType:i,typeName:Ie.ZodMap,...qe(r)});class Qc extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==be.set)return _e(c,{code:he.invalid_type,expected:be.set,received:c.parsedType}),Ee;const m=this._def;m.minSize!==null&&c.data.size<m.minSize.value&&(_e(c,{code:he.too_small,minimum:m.minSize.value,type:"set",inclusive:!0,exact:!1,message:m.minSize.message}),r.dirty()),m.maxSize!==null&&c.data.size>m.maxSize.value&&(_e(c,{code:he.too_big,maximum:m.maxSize.value,type:"set",inclusive:!0,exact:!1,message:m.maxSize.message}),r.dirty());const p=this._def.valueType;function h(l){const o=new Set;for(const u of l){if(u.status==="aborted")return Ee;u.status==="dirty"&&r.dirty(),o.add(u.value)}return{status:r.value,value:o}}const d=[...c.data.values()].map((l,o)=>p._parse(new ds(c,l,c.path,o)));return c.common.async?Promise.all(d).then(l=>h(l)):h(d)}min(s,r){return new Qc({...this._def,minSize:{value:s,message:Se.toString(r)}})}max(s,r){return new Qc({...this._def,maxSize:{value:s,message:Se.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}Qc.create=(i,s)=>new Qc({valueType:i,minSize:null,maxSize:null,typeName:Ie.ZodSet,...qe(s)});class Kh extends Ye{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Kh.create=(i,s)=>new Kh({getter:i,typeName:Ie.ZodLazy,...qe(s)});class Hu extends Ye{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return _e(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),Ee}return{status:"valid",value:s.data}}get value(){return this._def.value}}Hu.create=(i,s)=>new Hu({value:i,typeName:Ie.ZodLiteral,...qe(s)});function t1(i,s){return new rr({values:i,typeName:Ie.ZodEnum,...qe(s)})}class rr extends Ye{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),c=this._def.values;return _e(r,{expected:Je.joinValues(c),received:r.parsedType,code:he.invalid_type}),Ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),c=this._def.values;return _e(r,{received:r.data,code:he.invalid_enum_value,options:c}),Ee}return Dn(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return rr.create(s,{...this._def,...r})}exclude(s,r=this._def){return rr.create(this.options.filter(c=>!s.includes(c)),{...this._def,...r})}}rr.create=t1;class Yh extends Ye{_parse(s){const r=Je.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(s);if(c.parsedType!==be.string&&c.parsedType!==be.number){const m=Je.objectValues(r);return _e(c,{expected:Je.joinValues(m),received:c.parsedType,code:he.invalid_type}),Ee}if(this._cache||(this._cache=new Set(Je.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const m=Je.objectValues(r);return _e(c,{received:c.data,code:he.invalid_enum_value,options:m}),Ee}return Dn(s.data)}get enum(){return this._def.values}}Yh.create=(i,s)=>new Yh({values:i,typeName:Ie.ZodNativeEnum,...qe(s)});class Mu extends Ye{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==be.promise&&r.common.async===!1)return _e(r,{code:he.invalid_type,expected:be.promise,received:r.parsedType}),Ee;const c=r.parsedType===be.promise?r.data:Promise.resolve(r.data);return Dn(c.then(m=>this._def.type.parseAsync(m,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Mu.create=(i,s)=>new Mu({type:i,typeName:Ie.ZodPromise,...qe(s)});class ar extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:c}=this._processInputParams(s),m=this._def.effect||null,p={addIssue:h=>{_e(c,h),h.fatal?r.abort():r.dirty()},get path(){return c.path}};if(p.addIssue=p.addIssue.bind(p),m.type==="preprocess"){const h=m.transform(c.data,p);if(c.common.async)return Promise.resolve(h).then(async d=>{if(r.value==="aborted")return Ee;const l=await this._def.schema._parseAsync({data:d,path:c.path,parent:c});return l.status==="aborted"?Ee:l.status==="dirty"||r.value==="dirty"?Kc(l.value):l});{if(r.value==="aborted")return Ee;const d=this._def.schema._parseSync({data:h,path:c.path,parent:c});return d.status==="aborted"?Ee:d.status==="dirty"||r.value==="dirty"?Kc(d.value):d}}if(m.type==="refinement"){const h=d=>{const l=m.refinement(d,p);if(c.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(c.common.async===!1){const d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return d.status==="aborted"?Ee:(d.status==="dirty"&&r.dirty(),h(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(d=>d.status==="aborted"?Ee:(d.status==="dirty"&&r.dirty(),h(d.value).then(()=>({status:r.value,value:d.value}))))}if(m.type==="transform")if(c.common.async===!1){const h=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!ia(h))return Ee;const d=m.transform(h.value,p);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(h=>ia(h)?Promise.resolve(m.transform(h.value,p)).then(d=>({status:r.value,value:d})):Ee);Je.assertNever(m)}}ar.create=(i,s,r)=>new ar({schema:i,typeName:Ie.ZodEffects,effect:s,...qe(r)});ar.createWithPreprocess=(i,s,r)=>new ar({schema:s,effect:{type:"preprocess",transform:i},typeName:Ie.ZodEffects,...qe(r)});class Gs extends Ye{_parse(s){return this._getType(s)===be.undefined?Dn(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Gs.create=(i,s)=>new Gs({innerType:i,typeName:Ie.ZodOptional,...qe(s)});class or extends Ye{_parse(s){return this._getType(s)===be.null?Dn(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}or.create=(i,s)=>new or({innerType:i,typeName:Ie.ZodNullable,...qe(s)});class Pu extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s);let c=r.data;return r.parsedType===be.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Pu.create=(i,s)=>new Pu({innerType:i,typeName:Ie.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...qe(s)});class Nu extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s),c={...r,common:{...r.common,issues:[]}},m=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return wu(m)?m.then(p=>({status:"valid",value:p.status==="valid"?p.value:this._def.catchValue({get error(){return new Vs(c.common.issues)},input:c.data})})):{status:"valid",value:m.status==="valid"?m.value:this._def.catchValue({get error(){return new Vs(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}Nu.create=(i,s)=>new Nu({innerType:i,typeName:Ie.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...qe(s)});class Gy extends Ye{_parse(s){if(this._getType(s)!==be.nan){const c=this._getOrReturnCtx(s);return _e(c,{code:he.invalid_type,expected:be.nan,received:c.parsedType}),Ee}return{status:"valid",value:s.data}}}Gy.create=i=>new Gy({typeName:Ie.ZodNaN,...qe(i)});class n1 extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s),c=r.data;return this._def.type._parse({data:c,path:r.path,parent:r})}unwrap(){return this._def.type}}class up extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.common.async)return(async()=>{const p=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return p.status==="aborted"?Ee:p.status==="dirty"?(r.dirty(),Kc(p.value)):this._def.out._parseAsync({data:p.value,path:c.path,parent:c})})();{const m=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return m.status==="aborted"?Ee:m.status==="dirty"?(r.dirty(),{status:"dirty",value:m.value}):this._def.out._parseSync({data:m.value,path:c.path,parent:c})}}static create(s,r){return new up({in:s,out:r,typeName:Ie.ZodPipeline})}}class ku extends Ye{_parse(s){const r=this._def.innerType._parse(s),c=m=>(ia(m)&&(m.value=Object.freeze(m.value)),m);return wu(r)?r.then(m=>c(m)):c(r)}unwrap(){return this._def.innerType}}ku.create=(i,s)=>new ku({innerType:i,typeName:Ie.ZodReadonly,...qe(s)});var Ie;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const J=Fs.create,$t=ra.create,kt=Uh.create,mR=Fh.create,Jc=Gh.create;Ci.create;const je=us.create,ye=It.create,tn=Eu.create,gR=lp.create;Tu.create;ir.create;const Wc=Iu.create,Me=Hu.create,Ks=rr.create;Mu.create;const ue=Gs.create;or.create;const vR=Ee,$u="2.0",s1=tn([J(),$t().int()]),i1=J(),yR=ye({progressToken:ue(s1)}).passthrough(),Un=ye({_meta:ue(yR)}).passthrough(),fn=ye({method:J(),params:ue(Un)}),el=ye({_meta:ue(ye({}).passthrough())}).passthrough(),hs=ye({method:J(),params:ue(el)}),Bn=ye({_meta:ue(ye({}).passthrough())}).passthrough(),Du=tn([J(),$t().int()]),_R=ye({jsonrpc:Me($u),id:Du}).merge(fn).strict(),bR=ye({jsonrpc:Me($u)}).merge(hs).strict(),OR=ye({jsonrpc:Me($u),id:Du,result:Bn}).strict();var Vy;(function(i){i[i.ConnectionClosed=-32e3]="ConnectionClosed",i[i.RequestTimeout=-32001]="RequestTimeout",i[i.ParseError=-32700]="ParseError",i[i.InvalidRequest=-32600]="InvalidRequest",i[i.MethodNotFound=-32601]="MethodNotFound",i[i.InvalidParams=-32602]="InvalidParams",i[i.InternalError=-32603]="InternalError"})(Vy||(Vy={}));const jR=ye({jsonrpc:Me($u),id:Du,error:ye({code:$t().int(),message:J(),data:ue(Jc())})}).strict();tn([_R,bR,OR,jR]);const r1=Bn.strict(),a1=hs.extend({method:Me("notifications/cancelled"),params:el.extend({requestId:Du,reason:J().optional()})}),AR=ye({src:J(),mimeType:ue(J()),sizes:ue(je(J()))}).passthrough(),tl=ye({icons:je(AR).optional()}).passthrough(),nl=ye({name:J(),title:ue(J())}).passthrough(),o1=nl.extend({version:J(),websiteUrl:ue(J())}).merge(tl),SR=ye({experimental:ue(ye({}).passthrough()),sampling:ue(ye({}).passthrough()),elicitation:ue(ye({}).passthrough()),roots:ue(ye({listChanged:ue(kt())}).passthrough())}).passthrough(),CR=fn.extend({method:Me("initialize"),params:Un.extend({protocolVersion:J(),capabilities:SR,clientInfo:o1})}),RR=ye({experimental:ue(ye({}).passthrough()),logging:ue(ye({}).passthrough()),completions:ue(ye({}).passthrough()),prompts:ue(ye({listChanged:ue(kt())}).passthrough()),resources:ue(ye({subscribe:ue(kt()),listChanged:ue(kt())}).passthrough()),tools:ue(ye({listChanged:ue(kt())}).passthrough())}).passthrough(),wR=Bn.extend({protocolVersion:J(),capabilities:RR,serverInfo:o1,instructions:ue(J())}),xR=hs.extend({method:Me("notifications/initialized")}),c1=fn.extend({method:Me("ping")}),ER=ye({progress:$t(),total:ue($t()),message:ue(J())}).passthrough(),l1=hs.extend({method:Me("notifications/progress"),params:el.merge(ER).extend({progressToken:s1})}),Uu=fn.extend({params:Un.extend({cursor:ue(i1)}).optional()}),Bu=Bn.extend({nextCursor:ue(i1)}),u1=ye({uri:J(),mimeType:ue(J()),_meta:ue(ye({}).passthrough())}).passthrough(),d1=u1.extend({text:J()}),dp=J().refine(i=>{try{return atob(i),!0}catch{return!1}},{message:"Invalid Base64 string"}),f1=u1.extend({blob:dp}),h1=nl.extend({uri:J(),description:ue(J()),mimeType:ue(J()),_meta:ue(ye({}).passthrough())}).merge(tl),TR=nl.extend({uriTemplate:J(),description:ue(J()),mimeType:ue(J()),_meta:ue(ye({}).passthrough())}).merge(tl),IR=Uu.extend({method:Me("resources/list")}),HR=Bu.extend({resources:je(h1)}),MR=Uu.extend({method:Me("resources/templates/list")}),PR=Bu.extend({resourceTemplates:je(TR)}),NR=fn.extend({method:Me("resources/read"),params:Un.extend({uri:J()})}),kR=Bn.extend({contents:je(tn([d1,f1]))}),qR=hs.extend({method:Me("notifications/resources/list_changed")}),zR=fn.extend({method:Me("resources/subscribe"),params:Un.extend({uri:J()})}),$R=fn.extend({method:Me("resources/unsubscribe"),params:Un.extend({uri:J()})}),DR=hs.extend({method:Me("notifications/resources/updated"),params:el.extend({uri:J()})}),UR=ye({name:J(),description:ue(J()),required:ue(kt())}).passthrough(),BR=nl.extend({description:ue(J()),arguments:ue(je(UR)),_meta:ue(ye({}).passthrough())}).merge(tl),LR=Uu.extend({method:Me("prompts/list")}),FR=Bu.extend({prompts:je(BR)}),GR=fn.extend({method:Me("prompts/get"),params:Un.extend({name:J(),arguments:ue(Wc(J()))})}),fp=ye({type:Me("text"),text:J(),_meta:ue(ye({}).passthrough())}).passthrough(),hp=ye({type:Me("image"),data:dp,mimeType:J(),_meta:ue(ye({}).passthrough())}).passthrough(),pp=ye({type:Me("audio"),data:dp,mimeType:J(),_meta:ue(ye({}).passthrough())}).passthrough(),VR=ye({type:Me("resource"),resource:tn([d1,f1]),_meta:ue(ye({}).passthrough())}).passthrough(),KR=h1.extend({type:Me("resource_link")}),p1=tn([fp,hp,pp,KR,VR]),YR=ye({role:Ks(["user","assistant"]),content:p1}).passthrough(),ZR=Bn.extend({description:ue(J()),messages:je(YR)}),XR=hs.extend({method:Me("notifications/prompts/list_changed")}),QR=ye({title:ue(J()),readOnlyHint:ue(kt()),destructiveHint:ue(kt()),idempotentHint:ue(kt()),openWorldHint:ue(kt())}).passthrough(),JR=nl.extend({description:ue(J()),inputSchema:ye({type:Me("object"),properties:ue(ye({}).passthrough()),required:ue(je(J()))}).passthrough(),outputSchema:ue(ye({type:Me("object"),properties:ue(ye({}).passthrough()),required:ue(je(J()))}).passthrough()),annotations:ue(QR),_meta:ue(ye({}).passthrough())}).merge(tl),WR=Uu.extend({method:Me("tools/list")}),ew=Bu.extend({tools:je(JR)}),m1=Bn.extend({content:je(p1).default([]),structuredContent:ye({}).passthrough().optional(),isError:ue(kt())});m1.or(Bn.extend({toolResult:Jc()}));const tw=fn.extend({method:Me("tools/call"),params:Un.extend({name:J(),arguments:ue(Wc(Jc()))})}),nw=hs.extend({method:Me("notifications/tools/list_changed")}),g1=Ks(["debug","info","notice","warning","error","critical","alert","emergency"]),sw=fn.extend({method:Me("logging/setLevel"),params:Un.extend({level:g1})}),iw=hs.extend({method:Me("notifications/message"),params:el.extend({level:g1,logger:ue(J()),data:Jc()})}),rw=ye({name:J().optional()}).passthrough(),aw=ye({hints:ue(je(rw)),costPriority:ue($t().min(0).max(1)),speedPriority:ue($t().min(0).max(1)),intelligencePriority:ue($t().min(0).max(1))}).passthrough(),ow=ye({role:Ks(["user","assistant"]),content:tn([fp,hp,pp])}).passthrough(),cw=fn.extend({method:Me("sampling/createMessage"),params:Un.extend({messages:je(ow),systemPrompt:ue(J()),includeContext:ue(Ks(["none","thisServer","allServers"])),temperature:ue($t()),maxTokens:$t().int(),stopSequences:ue(je(J())),metadata:ue(ye({}).passthrough()),modelPreferences:ue(aw)})}),lw=Bn.extend({model:J(),stopReason:ue(Ks(["endTurn","stopSequence","maxTokens"]).or(J())),role:Ks(["user","assistant"]),content:gR("type",[fp,hp,pp])}),uw=ye({type:Me("boolean"),title:ue(J()),description:ue(J()),default:ue(kt())}).passthrough(),dw=ye({type:Me("string"),title:ue(J()),description:ue(J()),minLength:ue($t()),maxLength:ue($t()),format:ue(Ks(["email","uri","date","date-time"]))}).passthrough(),fw=ye({type:Ks(["number","integer"]),title:ue(J()),description:ue(J()),minimum:ue($t()),maximum:ue($t())}).passthrough(),hw=ye({type:Me("string"),title:ue(J()),description:ue(J()),enum:je(J()),enumNames:ue(je(J()))}).passthrough(),pw=tn([uw,dw,fw,hw]),mw=fn.extend({method:Me("elicitation/create"),params:Un.extend({message:J(),requestedSchema:ye({type:Me("object"),properties:Wc(J(),pw),required:ue(je(J()))}).passthrough()})}),gw=Bn.extend({action:Ks(["accept","decline","cancel"]),content:ue(Wc(J(),Jc()))}),vw=ye({type:Me("ref/resource"),uri:J()}).passthrough(),yw=ye({type:Me("ref/prompt"),name:J()}).passthrough(),_w=fn.extend({method:Me("completion/complete"),params:Un.extend({ref:tn([yw,vw]),argument:ye({name:J(),value:J()}).passthrough(),context:ue(ye({arguments:ue(Wc(J(),J()))}))})}),bw=Bn.extend({completion:ye({values:je(J()).max(100),total:ue($t().int()),hasMore:ue(kt())}).passthrough()}),Ow=ye({uri:J().startsWith("file://"),name:ue(J()),_meta:ue(ye({}).passthrough())}).passthrough(),jw=fn.extend({method:Me("roots/list")}),Aw=Bn.extend({roots:je(Ow)}),Sw=hs.extend({method:Me("notifications/roots/list_changed")});tn([c1,CR,_w,sw,GR,LR,IR,MR,NR,zR,$R,tw,WR]);tn([a1,l1,xR,Sw]);tn([r1,lw,gw,Aw]);tn([c1,cw,mw,jw]);tn([a1,l1,iw,DR,qR,nw,XR]);tn([r1,wR,bw,ZR,FR,HR,PR,kR,m1,ew]);const Vt=J().url().superRefine((i,s)=>{if(!URL.canParse(i))return s.addIssue({code:he.custom,message:"URL must be parseable",fatal:!0}),vR}).refine(i=>{const s=new URL(i);return s.protocol!=="javascript:"&&s.protocol!=="data:"&&s.protocol!=="vbscript:"},{message:"URL cannot use javascript:, data:, or vbscript: scheme"});ye({resource:J().url(),authorization_servers:je(Vt).optional(),jwks_uri:J().url().optional(),scopes_supported:je(J()).optional(),bearer_methods_supported:je(J()).optional(),resource_signing_alg_values_supported:je(J()).optional(),resource_name:J().optional(),resource_documentation:J().optional(),resource_policy_uri:J().url().optional(),resource_tos_uri:J().url().optional(),tls_client_certificate_bound_access_tokens:kt().optional(),authorization_details_types_supported:je(J()).optional(),dpop_signing_alg_values_supported:je(J()).optional(),dpop_bound_access_tokens_required:kt().optional()}).passthrough();const Cw=ye({issuer:J(),authorization_endpoint:Vt,token_endpoint:Vt,registration_endpoint:Vt.optional(),scopes_supported:je(J()).optional(),response_types_supported:je(J()),response_modes_supported:je(J()).optional(),grant_types_supported:je(J()).optional(),token_endpoint_auth_methods_supported:je(J()).optional(),token_endpoint_auth_signing_alg_values_supported:je(J()).optional(),service_documentation:Vt.optional(),revocation_endpoint:Vt.optional(),revocation_endpoint_auth_methods_supported:je(J()).optional(),revocation_endpoint_auth_signing_alg_values_supported:je(J()).optional(),introspection_endpoint:J().optional(),introspection_endpoint_auth_methods_supported:je(J()).optional(),introspection_endpoint_auth_signing_alg_values_supported:je(J()).optional(),code_challenge_methods_supported:je(J()).optional()}).passthrough(),Rw=ye({issuer:J(),authorization_endpoint:Vt,token_endpoint:Vt,userinfo_endpoint:Vt.optional(),jwks_uri:Vt,registration_endpoint:Vt.optional(),scopes_supported:je(J()).optional(),response_types_supported:je(J()),response_modes_supported:je(J()).optional(),grant_types_supported:je(J()).optional(),acr_values_supported:je(J()).optional(),subject_types_supported:je(J()),id_token_signing_alg_values_supported:je(J()),id_token_encryption_alg_values_supported:je(J()).optional(),id_token_encryption_enc_values_supported:je(J()).optional(),userinfo_signing_alg_values_supported:je(J()).optional(),userinfo_encryption_alg_values_supported:je(J()).optional(),userinfo_encryption_enc_values_supported:je(J()).optional(),request_object_signing_alg_values_supported:je(J()).optional(),request_object_encryption_alg_values_supported:je(J()).optional(),request_object_encryption_enc_values_supported:je(J()).optional(),token_endpoint_auth_methods_supported:je(J()).optional(),token_endpoint_auth_signing_alg_values_supported:je(J()).optional(),display_values_supported:je(J()).optional(),claim_types_supported:je(J()).optional(),claims_supported:je(J()).optional(),service_documentation:J().optional(),claims_locales_supported:je(J()).optional(),ui_locales_supported:je(J()).optional(),claims_parameter_supported:kt().optional(),request_parameter_supported:kt().optional(),request_uri_parameter_supported:kt().optional(),require_request_uri_registration:kt().optional(),op_policy_uri:Vt.optional(),op_tos_uri:Vt.optional()}).passthrough();Rw.merge(Cw.pick({code_challenge_methods_supported:!0}));ye({access_token:J(),id_token:J().optional(),token_type:J(),expires_in:$t().optional(),scope:J().optional(),refresh_token:J().optional()}).strip();ye({error:J(),error_description:J().optional(),error_uri:J().optional()});const Ky=Vt.optional().or(Me("").transform(()=>{})),ww=ye({redirect_uris:je(Vt),token_endpoint_auth_method:J().optional(),grant_types:je(J()).optional(),response_types:je(J()).optional(),client_name:J().optional(),client_uri:Vt.optional(),logo_uri:Ky,scope:J().optional(),contacts:je(J()).optional(),tos_uri:Ky,policy_uri:J().optional(),jwks_uri:Vt.optional(),jwks:mR().optional(),software_id:J().optional(),software_version:J().optional(),software_statement:J().optional()}).strip(),xw=ye({client_id:J(),client_secret:J().optional(),client_id_issued_at:$t().optional(),client_secret_expires_at:$t().optional()}).strip();ww.merge(xw);ye({error:J(),error_description:J().optional()}).strip();ye({token:J(),token_type_hint:J().optional()}).strip();class Yt extends Error{constructor(s,r){super(s),this.errorUri=r,this.name=this.constructor.name}toResponseObject(){const s={error:this.errorCode,error_description:this.message};return this.errorUri&&(s.error_uri=this.errorUri),s}get errorCode(){return this.constructor.errorCode}}class Ew extends Yt{}Ew.errorCode="invalid_request";class Tw extends Yt{}Tw.errorCode="invalid_client";class Iw extends Yt{}Iw.errorCode="invalid_grant";class Hw extends Yt{}Hw.errorCode="unauthorized_client";class Mw extends Yt{}Mw.errorCode="unsupported_grant_type";class Pw extends Yt{}Pw.errorCode="invalid_scope";class Nw extends Yt{}Nw.errorCode="access_denied";class kw extends Yt{}kw.errorCode="server_error";class qw extends Yt{}qw.errorCode="temporarily_unavailable";class zw extends Yt{}zw.errorCode="unsupported_response_type";class $w extends Yt{}$w.errorCode="unsupported_token_type";class Dw extends Yt{}Dw.errorCode="invalid_token";class Uw extends Yt{}Uw.errorCode="method_not_allowed";class Bw extends Yt{}Bw.errorCode="too_many_requests";class Lw extends Yt{}Lw.errorCode="invalid_client_metadata";class Fw extends Yt{}Fw.errorCode="insufficient_scope";class Yy extends Error{constructor(s){super(s??"Unauthorized")}}function oa(){const[i,s]=se.useState(!1),r=$e(h=>h.updateServer),c=$e(h=>h.setTools),m=se.useCallback(async(h,d,l)=>{s(!0);try{if(console.log(` Attempting to connect to ${h.name}...`,{hasAuth:!!h.auth,authType:h.auth?.type,hasAuthCode:!!d}),!await sa.connect(h,d,l))return console.log(` OAuth redirect initiated for ${h.name}`),!1;r(h.id,{connected:!0,error:void 0,lastConnected:new Date});const u=await sa.listTools(h.id);return c(h.id,u),console.log(` Successfully connected to ${h.name}`),!0}catch(o){console.error("Connection error:",o),console.error("Error type:",o?.constructor?.name);const u=o instanceof Error?o.message:String(o);if(u.includes("OAuth authorization required")||u.includes("Redirecting to authorization"))return console.log(" OAuth redirect is happening - not showing as error"),r(h.id,{connected:!1,error:void 0}),!1;if(o instanceof Yy)return console.log(" UnauthorizedError caught - OAuth redirect should be happening..."),r(h.id,{connected:!1,error:void 0}),!1;if(o&&typeof o=="object"&&"name"in o&&o.name==="UnauthorizedError")return console.log(" UnauthorizedError detected by name - OAuth redirect should be happening..."),r(h.id,{connected:!1,error:void 0}),!1;let f=o instanceof Error?o.message:"Connection failed";return(f.includes("Failed to fetch")||f.includes("CORS"))&&(f="CORS Error: Server does not allow browser connections. See CORS.md for solutions."),(f.includes("401")||f.includes("Unauthorized"))&&(h.auth?.type==="oauth"&&!d?f="OAuth required but authorization redirect did not occur. Check server OAuth configuration.":h.auth?.type!=="oauth"&&(f.includes("invalid_token")||f.includes("Bearer")?f=` This server requires OAuth authentication.

To fix:
1. Open the server menu ()
2. Click "Edit Server"
3. Set Authentication to "OAuth"
4. Save and connect again`:f="Authentication required (401). Please configure authentication for this server.")),console.error(` Connection to ${h.name} failed:`,f),r(h.id,{connected:!1,error:f}),f.includes("OAuth authorization required")||f.includes("Redirecting to authorization")||f.includes("Code verifier")||f.includes("PKCE")||!!d||o instanceof Yy||$n.error(`Failed to connect to ${h.name}`,f),!1}finally{s(!1)}},[r,c]),p=se.useCallback(async h=>{await sa.disconnect(h),r(h,{connected:!1})},[r]);return{connect:m,disconnect:p,isConnecting:i}}function Gw(){const[i,s]=se.useState(!1),r=$e(m=>m.addToHistory);return{execute:se.useCallback(async(m,p,h)=>{s(!0);const d=performance.now();try{const l=await sa.executeTool(m,p,h),u={success:!0,time:Math.round(performance.now()-d),data:l,timestamp:new Date};return r({serverId:m,toolName:p,input:h,result:u}),u}catch(l){const o=Math.round(performance.now()-d);console.error("Tool execution error:",{serverId:m,toolName:p,args:h,error:l,errorMessage:l instanceof Error?l.message:String(l),errorStack:l instanceof Error?l.stack:void 0});const u=l instanceof Error?l.message:"Execution failed",f={success:!1,time:o,error:u,timestamp:new Date};return r({serverId:m,toolName:p,input:h,result:f}),$n.error(`Failed to execute ${p}`,u),f}finally{s(!1)}},[r]),isExecuting:i}}const pt=Ht.forwardRef(({variant:i="primary",size:s="md",className:r="",type:c="button",children:m,...p},h)=>{const d=`btn-${i}`,l=`btn-${s}`;return A.jsx("button",{ref:h,type:c,className:`btn ${d} ${l} ${r}`.trim(),...p,children:m})});pt.displayName="Button";const Qe=Ht.forwardRef(({label:i,error:s,helperText:r,className:c="",id:m,...p},h)=>{const d=m||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return A.jsxs("div",{className:"input-wrapper",children:[i&&A.jsxs("label",{htmlFor:d,className:"input-label",children:[i,p.required&&A.jsx("span",{className:"input-required",children:"*"})]}),A.jsx("input",{ref:h,id:d,className:`input ${s?"input-error":""} ${c}`.trim(),...p}),s&&A.jsx("span",{className:"input-error-text",children:s}),r&&!s&&A.jsx("span",{className:"input-helper-text",children:r})]})});Qe.displayName="Input";const v1=Ht.forwardRef(({label:i,error:s,helperText:r,className:c="",id:m,...p},h)=>{const d=m||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return A.jsxs("div",{className:"textarea-wrapper",children:[i&&A.jsxs("label",{htmlFor:d,className:"textarea-label",children:[i,p.required&&A.jsx("span",{className:"textarea-required",children:"*"})]}),A.jsx("textarea",{ref:h,id:d,className:`textarea ${s?"textarea-error":""} ${c}`.trim(),...p}),s&&A.jsx("span",{className:"textarea-error-text",children:s}),r&&!s&&A.jsx("span",{className:"textarea-helper-text",children:r})]})});v1.displayName="Textarea";const Vw=Ht.forwardRef(({label:i,error:s,helperText:r,options:c,placeholder:m,className:p="",id:h,...d},l)=>{const o=h||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return A.jsxs("div",{className:"select-wrapper",children:[i&&A.jsxs("label",{htmlFor:o,className:"select-label",children:[i,d.required&&A.jsx("span",{className:"select-required",children:"*"})]}),A.jsxs("select",{ref:l,id:o,className:`select ${s?"select-error":""} ${p}`.trim(),...d,children:[m&&A.jsx("option",{value:"",disabled:!0,children:m}),c.map(u=>A.jsx("option",{value:u.value,disabled:u.disabled,children:u.label},u.value))]}),s&&A.jsx("span",{className:"select-error-text",children:s}),r&&!s&&A.jsx("span",{className:"select-helper-text",children:r})]})});Vw.displayName="Select";const y1=Ht.forwardRef(({label:i,helperText:s,className:r="",id:c,...m},p)=>{const h=c||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return A.jsxs("div",{className:"checkbox-wrapper",children:[A.jsxs("div",{className:"checkbox-container",children:[A.jsx("input",{ref:p,type:"checkbox",id:h,className:`checkbox ${r}`.trim(),...m}),i&&A.jsx("label",{htmlFor:h,className:"checkbox-label",children:i})]}),s&&A.jsx("span",{className:"checkbox-helper-text",children:s})]})});y1.displayName="Checkbox";const aa=Ht.forwardRef(({label:i,options:s,value:r,onChange:c,helperText:m,error:p,disabled:h=!1,className:d=""},l)=>A.jsxs("div",{ref:l,className:`toggle-group-wrapper ${d}`,children:[i&&A.jsx("label",{className:"toggle-group-label",children:i}),A.jsx("div",{className:"toggle-group",role:"group",children:s.map(o=>{const u=r===o.value,f=h||o.disabled;return A.jsx("button",{type:"button",className:`toggle-option ${u?"toggle-option-selected":""}`,onClick:()=>!f&&c(o.value),disabled:f,"aria-pressed":u,children:o.label},o.value)})}),m&&!p&&A.jsx("div",{className:"toggle-group-helper",children:m}),p&&A.jsx("div",{className:"toggle-group-error",children:p})]}));aa.displayName="ToggleGroup";const Kw=Ht.forwardRef(({label:i,helperText:s,className:r="",id:c,...m},p)=>{const h=c||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return A.jsxs("div",{className:"switch-wrapper",children:[A.jsxs("div",{className:"switch-container",children:[A.jsx("input",{ref:p,type:"checkbox",id:h,className:`switch ${r}`.trim(),role:"switch",...m}),A.jsx("label",{htmlFor:h,className:"switch-slider"}),i&&A.jsx("label",{htmlFor:h,className:"switch-label",children:i})]}),s&&A.jsx("span",{className:"switch-helper-text",children:s})]})});Kw.displayName="Switch";const Yw=Ht.forwardRef(({variant:i="default",size:s="md",className:r="",children:c,...m},p)=>{const h=`badge-${i}`,d=`badge-${s}`;return A.jsx("span",{ref:p,className:`badge ${h} ${d} ${r}`.trim(),...m,children:c})});Yw.displayName="Badge";const Zw=Ht.forwardRef(({variant:i="default",padding:s="md",className:r="",children:c,...m},p)=>{const h=`card-${i}`,d=`card-padding-${s}`;return A.jsx("div",{ref:p,className:`card ${h} ${d} ${r}`.trim(),...m,children:c})});Zw.displayName="Card";const Xw=Ht.forwardRef(({className:i="",children:s,...r},c)=>A.jsx("div",{ref:c,className:`card-header ${i}`.trim(),...r,children:s}));Xw.displayName="CardHeader";const Qw=Ht.forwardRef(({className:i="",children:s,...r},c)=>A.jsx("h3",{ref:c,className:`card-title ${i}`.trim(),...r,children:s}));Qw.displayName="CardTitle";const Jw=Ht.forwardRef(({className:i="",children:s,...r},c)=>A.jsx("p",{ref:c,className:`card-description ${i}`.trim(),...r,children:s}));Jw.displayName="CardDescription";const Ww=Ht.forwardRef(({className:i="",children:s,...r},c)=>A.jsx("div",{ref:c,className:`card-content ${i}`.trim(),...r,children:s}));Ww.displayName="CardContent";const ex=Ht.forwardRef(({className:i="",children:s,...r},c)=>A.jsx("div",{ref:c,className:`card-footer ${i}`.trim(),...r,children:s}));ex.displayName="CardFooter";const mp=Ht.forwardRef(({size:i="md",variant:s="primary",className:r="",...c},m)=>{const p=`spinner-${i}`,h=`spinner-${s}`;return A.jsx("div",{ref:m,className:`spinner ${p} ${h} ${r}`.trim(),role:"status","aria-label":"Loading",...c,children:A.jsx("span",{className:"spinner-sr-only",children:"Loading..."})})});mp.displayName="Spinner";const ca=se.memo(function({icon:s,title:r,description:c,action:m}){return A.jsxs("div",{className:"empty-state",children:[s&&A.jsx("div",{className:"empty-state-icon",children:s}),A.jsx("h3",{className:"empty-state-title",children:r}),A.jsx("p",{className:"empty-state-description",children:c}),m&&A.jsx(pt,{variant:"primary",onClick:m.onClick,children:m.label})]})}),tx=se.memo(function({onAddServer:s}){return A.jsx(ca,{icon:A.jsx(KO,{size:48}),title:"No servers yet",description:"Add your first MCP server to get started testing tools and capabilities.",action:{label:"Add Server",onClick:s}})}),nx=se.memo(function(){return A.jsx(ca,{icon:A.jsx(ap,{size:48}),title:"No tools available",description:"This server doesn't expose any tools, or hasn't been connected yet."})});se.memo(function(){return A.jsx(ca,{icon:A.jsx(QS,{size:48}),title:"No execution history",description:"Tool execution history will appear here once you start testing."})});se.memo(function({error:s,onRetry:r}){return A.jsx(ca,{icon:A.jsx(GO,{size:48}),title:"Connection failed",description:s,action:r?{label:"Retry Connection",onClick:r}:void 0})});var _1=LO();const sx=se.memo(function({title:s,message:r,confirmText:c="Confirm",cancelText:m="Cancel",onConfirm:p,onCancel:h,danger:d=!1}){return _1.createPortal(A.jsx("div",{className:"modal-overlay",onClick:h,children:A.jsxs("div",{className:"modal modal-small",onClick:l=>l.stopPropagation(),children:[A.jsx("div",{className:"modal-header",children:A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[A.jsx("span",{style:{fontSize:"24px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),A.jsx("h2",{style:{margin:0,fontSize:"20px"},children:s})]})}),A.jsx("div",{className:"modal-body",children:A.jsx("p",{style:{lineHeight:1.6},children:r})}),A.jsxs("div",{className:"modal-footer",children:[A.jsx(pt,{variant:"secondary",onClick:h,children:m}),A.jsx(pt,{variant:d?"danger":"primary",onClick:p,children:c})]})]})}),document.body)}),ix=se.memo(function({onAddServer:s,onEditServer:r}){return A.jsxs("div",{className:"server-sidebar",children:[A.jsx("div",{className:"sidebar-actions",children:A.jsxs("button",{type:"button",className:"add-server-btn",onClick:s,children:[A.jsx("span",{className:"btn-icon",children:"+"}),A.jsx("span",{children:"Add Server"})]})}),A.jsx(rx,{onAddServer:s,onEditServer:r})]})});function rx({onAddServer:i,onEditServer:s}){const r=$e(p=>p.servers),c=$e(p=>p.selectedServerId),m=$e(p=>p.setSelectedServer);return r.length===0?A.jsx(tx,{onAddServer:i}):A.jsx("div",{className:"servers-list",children:r.map(p=>A.jsx(ax,{server:p,isSelected:c===p.id,onClick:()=>m(p.id),onEditServer:s},p.id))})}const ax=se.memo(function({server:s,isSelected:r,onClick:c,onEditServer:m}){const p=$e(X=>X.tools[s.id]),h=$e(X=>X.removeServer),d=$e(X=>X.updateServer),l=$e(X=>X.setTools),{connect:o,disconnect:u}=oa(),[f,v]=se.useState(!1),[_,O]=se.useState(!1),[j,C]=se.useState(!1),[b,S]=se.useState(s.faviconUrl!==void 0?s.faviconUrl:null),[x,E]=se.useState(s.faviconUrl===null),[I,H]=se.useState([]),[w,k]=se.useState(0),N=se.useRef(null);se.useEffect(()=>{if(s.faviconUrl!==void 0){s.faviconUrl===null?(S(null),E(!0)):(S(s.faviconUrl),E(!1));return}if(!s.url)return;const X=s.auth?.oauthServerMetadata?.logo_uri,ie=[];if(X)try{new URL(X),ie.push(X)}catch{}try{const ee=new URL(s.url),fe=ee.origin;ie.push(`${fe}/favicon.ico`),ie.push(`${fe}/favicon.png`),ie.push(`${fe}/favicon.svg`),ie.push(`${fe}/favicon`);const ge=ee.hostname.split(".");if(ge.length>2){const ae=ge.slice(-2).join("."),oe=`${ee.protocol}//${ae}`;oe!==fe&&(ie.push(`${oe}/favicon.ico`),ie.push(`${oe}/favicon.png`),ie.push(`${oe}/favicon.svg`),ie.push(`${oe}/favicon`))}}catch(ee){console.warn(`Failed to parse URL for ${s.name}:`,ee)}H(ie),k(0),E(!1),ie.length>0&&S(ie[0]),Ty(async()=>{const{getAllFaviconUrls:ee}=await import("./faviconUtils-BuMtwVnm.js");return{getAllFaviconUrls:ee}},[]).then(({getAllFaviconUrls:ee})=>{ee(s.url,X).then(fe=>{fe.length>ie.length&&H(fe)}).catch(fe=>{console.warn(`Failed to get all favicon URLs for ${s.name}:`,fe)})})},[s.url,s.name,s.auth?.oauthServerMetadata?.logo_uri,s.faviconUrl]);const B=()=>{const X=w+1;X<I.length?(k(X),S(I[X]),E(!1)):(E(!0),d(s.id,{faviconUrl:null}))},F=()=>{b&&b!==s.faviconUrl&&d(s.id,{faviconUrl:b})};se.useEffect(()=>{s.connected&&s.auth?.type==="oauth"&&!s.auth?.oauthServerMetadata&&UC(s.id).then(X=>{X?.logo_uri&&s.auth&&d(s.id,{auth:{...s.auth,oauthServerMetadata:X}})}).catch(X=>{X&&!X.message?.includes("404")&&console.warn("Failed to fetch OAuth metadata:",X)})},[s.connected,s.id,s.auth?.type,s.auth?.oauthServerMetadata,d]),se.useEffect(()=>{const X=ie=>{N.current&&!N.current.contains(ie.target)&&v(!1)};if(f)return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[f]);const W=()=>{const X={http:"",sse:"",stdio:""};return A.jsxs("span",{className:"transport-badge","data-transport":s.transport,children:[X[s.transport]," ",s.transport.toUpperCase()]})},K=()=>{if(!s.auth||s.auth.type==="none")return null;const X=s.auth.type,ie={headers:"API Key",oauth:"OAuth",oauth_client_credentials:"OAuth Client"},ee={headers:"",oauth:"",oauth_client_credentials:""};return A.jsxs("span",{className:"auth-badge","data-auth-type":X,children:[ee[X]||""," ",ie[X]||"Auth"]})},$=X=>{X.stopPropagation(),v(!f)},Y=async X=>{if(X.stopPropagation(),v(!1),!!s.connected){O(!0),$n.info(`Refreshing ${s.name}...`,void 0,1500);try{const{mcpClient:ie}=await Ty(async()=>{const{mcpClient:fe}=await Promise.resolve().then(()=>LC);return{mcpClient:fe}},void 0),ee=await ie.listTools(s.id);l(s.id,ee),console.log(` Refreshed tools for ${s.name} - ${ee.length} tools`)}catch(ie){console.error("Failed to refresh tools:",ie);const ee=ie instanceof Error?ie.message:"Unknown error";$n.error(`Failed to refresh ${s.name}`,ee)}finally{O(!1)}}},P=async X=>{if(X.stopPropagation(),v(!1),!s.auth)return;const ie=s.auth.type;if(ie==="oauth"||ie==="oauth_client_credentials"){try{await qy(s.id),console.log(` Cleared OAuth credentials from backend for ${s.name}`)}catch(ee){console.error("Failed to clear OAuth tokens from backend:",ee)}localStorage.removeItem(`oauth_tokens_${s.id}`),localStorage.removeItem(`oauth_client_${s.id}`),sessionStorage.removeItem(`oauth_verifier_${s.id}`)}s.connected&&await u(s.id),ie==="oauth"?d(s.id,{auth:{type:"oauth"}}):ie==="oauth_client_credentials"?d(s.id,{auth:{type:"oauth_client_credentials"}}):ie==="headers"?d(s.id,{auth:{type:"headers"}}):d(s.id,{auth:void 0})},q=async X=>{if(X.stopPropagation(),v(!1),!s.auth)return;const ie=s.auth.type;if(s.connected&&await u(s.id),ie==="oauth"||ie==="oauth_client_credentials"){try{await qy(s.id),console.log(` Cleared OAuth tokens from backend for re-authentication: ${s.name}`)}catch(ee){console.error("Failed to clear OAuth tokens from backend:",ee)}localStorage.removeItem(`oauth_tokens_${s.id}`),sessionStorage.removeItem(`oauth_verifier_${s.id}`),ie==="oauth"?(sessionStorage.setItem("oauth_server_id",s.id),console.log(" Starting re-authentication OAuth flow...")):console.log(" Starting re-authentication for client credentials...")}else ie==="headers"&&console.log(" Re-authentication for header-based auth (will prompt for new headers on next connect)...");await o(s)},L=async X=>{X.stopPropagation(),v(!1),s.auth?.type==="oauth"&&(localStorage.removeItem(`oauth_tokens_${s.id}`),sessionStorage.removeItem(`oauth_verifier_${s.id}`),sessionStorage.removeItem("oauth_last_redirect"),sessionStorage.setItem("oauth_server_id",s.id),console.log(" Starting fresh OAuth flow...")),await o(s)},de=X=>{X.stopPropagation(),v(!1),m(s)},me=async X=>{X.stopPropagation(),v(!1),s.connected&&await u(s.id)},M=X=>{X.stopPropagation(),v(!1),C(!0)},Z=async()=>{s.connected&&await u(s.id),h(s.id),C(!1)};return A.jsxs("div",{className:`server-item ${r?"active":""}`,onClick:c,children:[A.jsxs("div",{className:"server-header",children:[b&&!x?A.jsxs("div",{className:"server-favicon-container",children:[A.jsx("img",{src:b,alt:`${s.name} favicon`,className:"server-favicon",onError:B,onLoad:F}),A.jsx("div",{className:`favicon-status-dot ${s.connected?"connected":"disconnected"}`,title:s.error||(s.connected?"Connected":"Disconnected")})]}):A.jsx("div",{className:`status-dot ${s.connected?"connected":"disconnected"}`,title:s.error||(s.connected?"Connected":"Disconnected")}),A.jsx("span",{className:"server-name",children:s.name}),A.jsx("span",{className:"tool-count",children:p?.length||0})]}),A.jsxs("div",{className:"server-footer",children:[A.jsxs("div",{className:"server-meta",children:[W(),K()]}),A.jsxs("div",{className:"server-actions",ref:N,children:[A.jsx("button",{type:"button",className:"action-btn menu-btn",onClick:$,title:"Server actions",children:A.jsx(tC,{size:14})}),f&&A.jsxs("div",{className:"dropdown-menu",children:[s.connected?A.jsxs("button",{type:"button",className:"dropdown-item",onClick:Y,disabled:_,children:[A.jsx(zh,{size:14,className:_?"spinning":""}),A.jsx("span",{children:"Refresh Tools"})]}):A.jsxs("button",{type:"button",className:"dropdown-item",onClick:L,children:[A.jsx(zh,{size:14}),A.jsx("span",{children:"Connect"})]}),s.auth&&s.auth.type!=="none"&&A.jsxs(A.Fragment,{children:[A.jsxs("button",{type:"button",className:"dropdown-item",onClick:q,disabled:!s.connected,children:[A.jsx(VO,{size:14}),A.jsx("span",{children:"Re-authenticate"})]}),A.jsxs("button",{type:"button",className:"dropdown-item",onClick:P,children:[A.jsx(Py,{size:14}),A.jsx("span",{children:"Clear Auth"})]})]}),s.connected&&A.jsxs("button",{type:"button",className:"dropdown-item",onClick:me,children:[A.jsx(Py,{size:14}),A.jsx("span",{children:"Disconnect"})]}),A.jsx("div",{className:"dropdown-divider"}),A.jsxs("button",{type:"button",className:"dropdown-item",onClick:de,children:[A.jsx(YO,{size:14}),A.jsx("span",{children:"Edit Server"})]}),A.jsxs("button",{type:"button",className:"dropdown-item danger",onClick:M,children:[A.jsx(OC,{size:14}),A.jsx("span",{children:"Delete Server"})]})]})]})]}),j&&A.jsx(sx,{title:"Delete Server",message:`Delete "${s.name}"? This will remove all cached tools and disconnect the server.`,confirmText:"Delete",cancelText:"Cancel",onConfirm:Z,onCancel:()=>C(!1),danger:!0})]})}),ox=se.memo(function(){const s=$e(f=>f.selectedServerId),r=$e(f=>f.tools),c=$e(f=>f.selectedToolName),m=$e(f=>f.setSelectedTool),p=$e(f=>f.searchQuery),h=$e(f=>f.setSearchQuery),d=$e(f=>f.executingTools),l=Zc(f=>f.getToolParameters),o=se.useMemo(()=>s?r[s]||[]:[],[s,r]),u=se.useMemo(()=>p?o.filter(f=>f.name.toLowerCase().includes(p.toLowerCase())||f.description.toLowerCase().includes(p.toLowerCase())):o,[o,p]);return s?o.length===0?A.jsx("div",{className:"tools-sidebar",children:A.jsx(nx,{})}):A.jsxs("div",{className:"tools-sidebar",children:[A.jsxs("div",{className:"tools-header",children:[A.jsx("h3",{children:"Tools"}),A.jsx("span",{className:"tools-count",children:o.length})]}),A.jsx("div",{className:"tools-search",children:A.jsx("input",{type:"text",className:"search-box",placeholder:"Search tools...",value:p,onChange:f=>h(f.target.value)})}),A.jsx("div",{className:"tools-list",children:u.length===0?A.jsx("div",{className:"no-results",children:A.jsxs("p",{children:['No tools match "',p,'"']})}):u.map(f=>{const v=s?l(s,f.name):void 0,_=s?`${s}:${f.name}`:f.name,O=d.includes(_);return A.jsxs("div",{className:`tool-item ${c===f.name?"active":""} ${O?"executing":""}`,onClick:()=>m(f.name),children:[A.jsxs("div",{className:"tool-name",children:[O&&A.jsx("span",{className:"tool-pulse"}),f.name,v&&A.jsx("span",{className:"tool-has-params-dot",title:"Has saved parameters"})]}),A.jsx("div",{className:"tool-description",children:f.description})]},f.name)})})]}):A.jsx("div",{className:"tools-sidebar",children:A.jsx(ca,{icon:A.jsx(KO,{size:48}),title:"No server selected",description:"Select a server from the left to view its tools."})})}),cx=se.memo(function({content:s,label:r="Copy",size:c="md"}){const[m,p]=se.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(s),p(!0),setTimeout(()=>{p(!1)},2e3)}catch(d){console.error("Failed to copy:",d),$n.error("Failed to copy","Clipboard access denied")}};return A.jsxs("button",{type:"button",className:`copy-btn copy-btn-${c}`,onClick:h,title:r,"aria-label":r,children:[m?A.jsx(Gc,{size:c==="sm"?14:16}):A.jsx(Vc,{size:c==="sm"?14:16}),c==="md"&&A.jsx("span",{children:m?"Copied!":"Copy"})]})});function Zh(i){let s=i.trim(),r=0;const c=5;for(;r<c;)try{const m=JSON.parse(s);if(typeof m=="string"&&(m.startsWith("{")||m.startsWith("["))){s=m,r++;continue}return m}catch{return s}return s}function lx(i){if(Array.isArray(i)){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&"type"in i[0]&&i[0].type==="text"&&"text"in i[0]){const s=i[0].text,r=Zh(s);return r}if(i.length>0&&i.every(s=>typeof s=="object"&&s!==null&&"type"in s&&"text"in s)){const s=i.map(r=>{const c=r.text;return Zh(c)});return s.length===1?s[0]:s}}return i}function Xh({value:i,indent:s}){const[r,c]=se.useState(!1),m="  ".repeat(s);if(i===null)return A.jsx("span",{className:"json-null",children:"null"});if(typeof i=="boolean")return A.jsx("span",{className:"json-boolean",children:String(i)});if(typeof i=="number")return A.jsx("span",{className:"json-number",children:String(i)});if(typeof i=="string")return A.jsxs("span",{className:"json-string",children:['"',i,'"']});if(Array.isArray(i))return i.length===0?A.jsx("span",{className:"json-bracket",children:"[]"}):A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"json-collapse-toggle",onClick:()=>c(!r),title:r?"Expand":"Collapse",children:r?A.jsx(My,{size:12}):A.jsx(Hy,{size:12})}),A.jsx("span",{className:"json-bracket",children:"["}),!r&&A.jsxs(A.Fragment,{children:[A.jsx("span",{children:`
`}),i.map((p,h)=>A.jsxs("span",{children:[A.jsxs("span",{children:[m,"  "]}),A.jsx(Xh,{value:p,indent:s+1}),h<i.length-1&&A.jsx("span",{className:"json-punctuation",children:","}),A.jsx("span",{children:`
`})]},h)),A.jsx("span",{children:m})]}),r&&A.jsx("span",{className:"json-ellipsis",children:"..."}),A.jsx("span",{className:"json-bracket",children:"]"})]});if(typeof i=="object"){const p=Object.entries(i);return p.length===0?A.jsx("span",{className:"json-bracket",children:"{}"}):A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"json-collapse-toggle",onClick:()=>c(!r),title:r?"Expand":"Collapse",children:r?A.jsx(My,{size:12}):A.jsx(Hy,{size:12})}),A.jsx("span",{className:"json-bracket",children:"{"}),!r&&A.jsxs(A.Fragment,{children:[A.jsx("span",{children:`
`}),p.map(([h,d],l)=>A.jsxs("span",{children:[A.jsxs("span",{children:[m,"  "]}),A.jsxs("span",{className:"json-key",children:['"',h,'"']}),A.jsx("span",{className:"json-punctuation",children:": "}),A.jsx(Xh,{value:d,indent:s+1}),l<p.length-1&&A.jsx("span",{className:"json-punctuation",children:","}),A.jsx("span",{children:`
`})]},h)),A.jsx("span",{children:m})]}),r&&A.jsx("span",{className:"json-ellipsis",children:"..."}),A.jsx("span",{className:"json-bracket",children:"}"})]})}return A.jsx("span",{children:String(i)})}const Yc=se.memo(function({content:s,className:r="",preserveQuotes:c=!1}){const m=se.useMemo(()=>{let p=Zh(s);if(p=lx(p),typeof p=="string"){let h=p;return!c&&h.startsWith('"')&&h.endsWith('"')&&h.length>1&&(h=h.slice(1,-1)),A.jsx("span",{children:h})}return A.jsx(Xh,{value:p,indent:0})},[s,c]);return A.jsx("pre",{className:`json-viewer ${r}`,children:m})});function ux(i){const s=[];let r=0;const c=[{regex:/"[^"\\]*(?:\\.[^"\\]*)*"(?=\s*:)/g,className:"json-key"},{regex:/"[^"\\]*(?:\\.[^"\\]*)*"/g,className:"json-string"},{regex:/\b(-?\d+\.?\d*([eE][+-]?\d+)?)\b/g,className:"json-number"},{regex:/\b(true|false)\b/g,className:"json-boolean"},{regex:/\bnull\b/g,className:"json-null"},{regex:/[{}[\]]/g,className:"json-bracket"},{regex:/[:,]/g,className:"json-punctuation"}];let m=0;const p=[];c.forEach(l=>{const o=new RegExp(l.regex.source,"g");let u;for(;(u=o.exec(i))!==null;)p.push({start:u.index,end:u.index+u[0].length,className:l.className})}),p.sort((l,o)=>l.start-o.start);const h=[];let d=-1;return p.forEach(l=>{l.start>=d&&(h.push(l),d=l.end)}),h.forEach(l=>{m<l.start&&s.push(A.jsx("span",{children:i.slice(m,l.start)},r++)),s.push(A.jsx("span",{className:l.className,children:i.slice(l.start,l.end)},r++)),m=l.end}),m<i.length&&s.push(A.jsx("span",{children:i.slice(m)},r++)),s}const dx=se.memo(function({value:s,onChange:r,placeholder:c,className:m=""}){const p=se.useRef(null),h=se.useRef(null),[d,l]=se.useState(0),[o,u]=se.useState(0),f=()=>{p.current&&(l(p.current.scrollTop),u(p.current.scrollLeft))};se.useEffect(()=>{h.current&&(h.current.scrollTop=d,h.current.scrollLeft=o)},[d,o]);const v=s?ux(s):null;return A.jsxs("div",{className:`json-editor-wrapper ${m}`,children:[A.jsx("div",{ref:h,className:"json-editor-highlight","aria-hidden":"true",children:A.jsx("pre",{children:v})}),A.jsx("textarea",{ref:p,className:"json-editor-input",value:s,onChange:_=>r(_.target.value),onScroll:f,placeholder:c,spellCheck:!1})]})}),dn=new Map,fx=se.memo(function(){const s=$e(h=>h.selectedServerId),r=$e(h=>h.selectedToolName),c=$e(h=>h.tools),p=se.useMemo(()=>s?c[s]||[]:[],[s,c]).find(h=>h.name===r);return p?A.jsx(px,{tool:p,serverId:s}):A.jsx(hx,{})});function hx(){return A.jsx("div",{className:"main-area",children:A.jsx(ca,{icon:A.jsx(ap,{size:48}),title:"No tool selected",description:"Select a tool from the sidebar to test its functionality and view results."})})}function px({tool:i,serverId:s}){const r=$e(K=>K.inputMode),c=$e(K=>K.setInputMode),m=$e(K=>K.setToolExecuting),p=`${s}:${i.name}`;dn.has(p)||dn.set(p,{result:null,resultTab:"response",elapsedTime:0,isExecuting:!1,abortController:null});const[,h]=se.useState({}),d=dn.get(p),l=se.useCallback(K=>{const $={...dn.get(p),...K};dn.set(p,$),h({})},[p]),[o,u]=se.useState(!1),[f,v]=se.useState(!1),_=se.useRef(null),{execute:O}=Gw(),j=Zc(K=>K.getToolParameters),C=Zc(K=>K.saveToolParameters),b=Zc(K=>K.recordToolExecution);se.useEffect(()=>{if(_.current&&i.description){const K=_.current.scrollHeight>_.current.clientHeight;v(K)}else v(!1)},[i.description]);const S=se.useMemo(()=>{const K=i.inputSchema.properties||{},$={};return Object.entries(K).forEach(([Y,P])=>{P.default!==void 0?$[Y]=P.default:P.type==="string"?$[Y]="":P.type==="number"||P.type==="integer"?$[Y]=void 0:P.type==="boolean"?$[Y]=!1:P.type==="array"?$[Y]=[]:P.type==="object"&&($[Y]={})}),$},[i.inputSchema]),x=se.useMemo(()=>{const K=j(s,i.name);return K?{...S,...K}:S},[s,i.name,S,j]),[E,I]=se.useState(x),[H,w]=se.useState(""),[k,N]=se.useState("");se.useEffect(()=>{const K=j(s,i.name),$=K?{...S,...K}:S;I($),w(""),N(""),u(!1),h({})},[i.name,s,p,S,j,h]),se.useEffect(()=>{if(Object.entries(E).some(([,$])=>!($==null||$===""||typeof $=="boolean"&&$===!1||Array.isArray($)&&$.length===0||typeof $=="object"&&!Array.isArray($)&&Object.keys($).length===0))){const $=setTimeout(()=>{C(s,i.name,E)},500);return()=>clearTimeout($)}},[E,s,i.name,C]),se.useMemo(()=>{r==="json"&&w(JSON.stringify(E,null,2))},[r,E]);const B=K=>{w(K),N("");try{const $=JSON.parse(K);I($)}catch($){N($ instanceof Error?$.message:"Invalid JSON")}},F=se.useCallback(async()=>{try{if(r==="json"&&k){l({result:{success:!1,time:0,error:`Invalid JSON: ${k}`,timestamp:new Date},isExecuting:!1});return}const K=Object.fromEntries(Object.entries(E).filter(([me,M])=>M!==void 0)),$=new AbortController,Y=p,P=s,q=i.name;dn.set(Y,{...dn.get(Y),elapsedTime:0,isExecuting:!0,abortController:$,result:null}),h({}),m(P,q,!0);const L=Date.now(),de=setInterval(()=>{const me=dn.get(Y);me&&me.isExecuting&&(dn.set(Y,{...me,elapsedTime:Date.now()-L}),p===Y&&h({}))},10);try{const me=await O(P,q,K);$.signal.aborted||(dn.set(Y,{...dn.get(Y),result:me,isExecuting:!1,abortController:null}),p===Y&&h({}),me.success&&b(P,q))}catch(me){const M={success:!1,time:Date.now()-L,error:me instanceof Error?me.message:"Execution failed",timestamp:new Date};dn.set(Y,{...dn.get(Y),result:M,isExecuting:!1,abortController:null}),p===Y&&h({})}finally{clearInterval(de),m(P,q,!1)}}catch(K){console.error("Execution error:",K),l({result:{success:!1,time:0,error:K instanceof Error?K.message:"Execution failed",timestamp:new Date},isExecuting:!1,abortController:null}),m(s,i.name,!1)}},[r,k,E,p,s,i.name,O,m,b,l,h]),W=se.useCallback(()=>{const K=dn.get(p);K.abortController&&(K.abortController.abort(),l({result:{success:!1,time:K.elapsedTime,error:"Execution cancelled by user",timestamp:new Date},isExecuting:!1,abortController:null}),m(s,i.name,!1))},[p,s,i.name,m,l]);return A.jsxs("div",{className:"main-area",children:[A.jsxs("div",{className:"main-header",children:[A.jsx("h2",{children:i.name}),A.jsxs("div",{className:"description-container",children:[A.jsx("p",{ref:_,className:`main-tool-description ${!o&&f?"collapsed":""}`,children:i.description}),f&&A.jsx("button",{type:"button",className:"description-toggle",onClick:()=>u(!o),children:o?"Show less":"Show more"})]})]}),A.jsxs("div",{className:"content-area",children:[A.jsxs("section",{className:"input-section",children:[A.jsx("div",{className:"section-title",children:"Input Parameters"}),A.jsxs("div",{className:"input-form-container",children:[A.jsx(aa,{value:r,onChange:K=>c(K),options:[{value:"form",label:"Form"},{value:"json",label:"JSON"}]}),r==="form"?A.jsx(mx,{schema:i.inputSchema,values:E,onChange:I}):A.jsxs(A.Fragment,{children:[A.jsx(dx,{value:H,onChange:B,placeholder:"Enter JSON input..."}),k&&A.jsxs("div",{className:"json-error",children:[" JSON Error: ",k]})]}),A.jsx("button",{type:"button",className:`execute-btn ${d.isExecuting?"executing":""}`,onClick:d.isExecuting?W:F,children:d.isExecuting?A.jsxs(A.Fragment,{children:[A.jsx("span",{children:"Executing"}),A.jsxs("span",{className:"execute-timer",children:[d.elapsedTime,"ms"]}),A.jsx("span",{className:"execute-cancel-hint",children:"(click to cancel)"})]}):"Execute Tool"})]})]}),d.result&&A.jsx(gx,{result:d.result,resultTab:d.resultTab,setResultTab:K=>l({resultTab:K}),toolName:i.name,input:E})]})]})}const mx=se.memo(function({schema:s,values:r,onChange:c}){const m=s.properties||{},p=s.required||[],h=(l,o,u)=>{let f=u;if(o.type==="number"||o.type==="integer")f=u===""?void 0:Number(u);else if(o.type==="boolean")f=u;else if(o.type==="array"||o.type==="object")try{f=u===""?o.type==="array"?[]:{}:JSON.parse(u)}catch{f=u}c({...r,[l]:f})},d=(l,o)=>{const u=r[l];return u==null?"":o.type==="array"||o.type==="object"?JSON.stringify(u):String(u)};return A.jsx("div",{className:"form-fields",children:Object.entries(m).map(([l,o])=>o.type==="boolean"?A.jsx("div",{className:"form-field",children:A.jsx(y1,{label:A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"param-name",title:o.description,children:l}),p.includes(l)&&A.jsx("span",{className:"required",children:"*"})]}),checked:!!r[l],onChange:u=>h(l,o,u.target.checked)})},l):o.type==="array"||o.type==="object"?A.jsx(v1,{label:A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"param-name",title:o.description,children:l}),p.includes(l)&&A.jsx("span",{className:"required",children:"*"}),A.jsxs("span",{className:"field-type",children:["(",o.type,")"]})]}),placeholder:o.description||`Enter JSON ${o.type}...`,value:d(l,o),onChange:u=>h(l,o,u.target.value),rows:3},l):A.jsx(Qe,{label:A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"param-name",title:o.description,children:l}),p.includes(l)&&A.jsx("span",{className:"required",children:"*"}),(o.type==="number"||o.type==="integer")&&A.jsxs("span",{className:"field-type",children:["(",o.type,")"]})]}),type:o.type==="number"||o.type==="integer"?"number":"text",placeholder:o.description||`Enter ${l}...`,value:d(l,o),onChange:u=>h(l,o,u.target.value),step:o.type==="number"?"any":void 0},l))})});function gx({result:i,resultTab:s,setResultTab:r,toolName:c,input:m}){const p=se.useMemo(()=>{switch(s){case"response":return!i.success&&i.error?i.error:JSON.stringify(i.data,null,2);case"raw":return JSON.stringify(i,null,2);case"request":return JSON.stringify({tool:c,input:m},null,2);default:return""}},[s,i,c,m]);return A.jsxs("section",{className:"result-section animate-fade-in",children:[A.jsxs("div",{className:`result-header ${i.success?"":"error"}`,children:[A.jsxs("div",{className:"result-header-left",children:[A.jsx("span",{className:`result-status ${i.success?"":"error"}`,children:i.success?" Success":" Error"}),A.jsxs("span",{className:"result-time",children:["(",i.time,"ms)"]})]}),A.jsx(cx,{content:p,label:`Copy ${s}`,size:"sm"})]}),A.jsxs("div",{className:"result-tabs",children:[A.jsx("button",{className:`result-tab ${s==="response"?"active":""}`,onClick:()=>r("response"),children:"Response"}),A.jsx("button",{className:`result-tab ${s==="raw"?"active":""}`,onClick:()=>r("raw"),children:"Raw JSON"}),A.jsx("button",{className:`result-tab ${s==="request"?"active":""}`,onClick:()=>r("request"),children:"Request"})]}),A.jsx(Yc,{content:p,className:"result-content",preserveQuotes:s==="raw"})]})}function vx({onClose:i,onSave:s,currentApiKey:r}){const[c,m]=se.useState(r||""),[p,h]=se.useState(!1),d=()=>{if(!c.trim()){alert("Please enter a valid Portkey API key");return}s(c.trim()),i()};return A.jsx("div",{className:"modal-overlay",onClick:i,children:A.jsxs("div",{className:"modal-content llm-settings-modal",onClick:l=>l.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsxs("div",{className:"modal-title",children:[A.jsx(VO,{size:20}),A.jsx("h2",{children:"LLM Configuration"})]}),A.jsx("button",{className:"modal-close",onClick:i,"aria-label":"Close",children:A.jsx(ZO,{size:20})})]}),A.jsx("div",{className:"modal-body",children:A.jsxs("div",{className:"settings-section",children:[A.jsx("h3",{children:"Portkey API Key"}),A.jsx("p",{className:"settings-description",children:"Enter your Portkey API key to enable real LLM conversations with OpenAI GPT-4o."}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"portkey-api-key",children:"API Key"}),A.jsxs("div",{className:"api-key-input-wrapper",children:[A.jsx("input",{id:"portkey-api-key",type:p?"text":"password",value:c,onChange:l=>m(l.target.value),placeholder:"sk-...",className:"api-key-input",autoComplete:"off"}),A.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>h(!p),children:p?"":""})]})]}),A.jsxs("div",{className:"info-box",children:[A.jsx("div",{className:"info-box-header",children:" About Portkey"}),A.jsx("p",{children:"Portkey is an LLM gateway that provides observability, caching, and reliability features for OpenAI and other LLM providers."}),A.jsx("p",{children:A.jsx("a",{href:"https://portkey.ai",target:"_blank",rel:"noopener noreferrer",className:"info-link",children:"Get your API key at portkey.ai "})})]}),A.jsxs("div",{className:"info-box security-note",children:[A.jsx("div",{className:"info-box-header",children:" Security Note"}),A.jsx("p",{children:"Your API key is stored locally in your browser only. It never leaves your machine and is only used to make direct API calls to Portkey from your browser."}),A.jsx("p",{children:"Hoot is a local development tool - your key is as safe as any other browser-stored credential."})]}),A.jsxs("div",{className:"settings-info",children:[A.jsxs("div",{className:"info-item",children:[A.jsx("strong",{children:"Model:"})," gpt-4o"]}),A.jsxs("div",{className:"info-item",children:[A.jsx("strong",{children:"Provider:"})," OpenAI via Portkey"]}),A.jsxs("div",{className:"info-item",children:[A.jsx("strong",{children:"Storage:"})," API key stored locally in browser"]})]})]})}),A.jsxs("div",{className:"modal-footer",children:[A.jsx("button",{className:"button-secondary",onClick:i,children:"Cancel"}),A.jsxs("button",{className:"button-primary",onClick:d,disabled:!c.trim(),children:[A.jsx(pC,{size:16}),"Save Configuration"]})]})]})})}var Hs={},gh={},Ms={},so={},Zy;function Ue(){if(Zy)return so;Zy=1,Object.defineProperty(so,"__esModule",{value:!0}),so.ApiResource=void 0;class i{constructor(r){this.client=r,this.post=r._post.bind(r),this.put=r._put.bind(r),this.getMethod=r._get.bind(r),this.deleteMethod=r._delete.bind(r)}}return so.ApiResource=i,so}var vh={},Xy;function nn(){return Xy||(Xy=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.AUDIO_FILE_DURATION_HEADER=i.GUARDRAILS_API=i.PROVIDERS_API=i.INTEGRATIONS_API=i.COLLECTIONS_API=i.LABELS_API=i.PROMPT_PARTIALS_API=i.PROMPTS_API=i.LOGS_API=i.EMBEDDINGS_API=i.FEEDBACK_API=i.PROMPT_API=i.TEXT_COMPLETE_API=i.CHAT_COMPLETE_API=i.OPEN_AI_API_KEY=i.PORTKEY_PROXY_ENV=i.PORTKEY_API_KEY_ENV=i.PORTKEY_GATEWAY_URL=i.LOCAL_BASE_URL=i.PORTKEY_BASE_URL=i.PORTKEY_HEADER_PREFIX=i.DEFAULT_TIMEOUT=i.DEFAULT_MAX_RETRIES=i.CUSTOM_HOST_CONNECTION_ERROR=i.LOCALHOST_CONNECTION_ERROR=i.INVALID_PORTKEY_MODE=i.MISSING_MODE_MESSAGE=i.MISSING_CONFIG_MESSAGE=i.MISSING_BASE_URL=i.MISSING_API_KEY_ERROR_MESSAGE=void 0,i.MISSING_API_KEY_ERROR_MESSAGE=`Portkey API Key Not Found
Resolution: 
1. Get your Portkey API key from https://app.portkey.ai/api-keys 
2. Pass it while instantiating the Portkey client with apiKey param, or set it as an environment variable with export PORTKEY_API_KEY=YOUR_API_KEY
`,i.MISSING_BASE_URL=`No Base url provided. Please provide a valid base url.
For example: https://api.portkey.ai
`,i.MISSING_CONFIG_MESSAGE="The 'config' parameter is not set. Please provide a valid Config object",i.MISSING_MODE_MESSAGE="The 'mode' parameter is not set. Please provide a valid mode literal.",i.INVALID_PORTKEY_MODE=`Argument of type '{}' cannot be assigned to parameter "mode" of type "ModesLiteral | Modes | None"
`,i.LOCALHOST_CONNECTION_ERROR="Could not instantiate the Portkey client. You can either add a valid 'apiKey' parameter (from https://app.portkey.ai/api-keys) or set the 'baseURL' parameter to your AI Gateway's instance's URL.",i.CUSTOM_HOST_CONNECTION_ERROR="We could not connect to the AI Gateway's instance. Please check the 'baseURL' parameter in the Portkey client.",i.DEFAULT_MAX_RETRIES=2,i.DEFAULT_TIMEOUT=60,i.PORTKEY_HEADER_PREFIX="x-portkey-",i.PORTKEY_BASE_URL="https://api.portkey.ai/v1",i.LOCAL_BASE_URL="http://localhost:8787/v1",i.PORTKEY_GATEWAY_URL=i.PORTKEY_BASE_URL,i.PORTKEY_API_KEY_ENV="PORTKEY_API_KEY",i.PORTKEY_PROXY_ENV="PORTKEY_PROXY",i.OPEN_AI_API_KEY="DUMMY-KEY",i.CHAT_COMPLETE_API="/chat/completions",i.TEXT_COMPLETE_API="/completions",i.PROMPT_API="/prompt/complete",i.FEEDBACK_API="/feedback",i.EMBEDDINGS_API="/embeddings",i.LOGS_API="/logs",i.PROMPTS_API="/prompts",i.PROMPT_PARTIALS_API="/prompts/partials",i.LABELS_API="/labels",i.COLLECTIONS_API="/collections",i.INTEGRATIONS_API="/integrations",i.PROVIDERS_API="/providers",i.GUARDRAILS_API="/guardrails",i.AUDIO_FILE_DURATION_HEADER="audio-file-duration"})(vh)),vh}var Gi={},Gt={},ft={},Qy;function b1(){if(Qy)return ft;Qy=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.InternalServerError=ft.RateLimitError=ft.UnprocessableEntityError=ft.ConflictError=ft.NotFoundError=ft.PermissionDeniedError=ft.AuthenticationError=ft.BadRequestError=ft.APIConnectionTimeoutError=ft.APIConnectionError=ft.APIUserAbortError=ft.APIError=void 0;const i=Pe();class s extends Error{constructor(O,j,C,b){super(s.makeMessage(j,C)),this.status=O,this.headers=b,this.error=j}static makeMessage(O,j){return O?.message?typeof O.message=="string"?O.message:JSON.stringify(O.message):O?JSON.stringify(O):j||"Unknown error occurred"}static generate(O,j,C,b){if(!O)return new c({cause:(0,i.castToError)(j)});const S=j;return O===400?new p(O,S,C,b):O===401?new h(O,S,C,b):O===403?new d(O,S,C,b):O===404?new l(O,S,C,b):O===409?new o(O,S,C,b):O===422?new u(O,S,C,b):O===429?new f(O,S,C,b):O>=500?new v(O,S,C,b):new s(O,S,C,b)}}ft.APIError=s;class r extends s{constructor({message:O}={}){super(void 0,void 0,O||"Request was aborted.",void 0),this.status=void 0}}ft.APIUserAbortError=r;class c extends s{constructor({message:O,cause:j}){const C=`Could not instantiate the Portkey client. 
    You can either add a valid 'apiKey' parameter (from https://app.portkey.ai/api-keys)
    or check the 'baseURL' parameter in the Portkey client,
    for your AI Gateway's instance's URL. 
    CAUSE: ${j}     
    MESSAGE: ${O}`;super(void 0,void 0,O||C,void 0),this.status=void 0,j&&(this.cause=j)}}ft.APIConnectionError=c;class m extends c{constructor({message:O}={}){super({message:O??"Request timed out."})}}ft.APIConnectionTimeoutError=m;class p extends s{constructor(){super(...arguments),this.status=400}}ft.BadRequestError=p;class h extends s{constructor(){super(...arguments),this.status=401}}ft.AuthenticationError=h;class d extends s{constructor(){super(...arguments),this.status=403}}ft.PermissionDeniedError=d;class l extends s{constructor(){super(...arguments),this.status=404}}ft.NotFoundError=l;class o extends s{constructor(){super(...arguments),this.status=409}}ft.ConflictError=o;class u extends s{constructor(){super(...arguments),this.status=422}}ft.UnprocessableEntityError=u;class f extends s{constructor(){super(...arguments),this.status=429}}ft.RateLimitError=f;class v extends s{}return ft.InternalServerError=v,ft}var Jy;function O1(){if(Jy)return Gt;Jy=1;var i=Gt&&Gt.__awaiter||function(v,_,O,j){function C(b){return b instanceof O?b:new O(function(S){S(b)})}return new(O||(O=Promise))(function(b,S){function x(H){try{I(j.next(H))}catch(w){S(w)}}function E(H){try{I(j.throw(H))}catch(w){S(w)}}function I(H){H.done?b(H.value):C(H.value).then(x,E)}I((j=j.apply(v,_||[])).next())})},s=Gt&&Gt.__asyncValues||function(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=v[Symbol.asyncIterator],O;return _?_.call(v):(v=typeof __values=="function"?__values(v):v[Symbol.iterator](),O={},j("next"),j("throw"),j("return"),O[Symbol.asyncIterator]=function(){return this},O);function j(b){O[b]=v[b]&&function(S){return new Promise(function(x,E){S=v[b](S),C(x,E,S.done,S.value)})}}function C(b,S,x,E){Promise.resolve(E).then(function(I){b({value:I,done:x})},S)}},r=Gt&&Gt.__await||function(v){return this instanceof r?(this.v=v,this):new r(v)},c=Gt&&Gt.__asyncGenerator||function(v,_,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=O.apply(v,_||[]),C,b=[];return C={},x("next"),x("throw"),x("return",S),C[Symbol.asyncIterator]=function(){return this},C;function S(N){return function(B){return Promise.resolve(B).then(N,w)}}function x(N,B){j[N]&&(C[N]=function(F){return new Promise(function(W,K){b.push([N,F,W,K])>1||E(N,F)})},B&&(C[N]=B(C[N])))}function E(N,B){try{I(j[N](B))}catch(F){k(b[0][3],F)}}function I(N){N.value instanceof r?Promise.resolve(N.value.v).then(H,w):k(b[0][2],N)}function H(N){E("next",N)}function w(N){E("throw",N)}function k(N,B){N(B),b.shift(),b.length&&E(b[0][0],b[0][1])}};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Stream=Gt.createResponseHeaders=Gt.safeJSON=void 0;const m=b1(),p=v=>{try{return JSON.parse(v)}catch{return}};Gt.safeJSON=p;const h=v=>new Proxy(Object.fromEntries(v.entries()),{get(_,O){const j=O.toString();return _[j.toLowerCase()]||_[j]}});Gt.createResponseHeaders=h;class d{constructor(_){this.response=_,this.decoder=new l}iterMessages(){return c(this,arguments,function*(){var O,j,C,b;if(!this.response.body)throw new Error("Attempted to iterate over a response with no body");const S=new o,x=f(this.response.body);try{for(var E=!0,I=s(x),H;H=yield r(I.next()),O=H.done,!O;E=!0){b=H.value,E=!1;const w=b;for(const k of S.decode(w)){const N=this.decoder.decode(k);N&&(yield yield r(N))}}}catch(w){j={error:w}}finally{try{!E&&!O&&(C=I.return)&&(yield r(C.call(I)))}finally{if(j)throw j.error}}for(const w of S.flush()){const k=this.decoder.decode(w);k&&(yield yield r(k))}})}[Symbol.asyncIterator](){return c(this,arguments,function*(){var O,j,C,b;try{try{for(var S=!0,x=s(this.iterMessages()),E;E=yield r(x.next()),O=E.done,!O;S=!0){b=E.value,S=!1;const I=b;if(!I.data.startsWith("[DONE]")){if(I.event===null)try{yield yield r(JSON.parse(I.data))}catch(H){throw console.error("Could not parse message into JSON:",I.data),console.error("From chunk:",I.raw),H}if(I.event!=="ping"&&I.event==="error"){let H;try{H=JSON.parse(I.data)}catch{throw console.error("Could not parse message into JSON:",I.data),console.error("From chunk:",I.raw),new m.APIError(void 0,void 0,"Unknown error",void 0)}throw new m.APIError(void 0,H,H.message,void 0)}}}}catch(I){j={error:I}}finally{try{!S&&!O&&(C=x.return)&&(yield r(C.call(x)))}finally{if(j)throw j.error}}}catch(I){if(I instanceof Error&&I.name==="AbortError")return yield r(void 0);throw I}})}}Gt.Stream=d;class l{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(_){if(_.endsWith("\r")&&(_=_.substring(0,_.length-1)),!_){if(!this.event&&!this.data.length)return null;const b={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],b}if(this.chunks.push(_),_.startsWith(":"))return null;let[O,j,C]=u(_,":");return C.startsWith(" ")&&(C=C.substring(1)),O==="event"?this.event=C:O==="data"&&this.data.push(C),null}}class o{constructor(){this.buffer=[],this.trailingCR=!1}decode(_){let O=this.decodeText(_);if(this.trailingCR&&(O="\r"+O,this.trailingCR=!1),O.endsWith("\r")&&(this.trailingCR=!0,O=O.slice(0,-1)),!O)return[];const j=o.NEWLINE_CHARS.has(O[O.length-1]||"");let C=O.split(o.NEWLINE_REGEXP);return C.length===1&&!j?(this.buffer.push(C[0]),[]):(this.buffer.length>0&&(C=[this.buffer.join("")+C[0],...C.slice(1)],this.buffer=[]),j||(this.buffer=[C.pop()||""]),C)}decodeText(_){var O;if(_==null)return"";if(typeof _=="string")return _;if(typeof Buffer<"u"){if(_ instanceof Buffer)return _.toString();if(_ instanceof Uint8Array)return Buffer.from(_).toString();throw new Error(`Unexpected: received non-Uint8Array (${_.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(_ instanceof Uint8Array||_ instanceof ArrayBuffer)return(O=this.textDecoder)!==null&&O!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(_);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${_.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const _=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,_}}o.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]),o.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function u(v,_){const O=v.indexOf(_);return O!==-1?[v.substring(0,O),_,v.substring(O+_.length)]:[v,"",""]}function f(v){if(v[Symbol.asyncIterator])return v;const _=v.getReader();return{next(){return i(this,void 0,void 0,function*(){try{const O=yield _.read();return O?.done&&_.releaseLock(),O}catch(O){throw _.releaseLock(),O}})},return(){return i(this,void 0,void 0,function*(){const O=_.cancel();return _.releaseLock(),yield O,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}return Gt}var ju={exports:{}},io={},Yn={},Wy;function ze(){if(Wy)return Yn;Wy=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.__setModuleDefault=Yn.__createBinding=void 0,Yn.__classPrivateFieldSet=i,Yn.__classPrivateFieldGet=s,Yn.__exportStar=c,Yn.__importStar=h;function i(d,l,o,u,f){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?d!==l||!f:!l.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?f.call(d,o):f?f.value=o:l.set(d,o),o}function s(d,l,o,u){if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?d!==l||!u:!l.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?u:o==="a"?u.call(d):u?u.value:l.get(d)}var r=Object.create?function(d,l,o,u){u===void 0&&(u=o);var f=Object.getOwnPropertyDescriptor(l,o);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[o]}}),Object.defineProperty(d,u,f)}:function(d,l,o,u){u===void 0&&(u=o),d[u]=l[o]};Yn.__createBinding=r;function c(d,l){for(var o in d)o!=="default"&&!Object.prototype.hasOwnProperty.call(l,o)&&r(l,d,o)}var m=Object.create?function(d,l){Object.defineProperty(d,"default",{enumerable:!0,value:l})}:function(d,l){d.default=l};Yn.__setModuleDefault=m;var p=function(d){return p=Object.getOwnPropertyNames||function(l){var o=[];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[o.length]=u);return o},p(d)};function h(d){if(d&&d.__esModule)return d;var l={};if(d!=null)for(var o=p(d),u=0;u<o.length;u++)o[u]!=="default"&&r(l,d,o[u]);return m(l,d),l}return Yn}var Zr={},e_;function j1(){if(e_)return Zr;e_=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.uuid4=void 0;let i=function(){const{crypto:s}=globalThis;if(s?.randomUUID)return Zr.uuid4=s.randomUUID.bind(s),s.randomUUID();const r=new Uint8Array(1),c=s?()=>s.getRandomValues(r)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,m=>(+m^c()&15>>+m/4).toString(16))};return Zr.uuid4=i,Zr}var yh={},Xe={},Xr={},t_;function gp(){if(t_)return Xr;t_=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.castToError=void 0,Xr.isAbortError=i;function i(r){return typeof r=="object"&&r!==null&&("name"in r&&r.name==="AbortError"||"message"in r&&String(r.message).includes("FetchRequestCanceledException"))}const s=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null){try{if(Object.prototype.toString.call(r)==="[object Error]"){const c=new Error(r.message,r.cause?{cause:r.cause}:{});return r.stack&&(c.stack=r.stack),r.cause&&!c.cause&&(c.cause=r.cause),r.name&&(c.name=r.name),c}}catch{}try{return new Error(JSON.stringify(r))}catch{}}return new Error(r)};return Xr.castToError=s,Xr}var n_;function Ys(){if(n_)return Xe;n_=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.InvalidWebhookSignatureError=Xe.ContentFilterFinishReasonError=Xe.LengthFinishReasonError=Xe.InternalServerError=Xe.RateLimitError=Xe.UnprocessableEntityError=Xe.ConflictError=Xe.NotFoundError=Xe.PermissionDeniedError=Xe.AuthenticationError=Xe.BadRequestError=Xe.APIConnectionTimeoutError=Xe.APIConnectionError=Xe.APIUserAbortError=Xe.APIError=Xe.OpenAIError=void 0;const i=gp();class s extends Error{}Xe.OpenAIError=s;class r extends s{constructor(S,x,E,I){super(`${r.makeMessage(S,x,E)}`),this.status=S,this.headers=I,this.requestID=I?.get("x-request-id"),this.error=x;const H=x;this.code=H?.code,this.param=H?.param,this.type=H?.type}static makeMessage(S,x,E){const I=x?.message?typeof x.message=="string"?x.message:JSON.stringify(x.message):x?JSON.stringify(x):E;return S&&I?`${S} ${I}`:S?`${S} status code (no body)`:I||"(no status code or body)"}static generate(S,x,E,I){if(!S||!I)return new m({message:E,cause:(0,i.castToError)(x)});const H=x?.error;return S===400?new h(S,H,E,I):S===401?new d(S,H,E,I):S===403?new l(S,H,E,I):S===404?new o(S,H,E,I):S===409?new u(S,H,E,I):S===422?new f(S,H,E,I):S===429?new v(S,H,E,I):S>=500?new _(S,H,E,I):new r(S,H,E,I)}}Xe.APIError=r;class c extends r{constructor({message:S}={}){super(void 0,void 0,S||"Request was aborted.",void 0)}}Xe.APIUserAbortError=c;class m extends r{constructor({message:S,cause:x}){super(void 0,void 0,S||"Connection error.",void 0),x&&(this.cause=x)}}Xe.APIConnectionError=m;class p extends m{constructor({message:S}={}){super({message:S??"Request timed out."})}}Xe.APIConnectionTimeoutError=p;class h extends r{}Xe.BadRequestError=h;class d extends r{}Xe.AuthenticationError=d;class l extends r{}Xe.PermissionDeniedError=l;class o extends r{}Xe.NotFoundError=o;class u extends r{}Xe.ConflictError=u;class f extends r{}Xe.UnprocessableEntityError=f;class v extends r{}Xe.RateLimitError=v;class _ extends r{}Xe.InternalServerError=_;class O extends s{constructor(){super("Could not parse response content as the length limit was reached")}}Xe.LengthFinishReasonError=O;class j extends s{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}Xe.ContentFilterFinishReasonError=j;class C extends Error{constructor(S){super(S)}}return Xe.InvalidWebhookSignatureError=C,Xe}var s_;function Ri(){return s_||(s_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.safeJSON=i.maybeCoerceBoolean=i.maybeCoerceFloat=i.maybeCoerceInteger=i.coerceBoolean=i.coerceFloat=i.coerceInteger=i.validatePositiveInteger=i.ensurePresent=i.isReadonlyArray=i.isArray=i.isAbsoluteURL=void 0,i.maybeObj=p,i.isEmptyObj=h,i.hasOwn=d,i.isObj=l;const s=Ys(),r=/^[a-z][a-z0-9+.-]*:/i,c=S=>r.test(S);i.isAbsoluteURL=c;let m=S=>(i.isArray=Array.isArray,(0,i.isArray)(S));i.isArray=m,i.isReadonlyArray=i.isArray;function p(S){return typeof S!="object"?{}:S??{}}function h(S){if(!S)return!0;for(const x in S)return!1;return!0}function d(S,x){return Object.prototype.hasOwnProperty.call(S,x)}function l(S){return S!=null&&typeof S=="object"&&!Array.isArray(S)}const o=S=>{if(S==null)throw new s.OpenAIError(`Expected a value to be given but received ${S} instead.`);return S};i.ensurePresent=o;const u=(S,x)=>{if(typeof x!="number"||!Number.isInteger(x))throw new s.OpenAIError(`${S} must be an integer`);if(x<0)throw new s.OpenAIError(`${S} must be a positive integer`);return x};i.validatePositiveInteger=u;const f=S=>{if(typeof S=="number")return Math.round(S);if(typeof S=="string")return parseInt(S,10);throw new s.OpenAIError(`Could not coerce ${S} (type: ${typeof S}) into a number`)};i.coerceInteger=f;const v=S=>{if(typeof S=="number")return S;if(typeof S=="string")return parseFloat(S);throw new s.OpenAIError(`Could not coerce ${S} (type: ${typeof S}) into a number`)};i.coerceFloat=v;const _=S=>typeof S=="boolean"?S:typeof S=="string"?S==="true":!!S;i.coerceBoolean=_;const O=S=>{if(S!=null)return(0,i.coerceInteger)(S)};i.maybeCoerceInteger=O;const j=S=>{if(S!=null)return(0,i.coerceFloat)(S)};i.maybeCoerceFloat=j;const C=S=>{if(S!=null)return(0,i.coerceBoolean)(S)};i.maybeCoerceBoolean=C;const b=S=>{try{return JSON.parse(S)}catch{return}};i.safeJSON=b})(yh)),yh}var ro={},i_;function sl(){if(i_)return ro;i_=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.sleep=void 0;const i=s=>new Promise(r=>setTimeout(r,s));return ro.sleep=i,ro}var Vi={},ao={},r_;function A1(){return r_||(r_=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.VERSION=void 0,ao.VERSION="6.3.0"),ao}var a_;function Qh(){if(a_)return Vi;a_=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.getPlatformHeaders=Vi.isRunningInBrowser=void 0;const i=A1(),s=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";Vi.isRunningInBrowser=s;function r(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const c=()=>{const o=r();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":h(Deno.build.os),"X-Stainless-Arch":p(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":h(globalThis.process.platform??"unknown"),"X-Stainless-Arch":p(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const u=m();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function m(){if(typeof navigator>"u"||!navigator)return null;const o=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:u,pattern:f}of o){const v=f.exec(navigator.userAgent);if(v){const _=v[1]||0,O=v[2]||0,j=v[3]||0;return{browser:u,version:`${_}.${O}.${j}`}}}return null}const p=o=>o==="x32"?"x32":o==="x86_64"||o==="x64"?"x64":o==="arm"?"arm":o==="aarch64"||o==="arm64"?"arm64":o?`other:${o}`:"unknown",h=o=>(o=o.toLowerCase(),o.includes("ios")?"iOS":o==="android"?"Android":o==="darwin"?"MacOS":o==="win32"?"Windows":o==="freebsd"?"FreeBSD":o==="openbsd"?"OpenBSD":o==="linux"?"Linux":o?`Other:${o}`:"Unknown");let d;const l=()=>d??(d=c());return Vi.getPlatformHeaders=l,Vi}var bi={},o_;function qu(){if(o_)return bi;o_=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.getDefaultFetch=i,bi.makeReadableStream=s,bi.ReadableStreamFrom=r,bi.ReadableStreamToAsyncIterable=c,bi.CancelReadableStream=m;function i(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function s(...p){const h=globalThis.ReadableStream;if(typeof h>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new h(...p)}function r(p){let h=Symbol.asyncIterator in p?p[Symbol.asyncIterator]():p[Symbol.iterator]();return s({start(){},async pull(d){const{done:l,value:o}=await h.next();l?d.close():d.enqueue(o)},async cancel(){await h.return?.()}})}function c(p){if(p[Symbol.asyncIterator])return p;const h=p.getReader();return{async next(){try{const d=await h.read();return d?.done&&h.releaseLock(),d}catch(d){throw h.releaseLock(),d}},async return(){const d=h.cancel();return h.releaseLock(),await d,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function m(p){if(p===null||typeof p!="object")return;if(p[Symbol.asyncIterator]){await p[Symbol.asyncIterator]().return?.();return}const h=p.getReader(),d=h.cancel();h.releaseLock(),await d}return bi}var oo={},c_;function yx(){if(c_)return oo;c_=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.FallbackEncoder=void 0;const i=({headers:s,body:r})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(r)});return oo.FallbackEncoder=i,oo}var _h={},bh={},l_;function vp(){return l_||(l_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.RFC3986=i.RFC1738=i.formatters=i.default_formatter=i.default_format=void 0,i.default_format="RFC3986";const s=r=>String(r);i.default_formatter=s,i.formatters={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:i.default_formatter},i.RFC1738="RFC1738",i.RFC3986="RFC3986"})(bh)),bh}var Au={},Oh={},u_;function _x(){return u_||(u_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.encode=i.has=void 0,i.merge=d,i.assign_single_source=l,i.decode=o,i.compact=v,i.is_regexp=_,i.is_buffer=O,i.combine=j,i.maybe_map=C;const s=vp(),r=Ri();let c=(b,S)=>(i.has=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),(0,i.has)(b,S));i.has=c;const m=(()=>{const b=[];for(let S=0;S<256;++S)b.push("%"+((S<16?"0":"")+S.toString(16)).toUpperCase());return b})();function p(b){for(;b.length>1;){const S=b.pop();if(!S)continue;const x=S.obj[S.prop];if((0,r.isArray)(x)){const E=[];for(let I=0;I<x.length;++I)typeof x[I]<"u"&&E.push(x[I]);S.obj[S.prop]=E}}}function h(b,S){const x=S&&S.plainObjects?Object.create(null):{};for(let E=0;E<b.length;++E)typeof b[E]<"u"&&(x[E]=b[E]);return x}function d(b,S,x={}){if(!S)return b;if(typeof S!="object"){if((0,r.isArray)(b))b.push(S);else if(b&&typeof b=="object")(x&&(x.plainObjects||x.allowPrototypes)||!(0,i.has)(Object.prototype,S))&&(b[S]=!0);else return[b,S];return b}if(!b||typeof b!="object")return[b].concat(S);let E=b;return(0,r.isArray)(b)&&!(0,r.isArray)(S)&&(E=h(b,x)),(0,r.isArray)(b)&&(0,r.isArray)(S)?(S.forEach(function(I,H){if((0,i.has)(b,H)){const w=b[H];w&&typeof w=="object"&&I&&typeof I=="object"?b[H]=d(w,I,x):b.push(I)}else b[H]=I}),b):Object.keys(S).reduce(function(I,H){const w=S[H];return(0,i.has)(I,H)?I[H]=d(I[H],w,x):I[H]=w,I},E)}function l(b,S){return Object.keys(S).reduce(function(x,E){return x[E]=S[E],x},b)}function o(b,S,x){const E=b.replace(/\+/g," ");if(x==="iso-8859-1")return E.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(E)}catch{return E}}const u=1024,f=(b,S,x,E,I)=>{if(b.length===0)return b;let H=b;if(typeof b=="symbol"?H=Symbol.prototype.toString.call(b):typeof b!="string"&&(H=String(b)),x==="iso-8859-1")return escape(H).replace(/%u[0-9a-f]{4}/gi,function(k){return"%26%23"+parseInt(k.slice(2),16)+"%3B"});let w="";for(let k=0;k<H.length;k+=u){const N=H.length>=u?H.slice(k,k+u):H,B=[];for(let F=0;F<N.length;++F){let W=N.charCodeAt(F);if(W===45||W===46||W===95||W===126||W>=48&&W<=57||W>=65&&W<=90||W>=97&&W<=122||I===s.RFC1738&&(W===40||W===41)){B[B.length]=N.charAt(F);continue}if(W<128){B[B.length]=m[W];continue}if(W<2048){B[B.length]=m[192|W>>6]+m[128|W&63];continue}if(W<55296||W>=57344){B[B.length]=m[224|W>>12]+m[128|W>>6&63]+m[128|W&63];continue}F+=1,W=65536+((W&1023)<<10|N.charCodeAt(F)&1023),B[B.length]=m[240|W>>18]+m[128|W>>12&63]+m[128|W>>6&63]+m[128|W&63]}w+=B.join("")}return w};i.encode=f;function v(b){const S=[{obj:{o:b},prop:"o"}],x=[];for(let E=0;E<S.length;++E){const I=S[E],H=I.obj[I.prop],w=Object.keys(H);for(let k=0;k<w.length;++k){const N=w[k],B=H[N];typeof B=="object"&&B!==null&&x.indexOf(B)===-1&&(S.push({obj:H,prop:N}),x.push(B))}}return p(S),b}function _(b){return Object.prototype.toString.call(b)==="[object RegExp]"}function O(b){return!b||typeof b!="object"?!1:!!(b.constructor&&b.constructor.isBuffer&&b.constructor.isBuffer(b))}function j(b,S){return[].concat(b,S)}function C(b,S){if((0,r.isArray)(b)){const x=[];for(let E=0;E<b.length;E+=1)x.push(S(b[E]));return x}return S(b)}})(Oh)),Oh}var d_;function bx(){if(d_)return Au;d_=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.stringify=f;const i=_x(),s=vp(),r=Ri(),c={brackets(v){return String(v)+"[]"},comma:"comma",indices(v,_){return String(v)+"["+_+"]"},repeat(v){return String(v)}},m=function(v,_){Array.prototype.push.apply(v,(0,r.isArray)(_)?_:[_])};let p;const h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:s.default_format,formatter:s.default_formatter,indices:!1,serializeDate(v){return(p??(p=Function.prototype.call.bind(Date.prototype.toISOString)))(v)},skipNulls:!1,strictNullHandling:!1};function d(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"}const l={};function o(v,_,O,j,C,b,S,x,E,I,H,w,k,N,B,F,W,K){let $=v,Y=K,P=0,q=!1;for(;(Y=Y.get(l))!==void 0&&!q;){const Z=Y.get(v);if(P+=1,typeof Z<"u"){if(Z===P)throw new RangeError("Cyclic object value");q=!0}typeof Y.get(l)>"u"&&(P=0)}if(typeof I=="function"?$=I(_,$):$ instanceof Date?$=k?.($):O==="comma"&&(0,r.isArray)($)&&($=(0,i.maybe_map)($,function(Z){return Z instanceof Date?k?.(Z):Z})),$===null){if(b)return E&&!F?E(_,h.encoder,W,"key",N):_;$=""}if(d($)||(0,i.is_buffer)($)){if(E){const Z=F?_:E(_,h.encoder,W,"key",N);return[B?.(Z)+"="+B?.(E($,h.encoder,W,"value",N))]}return[B?.(_)+"="+B?.(String($))]}const L=[];if(typeof $>"u")return L;let de;if(O==="comma"&&(0,r.isArray)($))F&&E&&($=(0,i.maybe_map)($,E)),de=[{value:$.length>0?$.join(",")||null:void 0}];else if((0,r.isArray)(I))de=I;else{const Z=Object.keys($);de=H?Z.sort(H):Z}const me=x?String(_).replace(/\./g,"%2E"):String(_),M=j&&(0,r.isArray)($)&&$.length===1?me+"[]":me;if(C&&(0,r.isArray)($)&&$.length===0)return M+"[]";for(let Z=0;Z<de.length;++Z){const X=de[Z],ie=typeof X=="object"&&typeof X.value<"u"?X.value:$[X];if(S&&ie===null)continue;const ee=w&&x?X.replace(/\./g,"%2E"):X,fe=(0,r.isArray)($)?typeof O=="function"?O(M,ee):M:M+(w?"."+ee:"["+ee+"]");K.set(v,P);const ge=new WeakMap;ge.set(l,K),m(L,o(ie,fe,O,j,C,b,S,x,O==="comma"&&F&&(0,r.isArray)($)?null:E,I,H,w,k,N,B,F,W,ge))}return L}function u(v=h){if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");const _=v.charset||h.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let O=s.default_format;if(typeof v.format<"u"){if(!(0,i.has)(s.formatters,v.format))throw new TypeError("Unknown format option provided.");O=v.format}const j=s.formatters[O];let C=h.filter;(typeof v.filter=="function"||(0,r.isArray)(v.filter))&&(C=v.filter);let b;if(v.arrayFormat&&v.arrayFormat in c?b=v.arrayFormat:"indices"in v?b=v.indices?"indices":"repeat":b=h.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const S=typeof v.allowDots>"u"?v.encodeDotInKeys?!0:h.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:h.addQueryPrefix,allowDots:S,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:b,charset:_,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?h.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:h.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:h.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:h.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:h.encodeValuesOnly,filter:C,format:O,formatter:j,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:h.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:h.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:h.strictNullHandling}}function f(v,_={}){let O=v;const j=u(_);let C,b;typeof j.filter=="function"?(b=j.filter,O=b("",O)):(0,r.isArray)(j.filter)&&(b=j.filter,C=b);const S=[];if(typeof O!="object"||O===null)return"";const x=c[j.arrayFormat],E=x==="comma"&&j.commaRoundTrip;C||(C=Object.keys(O)),j.sort&&C.sort(j.sort);const I=new WeakMap;for(let k=0;k<C.length;++k){const N=C[k];j.skipNulls&&O[N]===null||m(S,o(O[N],N,x,E,j.allowEmptyArrays,j.strictNullHandling,j.skipNulls,j.encodeDotInKeys,j.encode?j.encoder:null,j.filter,j.sort,j.allowDots,j.serializeDate,j.format,j.formatter,j.encodeValuesOnly,j.charset,I))}const H=S.join(j.delimiter);let w=j.addQueryPrefix===!0?"?":"";return j.charsetSentinel&&(j.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),H.length>0?w+H:""}return Au}var f_;function Ox(){return f_||(f_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.formats=i.stringify=void 0;const s=vp(),r={formatters:s.formatters,RFC1738:s.RFC1738,RFC3986:s.RFC3986,default:s.default_format};i.formats=r;var c=bx();Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return c.stringify}})})(_h)),_h}var jn={},co={},Qr={},Jr={},Wr={},h_;function yp(){if(h_)return Wr;h_=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.concatBytes=i,Wr.encodeUTF8=r,Wr.decodeUTF8=m;function i(p){let h=0;for(const o of p)h+=o.length;const d=new Uint8Array(h);let l=0;for(const o of p)d.set(o,l),l+=o.length;return d}let s;function r(p){let h;return(s??(h=new globalThis.TextEncoder,s=h.encode.bind(h)))(p)}let c;function m(p){let h;return(c??(h=new globalThis.TextDecoder,c=h.decode.bind(h)))(p)}return Wr}var p_;function jx(){if(p_)return Jr;p_=1;var i,s;Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.LineDecoder=void 0,Jr.findDoubleNewlineIndex=h;const r=ze(),c=yp();class m{constructor(){i.set(this,void 0),s.set(this,void 0),r.__classPrivateFieldSet(this,i,new Uint8Array,"f"),r.__classPrivateFieldSet(this,s,null,"f")}decode(l){if(l==null)return[];const o=l instanceof ArrayBuffer?new Uint8Array(l):typeof l=="string"?(0,c.encodeUTF8)(l):l;r.__classPrivateFieldSet(this,i,(0,c.concatBytes)([r.__classPrivateFieldGet(this,i,"f"),o]),"f");const u=[];let f;for(;(f=p(r.__classPrivateFieldGet(this,i,"f"),r.__classPrivateFieldGet(this,s,"f")))!=null;){if(f.carriage&&r.__classPrivateFieldGet(this,s,"f")==null){r.__classPrivateFieldSet(this,s,f.index,"f");continue}if(r.__classPrivateFieldGet(this,s,"f")!=null&&(f.index!==r.__classPrivateFieldGet(this,s,"f")+1||f.carriage)){u.push((0,c.decodeUTF8)(r.__classPrivateFieldGet(this,i,"f").subarray(0,r.__classPrivateFieldGet(this,s,"f")-1))),r.__classPrivateFieldSet(this,i,r.__classPrivateFieldGet(this,i,"f").subarray(r.__classPrivateFieldGet(this,s,"f")),"f"),r.__classPrivateFieldSet(this,s,null,"f");continue}const v=r.__classPrivateFieldGet(this,s,"f")!==null?f.preceding-1:f.preceding,_=(0,c.decodeUTF8)(r.__classPrivateFieldGet(this,i,"f").subarray(0,v));u.push(_),r.__classPrivateFieldSet(this,i,r.__classPrivateFieldGet(this,i,"f").subarray(f.index),"f"),r.__classPrivateFieldSet(this,s,null,"f")}return u}flush(){return r.__classPrivateFieldGet(this,i,"f").length?this.decode(`
`):[]}}Jr.LineDecoder=m,i=new WeakMap,s=new WeakMap,m.NEWLINE_CHARS=new Set([`
`,"\r"]),m.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function p(d,l){for(let f=l??0;f<d.length;f++){if(d[f]===10)return{preceding:f,index:f+1,carriage:!1};if(d[f]===13)return{preceding:f,index:f+1,carriage:!0}}return null}function h(d){for(let u=0;u<d.length-1;u++){if(d[u]===10&&d[u+1]===10||d[u]===13&&d[u+1]===13)return u+2;if(d[u]===13&&d[u+1]===10&&u+3<d.length&&d[u+2]===13&&d[u+3]===10)return u+4}return-1}return Jr}var Oi={},m_;function Lu(){if(m_)return Oi;m_=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.formatRequestDetails=Oi.parseLogLevel=void 0,Oi.loggerFor=d;const i=Ri(),s={off:0,error:200,warn:300,info:400,debug:500},r=(o,u,f)=>{if(o){if((0,i.hasOwn)(s,o))return o;d(f).warn(`${u} was set to ${JSON.stringify(o)}, expected one of ${JSON.stringify(Object.keys(s))}`)}};Oi.parseLogLevel=r;function c(){}function m(o,u,f){return!u||s[o]>s[f]?c:u[o].bind(u)}const p={error:c,warn:c,info:c,debug:c};let h=new WeakMap;function d(o){const u=o.logger,f=o.logLevel??"off";if(!u)return p;const v=h.get(u);if(v&&v[0]===f)return v[1];const _={error:m("error",u,f),warn:m("warn",u,f),info:m("info",u,f),debug:m("debug",u,f)};return h.set(u,[f,_]),_}const l=o=>(o.options&&(o.options={...o.options},delete o.options.headers),o.headers&&(o.headers=Object.fromEntries((o.headers instanceof Headers?[...o.headers]:Object.entries(o.headers)).map(([u,f])=>[u,u.toLowerCase()==="authorization"||u.toLowerCase()==="cookie"||u.toLowerCase()==="set-cookie"?"***":f]))),"retryOfRequestLogID"in o&&(o.retryOfRequestLogID&&(o.retryOf=o.retryOfRequestLogID),delete o.retryOfRequestLogID),o);return Oi.formatRequestDetails=l,Oi}var g_;function S1(){if(g_)return Qr;g_=1;var i;Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Stream=void 0,Qr._iterSSEMessages=f;const s=ze(),r=Ys(),c=qu(),m=jx(),p=qu(),h=gp(),d=yp(),l=Lu(),o=Ys();class u{constructor(C,b,S){this.iterator=C,i.set(this,void 0),this.controller=b,s.__classPrivateFieldSet(this,i,S,"f")}static fromSSEResponse(C,b,S){let x=!1;const E=S?(0,l.loggerFor)(S):console;async function*I(){if(x)throw new r.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");x=!0;let H=!1;try{for await(const w of f(C,b))if(!H){if(w.data.startsWith("[DONE]")){H=!0;continue}if(w.event===null||!w.event.startsWith("thread.")){let k;try{k=JSON.parse(w.data)}catch(N){throw E.error("Could not parse message into JSON:",w.data),E.error("From chunk:",w.raw),N}if(k&&k.error)throw new o.APIError(void 0,k.error,void 0,C.headers);yield k}else{let k;try{k=JSON.parse(w.data)}catch(N){throw console.error("Could not parse message into JSON:",w.data),console.error("From chunk:",w.raw),N}if(w.event=="error")throw new o.APIError(void 0,k.error,k.message,void 0);yield{event:w.event,data:k}}}H=!0}catch(w){if((0,h.isAbortError)(w))return;throw w}finally{H||b.abort()}}return new u(I,b,S)}static fromReadableStream(C,b,S){let x=!1;async function*E(){const H=new m.LineDecoder,w=(0,p.ReadableStreamToAsyncIterable)(C);for await(const k of w)for(const N of H.decode(k))yield N;for(const k of H.flush())yield k}async function*I(){if(x)throw new r.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");x=!0;let H=!1;try{for await(const w of E())H||w&&(yield JSON.parse(w));H=!0}catch(w){if((0,h.isAbortError)(w))return;throw w}finally{H||b.abort()}}return new u(I,b,S)}[(i=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const C=[],b=[],S=this.iterator(),x=E=>({next:()=>{if(E.length===0){const I=S.next();C.push(I),b.push(I)}return E.shift()}});return[new u(()=>x(C),this.controller,s.__classPrivateFieldGet(this,i,"f")),new u(()=>x(b),this.controller,s.__classPrivateFieldGet(this,i,"f"))]}toReadableStream(){const C=this;let b;return(0,c.makeReadableStream)({async start(){b=C[Symbol.asyncIterator]()},async pull(S){try{const{value:x,done:E}=await b.next();if(E)return S.close();const I=(0,d.encodeUTF8)(JSON.stringify(x)+`
`);S.enqueue(I)}catch(x){S.error(x)}},async cancel(){await b.return?.()}})}}Qr.Stream=u;async function*f(j,C){if(!j.body)throw C.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new r.OpenAIError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new r.OpenAIError("Attempted to iterate over a response with no body");const b=new _,S=new m.LineDecoder,x=(0,p.ReadableStreamToAsyncIterable)(j.body);for await(const E of v(x))for(const I of S.decode(E)){const H=b.decode(I);H&&(yield H)}for(const E of S.flush()){const I=b.decode(E);I&&(yield I)}}async function*v(j){let C=new Uint8Array;for await(const b of j){if(b==null)continue;const S=b instanceof ArrayBuffer?new Uint8Array(b):typeof b=="string"?(0,d.encodeUTF8)(b):b;let x=new Uint8Array(C.length+S.length);x.set(C),x.set(S,C.length),C=x;let E;for(;(E=(0,m.findDoubleNewlineIndex)(C))!==-1;)yield C.slice(0,E),C=C.slice(E)}C.length>0&&(yield C)}class _{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(C){if(C.endsWith("\r")&&(C=C.substring(0,C.length-1)),!C){if(!this.event&&!this.data.length)return null;const E={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],E}if(this.chunks.push(C),C.startsWith(":"))return null;let[b,S,x]=O(C,":");return x.startsWith(" ")&&(x=x.substring(1)),b==="event"?this.event=x:b==="data"&&this.data.push(x),null}}function O(j,C){const b=j.indexOf(C);return b!==-1?[j.substring(0,b),C,j.substring(b+C.length)]:[j,"",""]}return Qr}var v_;function C1(){if(v_)return co;v_=1,Object.defineProperty(co,"__esModule",{value:!0}),co.defaultParseResponse=r,co.addRequestID=c;const i=S1(),s=Lu();async function r(m,p){const{response:h,requestLogID:d,retryOfRequestLogID:l,startTime:o}=p,u=await(async()=>{if(p.options.stream)return(0,s.loggerFor)(m).debug("response",h.status,h.url,h.headers,h.body),p.options.__streamClass?p.options.__streamClass.fromSSEResponse(h,p.controller,m):i.Stream.fromSSEResponse(h,p.controller,m);if(h.status===204)return null;if(p.options.__binaryResponse)return h;const v=h.headers.get("content-type")?.split(";")[0]?.trim();if(v?.includes("application/json")||v?.endsWith("+json")){const j=await h.json();return c(j,h)}return await h.text()})();return(0,s.loggerFor)(m).debug(`[${d}] response parsed`,(0,s.formatRequestDetails)({retryOfRequestLogID:l,url:h.url,status:h.status,body:u,durationMs:Date.now()-o})),u}function c(m,p){return!m||typeof m!="object"||Array.isArray(m)?m:Object.defineProperty(m,"_request_id",{value:p.headers.get("x-request-id"),enumerable:!1})}return co}var lo={},y_;function _p(){if(y_)return lo;y_=1;var i;Object.defineProperty(lo,"__esModule",{value:!0}),lo.APIPromise=void 0;const s=ze(),r=C1();class c extends Promise{constructor(p,h,d=r.defaultParseResponse){super(l=>{l(null)}),this.responsePromise=h,this.parseResponse=d,i.set(this,void 0),s.__classPrivateFieldSet(this,i,p,"f")}_thenUnwrap(p){return new c(s.__classPrivateFieldGet(this,i,"f"),this.responsePromise,async(h,d)=>(0,r.addRequestID)(p(await this.parseResponse(h,d),d),d.response))}asResponse(){return this.responsePromise.then(p=>p.response)}async withResponse(){const[p,h]=await Promise.all([this.parse(),this.asResponse()]);return{data:p,response:h,request_id:h.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(p=>this.parseResponse(s.__classPrivateFieldGet(this,i,"f"),p))),this.parsedPromise}then(p,h){return this.parse().then(p,h)}catch(p){return this.parse().catch(p)}finally(p){return this.parse().finally(p)}}return lo.APIPromise=c,i=new WeakMap,lo}var __;function mt(){if(__)return jn;__=1;var i;Object.defineProperty(jn,"__esModule",{value:!0}),jn.ConversationCursorPage=jn.CursorPage=jn.Page=jn.PagePromise=jn.AbstractPage=void 0;const s=ze(),r=Ys(),c=C1(),m=_p(),p=Ri();class h{constructor(v,_,O,j){i.set(this,void 0),s.__classPrivateFieldSet(this,i,v,"f"),this.options=j,this.response=_,this.body=O}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const v=this.nextPageRequestOptions();if(!v)throw new r.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await s.__classPrivateFieldGet(this,i,"f").requestAPIList(this.constructor,v)}async*iterPages(){let v=this;for(yield v;v.hasNextPage();)v=await v.getNextPage(),yield v}async*[(i=new WeakMap,Symbol.asyncIterator)](){for await(const v of this.iterPages())for(const _ of v.getPaginatedItems())yield _}}jn.AbstractPage=h;class d extends m.APIPromise{constructor(v,_,O){super(v,_,async(j,C)=>new O(j,C.response,await(0,c.defaultParseResponse)(j,C),C.options))}async*[Symbol.asyncIterator](){const v=await this;for await(const _ of v)yield _}}jn.PagePromise=d;class l extends h{constructor(v,_,O,j){super(v,_,O,j),this.data=O.data||[],this.object=O.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}jn.Page=l;class o extends h{constructor(v,_,O,j){super(v,_,O,j),this.data=O.data||[],this.has_more=O.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const v=this.getPaginatedItems(),_=v[v.length-1]?.id;return _?{...this.options,query:{...(0,p.maybeObj)(this.options.query),after:_}}:null}}jn.CursorPage=o;class u extends h{constructor(v,_,O,j){super(v,_,O,j),this.data=O.data||[],this.has_more=O.has_more||!1,this.last_id=O.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const v=this.last_id;return v?{...this.options,query:{...(0,p.maybeObj)(this.options.query),after:v}}:null}}return jn.ConversationCursorPage=u,jn}var jh={},Su={},Ah={},b_;function fs(){return b_||(b_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.createForm=i.multipartFormRequestOptions=i.maybeMultipartFormRequestOptions=i.isAsyncIterable=i.checkFileSupport=void 0,i.makeFile=c,i.getName=m;const s=qu(),r=()=>{if(typeof File>"u"){const{process:j}=globalThis,C=typeof j?.versions?.node=="string"&&parseInt(j.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(C?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};i.checkFileSupport=r;function c(j,C,b){return(0,i.checkFileSupport)(),new File(j,C??"unknown_file",b)}function m(j){return(typeof j=="object"&&j!==null&&("name"in j&&j.name&&String(j.name)||"url"in j&&j.url&&String(j.url)||"filename"in j&&j.filename&&String(j.filename)||"path"in j&&j.path&&String(j.path))||"").split(/[\\/]/).pop()||void 0}const p=j=>j!=null&&typeof j=="object"&&typeof j[Symbol.asyncIterator]=="function";i.isAsyncIterable=p;const h=async(j,C)=>_(j.body)?{...j,body:await(0,i.createForm)(j.body,C)}:j;i.maybeMultipartFormRequestOptions=h;const d=async(j,C)=>({...j,body:await(0,i.createForm)(j.body,C)});i.multipartFormRequestOptions=d;const l=new WeakMap;function o(j){const C=typeof j=="function"?j:j.fetch,b=l.get(C);if(b)return b;const S=(async()=>{try{const x="Response"in C?C.Response:(await C("data:,")).constructor,E=new FormData;return E.toString()!==await new x(E).text()}catch{return!0}})();return l.set(C,S),S}const u=async(j,C)=>{if(!await o(C))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const b=new FormData;return await Promise.all(Object.entries(j||{}).map(([S,x])=>O(b,S,x))),b};i.createForm=u;const f=j=>j instanceof Blob&&"name"in j,v=j=>typeof j=="object"&&j!==null&&(j instanceof Response||(0,i.isAsyncIterable)(j)||f(j)),_=j=>{if(v(j))return!0;if(Array.isArray(j))return j.some(_);if(j&&typeof j=="object"){for(const C in j)if(_(j[C]))return!0}return!1},O=async(j,C,b)=>{if(b!==void 0){if(b==null)throw new TypeError(`Received null for "${C}"; to pass null in FormData, you must use the string 'null'`);if(typeof b=="string"||typeof b=="number"||typeof b=="boolean")j.append(C,String(b));else if(b instanceof Response)j.append(C,c([await b.blob()],m(b)));else if((0,i.isAsyncIterable)(b))j.append(C,c([await new Response((0,s.ReadableStreamFrom)(b)).blob()],m(b)));else if(f(b))j.append(C,b,m(b));else if(Array.isArray(b))await Promise.all(b.map(S=>O(j,C+"[]",S)));else if(typeof b=="object")await Promise.all(Object.entries(b).map(([S,x])=>O(j,`${C}[${S}]`,x)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${b} instead`)}}})(Ah)),Ah}var O_;function Ax(){if(O_)return Su;O_=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.toFile=p;const i=fs(),s=fs(),r=l=>l!=null&&typeof l=="object"&&typeof l.size=="number"&&typeof l.type=="string"&&typeof l.text=="function"&&typeof l.slice=="function"&&typeof l.arrayBuffer=="function",c=l=>l!=null&&typeof l=="object"&&typeof l.name=="string"&&typeof l.lastModified=="number"&&r(l),m=l=>l!=null&&typeof l=="object"&&typeof l.url=="string"&&typeof l.blob=="function";async function p(l,o,u){if((0,s.checkFileSupport)(),l=await l,c(l))return l instanceof File?l:(0,i.makeFile)([await l.arrayBuffer()],l.name);if(m(l)){const v=await l.blob();return o||(o=new URL(l.url).pathname.split(/[\\/]/).pop()),(0,i.makeFile)(await h(v),o,u)}const f=await h(l);if(o||(o=(0,i.getName)(l)),!u?.type){const v=f.find(_=>typeof _=="object"&&"type"in _&&_.type);typeof v=="string"&&(u={...u,type:v})}return(0,i.makeFile)(f,o,u)}async function h(l){let o=[];if(typeof l=="string"||ArrayBuffer.isView(l)||l instanceof ArrayBuffer)o.push(l);else if(r(l))o.push(l instanceof Blob?l:await l.arrayBuffer());else if((0,i.isAsyncIterable)(l))for await(const u of l)o.push(...await h(u));else{const u=l?.constructor?.name;throw new Error(`Unexpected data type: ${typeof l}${u?`; constructor: ${u}`:""}${d(l)}`)}return o}function d(l){return typeof l!="object"||l===null?"":`; props: [${Object.getOwnPropertyNames(l).map(u=>`"${u}"`).join(", ")}]`}return Su}var j_;function R1(){return j_||(j_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.toFile=void 0;var s=Ax();Object.defineProperty(i,"toFile",{enumerable:!0,get:function(){return s.toFile}})})(jh)),jh}var Sh={},Ch={},uo={},fo={},A_;function Ce(){if(A_)return fo;A_=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.APIResource=void 0;class i{constructor(r){this._client=r}}return fo.APIResource=i,fo}var Rh={},ho={},wh={},S_;function tt(){return S_||(S_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.path=i.createPathTagFunction=void 0,i.encodeURIPath=r;const s=Ys();function r(p){return p.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const c=Object.freeze(Object.create(null)),m=(p=r)=>function(d,...l){if(d.length===1)return d[0];let o=!1;const u=[],f=d.reduce((j,C,b)=>{/[?#]/.test(C)&&(o=!0);const S=l[b];let x=(o?encodeURIComponent:p)(""+S);return b!==l.length&&(S==null||typeof S=="object"&&S.toString===Object.getPrototypeOf(Object.getPrototypeOf(S.hasOwnProperty??c)??c)?.toString)&&(x=S+"",u.push({start:j.length+C.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),j+C+(b===l.length?"":x)},""),v=f.split(/[?#]/,1)[0],_=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let O;for(;(O=_.exec(v))!==null;)u.push({start:O.index,length:O[0].length,error:`Value "${O[0]}" can't be safely passed as a path parameter`});if(u.sort((j,C)=>j.start-C.start),u.length>0){let j=0;const C=u.reduce((b,S)=>{const x=" ".repeat(S.start-j),E="^".repeat(S.length);return j=S.start+S.length,b+x+E},"");throw new s.OpenAIError(`Path parameters result in path with invalid segments:
${u.map(b=>b.error).join(`
`)}
${f}
${C}`)}return f};i.createPathTagFunction=m,i.path=(0,i.createPathTagFunction)(r)})(wh)),wh}var C_;function Jh(){if(C_)return ho;C_=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.Messages=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{list(p,h={},d){return this._client.getAPIList((0,r.path)`/chat/completions/${p}/messages`,s.CursorPage,{query:h,...d})}}return ho.Messages=c,ho}var po={},mo={},xh={},R_;function Ln(){return R_||(R_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),ze().__exportStar(Ys(),i)})(xh)),xh}var Qt={},w_;function Fu(){if(w_)return Qt;w_=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.isChatCompletionFunctionTool=s,Qt.makeParseableResponseFormat=r,Qt.makeParseableTextFormat=c,Qt.isAutoParsableResponseFormat=m,Qt.makeParseableTool=p,Qt.isAutoParsableTool=h,Qt.maybeParseChatCompletion=d,Qt.parseChatCompletion=l,Qt.shouldParseToolCall=f,Qt.hasAutoParseableInput=v,Qt.assertToolCallsAreChatCompletionFunctionToolCalls=_,Qt.validateInputTools=O;const i=Ln();function s(j){return j!==void 0&&"function"in j&&j.function!==void 0}function r(j,C){const b={...j};return Object.defineProperties(b,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:C,enumerable:!1}}),b}function c(j,C){const b={...j};return Object.defineProperties(b,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:C,enumerable:!1}}),b}function m(j){return j?.$brand==="auto-parseable-response-format"}function p(j,{parser:C,callback:b}){const S={...j};return Object.defineProperties(S,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:C,enumerable:!1},$callback:{value:b,enumerable:!1}}),S}function h(j){return j?.$brand==="auto-parseable-tool"}function d(j,C){return!C||!v(C)?{...j,choices:j.choices.map(b=>(_(b.message.tool_calls),{...b,message:{...b.message,parsed:null,...b.message.tool_calls?{tool_calls:b.message.tool_calls}:void 0}}))}:l(j,C)}function l(j,C){const b=j.choices.map(S=>{if(S.finish_reason==="length")throw new i.LengthFinishReasonError;if(S.finish_reason==="content_filter")throw new i.ContentFilterFinishReasonError;return _(S.message.tool_calls),{...S,message:{...S.message,...S.message.tool_calls?{tool_calls:S.message.tool_calls?.map(x=>u(C,x))??void 0}:void 0,parsed:S.message.content&&!S.message.refusal?o(C,S.message.content):null}}});return{...j,choices:b}}function o(j,C){return j.response_format?.type!=="json_schema"?null:j.response_format?.type==="json_schema"?"$parseRaw"in j.response_format?j.response_format.$parseRaw(C):JSON.parse(C):null}function u(j,C){const b=j.tools?.find(S=>s(S)&&S.function?.name===C.function.name);return{...C,function:{...C.function,parsed_arguments:h(b)?b.$parseRaw(C.function.arguments):b?.function.strict?JSON.parse(C.function.arguments):null}}}function f(j,C){if(!j||!("tools"in j)||!j.tools)return!1;const b=j.tools?.find(S=>s(S)&&S.function?.name===C.function.name);return s(b)&&(h(b)||b?.function.strict||!1)}function v(j){return m(j.response_format)?!0:j.tools?.some(C=>h(C)||C.type==="function"&&C.function.strict===!0)??!1}function _(j){for(const C of j||[])if(C.type!=="function")throw new i.OpenAIError(`Currently only \`function\` tool calls are supported; Received \`${C.type}\``)}function O(j){for(const C of j??[]){if(C.type!=="function")throw new i.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${C.type}\``);if(C.function.strict!==!0)throw new i.OpenAIError(`The \`${C.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}return Qt}var ji={},x_;function w1(){if(x_)return ji;x_=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.isToolMessage=ji.isAssistantMessage=void 0,ji.isPresent=r;const i=c=>c?.role==="assistant";ji.isAssistantMessage=i;const s=c=>c?.role==="tool";ji.isToolMessage=s;function r(c){return c!=null}return ji}var go={},E_;function bp(){if(E_)return go;E_=1;var i,s,r,c,m,p,h,d,l,o,u,f,v;Object.defineProperty(go,"__esModule",{value:!0}),go.EventStream=void 0;const _=ze(),O=Ln();let j=class{constructor(){i.add(this),this.controller=new AbortController,s.set(this,void 0),r.set(this,()=>{}),c.set(this,()=>{}),m.set(this,void 0),p.set(this,()=>{}),h.set(this,()=>{}),d.set(this,{}),l.set(this,!1),o.set(this,!1),u.set(this,!1),f.set(this,!1),_.__classPrivateFieldSet(this,s,new Promise((b,S)=>{_.__classPrivateFieldSet(this,r,b,"f"),_.__classPrivateFieldSet(this,c,S,"f")}),"f"),_.__classPrivateFieldSet(this,m,new Promise((b,S)=>{_.__classPrivateFieldSet(this,p,b,"f"),_.__classPrivateFieldSet(this,h,S,"f")}),"f"),_.__classPrivateFieldGet(this,s,"f").catch(()=>{}),_.__classPrivateFieldGet(this,m,"f").catch(()=>{})}_run(b){setTimeout(()=>{b().then(()=>{this._emitFinal(),this._emit("end")},_.__classPrivateFieldGet(this,i,"m",v).bind(this))},0)}_connected(){this.ended||(_.__classPrivateFieldGet(this,r,"f").call(this),this._emit("connect"))}get ended(){return _.__classPrivateFieldGet(this,l,"f")}get errored(){return _.__classPrivateFieldGet(this,o,"f")}get aborted(){return _.__classPrivateFieldGet(this,u,"f")}abort(){this.controller.abort()}on(b,S){return(_.__classPrivateFieldGet(this,d,"f")[b]||(_.__classPrivateFieldGet(this,d,"f")[b]=[])).push({listener:S}),this}off(b,S){const x=_.__classPrivateFieldGet(this,d,"f")[b];if(!x)return this;const E=x.findIndex(I=>I.listener===S);return E>=0&&x.splice(E,1),this}once(b,S){return(_.__classPrivateFieldGet(this,d,"f")[b]||(_.__classPrivateFieldGet(this,d,"f")[b]=[])).push({listener:S,once:!0}),this}emitted(b){return new Promise((S,x)=>{_.__classPrivateFieldSet(this,f,!0,"f"),b!=="error"&&this.once("error",x),this.once(b,S)})}async done(){_.__classPrivateFieldSet(this,f,!0,"f"),await _.__classPrivateFieldGet(this,m,"f")}_emit(b,...S){if(_.__classPrivateFieldGet(this,l,"f"))return;b==="end"&&(_.__classPrivateFieldSet(this,l,!0,"f"),_.__classPrivateFieldGet(this,p,"f").call(this));const x=_.__classPrivateFieldGet(this,d,"f")[b];if(x&&(_.__classPrivateFieldGet(this,d,"f")[b]=x.filter(E=>!E.once),x.forEach(({listener:E})=>E(...S))),b==="abort"){const E=S[0];!_.__classPrivateFieldGet(this,f,"f")&&!x?.length&&Promise.reject(E),_.__classPrivateFieldGet(this,c,"f").call(this,E),_.__classPrivateFieldGet(this,h,"f").call(this,E),this._emit("end");return}if(b==="error"){const E=S[0];!_.__classPrivateFieldGet(this,f,"f")&&!x?.length&&Promise.reject(E),_.__classPrivateFieldGet(this,c,"f").call(this,E),_.__classPrivateFieldGet(this,h,"f").call(this,E),this._emit("end")}}_emitFinal(){}};return go.EventStream=j,s=new WeakMap,r=new WeakMap,c=new WeakMap,m=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,l=new WeakMap,o=new WeakMap,u=new WeakMap,f=new WeakMap,i=new WeakSet,v=function(b){if(_.__classPrivateFieldSet(this,o,!0,"f"),b instanceof Error&&b.name==="AbortError"&&(b=new O.APIUserAbortError),b instanceof O.APIUserAbortError)return _.__classPrivateFieldSet(this,u,!0,"f"),this._emit("abort",b);if(b instanceof O.OpenAIError)return this._emit("error",b);if(b instanceof Error){const S=new O.OpenAIError(b.message);return S.cause=b,this._emit("error",S)}return this._emit("error",new O.OpenAIError(String(b)))},go}var ea={},T_;function x1(){if(T_)return ea;T_=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.ParsingToolFunction=void 0,ea.isRunnableFunctionWithParse=i;function i(r){return typeof r.parse=="function"}class s{constructor(c){this.type="function",this.function=c}}return ea.ParsingToolFunction=s,ea}var I_;function E1(){if(I_)return mo;I_=1;var i,s,r,c,m,p,h,d;Object.defineProperty(mo,"__esModule",{value:!0}),mo.AbstractChatCompletionRunner=void 0;const l=ze(),o=Ln(),u=Fu(),f=w1(),v=bp(),_=x1(),O=10;let j=class extends v.EventStream{constructor(){super(...arguments),i.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(b){this._chatCompletions.push(b),this._emit("chatCompletion",b);const S=b.choices[0]?.message;return S&&this._addMessage(S),b}_addMessage(b,S=!0){if("content"in b||(b.content=null),this.messages.push(b),S){if(this._emit("message",b),(0,f.isToolMessage)(b)&&b.content)this._emit("functionToolCallResult",b.content);else if((0,f.isAssistantMessage)(b)&&b.tool_calls)for(const x of b.tool_calls)x.type==="function"&&this._emit("functionToolCall",x.function)}}async finalChatCompletion(){await this.done();const b=this._chatCompletions[this._chatCompletions.length-1];if(!b)throw new o.OpenAIError("stream ended without producing a ChatCompletion");return b}async finalContent(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",s).call(this)}async finalMessage(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",r).call(this)}async finalFunctionToolCall(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",c).call(this)}async finalFunctionToolCallResult(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",m).call(this)}async totalUsage(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",p).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const b=this._chatCompletions[this._chatCompletions.length-1];b&&this._emit("finalChatCompletion",b);const S=l.__classPrivateFieldGet(this,i,"m",r).call(this);S&&this._emit("finalMessage",S);const x=l.__classPrivateFieldGet(this,i,"m",s).call(this);x&&this._emit("finalContent",x);const E=l.__classPrivateFieldGet(this,i,"m",c).call(this);E&&this._emit("finalFunctionToolCall",E);const I=l.__classPrivateFieldGet(this,i,"m",m).call(this);I!=null&&this._emit("finalFunctionToolCallResult",I),this._chatCompletions.some(H=>H.usage)&&this._emit("totalUsage",l.__classPrivateFieldGet(this,i,"m",p).call(this))}async _createChatCompletion(b,S,x){const E=x?.signal;E&&(E.aborted&&this.controller.abort(),E.addEventListener("abort",()=>this.controller.abort())),l.__classPrivateFieldGet(this,i,"m",h).call(this,S);const I=await b.chat.completions.create({...S,stream:!1},{...x,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,u.parseChatCompletion)(I,S))}async _runChatCompletion(b,S,x){for(const E of S.messages)this._addMessage(E,!1);return await this._createChatCompletion(b,S,x)}async _runTools(b,S,x){const E="tool",{tool_choice:I="auto",stream:H,...w}=S,k=typeof I!="string"&&I.type==="function"&&I?.function?.name,{maxChatCompletions:N=O}=x||{},B=S.tools.map(K=>{if((0,u.isAutoParsableTool)(K)){if(!K.$callback)throw new o.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:K.$callback,name:K.function.name,description:K.function.description||"",parameters:K.function.parameters,parse:K.$parseRaw,strict:!0}}}return K}),F={};for(const K of B)K.type==="function"&&(F[K.function.name||K.function.function.name]=K.function);const W="tools"in S?B.map(K=>K.type==="function"?{type:"function",function:{name:K.function.name||K.function.function.name,parameters:K.function.parameters,description:K.function.description,strict:K.function.strict}}:K):void 0;for(const K of S.messages)this._addMessage(K,!1);for(let K=0;K<N;++K){const Y=(await this._createChatCompletion(b,{...w,tool_choice:I,tools:W,messages:[...this.messages]},x)).choices[0]?.message;if(!Y)throw new o.OpenAIError("missing message in ChatCompletion response");if(!Y.tool_calls?.length)return;for(const P of Y.tool_calls){if(P.type!=="function")continue;const q=P.id,{name:L,arguments:de}=P.function,me=F[L];if(me){if(k&&k!==L){const ie=`Invalid tool_call: ${JSON.stringify(L)}. ${JSON.stringify(k)} requested. Please try again`;this._addMessage({role:E,tool_call_id:q,content:ie});continue}}else{const ie=`Invalid tool_call: ${JSON.stringify(L)}. Available options are: ${Object.keys(F).map(ee=>JSON.stringify(ee)).join(", ")}. Please try again`;this._addMessage({role:E,tool_call_id:q,content:ie});continue}let M;try{M=(0,_.isRunnableFunctionWithParse)(me)?await me.parse(de):de}catch(ie){const ee=ie instanceof Error?ie.message:String(ie);this._addMessage({role:E,tool_call_id:q,content:ee});continue}const Z=await me.function(M,this),X=l.__classPrivateFieldGet(this,i,"m",d).call(this,Z);if(this._addMessage({role:E,tool_call_id:q,content:X}),k)return}}}};return mo.AbstractChatCompletionRunner=j,i=new WeakSet,s=function(){return l.__classPrivateFieldGet(this,i,"m",r).call(this).content??null},r=function(){let b=this.messages.length;for(;b-- >0;){const S=this.messages[b];if((0,f.isAssistantMessage)(S))return{...S,content:S.content??null,refusal:S.refusal??null}}throw new o.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},c=function(){for(let b=this.messages.length-1;b>=0;b--){const S=this.messages[b];if((0,f.isAssistantMessage)(S)&&S?.tool_calls?.length)return S.tool_calls.filter(x=>x.type==="function").at(-1)?.function}},m=function(){for(let b=this.messages.length-1;b>=0;b--){const S=this.messages[b];if((0,f.isToolMessage)(S)&&S.content!=null&&typeof S.content=="string"&&this.messages.some(x=>x.role==="assistant"&&x.tool_calls?.some(E=>E.type==="function"&&E.id===S.tool_call_id)))return S.content}},p=function(){const b={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:S}of this._chatCompletions)S&&(b.completion_tokens+=S.completion_tokens,b.prompt_tokens+=S.prompt_tokens,b.total_tokens+=S.total_tokens);return b},h=function(b){if(b.n!=null&&b.n>1)throw new o.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},d=function(b){return typeof b=="string"?b:b===void 0?"undefined":JSON.stringify(b)},mo}var H_;function M_(){if(H_)return po;H_=1,Object.defineProperty(po,"__esModule",{value:!0}),po.ChatCompletionRunner=void 0;const i=E1(),s=w1();let r=class T1 extends i.AbstractChatCompletionRunner{static runTools(m,p,h){const d=new T1,l={...h,headers:{...h?.headers,"X-Stainless-Helper-Method":"runTools"}};return d._run(()=>d._runTools(m,p,l)),d}_addMessage(m,p=!0){super._addMessage(m,p),(0,s.isAssistantMessage)(m)&&m.content&&this._emit("content",m.content)}};return po.ChatCompletionRunner=r,po}var vo={},yo={},Ps={},P_;function Sx(){if(P_)return Ps;P_=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.MalformedJSON=Ps.PartialJSON=Ps.partialParse=void 0;const i=1,s=2,r=4,c=8,m=16,p=32,h=64,d=128,l=256,o=d|l,u=m|p|o|h,f=i|s|u,v=r|c,_=f|v,O={STR:i,NUM:s,ARR:r,OBJ:c,NULL:m,BOOL:p,NAN:h,INFINITY:d,MINUS_INFINITY:l,INF:o,SPECIAL:u,ATOM:f,COLLECTION:v,ALL:_};class j extends Error{}Ps.PartialJSON=j;class C extends Error{}Ps.MalformedJSON=C;function b(E,I=O.ALL){if(typeof E!="string")throw new TypeError(`expecting str, got ${typeof E}`);if(!E.trim())throw new Error(`${E} is empty`);return S(E.trim(),I)}const S=(E,I)=>{const H=E.length;let w=0;const k=P=>{throw new j(`${P} at position ${w}`)},N=P=>{throw new C(`${P} at position ${w}`)},B=()=>(Y(),w>=H&&k("Unexpected end of input"),E[w]==='"'?F():E[w]==="{"?W():E[w]==="["?K():E.substring(w,w+4)==="null"||O.NULL&I&&H-w<4&&"null".startsWith(E.substring(w))?(w+=4,null):E.substring(w,w+4)==="true"||O.BOOL&I&&H-w<4&&"true".startsWith(E.substring(w))?(w+=4,!0):E.substring(w,w+5)==="false"||O.BOOL&I&&H-w<5&&"false".startsWith(E.substring(w))?(w+=5,!1):E.substring(w,w+8)==="Infinity"||O.INFINITY&I&&H-w<8&&"Infinity".startsWith(E.substring(w))?(w+=8,1/0):E.substring(w,w+9)==="-Infinity"||O.MINUS_INFINITY&I&&1<H-w&&H-w<9&&"-Infinity".startsWith(E.substring(w))?(w+=9,-1/0):E.substring(w,w+3)==="NaN"||O.NAN&I&&H-w<3&&"NaN".startsWith(E.substring(w))?(w+=3,NaN):$()),F=()=>{const P=w;let q=!1;for(w++;w<H&&(E[w]!=='"'||q&&E[w-1]==="\\");)q=E[w]==="\\"?!q:!1,w++;if(E.charAt(w)=='"')try{return JSON.parse(E.substring(P,++w-Number(q)))}catch(L){N(String(L))}else if(O.STR&I)try{return JSON.parse(E.substring(P,w-Number(q))+'"')}catch{return JSON.parse(E.substring(P,E.lastIndexOf("\\"))+'"')}k("Unterminated string literal")},W=()=>{w++,Y();const P={};try{for(;E[w]!=="}";){if(Y(),w>=H&&O.OBJ&I)return P;const q=F();Y(),w++;try{const L=B();Object.defineProperty(P,q,{value:L,writable:!0,enumerable:!0,configurable:!0})}catch(L){if(O.OBJ&I)return P;throw L}Y(),E[w]===","&&w++}}catch{if(O.OBJ&I)return P;k("Expected '}' at end of object")}return w++,P},K=()=>{w++;const P=[];try{for(;E[w]!=="]";)P.push(B()),Y(),E[w]===","&&w++}catch{if(O.ARR&I)return P;k("Expected ']' at end of array")}return w++,P},$=()=>{if(w===0){E==="-"&&O.NUM&I&&k("Not sure what '-' is");try{return JSON.parse(E)}catch(q){if(O.NUM&I)try{return E[E.length-1]==="."?JSON.parse(E.substring(0,E.lastIndexOf("."))):JSON.parse(E.substring(0,E.lastIndexOf("e")))}catch{}N(String(q))}}const P=w;for(E[w]==="-"&&w++;E[w]&&!",]}".includes(E[w]);)w++;w==H&&!(O.NUM&I)&&k("Unterminated number literal");try{return JSON.parse(E.substring(P,w))}catch{E.substring(P,w)==="-"&&O.NUM&I&&k("Not sure what '-' is");try{return JSON.parse(E.substring(P,E.lastIndexOf("e")))}catch(L){N(String(L))}}},Y=()=>{for(;w<H&&` 
\r	`.includes(E[w]);)w++};return B()},x=E=>b(E,O.ALL^O.NUM);return Ps.partialParse=x,Ps}var Eh={},N_;function I1(){return N_||(N_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),ze().__exportStar(S1(),i)})(Eh)),Eh}var k_;function ep(){if(k_)return yo;k_=1;var i,s,r,c,m,p,h,d,l,o,u,f;Object.defineProperty(yo,"__esModule",{value:!0}),yo.ChatCompletionStream=void 0;const v=ze(),_=Sx(),O=Ln(),j=Fu(),C=I1(),b=E1();let S=class Wh extends b.AbstractChatCompletionRunner{constructor(w){super(),i.add(this),s.set(this,void 0),r.set(this,void 0),c.set(this,void 0),v.__classPrivateFieldSet(this,s,w,"f"),v.__classPrivateFieldSet(this,r,[],"f")}get currentChatCompletionSnapshot(){return v.__classPrivateFieldGet(this,c,"f")}static fromReadableStream(w){const k=new Wh(null);return k._run(()=>k._fromReadableStream(w)),k}static createChatCompletion(w,k,N){const B=new Wh(k);return B._run(()=>B._runChatCompletion(w,{...k,stream:!0},{...N,headers:{...N?.headers,"X-Stainless-Helper-Method":"stream"}})),B}async _createChatCompletion(w,k,N){super._createChatCompletion;const B=N?.signal;B&&(B.aborted&&this.controller.abort(),B.addEventListener("abort",()=>this.controller.abort())),v.__classPrivateFieldGet(this,i,"m",m).call(this);const F=await w.chat.completions.create({...k,stream:!0},{...N,signal:this.controller.signal});this._connected();for await(const W of F)v.__classPrivateFieldGet(this,i,"m",h).call(this,W);if(F.controller.signal?.aborted)throw new O.APIUserAbortError;return this._addChatCompletion(v.__classPrivateFieldGet(this,i,"m",o).call(this))}async _fromReadableStream(w,k){const N=k?.signal;N&&(N.aborted&&this.controller.abort(),N.addEventListener("abort",()=>this.controller.abort())),v.__classPrivateFieldGet(this,i,"m",m).call(this),this._connected();const B=C.Stream.fromReadableStream(w,this.controller);let F;for await(const W of B)F&&F!==W.id&&this._addChatCompletion(v.__classPrivateFieldGet(this,i,"m",o).call(this)),v.__classPrivateFieldGet(this,i,"m",h).call(this,W),F=W.id;if(B.controller.signal?.aborted)throw new O.APIUserAbortError;return this._addChatCompletion(v.__classPrivateFieldGet(this,i,"m",o).call(this))}[(s=new WeakMap,r=new WeakMap,c=new WeakMap,i=new WeakSet,m=function(){this.ended||v.__classPrivateFieldSet(this,c,void 0,"f")},p=function(k){let N=v.__classPrivateFieldGet(this,r,"f")[k.index];return N||(N={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},v.__classPrivateFieldGet(this,r,"f")[k.index]=N,N)},h=function(k){if(this.ended)return;const N=v.__classPrivateFieldGet(this,i,"m",f).call(this,k);this._emit("chunk",k,N);for(const B of k.choices){const F=N.choices[B.index];B.delta.content!=null&&F.message?.role==="assistant"&&F.message?.content&&(this._emit("content",B.delta.content,F.message.content),this._emit("content.delta",{delta:B.delta.content,snapshot:F.message.content,parsed:F.message.parsed})),B.delta.refusal!=null&&F.message?.role==="assistant"&&F.message?.refusal&&this._emit("refusal.delta",{delta:B.delta.refusal,snapshot:F.message.refusal}),B.logprobs?.content!=null&&F.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:B.logprobs?.content,snapshot:F.logprobs?.content??[]}),B.logprobs?.refusal!=null&&F.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:B.logprobs?.refusal,snapshot:F.logprobs?.refusal??[]});const W=v.__classPrivateFieldGet(this,i,"m",p).call(this,F);F.finish_reason&&(v.__classPrivateFieldGet(this,i,"m",l).call(this,F),W.current_tool_call_index!=null&&v.__classPrivateFieldGet(this,i,"m",d).call(this,F,W.current_tool_call_index));for(const K of B.delta.tool_calls??[])W.current_tool_call_index!==K.index&&(v.__classPrivateFieldGet(this,i,"m",l).call(this,F),W.current_tool_call_index!=null&&v.__classPrivateFieldGet(this,i,"m",d).call(this,F,W.current_tool_call_index)),W.current_tool_call_index=K.index;for(const K of B.delta.tool_calls??[]){const $=F.message.tool_calls?.[K.index];$?.type&&($?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:$.function?.name,index:K.index,arguments:$.function.arguments,parsed_arguments:$.function.parsed_arguments,arguments_delta:K.function?.arguments??""}):($?.type,void 0))}}},d=function(k,N){if(v.__classPrivateFieldGet(this,i,"m",p).call(this,k).done_tool_calls.has(N))return;const F=k.message.tool_calls?.[N];if(!F)throw new Error("no tool call snapshot");if(!F.type)throw new Error("tool call snapshot missing `type`");if(F.type==="function"){const W=v.__classPrivateFieldGet(this,s,"f")?.tools?.find(K=>(0,j.isChatCompletionFunctionTool)(K)&&K.function.name===F.function.name);this._emit("tool_calls.function.arguments.done",{name:F.function.name,index:N,arguments:F.function.arguments,parsed_arguments:(0,j.isAutoParsableTool)(W)?W.$parseRaw(F.function.arguments):W?.function.strict?JSON.parse(F.function.arguments):null})}else F.type},l=function(k){const N=v.__classPrivateFieldGet(this,i,"m",p).call(this,k);if(k.message.content&&!N.content_done){N.content_done=!0;const B=v.__classPrivateFieldGet(this,i,"m",u).call(this);this._emit("content.done",{content:k.message.content,parsed:B?B.$parseRaw(k.message.content):null})}k.message.refusal&&!N.refusal_done&&(N.refusal_done=!0,this._emit("refusal.done",{refusal:k.message.refusal})),k.logprobs?.content&&!N.logprobs_content_done&&(N.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:k.logprobs.content})),k.logprobs?.refusal&&!N.logprobs_refusal_done&&(N.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:k.logprobs.refusal}))},o=function(){if(this.ended)throw new O.OpenAIError("stream has ended, this shouldn't happen");const k=v.__classPrivateFieldGet(this,c,"f");if(!k)throw new O.OpenAIError("request ended without sending any chunks");return v.__classPrivateFieldSet(this,c,void 0,"f"),v.__classPrivateFieldSet(this,r,[],"f"),x(k,v.__classPrivateFieldGet(this,s,"f"))},u=function(){const k=v.__classPrivateFieldGet(this,s,"f")?.response_format;return(0,j.isAutoParsableResponseFormat)(k)?k:null},f=function(k){var N,B,F,W;let K=v.__classPrivateFieldGet(this,c,"f");const{choices:$,...Y}=k;K?Object.assign(K,Y):K=v.__classPrivateFieldSet(this,c,{...Y,choices:[]},"f");for(const{delta:P,finish_reason:q,index:L,logprobs:de=null,...me}of k.choices){let M=K.choices[L];if(M||(M=K.choices[L]={finish_reason:q,index:L,message:{},logprobs:de,...me}),de)if(!M.logprobs)M.logprobs=Object.assign({},de);else{const{content:ae,refusal:oe,...we}=de;Object.assign(M.logprobs,we),ae&&((N=M.logprobs).content??(N.content=[]),M.logprobs.content.push(...ae)),oe&&((B=M.logprobs).refusal??(B.refusal=[]),M.logprobs.refusal.push(...oe))}if(q&&(M.finish_reason=q,v.__classPrivateFieldGet(this,s,"f")&&(0,j.hasAutoParseableInput)(v.__classPrivateFieldGet(this,s,"f")))){if(q==="length")throw new O.LengthFinishReasonError;if(q==="content_filter")throw new O.ContentFilterFinishReasonError}if(Object.assign(M,me),!P)continue;const{content:Z,refusal:X,function_call:ie,role:ee,tool_calls:fe,...ge}=P;if(Object.assign(M.message,ge),X&&(M.message.refusal=(M.message.refusal||"")+X),ee&&(M.message.role=ee),ie&&(M.message.function_call?(ie.name&&(M.message.function_call.name=ie.name),ie.arguments&&((F=M.message.function_call).arguments??(F.arguments=""),M.message.function_call.arguments+=ie.arguments)):M.message.function_call=ie),Z&&(M.message.content=(M.message.content||"")+Z,!M.message.refusal&&v.__classPrivateFieldGet(this,i,"m",u).call(this)&&(M.message.parsed=(0,_.partialParse)(M.message.content))),fe){M.message.tool_calls||(M.message.tool_calls=[]);for(const{index:ae,id:oe,type:we,function:ne,...pe}of fe){const ve=(W=M.message.tool_calls)[ae]??(W[ae]={});Object.assign(ve,pe),oe&&(ve.id=oe),we&&(ve.type=we),ne&&(ve.function??(ve.function={name:ne.name??"",arguments:""})),ne?.name&&(ve.function.name=ne.name),ne?.arguments&&(ve.function.arguments+=ne.arguments,(0,j.shouldParseToolCall)(v.__classPrivateFieldGet(this,s,"f"),ve)&&(ve.function.parsed_arguments=(0,_.partialParse)(ve.function.arguments)))}}}return K},Symbol.asyncIterator)](){const w=[],k=[];let N=!1;return this.on("chunk",B=>{const F=k.shift();F?F.resolve(B):w.push(B)}),this.on("end",()=>{N=!0;for(const B of k)B.resolve(void 0);k.length=0}),this.on("abort",B=>{N=!0;for(const F of k)F.reject(B);k.length=0}),this.on("error",B=>{N=!0;for(const F of k)F.reject(B);k.length=0}),{next:async()=>w.length?{value:w.shift(),done:!1}:N?{value:void 0,done:!0}:new Promise((F,W)=>k.push({resolve:F,reject:W})).then(F=>F?{value:F,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new C.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};yo.ChatCompletionStream=S;function x(H,w){const{id:k,choices:N,created:B,model:F,system_fingerprint:W,...K}=H,$={...K,id:k,choices:N.map(({message:Y,finish_reason:P,index:q,logprobs:L,...de})=>{if(!P)throw new O.OpenAIError(`missing finish_reason for choice ${q}`);const{content:me=null,function_call:M,tool_calls:Z,...X}=Y,ie=Y.role;if(!ie)throw new O.OpenAIError(`missing role for choice ${q}`);if(M){const{arguments:ee,name:fe}=M;if(ee==null)throw new O.OpenAIError(`missing function_call.arguments for choice ${q}`);if(!fe)throw new O.OpenAIError(`missing function_call.name for choice ${q}`);return{...de,message:{content:me,function_call:{arguments:ee,name:fe},role:ie,refusal:Y.refusal??null},finish_reason:P,index:q,logprobs:L}}return Z?{...de,index:q,finish_reason:P,logprobs:L,message:{...X,role:ie,content:me,refusal:Y.refusal??null,tool_calls:Z.map((ee,fe)=>{const{function:ge,type:ae,id:oe,...we}=ee,{arguments:ne,name:pe,...ve}=ge||{};if(oe==null)throw new O.OpenAIError(`missing choices[${q}].tool_calls[${fe}].id
${E(H)}`);if(ae==null)throw new O.OpenAIError(`missing choices[${q}].tool_calls[${fe}].type
${E(H)}`);if(pe==null)throw new O.OpenAIError(`missing choices[${q}].tool_calls[${fe}].function.name
${E(H)}`);if(ne==null)throw new O.OpenAIError(`missing choices[${q}].tool_calls[${fe}].function.arguments
${E(H)}`);return{...we,id:oe,type:ae,function:{...ve,name:pe,arguments:ne}}})}}:{...de,message:{...X,content:me,role:ie,refusal:Y.refusal??null},finish_reason:P,index:q,logprobs:L}}),created:B,model:F,object:"chat.completion",...W?{system_fingerprint:W}:{}};return(0,j.maybeParseChatCompletion)($,w)}function E(H){return JSON.stringify(H)}function I(H){}return yo}var q_;function z_(){if(q_)return vo;q_=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.ChatCompletionStreamingRunner=void 0;const i=ep();let s=class tp extends i.ChatCompletionStream{static fromReadableStream(c){const m=new tp(null);return m._run(()=>m._fromReadableStream(c)),m}static runTools(c,m,p){const h=new tp(m),d={...p,headers:{...p?.headers,"X-Stainless-Helper-Method":"runTools"}};return h._run(()=>h._runTools(c,m,d)),h}};return vo.ChatCompletionStreamingRunner=s,vo}var $_;function zu(){return $_||($_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.ChatCompletionRunner=i.ChatCompletionStream=i.ParsingToolFunction=i.ChatCompletionStreamingRunner=i.Completions=void 0;const s=ze(),r=Ce(),c=s.__importStar(Jh()),m=Jh(),p=mt(),h=tt(),d=M_(),l=z_(),o=ep(),u=Fu();class f extends r.APIResource{constructor(){super(...arguments),this.messages=new c.Messages(this._client)}create(b,S){return this._client.post("/chat/completions",{body:b,...S,stream:b.stream??!1})}retrieve(b,S){return this._client.get((0,h.path)`/chat/completions/${b}`,S)}update(b,S,x){return this._client.post((0,h.path)`/chat/completions/${b}`,{body:S,...x})}list(b={},S){return this._client.getAPIList("/chat/completions",p.CursorPage,{query:b,...S})}delete(b,S){return this._client.delete((0,h.path)`/chat/completions/${b}`,S)}parse(b,S){return(0,u.validateInputTools)(b.tools),this._client.chat.completions.create(b,{...S,headers:{...S?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(x=>(0,u.parseChatCompletion)(x,b))}runTools(b,S){return b.stream?l.ChatCompletionStreamingRunner.runTools(this._client,b,S):d.ChatCompletionRunner.runTools(this._client,b,S)}stream(b,S){return o.ChatCompletionStream.createChatCompletion(this._client,b,S)}}i.Completions=f;var v=z_();Object.defineProperty(i,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return v.ChatCompletionStreamingRunner}});var _=x1();Object.defineProperty(i,"ParsingToolFunction",{enumerable:!0,get:function(){return _.ParsingToolFunction}});var O=ep();Object.defineProperty(i,"ChatCompletionStream",{enumerable:!0,get:function(){return O.ChatCompletionStream}});var j=M_();Object.defineProperty(i,"ChatCompletionRunner",{enumerable:!0,get:function(){return j.ChatCompletionRunner}}),f.Messages=m.Messages})(Rh)),Rh}var D_;function H1(){if(D_)return uo;D_=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.Chat=void 0;const i=ze(),s=Ce(),r=i.__importStar(zu()),c=zu();class m extends s.APIResource{constructor(){super(...arguments),this.completions=new r.Completions(this._client)}}return uo.Chat=m,m.Completions=c.Completions,uo}var Th={},U_;function Cx(){return U_||(U_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Messages=i.Completions=void 0;const s=ze();var r=zu();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return r.Completions}}),s.__exportStar(zu(),i);var c=Jh();Object.defineProperty(i,"Messages",{enumerable:!0,get:function(){return c.Messages}})})(Th)),Th}var B_;function Rx(){return B_||(B_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Completions=i.Chat=void 0;var s=H1();Object.defineProperty(i,"Chat",{enumerable:!0,get:function(){return s.Chat}});var r=Cx();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return r.Completions}})})(Ch)),Ch}var Ih={},L_;function wx(){return L_||(L_=1,Object.defineProperty(Ih,"__esModule",{value:!0})),Ih}var _o={},bo={},Ki={},F_;function _t(){if(F_)return Ki;F_=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.isEmptyHeaders=Ki.buildHeaders=void 0;const i=Ri(),s=Symbol("brand.privateNullableHeaders");function*r(p){if(!p)return;if(s in p){const{values:l,nulls:o}=p;yield*l.entries();for(const u of o)yield[u,null];return}let h=!1,d;p instanceof Headers?d=p.entries():(0,i.isReadonlyArray)(p)?d=p:(h=!0,d=Object.entries(p??{}));for(let l of d){const o=l[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=(0,i.isReadonlyArray)(l[1])?l[1]:[l[1]];let f=!1;for(const v of u)v!==void 0&&(h&&!f&&(f=!0,yield[o,null]),yield[o,v])}}const c=p=>{const h=new Headers,d=new Set;for(const l of p){const o=new Set;for(const[u,f]of r(l)){const v=u.toLowerCase();o.has(v)||(h.delete(u),o.add(v)),f===null?(h.delete(u),d.add(v)):(h.append(u,f),d.delete(v))}}return{[s]:!0,values:h,nulls:d}};Ki.buildHeaders=c;const m=p=>{for(const h of r(p))return!1;return!0};return Ki.isEmptyHeaders=m,Ki}var G_;function V_(){if(G_)return bo;G_=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.Speech=void 0;const i=Ce(),s=_t();class r extends i.APIResource{create(m,p){return this._client.post("/audio/speech",{body:m,...p,headers:(0,s.buildHeaders)([{Accept:"application/octet-stream"},p?.headers]),__binaryResponse:!0})}}return bo.Speech=r,bo}var Oo={},K_;function Y_(){if(K_)return Oo;K_=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.Transcriptions=void 0;const i=Ce(),s=fs();class r extends i.APIResource{create(m,p){return this._client.post("/audio/transcriptions",(0,s.multipartFormRequestOptions)({body:m,...p,stream:m.stream??!1,__metadata:{model:m.model}},this._client))}}return Oo.Transcriptions=r,Oo}var jo={},Z_;function X_(){if(Z_)return jo;Z_=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.Translations=void 0;const i=Ce(),s=fs();class r extends i.APIResource{create(m,p){return this._client.post("/audio/translations",(0,s.multipartFormRequestOptions)({body:m,...p,__metadata:{model:m.model}},this._client))}}return jo.Translations=r,jo}var Q_;function M1(){if(Q_)return _o;Q_=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.Audio=void 0;const i=ze(),s=Ce(),r=i.__importStar(V_()),c=V_(),m=i.__importStar(Y_()),p=Y_(),h=i.__importStar(X_()),d=X_();class l extends s.APIResource{constructor(){super(...arguments),this.transcriptions=new m.Transcriptions(this._client),this.translations=new h.Translations(this._client),this.speech=new r.Speech(this._client)}}return _o.Audio=l,l.Transcriptions=p.Transcriptions,l.Translations=d.Translations,l.Speech=c.Speech,_o}var Ao={},J_;function P1(){if(J_)return Ao;J_=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.Batches=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{create(p,h){return this._client.post("/batches",{body:p,...h})}retrieve(p,h){return this._client.get((0,r.path)`/batches/${p}`,h)}list(p={},h){return this._client.getAPIList("/batches",s.CursorPage,{query:p,...h})}cancel(p,h){return this._client.post((0,r.path)`/batches/${p}/cancel`,h)}}return Ao.Batches=c,Ao}var So={},Co={},W_;function eb(){if(W_)return Co;W_=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.Assistants=void 0;const i=Ce(),s=mt(),r=_t(),c=tt();class m extends i.APIResource{create(h,d){return this._client.post("/assistants",{body:h,...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}retrieve(h,d){return this._client.get((0,c.path)`/assistants/${h}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}update(h,d,l){return this._client.post((0,c.path)`/assistants/${h}`,{body:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}list(h={},d){return this._client.getAPIList("/assistants",s.CursorPage,{query:h,...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}delete(h,d){return this._client.delete((0,c.path)`/assistants/${h}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}}return Co.Assistants=m,Co}var Ro={},wo={},tb;function nb(){if(tb)return wo;tb=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.Sessions=void 0;const i=Ce(),s=_t();class r extends i.APIResource{create(m,p){return this._client.post("/realtime/sessions",{body:m,...p,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},p?.headers])})}}return wo.Sessions=r,wo}var xo={},sb;function ib(){if(sb)return xo;sb=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.TranscriptionSessions=void 0;const i=Ce(),s=_t();class r extends i.APIResource{create(m,p){return this._client.post("/realtime/transcription_sessions",{body:m,...p,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},p?.headers])})}}return xo.TranscriptionSessions=r,xo}var rb;function ab(){if(rb)return Ro;rb=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.Realtime=void 0;const i=ze(),s=Ce(),r=i.__importStar(nb()),c=nb(),m=i.__importStar(ib()),p=ib();class h extends s.APIResource{constructor(){super(...arguments),this.sessions=new r.Sessions(this._client),this.transcriptionSessions=new m.TranscriptionSessions(this._client)}}return Ro.Realtime=h,h.Sessions=c.Sessions,h.TranscriptionSessions=p.TranscriptionSessions,Ro}var Eo={},To={},ob;function cb(){if(ob)return To;ob=1,Object.defineProperty(To,"__esModule",{value:!0}),To.Sessions=void 0;const i=Ce(),s=_t(),r=tt();class c extends i.APIResource{create(p,h){return this._client.post("/chatkit/sessions",{body:p,...h,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},h?.headers])})}cancel(p,h){return this._client.post((0,r.path)`/chatkit/sessions/${p}/cancel`,{...h,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},h?.headers])})}}return To.Sessions=c,To}var Io={},lb;function ub(){if(lb)return Io;lb=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.Threads=void 0;const i=Ce(),s=mt(),r=_t(),c=tt();class m extends i.APIResource{retrieve(h,d){return this._client.get((0,c.path)`/chatkit/threads/${h}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},d?.headers])})}list(h={},d){return this._client.getAPIList("/chatkit/threads",s.ConversationCursorPage,{query:h,...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},d?.headers])})}delete(h,d){return this._client.delete((0,c.path)`/chatkit/threads/${h}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},d?.headers])})}listItems(h,d={},l){return this._client.getAPIList((0,c.path)`/chatkit/threads/${h}/items`,s.ConversationCursorPage,{query:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},l?.headers])})}}return Io.Threads=m,Io}var db;function fb(){if(db)return Eo;db=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.ChatKit=void 0;const i=ze(),s=Ce(),r=i.__importStar(cb()),c=cb(),m=i.__importStar(ub()),p=ub(),h=_t(),d=fs();class l extends s.APIResource{constructor(){super(...arguments),this.sessions=new r.Sessions(this._client),this.threads=new m.Threads(this._client)}uploadFile(u,f){return this._client.post("/chatkit/files",(0,d.maybeMultipartFormRequestOptions)({body:u,...f,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},f?.headers])},this._client))}}return Eo.ChatKit=l,l.Sessions=c.Sessions,l.Threads=p.Threads,Eo}var Ho={},Mo={},hb;function pb(){if(hb)return Mo;hb=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.Messages=void 0;const i=Ce(),s=mt(),r=_t(),c=tt();class m extends i.APIResource{create(h,d,l){return this._client.post((0,c.path)`/threads/${h}/messages`,{body:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}retrieve(h,d,l){const{thread_id:o}=d;return this._client.get((0,c.path)`/threads/${o}/messages/${h}`,{...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}update(h,d,l){const{thread_id:o,...u}=d;return this._client.post((0,c.path)`/threads/${o}/messages/${h}`,{body:u,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}list(h,d={},l){return this._client.getAPIList((0,c.path)`/threads/${h}/messages`,s.CursorPage,{query:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}delete(h,d,l){const{thread_id:o}=d;return this._client.delete((0,c.path)`/threads/${o}/messages/${h}`,{...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}}return Mo.Messages=m,Mo}var Po={},No={},mb;function gb(){if(mb)return No;mb=1,Object.defineProperty(No,"__esModule",{value:!0}),No.Steps=void 0;const i=Ce(),s=mt(),r=_t(),c=tt();class m extends i.APIResource{retrieve(h,d,l){const{thread_id:o,run_id:u,...f}=d;return this._client.get((0,c.path)`/threads/${o}/runs/${u}/steps/${h}`,{query:f,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}list(h,d,l){const{thread_id:o,...u}=d;return this._client.getAPIList((0,c.path)`/threads/${o}/runs/${h}/steps`,s.CursorPage,{query:u,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}}return No.Steps=m,No}var ko={},Hh={},Ns={},vb;function xx(){if(vb)return Ns;vb=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.toFloat32Array=Ns.fromBase64=Ns.toBase64=void 0;const i=Ys(),s=yp(),r=p=>{if(!p)return"";if(typeof globalThis.Buffer<"u")return globalThis.Buffer.from(p).toString("base64");if(typeof p=="string"&&(p=(0,s.encodeUTF8)(p)),typeof btoa<"u")return btoa(String.fromCharCode.apply(null,p));throw new i.OpenAIError("Cannot generate base64 string; Expected `Buffer` or `btoa` to be defined")};Ns.toBase64=r;const c=p=>{if(typeof globalThis.Buffer<"u"){const h=globalThis.Buffer.from(p,"base64");return new Uint8Array(h.buffer,h.byteOffset,h.byteLength)}if(typeof atob<"u"){const h=atob(p),d=new Uint8Array(h.length);for(let l=0;l<h.length;l++)d[l]=h.charCodeAt(l);return d}throw new i.OpenAIError("Cannot decode base64 string; Expected `Buffer` or `atob` to be defined")};Ns.fromBase64=c;const m=p=>{if(typeof Buffer<"u"){const h=Buffer.from(p,"base64");return Array.from(new Float32Array(h.buffer,h.byteOffset,h.length/Float32Array.BYTES_PER_ELEMENT))}else{const h=atob(p),d=h.length,l=new Uint8Array(d);for(let o=0;o<d;o++)l[o]=h.charCodeAt(o);return Array.from(new Float32Array(l.buffer))}};return Ns.toFloat32Array=m,Ns}var qo={},yb;function N1(){if(yb)return qo;yb=1;var i={};Object.defineProperty(qo,"__esModule",{value:!0}),qo.readEnv=void 0;const s=r=>{if(typeof globalThis.process<"u")return i?.[r]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(r)?.trim()};return qo.readEnv=s,qo}var _b;function Gu(){return _b||(_b=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0});const s=ze();s.__exportStar(Ri(),i),s.__exportStar(xx(),i),s.__exportStar(N1(),i),s.__exportStar(Lu(),i),s.__exportStar(j1(),i),s.__exportStar(sl(),i)})(Hh)),Hh}var bb;function k1(){if(bb)return ko;bb=1;var i,s,r,c,m,p,h,d,l,o,u,f,v,_,O,j,C,b,S,x,E,I,H;Object.defineProperty(ko,"__esModule",{value:!0}),ko.AssistantStream=void 0;const w=ze(),k=I1(),N=Ln(),B=bp(),F=Gu();let W=class extends B.EventStream{constructor(){super(...arguments),i.add(this),r.set(this,[]),c.set(this,{}),m.set(this,{}),p.set(this,void 0),h.set(this,void 0),d.set(this,void 0),l.set(this,void 0),o.set(this,void 0),u.set(this,void 0),f.set(this,void 0),v.set(this,void 0),_.set(this,void 0)}[(r=new WeakMap,c=new WeakMap,m=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,l=new WeakMap,o=new WeakMap,u=new WeakMap,f=new WeakMap,v=new WeakMap,_=new WeakMap,i=new WeakSet,Symbol.asyncIterator)](){const $=[],Y=[];let P=!1;return this.on("event",q=>{const L=Y.shift();L?L.resolve(q):$.push(q)}),this.on("end",()=>{P=!0;for(const q of Y)q.resolve(void 0);Y.length=0}),this.on("abort",q=>{P=!0;for(const L of Y)L.reject(q);Y.length=0}),this.on("error",q=>{P=!0;for(const L of Y)L.reject(q);Y.length=0}),{next:async()=>$.length?{value:$.shift(),done:!1}:P?{value:void 0,done:!0}:new Promise((L,de)=>Y.push({resolve:L,reject:de})).then(L=>L?{value:L,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream($){const Y=new s;return Y._run(()=>Y._fromReadableStream($)),Y}async _fromReadableStream($,Y){const P=Y?.signal;P&&(P.aborted&&this.controller.abort(),P.addEventListener("abort",()=>this.controller.abort())),this._connected();const q=k.Stream.fromReadableStream($,this.controller);for await(const L of q)w.__classPrivateFieldGet(this,i,"m",O).call(this,L);if(q.controller.signal?.aborted)throw new N.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,i,"m",j).call(this))}toReadableStream(){return new k.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream($,Y,P,q){const L=new s;return L._run(()=>L._runToolAssistantStream($,Y,P,{...q,headers:{...q?.headers,"X-Stainless-Helper-Method":"stream"}})),L}async _createToolAssistantStream($,Y,P,q){const L=q?.signal;L&&(L.aborted&&this.controller.abort(),L.addEventListener("abort",()=>this.controller.abort()));const de={...P,stream:!0},me=await $.submitToolOutputs(Y,de,{...q,signal:this.controller.signal});this._connected();for await(const M of me)w.__classPrivateFieldGet(this,i,"m",O).call(this,M);if(me.controller.signal?.aborted)throw new N.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,i,"m",j).call(this))}static createThreadAssistantStream($,Y,P){const q=new s;return q._run(()=>q._threadAssistantStream($,Y,{...P,headers:{...P?.headers,"X-Stainless-Helper-Method":"stream"}})),q}static createAssistantStream($,Y,P,q){const L=new s;return L._run(()=>L._runAssistantStream($,Y,P,{...q,headers:{...q?.headers,"X-Stainless-Helper-Method":"stream"}})),L}currentEvent(){return w.__classPrivateFieldGet(this,f,"f")}currentRun(){return w.__classPrivateFieldGet(this,v,"f")}currentMessageSnapshot(){return w.__classPrivateFieldGet(this,p,"f")}currentRunStepSnapshot(){return w.__classPrivateFieldGet(this,_,"f")}async finalRunSteps(){return await this.done(),Object.values(w.__classPrivateFieldGet(this,c,"f"))}async finalMessages(){return await this.done(),Object.values(w.__classPrivateFieldGet(this,m,"f"))}async finalRun(){if(await this.done(),!w.__classPrivateFieldGet(this,h,"f"))throw Error("Final run was not received.");return w.__classPrivateFieldGet(this,h,"f")}async _createThreadAssistantStream($,Y,P){const q=P?.signal;q&&(q.aborted&&this.controller.abort(),q.addEventListener("abort",()=>this.controller.abort()));const L={...Y,stream:!0},de=await $.createAndRun(L,{...P,signal:this.controller.signal});this._connected();for await(const me of de)w.__classPrivateFieldGet(this,i,"m",O).call(this,me);if(de.controller.signal?.aborted)throw new N.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,i,"m",j).call(this))}async _createAssistantStream($,Y,P,q){const L=q?.signal;L&&(L.aborted&&this.controller.abort(),L.addEventListener("abort",()=>this.controller.abort()));const de={...P,stream:!0},me=await $.create(Y,de,{...q,signal:this.controller.signal});this._connected();for await(const M of me)w.__classPrivateFieldGet(this,i,"m",O).call(this,M);if(me.controller.signal?.aborted)throw new N.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,i,"m",j).call(this))}static accumulateDelta($,Y){for(const[P,q]of Object.entries(Y)){if(!$.hasOwnProperty(P)){$[P]=q;continue}let L=$[P];if(L==null){$[P]=q;continue}if(P==="index"||P==="type"){$[P]=q;continue}if(typeof L=="string"&&typeof q=="string")L+=q;else if(typeof L=="number"&&typeof q=="number")L+=q;else if((0,F.isObj)(L)&&(0,F.isObj)(q))L=this.accumulateDelta(L,q);else if(Array.isArray(L)&&Array.isArray(q)){if(L.every(de=>typeof de=="string"||typeof de=="number")){L.push(...q);continue}for(const de of q){if(!(0,F.isObj)(de))throw new Error(`Expected array delta entry to be an object but got: ${de}`);const me=de.index;if(me==null)throw console.error(de),new Error("Expected array delta entry to have an `index` property");if(typeof me!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${me}`);const M=L[me];M==null?L.push(de):L[me]=this.accumulateDelta(M,de)}continue}else throw Error(`Unhandled record type: ${P}, deltaValue: ${q}, accValue: ${L}`);$[P]=L}return $}_addRun($){return $}async _threadAssistantStream($,Y,P){return await this._createThreadAssistantStream(Y,$,P)}async _runAssistantStream($,Y,P,q){return await this._createAssistantStream(Y,$,P,q)}async _runToolAssistantStream($,Y,P,q){return await this._createToolAssistantStream(Y,$,P,q)}};return ko.AssistantStream=W,s=W,O=function($){if(!this.ended)switch(w.__classPrivateFieldSet(this,f,$,"f"),w.__classPrivateFieldGet(this,i,"m",S).call(this,$),$.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":w.__classPrivateFieldGet(this,i,"m",H).call(this,$);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w.__classPrivateFieldGet(this,i,"m",b).call(this,$);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":w.__classPrivateFieldGet(this,i,"m",C).call(this,$);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},j=function(){if(this.ended)throw new N.OpenAIError("stream has ended, this shouldn't happen");if(!w.__classPrivateFieldGet(this,h,"f"))throw Error("Final run has not been received");return w.__classPrivateFieldGet(this,h,"f")},C=function($){const[Y,P]=w.__classPrivateFieldGet(this,i,"m",E).call(this,$,w.__classPrivateFieldGet(this,p,"f"));w.__classPrivateFieldSet(this,p,Y,"f"),w.__classPrivateFieldGet(this,m,"f")[Y.id]=Y;for(const q of P){const L=Y.content[q.index];L?.type=="text"&&this._emit("textCreated",L.text)}switch($.event){case"thread.message.created":this._emit("messageCreated",$.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",$.data.delta,Y),$.data.delta.content)for(const q of $.data.delta.content){if(q.type=="text"&&q.text){let L=q.text,de=Y.content[q.index];if(de&&de.type=="text")this._emit("textDelta",L,de.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(q.index!=w.__classPrivateFieldGet(this,d,"f")){if(w.__classPrivateFieldGet(this,l,"f"))switch(w.__classPrivateFieldGet(this,l,"f").type){case"text":this._emit("textDone",w.__classPrivateFieldGet(this,l,"f").text,w.__classPrivateFieldGet(this,p,"f"));break;case"image_file":this._emit("imageFileDone",w.__classPrivateFieldGet(this,l,"f").image_file,w.__classPrivateFieldGet(this,p,"f"));break}w.__classPrivateFieldSet(this,d,q.index,"f")}w.__classPrivateFieldSet(this,l,Y.content[q.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(w.__classPrivateFieldGet(this,d,"f")!==void 0){const q=$.data.content[w.__classPrivateFieldGet(this,d,"f")];if(q)switch(q.type){case"image_file":this._emit("imageFileDone",q.image_file,w.__classPrivateFieldGet(this,p,"f"));break;case"text":this._emit("textDone",q.text,w.__classPrivateFieldGet(this,p,"f"));break}}w.__classPrivateFieldGet(this,p,"f")&&this._emit("messageDone",$.data),w.__classPrivateFieldSet(this,p,void 0,"f")}},b=function($){const Y=w.__classPrivateFieldGet(this,i,"m",x).call(this,$);switch(w.__classPrivateFieldSet(this,_,Y,"f"),$.event){case"thread.run.step.created":this._emit("runStepCreated",$.data);break;case"thread.run.step.delta":const P=$.data.delta;if(P.step_details&&P.step_details.type=="tool_calls"&&P.step_details.tool_calls&&Y.step_details.type=="tool_calls")for(const L of P.step_details.tool_calls)L.index==w.__classPrivateFieldGet(this,o,"f")?this._emit("toolCallDelta",L,Y.step_details.tool_calls[L.index]):(w.__classPrivateFieldGet(this,u,"f")&&this._emit("toolCallDone",w.__classPrivateFieldGet(this,u,"f")),w.__classPrivateFieldSet(this,o,L.index,"f"),w.__classPrivateFieldSet(this,u,Y.step_details.tool_calls[L.index],"f"),w.__classPrivateFieldGet(this,u,"f")&&this._emit("toolCallCreated",w.__classPrivateFieldGet(this,u,"f")));this._emit("runStepDelta",$.data.delta,Y);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w.__classPrivateFieldSet(this,_,void 0,"f"),$.data.step_details.type=="tool_calls"&&w.__classPrivateFieldGet(this,u,"f")&&(this._emit("toolCallDone",w.__classPrivateFieldGet(this,u,"f")),w.__classPrivateFieldSet(this,u,void 0,"f")),this._emit("runStepDone",$.data,Y);break}},S=function($){w.__classPrivateFieldGet(this,r,"f").push($),this._emit("event",$)},x=function($){switch($.event){case"thread.run.step.created":return w.__classPrivateFieldGet(this,c,"f")[$.data.id]=$.data,$.data;case"thread.run.step.delta":let Y=w.__classPrivateFieldGet(this,c,"f")[$.data.id];if(!Y)throw Error("Received a RunStepDelta before creation of a snapshot");let P=$.data;if(P.delta){const q=s.accumulateDelta(Y,P.delta);w.__classPrivateFieldGet(this,c,"f")[$.data.id]=q}return w.__classPrivateFieldGet(this,c,"f")[$.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":w.__classPrivateFieldGet(this,c,"f")[$.data.id]=$.data;break}if(w.__classPrivateFieldGet(this,c,"f")[$.data.id])return w.__classPrivateFieldGet(this,c,"f")[$.data.id];throw new Error("No snapshot available")},E=function($,Y){let P=[];switch($.event){case"thread.message.created":return[$.data,P];case"thread.message.delta":if(!Y)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let q=$.data;if(q.delta.content)for(const L of q.delta.content)if(L.index in Y.content){let de=Y.content[L.index];Y.content[L.index]=w.__classPrivateFieldGet(this,i,"m",I).call(this,L,de)}else Y.content[L.index]=L,P.push(L);return[Y,P];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(Y)return[Y,P];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},I=function($,Y){return s.accumulateDelta(Y,$)},H=function($){switch(w.__classPrivateFieldSet(this,v,$.data,"f"),$.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":w.__classPrivateFieldSet(this,h,$.data,"f"),w.__classPrivateFieldGet(this,u,"f")&&(this._emit("toolCallDone",w.__classPrivateFieldGet(this,u,"f")),w.__classPrivateFieldSet(this,u,void 0,"f"));break}},ko}var Ob;function jb(){if(Ob)return Po;Ob=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.Runs=void 0;const i=ze(),s=Ce(),r=i.__importStar(gb()),c=gb(),m=mt(),p=_t(),h=k1(),d=sl(),l=tt();class o extends s.APIResource{constructor(){super(...arguments),this.steps=new r.Steps(this._client)}create(f,v,_){const{include:O,...j}=v;return this._client.post((0,l.path)`/threads/${f}/runs`,{query:{include:O},body:j,..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers]),stream:v.stream??!1})}retrieve(f,v,_){const{thread_id:O}=v;return this._client.get((0,l.path)`/threads/${O}/runs/${f}`,{..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}update(f,v,_){const{thread_id:O,...j}=v;return this._client.post((0,l.path)`/threads/${O}/runs/${f}`,{body:j,..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}list(f,v={},_){return this._client.getAPIList((0,l.path)`/threads/${f}/runs`,m.CursorPage,{query:v,..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}cancel(f,v,_){const{thread_id:O}=v;return this._client.post((0,l.path)`/threads/${O}/runs/${f}/cancel`,{..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}async createAndPoll(f,v,_){const O=await this.create(f,v,_);return await this.poll(O.id,{thread_id:f},_)}createAndStream(f,v,_){return h.AssistantStream.createAssistantStream(f,this._client.beta.threads.runs,v,_)}async poll(f,v,_){const O=(0,p.buildHeaders)([_?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":_?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:j,response:C}=await this.retrieve(f,v,{..._,headers:{..._?.headers,...O}}).withResponse();switch(j.status){case"queued":case"in_progress":case"cancelling":let b=5e3;if(_?.pollIntervalMs)b=_.pollIntervalMs;else{const S=C.headers.get("openai-poll-after-ms");if(S){const x=parseInt(S);isNaN(x)||(b=x)}}await(0,d.sleep)(b);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return j}}}stream(f,v,_){return h.AssistantStream.createAssistantStream(f,this._client.beta.threads.runs,v,_)}submitToolOutputs(f,v,_){const{thread_id:O,...j}=v;return this._client.post((0,l.path)`/threads/${O}/runs/${f}/submit_tool_outputs`,{body:j,..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers]),stream:v.stream??!1})}async submitToolOutputsAndPoll(f,v,_){const O=await this.submitToolOutputs(f,v,_);return await this.poll(O.id,v,_)}submitToolOutputsStream(f,v,_){return h.AssistantStream.createToolAssistantStream(f,this._client.beta.threads.runs,v,_)}}return Po.Runs=o,o.Steps=c.Steps,Po}var Ab;function Sb(){if(Ab)return Ho;Ab=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.Threads=void 0;const i=ze(),s=Ce(),r=i.__importStar(pb()),c=pb(),m=i.__importStar(jb()),p=jb(),h=_t(),d=k1(),l=tt();class o extends s.APIResource{constructor(){super(...arguments),this.runs=new m.Runs(this._client),this.messages=new r.Messages(this._client)}create(f={},v){return this._client.post("/threads",{body:f,...v,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}retrieve(f,v){return this._client.get((0,l.path)`/threads/${f}`,{...v,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}update(f,v,_){return this._client.post((0,l.path)`/threads/${f}`,{body:v,..._,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}delete(f,v){return this._client.delete((0,l.path)`/threads/${f}`,{...v,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}createAndRun(f,v){return this._client.post("/threads/runs",{body:f,...v,headers:(0,h.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers]),stream:f.stream??!1})}async createAndRunPoll(f,v){const _=await this.createAndRun(f,v);return await this.runs.poll(_.id,{thread_id:_.thread_id},v)}createAndRunStream(f,v){return d.AssistantStream.createThreadAssistantStream(f,this._client.beta.threads,v)}}return Ho.Threads=o,o.Runs=p.Runs,o.Messages=c.Messages,Ho}var Cb;function q1(){if(Cb)return So;Cb=1,Object.defineProperty(So,"__esModule",{value:!0}),So.Beta=void 0;const i=ze(),s=Ce(),r=i.__importStar(eb()),c=eb(),m=i.__importStar(ab()),p=ab(),h=i.__importStar(fb()),d=fb(),l=i.__importStar(Sb()),o=Sb();class u extends s.APIResource{constructor(){super(...arguments),this.realtime=new m.Realtime(this._client),this.chatkit=new h.ChatKit(this._client),this.assistants=new r.Assistants(this._client),this.threads=new l.Threads(this._client)}}return So.Beta=u,u.Realtime=p.Realtime,u.ChatKit=d.ChatKit,u.Assistants=c.Assistants,u.Threads=o.Threads,So}var zo={},Rb;function z1(){if(Rb)return zo;Rb=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.Completions=void 0;const i=Ce();class s extends i.APIResource{create(c,m){return this._client.post("/completions",{body:c,...m,stream:c.stream??!1})}}return zo.Completions=s,zo}var $o={},Do={},Uo={},wb;function xb(){if(wb)return Uo;wb=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.Content=void 0;const i=Ce(),s=_t(),r=tt();class c extends i.APIResource{retrieve(p,h,d){const{container_id:l}=h;return this._client.get((0,r.path)`/containers/${l}/files/${p}/content`,{...d,headers:(0,s.buildHeaders)([{Accept:"application/binary"},d?.headers]),__binaryResponse:!0})}}return Uo.Content=c,Uo}var Eb;function Tb(){if(Eb)return Do;Eb=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.Files=void 0;const i=ze(),s=Ce(),r=i.__importStar(xb()),c=xb(),m=mt(),p=_t(),h=fs(),d=tt();class l extends s.APIResource{constructor(){super(...arguments),this.content=new r.Content(this._client)}create(u,f,v){return this._client.post((0,d.path)`/containers/${u}/files`,(0,h.multipartFormRequestOptions)({body:f,...v},this._client))}retrieve(u,f,v){const{container_id:_}=f;return this._client.get((0,d.path)`/containers/${_}/files/${u}`,v)}list(u,f={},v){return this._client.getAPIList((0,d.path)`/containers/${u}/files`,m.CursorPage,{query:f,...v})}delete(u,f,v){const{container_id:_}=f;return this._client.delete((0,d.path)`/containers/${_}/files/${u}`,{...v,headers:(0,p.buildHeaders)([{Accept:"*/*"},v?.headers])})}}return Do.Files=l,l.Content=c.Content,Do}var Ib;function $1(){if(Ib)return $o;Ib=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.Containers=void 0;const i=ze(),s=Ce(),r=i.__importStar(Tb()),c=Tb(),m=mt(),p=_t(),h=tt();class d extends s.APIResource{constructor(){super(...arguments),this.files=new r.Files(this._client)}create(o,u){return this._client.post("/containers",{body:o,...u})}retrieve(o,u){return this._client.get((0,h.path)`/containers/${o}`,u)}list(o={},u){return this._client.getAPIList("/containers",m.CursorPage,{query:o,...u})}delete(o,u){return this._client.delete((0,h.path)`/containers/${o}`,{...u,headers:(0,p.buildHeaders)([{Accept:"*/*"},u?.headers])})}}return $o.Containers=d,d.Files=c.Files,$o}var Bo={},Lo={},Hb;function Mb(){if(Hb)return Lo;Hb=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.Items=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{create(p,h,d){const{include:l,...o}=h;return this._client.post((0,r.path)`/conversations/${p}/items`,{query:{include:l},body:o,...d})}retrieve(p,h,d){const{conversation_id:l,...o}=h;return this._client.get((0,r.path)`/conversations/${l}/items/${p}`,{query:o,...d})}list(p,h={},d){return this._client.getAPIList((0,r.path)`/conversations/${p}/items`,s.ConversationCursorPage,{query:h,...d})}delete(p,h,d){const{conversation_id:l}=h;return this._client.delete((0,r.path)`/conversations/${l}/items/${p}`,d)}}return Lo.Items=c,Lo}var Pb;function D1(){if(Pb)return Bo;Pb=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.Conversations=void 0;const i=ze(),s=Ce(),r=i.__importStar(Mb()),c=Mb(),m=tt();class p extends s.APIResource{constructor(){super(...arguments),this.items=new r.Items(this._client)}create(d={},l){return this._client.post("/conversations",{body:d,...l})}retrieve(d,l){return this._client.get((0,m.path)`/conversations/${d}`,l)}update(d,l,o){return this._client.post((0,m.path)`/conversations/${d}`,{body:l,...o})}delete(d,l){return this._client.delete((0,m.path)`/conversations/${d}`,l)}}return Bo.Conversations=p,p.Items=c.Items,Bo}var Fo={},Nb;function U1(){if(Nb)return Fo;Nb=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.Embeddings=void 0;const i=Ce(),s=Gu();class r extends i.APIResource{create(m,p){const h=!!m.encoding_format;let d=h?m.encoding_format:"base64";h&&(0,s.loggerFor)(this._client).debug("embeddings/user defined encoding_format:",m.encoding_format);const l=this._client.post("/embeddings",{body:{...m,encoding_format:d},...p});return h?l:((0,s.loggerFor)(this._client).debug("embeddings/decoding base64 embeddings from base64"),l._thenUnwrap(o=>(o&&o.data&&o.data.forEach(u=>{const f=u.embedding;u.embedding=(0,s.toFloat32Array)(f)}),o)))}}return Fo.Embeddings=r,Fo}var Go={},Vo={},Ko={},kb;function qb(){if(kb)return Ko;kb=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.OutputItems=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{retrieve(p,h,d){const{eval_id:l,run_id:o}=h;return this._client.get((0,r.path)`/evals/${l}/runs/${o}/output_items/${p}`,d)}list(p,h,d){const{eval_id:l,...o}=h;return this._client.getAPIList((0,r.path)`/evals/${l}/runs/${p}/output_items`,s.CursorPage,{query:o,...d})}}return Ko.OutputItems=c,Ko}var zb;function $b(){if(zb)return Vo;zb=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.Runs=void 0;const i=ze(),s=Ce(),r=i.__importStar(qb()),c=qb(),m=mt(),p=tt();class h extends s.APIResource{constructor(){super(...arguments),this.outputItems=new r.OutputItems(this._client)}create(l,o,u){return this._client.post((0,p.path)`/evals/${l}/runs`,{body:o,...u})}retrieve(l,o,u){const{eval_id:f}=o;return this._client.get((0,p.path)`/evals/${f}/runs/${l}`,u)}list(l,o={},u){return this._client.getAPIList((0,p.path)`/evals/${l}/runs`,m.CursorPage,{query:o,...u})}delete(l,o,u){const{eval_id:f}=o;return this._client.delete((0,p.path)`/evals/${f}/runs/${l}`,u)}cancel(l,o,u){const{eval_id:f}=o;return this._client.post((0,p.path)`/evals/${f}/runs/${l}`,u)}}return Vo.Runs=h,h.OutputItems=c.OutputItems,Vo}var Db;function B1(){if(Db)return Go;Db=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.Evals=void 0;const i=ze(),s=Ce(),r=i.__importStar($b()),c=$b(),m=mt(),p=tt();class h extends s.APIResource{constructor(){super(...arguments),this.runs=new r.Runs(this._client)}create(l,o){return this._client.post("/evals",{body:l,...o})}retrieve(l,o){return this._client.get((0,p.path)`/evals/${l}`,o)}update(l,o,u){return this._client.post((0,p.path)`/evals/${l}`,{body:o,...u})}list(l={},o){return this._client.getAPIList("/evals",m.CursorPage,{query:l,...o})}delete(l,o){return this._client.delete((0,p.path)`/evals/${l}`,o)}}return Go.Evals=h,h.Runs=c.Runs,Go}var Yo={},Ub;function L1(){if(Ub)return Yo;Ub=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.Files=void 0;const i=Ce(),s=mt(),r=_t(),c=sl(),m=Ln(),p=fs(),h=tt();class d extends i.APIResource{create(o,u){return this._client.post("/files",(0,p.multipartFormRequestOptions)({body:o,...u},this._client))}retrieve(o,u){return this._client.get((0,h.path)`/files/${o}`,u)}list(o={},u){return this._client.getAPIList("/files",s.CursorPage,{query:o,...u})}delete(o,u){return this._client.delete((0,h.path)`/files/${o}`,u)}content(o,u){return this._client.get((0,h.path)`/files/${o}/content`,{...u,headers:(0,r.buildHeaders)([{Accept:"application/binary"},u?.headers]),__binaryResponse:!0})}async waitForProcessing(o,{pollInterval:u=5e3,maxWait:f=1800*1e3}={}){const v=new Set(["processed","error","deleted"]),_=Date.now();let O=await this.retrieve(o);for(;!O.status||!v.has(O.status);)if(await(0,c.sleep)(u),O=await this.retrieve(o),Date.now()-_>f)throw new m.APIConnectionTimeoutError({message:`Giving up on waiting for file ${o} to finish processing after ${f} milliseconds.`});return O}}return Yo.Files=d,Yo}var Zo={},Xo={},Bb;function Lb(){if(Bb)return Xo;Bb=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.Methods=void 0;const i=Ce();class s extends i.APIResource{}return Xo.Methods=s,Xo}var Qo={},Jo={},Fb;function Gb(){if(Fb)return Jo;Fb=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.Graders=void 0;const i=Ce();class s extends i.APIResource{run(c,m){return this._client.post("/fine_tuning/alpha/graders/run",{body:c,...m})}validate(c,m){return this._client.post("/fine_tuning/alpha/graders/validate",{body:c,...m})}}return Jo.Graders=s,Jo}var Vb;function Kb(){if(Vb)return Qo;Vb=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.Alpha=void 0;const i=ze(),s=Ce(),r=i.__importStar(Gb()),c=Gb();class m extends s.APIResource{constructor(){super(...arguments),this.graders=new r.Graders(this._client)}}return Qo.Alpha=m,m.Graders=c.Graders,Qo}var Wo={},ec={},Yb;function Zb(){if(Yb)return ec;Yb=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Permissions=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{create(p,h,d){return this._client.getAPIList((0,r.path)`/fine_tuning/checkpoints/${p}/permissions`,s.Page,{body:h,method:"post",...d})}retrieve(p,h={},d){return this._client.get((0,r.path)`/fine_tuning/checkpoints/${p}/permissions`,{query:h,...d})}delete(p,h,d){const{fine_tuned_model_checkpoint:l}=h;return this._client.delete((0,r.path)`/fine_tuning/checkpoints/${l}/permissions/${p}`,d)}}return ec.Permissions=c,ec}var Xb;function Qb(){if(Xb)return Wo;Xb=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.Checkpoints=void 0;const i=ze(),s=Ce(),r=i.__importStar(Zb()),c=Zb();class m extends s.APIResource{constructor(){super(...arguments),this.permissions=new r.Permissions(this._client)}}return Wo.Checkpoints=m,m.Permissions=c.Permissions,Wo}var tc={},nc={},Jb;function Wb(){if(Jb)return nc;Jb=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Checkpoints=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{list(p,h={},d){return this._client.getAPIList((0,r.path)`/fine_tuning/jobs/${p}/checkpoints`,s.CursorPage,{query:h,...d})}}return nc.Checkpoints=c,nc}var e0;function t0(){if(e0)return tc;e0=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.Jobs=void 0;const i=ze(),s=Ce(),r=i.__importStar(Wb()),c=Wb(),m=mt(),p=tt();class h extends s.APIResource{constructor(){super(...arguments),this.checkpoints=new r.Checkpoints(this._client)}create(l,o){return this._client.post("/fine_tuning/jobs",{body:l,...o})}retrieve(l,o){return this._client.get((0,p.path)`/fine_tuning/jobs/${l}`,o)}list(l={},o){return this._client.getAPIList("/fine_tuning/jobs",m.CursorPage,{query:l,...o})}cancel(l,o){return this._client.post((0,p.path)`/fine_tuning/jobs/${l}/cancel`,o)}listEvents(l,o={},u){return this._client.getAPIList((0,p.path)`/fine_tuning/jobs/${l}/events`,m.CursorPage,{query:o,...u})}pause(l,o){return this._client.post((0,p.path)`/fine_tuning/jobs/${l}/pause`,o)}resume(l,o){return this._client.post((0,p.path)`/fine_tuning/jobs/${l}/resume`,o)}}return tc.Jobs=h,h.Checkpoints=c.Checkpoints,tc}var n0;function F1(){if(n0)return Zo;n0=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.FineTuning=void 0;const i=ze(),s=Ce(),r=i.__importStar(Lb()),c=Lb(),m=i.__importStar(Kb()),p=Kb(),h=i.__importStar(Qb()),d=Qb(),l=i.__importStar(t0()),o=t0();class u extends s.APIResource{constructor(){super(...arguments),this.methods=new r.Methods(this._client),this.jobs=new l.Jobs(this._client),this.checkpoints=new h.Checkpoints(this._client),this.alpha=new m.Alpha(this._client)}}return Zo.FineTuning=u,u.Methods=c.Methods,u.Jobs=o.Jobs,u.Checkpoints=d.Checkpoints,u.Alpha=p.Alpha,Zo}var sc={},ic={},s0;function i0(){if(s0)return ic;s0=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.GraderModels=void 0;const i=Ce();class s extends i.APIResource{}return ic.GraderModels=s,ic}var r0;function G1(){if(r0)return sc;r0=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Graders=void 0;const i=ze(),s=Ce(),r=i.__importStar(i0()),c=i0();class m extends s.APIResource{constructor(){super(...arguments),this.graderModels=new r.GraderModels(this._client)}}return sc.Graders=m,m.GraderModels=c.GraderModels,sc}var rc={},a0;function V1(){if(a0)return rc;a0=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.Images=void 0;const i=Ce(),s=fs();class r extends i.APIResource{createVariation(m,p){return this._client.post("/images/variations",(0,s.multipartFormRequestOptions)({body:m,...p},this._client))}edit(m,p){return this._client.post("/images/edits",(0,s.multipartFormRequestOptions)({body:m,...p,stream:m.stream??!1},this._client))}generate(m,p){return this._client.post("/images/generations",{body:m,...p,stream:m.stream??!1})}}return rc.Images=r,rc}var ac={},o0;function K1(){if(o0)return ac;o0=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.Models=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{retrieve(p,h){return this._client.get((0,r.path)`/models/${p}`,h)}list(p){return this._client.getAPIList("/models",s.Page,p)}delete(p,h){return this._client.delete((0,r.path)`/models/${p}`,h)}}return ac.Models=c,ac}var oc={},c0;function Y1(){if(c0)return oc;c0=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.Moderations=void 0;const i=Ce();class s extends i.APIResource{create(c,m){return this._client.post("/moderations",{body:c,...m})}}return oc.Moderations=s,oc}var cc={},lc={},l0;function u0(){if(l0)return lc;l0=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.Calls=void 0;const i=Ce(),s=_t(),r=tt();class c extends i.APIResource{accept(p,h,d){return this._client.post((0,r.path)`/realtime/calls/${p}/accept`,{body:h,...d,headers:(0,s.buildHeaders)([{Accept:"*/*"},d?.headers])})}hangup(p,h){return this._client.post((0,r.path)`/realtime/calls/${p}/hangup`,{...h,headers:(0,s.buildHeaders)([{Accept:"*/*"},h?.headers])})}refer(p,h,d){return this._client.post((0,r.path)`/realtime/calls/${p}/refer`,{body:h,...d,headers:(0,s.buildHeaders)([{Accept:"*/*"},d?.headers])})}reject(p,h={},d){return this._client.post((0,r.path)`/realtime/calls/${p}/reject`,{body:h,...d,headers:(0,s.buildHeaders)([{Accept:"*/*"},d?.headers])})}}return lc.Calls=c,lc}var uc={},d0;function f0(){if(d0)return uc;d0=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.ClientSecrets=void 0;const i=Ce();class s extends i.APIResource{create(c,m){return this._client.post("/realtime/client_secrets",{body:c,...m})}}return uc.ClientSecrets=s,uc}var h0;function Z1(){if(h0)return cc;h0=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.Realtime=void 0;const i=ze(),s=Ce(),r=i.__importStar(u0()),c=u0(),m=i.__importStar(f0()),p=f0();class h extends s.APIResource{constructor(){super(...arguments),this.clientSecrets=new m.ClientSecrets(this._client),this.calls=new r.Calls(this._client)}}return cc.Realtime=h,h.ClientSecrets=p.ClientSecrets,h.Calls=c.Calls,cc}var dc={},Zn={},p0;function X1(){if(p0)return Zn;p0=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.maybeParseResponse=r,Zn.parseResponse=c,Zn.hasAutoParseableInput=p,Zn.makeParseableResponseTool=h,Zn.isAutoParsableTool=d,Zn.shouldParseToolCall=u,Zn.validateInputTools=f,Zn.addOutputText=v;const i=Ln(),s=Fu();function r(_,O){return!O||!p(O)?{..._,output_parsed:null,output:_.output.map(j=>j.type==="function_call"?{...j,parsed_arguments:null}:j.type==="message"?{...j,content:j.content.map(C=>({...C,parsed:null}))}:j)}:c(_,O)}function c(_,O){const j=_.output.map(b=>{if(b.type==="function_call")return{...b,parsed_arguments:o(O,b)};if(b.type==="message"){const S=b.content.map(x=>x.type==="output_text"?{...x,parsed:m(O,x.text)}:x);return{...b,content:S}}return b}),C=Object.assign({},_,{output:j});return Object.getOwnPropertyDescriptor(_,"output_text")||v(C),Object.defineProperty(C,"output_parsed",{enumerable:!0,get(){for(const b of C.output)if(b.type==="message"){for(const S of b.content)if(S.type==="output_text"&&S.parsed!==null)return S.parsed}return null}}),C}function m(_,O){return _.text?.format?.type!=="json_schema"?null:"$parseRaw"in _.text?.format?(_.text?.format).$parseRaw(O):JSON.parse(O)}function p(_){return!!(0,s.isAutoParsableResponseFormat)(_.text?.format)}function h(_,{parser:O,callback:j}){const C={..._};return Object.defineProperties(C,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:O,enumerable:!1},$callback:{value:j,enumerable:!1}}),C}function d(_){return _?.$brand==="auto-parseable-tool"}function l(_,O){return _.find(j=>j.type==="function"&&j.name===O)}function o(_,O){const j=l(_.tools??[],O.name);return{...O,...O,parsed_arguments:d(j)?j.$parseRaw(O.arguments):j?.strict?JSON.parse(O.arguments):null}}function u(_,O){if(!_)return!1;const j=l(_.tools??[],O.name);return d(j)||j?.strict||!1}function f(_){for(const O of _??[]){if(O.type!=="function")throw new i.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${O.type}\``);if(O.function.strict!==!0)throw new i.OpenAIError(`The \`${O.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}function v(_){const O=[];for(const j of _.output)if(j.type==="message")for(const C of j.content)C.type==="output_text"&&O.push(C.text);_.output_text=O.join("")}return Zn}var fc={},m0;function Ex(){if(m0)return fc;m0=1;var i,s,r,c,m,p,h,d;Object.defineProperty(fc,"__esModule",{value:!0}),fc.ResponseStream=void 0;const l=ze(),o=Ln(),u=bp(),f=X1();let v=class Q1 extends u.EventStream{constructor(j){super(),i.add(this),s.set(this,void 0),r.set(this,void 0),c.set(this,void 0),l.__classPrivateFieldSet(this,s,j,"f")}static createResponse(j,C,b){const S=new Q1(C);return S._run(()=>S._createOrRetrieveResponse(j,C,{...b,headers:{...b?.headers,"X-Stainless-Helper-Method":"stream"}})),S}async _createOrRetrieveResponse(j,C,b){const S=b?.signal;S&&(S.aborted&&this.controller.abort(),S.addEventListener("abort",()=>this.controller.abort())),l.__classPrivateFieldGet(this,i,"m",m).call(this);let x,E=null;"response_id"in C?(x=await j.responses.retrieve(C.response_id,{stream:!0},{...b,signal:this.controller.signal,stream:!0}),E=C.starting_after??null):x=await j.responses.create({...C,stream:!0},{...b,signal:this.controller.signal}),this._connected();for await(const I of x)l.__classPrivateFieldGet(this,i,"m",p).call(this,I,E);if(x.controller.signal?.aborted)throw new o.APIUserAbortError;return l.__classPrivateFieldGet(this,i,"m",h).call(this)}[(s=new WeakMap,r=new WeakMap,c=new WeakMap,i=new WeakSet,m=function(){this.ended||l.__classPrivateFieldSet(this,r,void 0,"f")},p=function(C,b){if(this.ended)return;const S=(E,I)=>{(b==null||I.sequence_number>b)&&this._emit(E,I)},x=l.__classPrivateFieldGet(this,i,"m",d).call(this,C);switch(S("event",C),C.type){case"response.output_text.delta":{const E=x.output[C.output_index];if(!E)throw new o.OpenAIError(`missing output at index ${C.output_index}`);if(E.type==="message"){const I=E.content[C.content_index];if(!I)throw new o.OpenAIError(`missing content at index ${C.content_index}`);if(I.type!=="output_text")throw new o.OpenAIError(`expected content to be 'output_text', got ${I.type}`);S("response.output_text.delta",{...C,snapshot:I.text})}break}case"response.function_call_arguments.delta":{const E=x.output[C.output_index];if(!E)throw new o.OpenAIError(`missing output at index ${C.output_index}`);E.type==="function_call"&&S("response.function_call_arguments.delta",{...C,snapshot:E.arguments});break}default:S(C.type,C);break}},h=function(){if(this.ended)throw new o.OpenAIError("stream has ended, this shouldn't happen");const C=l.__classPrivateFieldGet(this,r,"f");if(!C)throw new o.OpenAIError("request ended without sending any events");l.__classPrivateFieldSet(this,r,void 0,"f");const b=_(C,l.__classPrivateFieldGet(this,s,"f"));return l.__classPrivateFieldSet(this,c,b,"f"),b},d=function(C){let b=l.__classPrivateFieldGet(this,r,"f");if(!b){if(C.type!=="response.created")throw new o.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${C.type}`);return b=l.__classPrivateFieldSet(this,r,C.response,"f"),b}switch(C.type){case"response.output_item.added":{b.output.push(C.item);break}case"response.content_part.added":{const S=b.output[C.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${C.output_index}`);const x=S.type,E=C.part;x==="message"&&E.type!=="reasoning_text"?S.content.push(E):x==="reasoning"&&E.type==="reasoning_text"&&(S.content||(S.content=[]),S.content.push(E));break}case"response.output_text.delta":{const S=b.output[C.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${C.output_index}`);if(S.type==="message"){const x=S.content[C.content_index];if(!x)throw new o.OpenAIError(`missing content at index ${C.content_index}`);if(x.type!=="output_text")throw new o.OpenAIError(`expected content to be 'output_text', got ${x.type}`);x.text+=C.delta}break}case"response.function_call_arguments.delta":{const S=b.output[C.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${C.output_index}`);S.type==="function_call"&&(S.arguments+=C.delta);break}case"response.reasoning_text.delta":{const S=b.output[C.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${C.output_index}`);if(S.type==="reasoning"){const x=S.content?.[C.content_index];if(!x)throw new o.OpenAIError(`missing content at index ${C.content_index}`);if(x.type!=="reasoning_text")throw new o.OpenAIError(`expected content to be 'reasoning_text', got ${x.type}`);x.text+=C.delta}break}case"response.completed":{l.__classPrivateFieldSet(this,r,C.response,"f");break}}return b},Symbol.asyncIterator)](){const j=[],C=[];let b=!1;return this.on("event",S=>{const x=C.shift();x?x.resolve(S):j.push(S)}),this.on("end",()=>{b=!0;for(const S of C)S.resolve(void 0);C.length=0}),this.on("abort",S=>{b=!0;for(const x of C)x.reject(S);C.length=0}),this.on("error",S=>{b=!0;for(const x of C)x.reject(S);C.length=0}),{next:async()=>j.length?{value:j.shift(),done:!1}:b?{value:void 0,done:!0}:new Promise((x,E)=>C.push({resolve:x,reject:E})).then(x=>x?{value:x,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const j=l.__classPrivateFieldGet(this,c,"f");if(!j)throw new o.OpenAIError("stream ended without producing a ChatCompletion");return j}};fc.ResponseStream=v;function _(O,j){return(0,f.maybeParseResponse)(O,j)}return fc}var hc={},g0;function v0(){if(g0)return hc;g0=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.InputItems=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{list(p,h={},d){return this._client.getAPIList((0,r.path)`/responses/${p}/input_items`,s.CursorPage,{query:h,...d})}}return hc.InputItems=c,hc}var y0;function J1(){if(y0)return dc;y0=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.Responses=void 0;const i=ze(),s=X1(),r=Ex(),c=Ce(),m=i.__importStar(v0()),p=v0(),h=_t(),d=tt();class l extends c.APIResource{constructor(){super(...arguments),this.inputItems=new m.InputItems(this._client)}create(u,f){return this._client.post("/responses",{body:u,...f,stream:u.stream??!1})._thenUnwrap(v=>("object"in v&&v.object==="response"&&(0,s.addOutputText)(v),v))}retrieve(u,f={},v){return this._client.get((0,d.path)`/responses/${u}`,{query:f,...v,stream:f?.stream??!1})._thenUnwrap(_=>("object"in _&&_.object==="response"&&(0,s.addOutputText)(_),_))}delete(u,f){return this._client.delete((0,d.path)`/responses/${u}`,{...f,headers:(0,h.buildHeaders)([{Accept:"*/*"},f?.headers])})}parse(u,f){return this._client.responses.create(u,f)._thenUnwrap(v=>(0,s.parseResponse)(v,u))}stream(u,f){return r.ResponseStream.createResponse(this._client,u,f)}cancel(u,f){return this._client.post((0,d.path)`/responses/${u}/cancel`,f)}}return dc.Responses=l,l.InputItems=p.InputItems,dc}var pc={},mc={},_0;function b0(){if(_0)return mc;_0=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.Parts=void 0;const i=Ce(),s=fs(),r=tt();class c extends i.APIResource{create(p,h,d){return this._client.post((0,r.path)`/uploads/${p}/parts`,(0,s.multipartFormRequestOptions)({body:h,...d},this._client))}}return mc.Parts=c,mc}var O0;function W1(){if(O0)return pc;O0=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.Uploads=void 0;const i=ze(),s=Ce(),r=i.__importStar(b0()),c=b0(),m=tt();class p extends s.APIResource{constructor(){super(...arguments),this.parts=new r.Parts(this._client)}create(d,l){return this._client.post("/uploads",{body:d,...l})}cancel(d,l){return this._client.post((0,m.path)`/uploads/${d}/cancel`,l)}complete(d,l,o){return this._client.post((0,m.path)`/uploads/${d}/complete`,{body:l,...o})}}return pc.Uploads=p,p.Parts=c.Parts,pc}var gc={},vc={},yc={},j0;function Tx(){if(j0)return yc;j0=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.allSettledWithThrow=void 0;const i=async s=>{const r=await Promise.allSettled(s),c=r.filter(p=>p.status==="rejected");if(c.length){for(const p of c)console.error(p.reason);throw new Error(`${c.length} promise(s) failed - see the above errors`)}const m=[];for(const p of r)p.status==="fulfilled"&&m.push(p.value);return m};return yc.allSettledWithThrow=i,yc}var A0;function S0(){if(A0)return vc;A0=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.FileBatches=void 0;const i=Ce(),s=mt(),r=_t(),c=sl(),m=Tx(),p=tt();class h extends i.APIResource{create(l,o,u){return this._client.post((0,p.path)`/vector_stores/${l}/file_batches`,{body:o,...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}retrieve(l,o,u){const{vector_store_id:f}=o;return this._client.get((0,p.path)`/vector_stores/${f}/file_batches/${l}`,{...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}cancel(l,o,u){const{vector_store_id:f}=o;return this._client.post((0,p.path)`/vector_stores/${f}/file_batches/${l}/cancel`,{...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}async createAndPoll(l,o,u){const f=await this.create(l,o);return await this.poll(l,f.id,u)}listFiles(l,o,u){const{vector_store_id:f,...v}=o;return this._client.getAPIList((0,p.path)`/vector_stores/${f}/file_batches/${l}/files`,s.CursorPage,{query:v,...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}async poll(l,o,u){const f=(0,r.buildHeaders)([u?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":u?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:v,response:_}=await this.retrieve(o,{vector_store_id:l},{...u,headers:f}).withResponse();switch(v.status){case"in_progress":let O=5e3;if(u?.pollIntervalMs)O=u.pollIntervalMs;else{const j=_.headers.get("openai-poll-after-ms");if(j){const C=parseInt(j);isNaN(C)||(O=C)}}await(0,c.sleep)(O);break;case"failed":case"cancelled":case"completed":return v}}}async uploadAndPoll(l,{files:o,fileIds:u=[]},f){if(o==null||o.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const v=f?.maxConcurrency??5,_=Math.min(v,o.length),O=this._client,j=o.values(),C=[...u];async function b(x){for(let E of x){const I=await O.files.create({file:E,purpose:"assistants"},f);C.push(I.id)}}const S=Array(_).fill(j).map(b);return await(0,m.allSettledWithThrow)(S),await this.createAndPoll(l,{file_ids:C})}}return vc.FileBatches=h,vc}var _c={},C0;function R0(){if(C0)return _c;C0=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.Files=void 0;const i=Ce(),s=mt(),r=_t(),c=Gu(),m=tt();class p extends i.APIResource{create(d,l,o){return this._client.post((0,m.path)`/vector_stores/${d}/files`,{body:l,...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(d,l,o){const{vector_store_id:u}=l;return this._client.get((0,m.path)`/vector_stores/${u}/files/${d}`,{...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(d,l,o){const{vector_store_id:u,...f}=l;return this._client.post((0,m.path)`/vector_stores/${u}/files/${d}`,{body:f,...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(d,l={},o){return this._client.getAPIList((0,m.path)`/vector_stores/${d}/files`,s.CursorPage,{query:l,...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(d,l,o){const{vector_store_id:u}=l;return this._client.delete((0,m.path)`/vector_stores/${u}/files/${d}`,{...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(d,l,o){const u=await this.create(d,l,o);return await this.poll(d,u.id,o)}async poll(d,l,o){const u=(0,r.buildHeaders)([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const f=await this.retrieve(l,{vector_store_id:d},{...o,headers:u}).withResponse(),v=f.data;switch(v.status){case"in_progress":let _=5e3;if(o?.pollIntervalMs)_=o.pollIntervalMs;else{const O=f.response.headers.get("openai-poll-after-ms");if(O){const j=parseInt(O);isNaN(j)||(_=j)}}await(0,c.sleep)(_);break;case"failed":case"completed":return v}}}async upload(d,l,o){const u=await this._client.files.create({file:l,purpose:"assistants"},o);return this.create(d,{file_id:u.id},o)}async uploadAndPoll(d,l,o){const u=await this.upload(d,l,o);return await this.poll(d,u.id,o)}content(d,l,o){const{vector_store_id:u}=l;return this._client.getAPIList((0,m.path)`/vector_stores/${u}/files/${d}/content`,s.Page,{...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}return _c.Files=p,_c}var w0;function ej(){if(w0)return gc;w0=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.VectorStores=void 0;const i=ze(),s=Ce(),r=i.__importStar(S0()),c=S0(),m=i.__importStar(R0()),p=R0(),h=mt(),d=_t(),l=tt();class o extends s.APIResource{constructor(){super(...arguments),this.files=new m.Files(this._client),this.fileBatches=new r.FileBatches(this._client)}create(f,v){return this._client.post("/vector_stores",{body:f,...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}retrieve(f,v){return this._client.get((0,l.path)`/vector_stores/${f}`,{...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}update(f,v,_){return this._client.post((0,l.path)`/vector_stores/${f}`,{body:v,..._,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}list(f={},v){return this._client.getAPIList("/vector_stores",h.CursorPage,{query:f,...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}delete(f,v){return this._client.delete((0,l.path)`/vector_stores/${f}`,{...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}search(f,v,_){return this._client.getAPIList((0,l.path)`/vector_stores/${f}/search`,h.Page,{body:v,method:"post",..._,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}}return gc.VectorStores=o,o.Files=p.Files,o.FileBatches=c.FileBatches,gc}var bc={},x0;function tj(){if(x0)return bc;x0=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.Videos=void 0;const i=Ce(),s=mt(),r=_t(),c=fs(),m=tt();class p extends i.APIResource{create(d,l){return this._client.post("/videos",(0,c.maybeMultipartFormRequestOptions)({body:d,...l},this._client))}retrieve(d,l){return this._client.get((0,m.path)`/videos/${d}`,l)}list(d={},l){return this._client.getAPIList("/videos",s.ConversationCursorPage,{query:d,...l})}delete(d,l){return this._client.delete((0,m.path)`/videos/${d}`,l)}downloadContent(d,l={},o){return this._client.get((0,m.path)`/videos/${d}/content`,{query:l,...o,headers:(0,r.buildHeaders)([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}remix(d,l,o){return this._client.post((0,m.path)`/videos/${d}/remix`,(0,c.maybeMultipartFormRequestOptions)({body:l,...o},this._client))}}return bc.Videos=p,bc}var Oc={},E0;function nj(){if(E0)return Oc;E0=1;var i,s,r;Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.Webhooks=void 0;const c=ze(),m=Ln(),p=Ce(),h=_t();class d extends p.APIResource{constructor(){super(...arguments),i.add(this)}async unwrap(o,u,f=this._client.webhookSecret,v=300){return await this.verifySignature(o,u,f,v),JSON.parse(o)}async verifySignature(o,u,f=this._client.webhookSecret,v=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");c.__classPrivateFieldGet(this,i,"m",s).call(this,f);const _=(0,h.buildHeaders)([u]).values,O=c.__classPrivateFieldGet(this,i,"m",r).call(this,_,"webhook-signature"),j=c.__classPrivateFieldGet(this,i,"m",r).call(this,_,"webhook-timestamp"),C=c.__classPrivateFieldGet(this,i,"m",r).call(this,_,"webhook-id"),b=parseInt(j,10);if(isNaN(b))throw new m.InvalidWebhookSignatureError("Invalid webhook timestamp format");const S=Math.floor(Date.now()/1e3);if(S-b>v)throw new m.InvalidWebhookSignatureError("Webhook timestamp is too old");if(b>S+v)throw new m.InvalidWebhookSignatureError("Webhook timestamp is too new");const x=O.split(" ").map(w=>w.startsWith("v1,")?w.substring(3):w),E=f.startsWith("whsec_")?Buffer.from(f.replace("whsec_",""),"base64"):Buffer.from(f,"utf-8"),I=C?`${C}.${j}.${o}`:`${j}.${o}`,H=await crypto.subtle.importKey("raw",E,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const w of x)try{const k=Buffer.from(w,"base64");if(await crypto.subtle.verify("HMAC",H,k,new TextEncoder().encode(I)))return}catch{continue}throw new m.InvalidWebhookSignatureError("The given webhook signature does not match the expected signature")}}return Oc.Webhooks=d,i=new WeakSet,s=function(o){if(typeof o!="string"||o.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},r=function(o,u){if(!o)throw new Error("Headers are required");const f=o.get(u);if(f==null)throw new Error(`Missing required header: ${u}`);return f},Oc}var T0;function Ix(){return T0||(T0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Webhooks=i.Videos=i.VectorStores=i.Uploads=i.Responses=i.Realtime=i.Moderations=i.Models=i.Images=i.Graders=i.FineTuning=i.Files=i.Evals=i.Embeddings=i.Conversations=i.Containers=i.Completions=i.Beta=i.Batches=i.Audio=void 0;const s=ze();s.__exportStar(Rx(),i),s.__exportStar(wx(),i);var r=M1();Object.defineProperty(i,"Audio",{enumerable:!0,get:function(){return r.Audio}});var c=P1();Object.defineProperty(i,"Batches",{enumerable:!0,get:function(){return c.Batches}});var m=q1();Object.defineProperty(i,"Beta",{enumerable:!0,get:function(){return m.Beta}});var p=z1();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return p.Completions}});var h=$1();Object.defineProperty(i,"Containers",{enumerable:!0,get:function(){return h.Containers}});var d=D1();Object.defineProperty(i,"Conversations",{enumerable:!0,get:function(){return d.Conversations}});var l=U1();Object.defineProperty(i,"Embeddings",{enumerable:!0,get:function(){return l.Embeddings}});var o=B1();Object.defineProperty(i,"Evals",{enumerable:!0,get:function(){return o.Evals}});var u=L1();Object.defineProperty(i,"Files",{enumerable:!0,get:function(){return u.Files}});var f=F1();Object.defineProperty(i,"FineTuning",{enumerable:!0,get:function(){return f.FineTuning}});var v=G1();Object.defineProperty(i,"Graders",{enumerable:!0,get:function(){return v.Graders}});var _=V1();Object.defineProperty(i,"Images",{enumerable:!0,get:function(){return _.Images}});var O=K1();Object.defineProperty(i,"Models",{enumerable:!0,get:function(){return O.Models}});var j=Y1();Object.defineProperty(i,"Moderations",{enumerable:!0,get:function(){return j.Moderations}});var C=Z1();Object.defineProperty(i,"Realtime",{enumerable:!0,get:function(){return C.Realtime}});var b=J1();Object.defineProperty(i,"Responses",{enumerable:!0,get:function(){return b.Responses}});var S=W1();Object.defineProperty(i,"Uploads",{enumerable:!0,get:function(){return S.Uploads}});var x=ej();Object.defineProperty(i,"VectorStores",{enumerable:!0,get:function(){return x.VectorStores}});var E=tj();Object.defineProperty(i,"Videos",{enumerable:!0,get:function(){return E.Videos}});var I=nj();Object.defineProperty(i,"Webhooks",{enumerable:!0,get:function(){return I.Webhooks}})})(Sh)),Sh}var I0;function np(){if(I0)return io;I0=1;var i,s,r,c;Object.defineProperty(io,"__esModule",{value:!0}),io.OpenAI=void 0;const m=ze(),p=j1(),h=Ri(),d=sl(),l=gp(),o=Qh(),u=m.__importStar(qu()),f=m.__importStar(yx()),v=m.__importStar(Ox()),_=A1(),O=m.__importStar(Ys()),j=m.__importStar(mt()),C=m.__importStar(R1()),b=m.__importStar(Ix()),S=_p(),x=P1(),E=z1(),I=U1(),H=L1(),w=V1(),k=K1(),N=Y1(),B=tj(),F=nj(),W=M1(),K=q1(),$=H1(),Y=$1(),P=D1(),q=B1(),L=F1(),de=G1(),me=Z1(),M=J1(),Z=W1(),X=ej(),ie=Qh(),ee=_t(),fe=N1(),ge=Lu(),ae=Ri();class oe{constructor({baseURL:ne=(0,fe.readEnv)("OPENAI_BASE_URL"),apiKey:pe=(0,fe.readEnv)("OPENAI_API_KEY"),organization:ve=(0,fe.readEnv)("OPENAI_ORG_ID")??null,project:Te=(0,fe.readEnv)("OPENAI_PROJECT_ID")??null,webhookSecret:Le=(0,fe.readEnv)("OPENAI_WEBHOOK_SECRET")??null,...nt}={}){if(i.add(this),r.set(this,void 0),this.completions=new b.Completions(this),this.chat=new b.Chat(this),this.embeddings=new b.Embeddings(this),this.files=new b.Files(this),this.images=new b.Images(this),this.audio=new b.Audio(this),this.moderations=new b.Moderations(this),this.models=new b.Models(this),this.fineTuning=new b.FineTuning(this),this.graders=new b.Graders(this),this.vectorStores=new b.VectorStores(this),this.webhooks=new b.Webhooks(this),this.beta=new b.Beta(this),this.batches=new b.Batches(this),this.uploads=new b.Uploads(this),this.responses=new b.Responses(this),this.realtime=new b.Realtime(this),this.conversations=new b.Conversations(this),this.evals=new b.Evals(this),this.containers=new b.Containers(this),this.videos=new b.Videos(this),pe===void 0)throw new O.OpenAIError("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const Be={apiKey:pe,organization:ve,project:Te,webhookSecret:Le,...nt,baseURL:ne||"https://api.openai.com/v1"};if(!Be.dangerouslyAllowBrowser&&(0,ie.isRunningInBrowser)())throw new O.OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=Be.baseURL,this.timeout=Be.timeout??s.DEFAULT_TIMEOUT,this.logger=Be.logger??console;const bt="warn";this.logLevel=bt,this.logLevel=(0,ge.parseLogLevel)(Be.logLevel,"ClientOptions.logLevel",this)??(0,ge.parseLogLevel)((0,fe.readEnv)("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??bt,this.fetchOptions=Be.fetchOptions,this.maxRetries=Be.maxRetries??2,this.fetch=Be.fetch??u.getDefaultFetch(),m.__classPrivateFieldSet(this,r,f.FallbackEncoder,"f"),this._options=Be,this.apiKey=typeof pe=="string"?pe:"Missing Key",this.organization=ve,this.project=Te,this.webhookSecret=Le}withOptions(ne){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...ne})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:ne,nulls:pe}){}async authHeaders(ne){return(0,ee.buildHeaders)([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(ne){return v.stringify(ne,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${_.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,p.uuid4)()}`}makeStatusError(ne,pe,ve,Te){return O.APIError.generate(ne,pe,ve,Te)}async _callApiKey(){const ne=this._options.apiKey;if(typeof ne!="function")return!1;let pe;try{pe=await ne()}catch(ve){throw ve instanceof O.OpenAIError?ve:new O.OpenAIError(`Failed to get token from 'apiKey' function: ${ve.message}`,{cause:ve})}if(typeof pe!="string"||!pe)throw new O.OpenAIError(`Expected 'apiKey' function argument to return a string but it returned ${pe}`);return this.apiKey=pe,!0}buildURL(ne,pe,ve){const Te=!m.__classPrivateFieldGet(this,i,"m",c).call(this)&&ve||this.baseURL,Le=(0,h.isAbsoluteURL)(ne)?new URL(ne):new URL(Te+(Te.endsWith("/")&&ne.startsWith("/")?ne.slice(1):ne)),nt=this.defaultQuery();return(0,ae.isEmptyObj)(nt)||(pe={...nt,...pe}),typeof pe=="object"&&pe&&!Array.isArray(pe)&&(Le.search=this.stringifyQuery(pe)),Le.toString()}async prepareOptions(ne){await this._callApiKey()}async prepareRequest(ne,{url:pe,options:ve}){}get(ne,pe){return this.methodRequest("get",ne,pe)}post(ne,pe){return this.methodRequest("post",ne,pe)}patch(ne,pe){return this.methodRequest("patch",ne,pe)}put(ne,pe){return this.methodRequest("put",ne,pe)}delete(ne,pe){return this.methodRequest("delete",ne,pe)}methodRequest(ne,pe,ve){return this.request(Promise.resolve(ve).then(Te=>({method:ne,path:pe,...Te})))}request(ne,pe=null){return new S.APIPromise(this,this.makeRequest(ne,pe,void 0))}async makeRequest(ne,pe,ve){const Te=await ne,Le=Te.maxRetries??this.maxRetries;pe==null&&(pe=Le),await this.prepareOptions(Te);const{req:nt,url:Be,timeout:bt}=await this.buildRequest(Te,{retryCount:Le-pe});await this.prepareRequest(nt,{url:Be,options:Te});const it="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),jt=ve===void 0?"":`, retryOf: ${ve}`,Ot=Date.now();if((0,ge.loggerFor)(this).debug(`[${it}] sending request`,(0,ge.formatRequestDetails)({retryOfRequestLogID:ve,method:Te.method,url:Be,options:Te,headers:nt.headers})),Te.signal?.aborted)throw new O.APIUserAbortError;const Fn=new AbortController,rt=await this.fetchWithTimeout(Be,nt,bt,Fn).catch(l.castToError),Mt=Date.now();if(rt instanceof globalThis.Error){const wn=`retrying, ${pe} attempts remaining`;if(Te.signal?.aborted)throw new O.APIUserAbortError;const Zt=(0,l.isAbortError)(rt)||/timed? ?out/i.test(String(rt)+("cause"in rt?String(rt.cause):""));if(pe)return(0,ge.loggerFor)(this).info(`[${it}] connection ${Zt?"timed out":"failed"} - ${wn}`),(0,ge.loggerFor)(this).debug(`[${it}] connection ${Zt?"timed out":"failed"} (${wn})`,(0,ge.formatRequestDetails)({retryOfRequestLogID:ve,url:Be,durationMs:Mt-Ot,message:rt.message})),this.retryRequest(Te,pe,ve??it);throw(0,ge.loggerFor)(this).info(`[${it}] connection ${Zt?"timed out":"failed"} - error; no more retries left`),(0,ge.loggerFor)(this).debug(`[${it}] connection ${Zt?"timed out":"failed"} (error; no more retries left)`,(0,ge.formatRequestDetails)({retryOfRequestLogID:ve,url:Be,durationMs:Mt-Ot,message:rt.message})),Zt?new O.APIConnectionTimeoutError:new O.APIConnectionError({cause:rt})}const Yu=[...rt.headers.entries()].filter(([wn])=>wn==="x-request-id").map(([wn,Zt])=>", "+wn+": "+JSON.stringify(Zt)).join(""),cr=`[${it}${jt}${Yu}] ${nt.method} ${Be} ${rt.ok?"succeeded":"failed"} with status ${rt.status} in ${Mt-Ot}ms`;if(!rt.ok){const wn=await this.shouldRetry(rt);if(pe&&wn){const rs=`retrying, ${pe} attempts remaining`;return await u.CancelReadableStream(rt.body),(0,ge.loggerFor)(this).info(`${cr} - ${rs}`),(0,ge.loggerFor)(this).debug(`[${it}] response error (${rs})`,(0,ge.formatRequestDetails)({retryOfRequestLogID:ve,url:rt.url,status:rt.status,headers:rt.headers,durationMs:Mt-Ot})),this.retryRequest(Te,pe,ve??it,rt.headers)}const Zt=wn?"error; no more retries left":"error; not retryable";(0,ge.loggerFor)(this).info(`${cr} - ${Zt}`);const il=await rt.text().catch(rs=>(0,l.castToError)(rs).message),la=(0,h.safeJSON)(il),rl=la?void 0:il;throw(0,ge.loggerFor)(this).debug(`[${it}] response error (${Zt})`,(0,ge.formatRequestDetails)({retryOfRequestLogID:ve,url:rt.url,status:rt.status,headers:rt.headers,message:rl,durationMs:Date.now()-Ot})),this.makeStatusError(rt.status,la,rl,rt.headers)}return(0,ge.loggerFor)(this).info(cr),(0,ge.loggerFor)(this).debug(`[${it}] response start`,(0,ge.formatRequestDetails)({retryOfRequestLogID:ve,url:rt.url,status:rt.status,headers:rt.headers,durationMs:Mt-Ot})),{response:rt,options:Te,controller:Fn,requestLogID:it,retryOfRequestLogID:ve,startTime:Ot}}getAPIList(ne,pe,ve){return this.requestAPIList(pe,{method:"get",path:ne,...ve})}requestAPIList(ne,pe){const ve=this.makeRequest(pe,null,void 0);return new j.PagePromise(this,ve,ne)}async fetchWithTimeout(ne,pe,ve,Te){const{signal:Le,method:nt,...Be}=pe||{};Le&&Le.addEventListener("abort",()=>Te.abort());const bt=setTimeout(()=>Te.abort(),ve),it=globalThis.ReadableStream&&Be.body instanceof globalThis.ReadableStream||typeof Be.body=="object"&&Be.body!==null&&Symbol.asyncIterator in Be.body,jt={signal:Te.signal,...it?{duplex:"half"}:{},method:"GET",...Be};nt&&(jt.method=nt.toUpperCase());try{return await this.fetch.call(void 0,ne,jt)}finally{clearTimeout(bt)}}async shouldRetry(ne){const pe=ne.headers.get("x-should-retry");return pe==="true"?!0:pe==="false"?!1:ne.status===408||ne.status===409||ne.status===429||ne.status>=500}async retryRequest(ne,pe,ve,Te){let Le;const nt=Te?.get("retry-after-ms");if(nt){const bt=parseFloat(nt);Number.isNaN(bt)||(Le=bt)}const Be=Te?.get("retry-after");if(Be&&!Le){const bt=parseFloat(Be);Number.isNaN(bt)?Le=Date.parse(Be)-Date.now():Le=bt*1e3}if(!(Le&&0<=Le&&Le<60*1e3)){const bt=ne.maxRetries??this.maxRetries;Le=this.calculateDefaultRetryTimeoutMillis(pe,bt)}return await(0,d.sleep)(Le),this.makeRequest(ne,pe-1,ve)}calculateDefaultRetryTimeoutMillis(ne,pe){const Le=pe-ne,nt=Math.min(.5*Math.pow(2,Le),8),Be=1-Math.random()*.25;return nt*Be*1e3}async buildRequest(ne,{retryCount:pe=0}={}){const ve={...ne},{method:Te,path:Le,query:nt,defaultBaseURL:Be}=ve,bt=this.buildURL(Le,nt,Be);"timeout"in ve&&(0,h.validatePositiveInteger)("timeout",ve.timeout),ve.timeout=ve.timeout??this.timeout;const{bodyHeaders:it,body:jt}=this.buildBody({options:ve}),Ot=await this.buildHeaders({options:ne,method:Te,bodyHeaders:it,retryCount:pe});return{req:{method:Te,headers:Ot,...ve.signal&&{signal:ve.signal},...globalThis.ReadableStream&&jt instanceof globalThis.ReadableStream&&{duplex:"half"},...jt&&{body:jt},...this.fetchOptions??{},...ve.fetchOptions??{}},url:bt,timeout:ve.timeout}}async buildHeaders({options:ne,method:pe,bodyHeaders:ve,retryCount:Te}){let Le={};this.idempotencyHeader&&pe!=="get"&&(ne.idempotencyKey||(ne.idempotencyKey=this.defaultIdempotencyKey()),Le[this.idempotencyHeader]=ne.idempotencyKey);const nt=(0,ee.buildHeaders)([Le,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(Te),...ne.timeout?{"X-Stainless-Timeout":String(Math.trunc(ne.timeout/1e3))}:{},...(0,o.getPlatformHeaders)(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(ne),this._options.defaultHeaders,ve,ne.headers]);return this.validateHeaders(nt),nt.values}buildBody({options:{body:ne,headers:pe}}){if(!ne)return{bodyHeaders:void 0,body:void 0};const ve=(0,ee.buildHeaders)([pe]);return ArrayBuffer.isView(ne)||ne instanceof ArrayBuffer||ne instanceof DataView||typeof ne=="string"&&ve.values.has("content-type")||globalThis.Blob&&ne instanceof globalThis.Blob||ne instanceof FormData||ne instanceof URLSearchParams||globalThis.ReadableStream&&ne instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:ne}:typeof ne=="object"&&(Symbol.asyncIterator in ne||Symbol.iterator in ne&&"next"in ne&&typeof ne.next=="function")?{bodyHeaders:void 0,body:u.ReadableStreamFrom(ne)}:m.__classPrivateFieldGet(this,r,"f").call(this,{body:ne,headers:ve})}}return io.OpenAI=oe,s=oe,r=new WeakMap,i=new WeakSet,c=function(){return this.baseURL!=="https://api.openai.com/v1"},oe.OpenAI=s,oe.DEFAULT_TIMEOUT=6e5,oe.OpenAIError=O.OpenAIError,oe.APIError=O.APIError,oe.APIConnectionError=O.APIConnectionError,oe.APIConnectionTimeoutError=O.APIConnectionTimeoutError,oe.APIUserAbortError=O.APIUserAbortError,oe.NotFoundError=O.NotFoundError,oe.ConflictError=O.ConflictError,oe.RateLimitError=O.RateLimitError,oe.BadRequestError=O.BadRequestError,oe.AuthenticationError=O.AuthenticationError,oe.InternalServerError=O.InternalServerError,oe.PermissionDeniedError=O.PermissionDeniedError,oe.UnprocessableEntityError=O.UnprocessableEntityError,oe.InvalidWebhookSignatureError=O.InvalidWebhookSignatureError,oe.toFile=C.toFile,oe.Completions=E.Completions,oe.Chat=$.Chat,oe.Embeddings=I.Embeddings,oe.Files=H.Files,oe.Images=w.Images,oe.Audio=W.Audio,oe.Moderations=N.Moderations,oe.Models=k.Models,oe.FineTuning=L.FineTuning,oe.Graders=de.Graders,oe.VectorStores=X.VectorStores,oe.Webhooks=F.Webhooks,oe.Beta=K.Beta,oe.Batches=x.Batches,oe.Uploads=Z.Uploads,oe.Responses=M.Responses,oe.Realtime=me.Realtime,oe.Conversations=P.Conversations,oe.Evals=q.Evals,oe.Containers=Y.Containers,oe.Videos=B.Videos,io}var jc={},H0;function Hx(){if(H0)return jc;H0=1;var i={};Object.defineProperty(jc,"__esModule",{value:!0}),jc.AzureOpenAI=void 0;const s=ze(),r=_t(),c=s.__importStar(Ln()),m=Gu(),p=np();class h extends p.OpenAI{constructor({baseURL:o=(0,m.readEnv)("OPENAI_BASE_URL"),apiKey:u=(0,m.readEnv)("AZURE_OPENAI_API_KEY"),apiVersion:f=(0,m.readEnv)("OPENAI_API_VERSION"),endpoint:v,deployment:_,azureADTokenProvider:O,dangerouslyAllowBrowser:j,...C}={}){if(!f)throw new c.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if(typeof O=="function"&&(j=!0),!O&&!u)throw new c.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(O&&u)throw new c.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(C.defaultQuery={...C.defaultQuery,"api-version":f},o){if(v)throw new c.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(v||(v=i.AZURE_OPENAI_ENDPOINT),!v)throw new c.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");o=`${v}/openai`}super({apiKey:O??u,baseURL:o,...C,...j!==void 0?{dangerouslyAllowBrowser:j}:{}}),this.apiVersion="",this.apiVersion=f,this.deploymentName=_}async buildRequest(o,u={}){if(d.has(o.path)&&o.method==="post"&&o.body!==void 0){if(!(0,m.isObj)(o.body))throw new Error("Expected request body to be an object");const f=this.deploymentName||o.body.model||o.__metadata?.model;f!==void 0&&!this.baseURL.includes("/deployments")&&(o.path=`/deployments/${f}${o.path}`)}return super.buildRequest(o,u)}async authHeaders(o){return typeof this._options.apiKey=="string"?(0,r.buildHeaders)([{"api-key":this.apiKey}]):super.authHeaders(o)}}jc.AzureOpenAI=h;const d=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"]);return jc}var M0;function Vu(){return M0||(M0=1,(function(i,s){s=i.exports=function(...o){return new s.default(...o)},Object.defineProperty(s,"__esModule",{value:!0}),s.AzureOpenAI=s.InvalidWebhookSignatureError=s.UnprocessableEntityError=s.PermissionDeniedError=s.InternalServerError=s.AuthenticationError=s.BadRequestError=s.RateLimitError=s.ConflictError=s.NotFoundError=s.APIUserAbortError=s.APIConnectionTimeoutError=s.APIConnectionError=s.APIError=s.OpenAIError=s.PagePromise=s.OpenAI=s.APIPromise=s.toFile=s.default=void 0;var r=np();Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.OpenAI}});var c=R1();Object.defineProperty(s,"toFile",{enumerable:!0,get:function(){return c.toFile}});var m=_p();Object.defineProperty(s,"APIPromise",{enumerable:!0,get:function(){return m.APIPromise}});var p=np();Object.defineProperty(s,"OpenAI",{enumerable:!0,get:function(){return p.OpenAI}});var h=mt();Object.defineProperty(s,"PagePromise",{enumerable:!0,get:function(){return h.PagePromise}});var d=Ys();Object.defineProperty(s,"OpenAIError",{enumerable:!0,get:function(){return d.OpenAIError}}),Object.defineProperty(s,"APIError",{enumerable:!0,get:function(){return d.APIError}}),Object.defineProperty(s,"APIConnectionError",{enumerable:!0,get:function(){return d.APIConnectionError}}),Object.defineProperty(s,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return d.APIConnectionTimeoutError}}),Object.defineProperty(s,"APIUserAbortError",{enumerable:!0,get:function(){return d.APIUserAbortError}}),Object.defineProperty(s,"NotFoundError",{enumerable:!0,get:function(){return d.NotFoundError}}),Object.defineProperty(s,"ConflictError",{enumerable:!0,get:function(){return d.ConflictError}}),Object.defineProperty(s,"RateLimitError",{enumerable:!0,get:function(){return d.RateLimitError}}),Object.defineProperty(s,"BadRequestError",{enumerable:!0,get:function(){return d.BadRequestError}}),Object.defineProperty(s,"AuthenticationError",{enumerable:!0,get:function(){return d.AuthenticationError}}),Object.defineProperty(s,"InternalServerError",{enumerable:!0,get:function(){return d.InternalServerError}}),Object.defineProperty(s,"PermissionDeniedError",{enumerable:!0,get:function(){return d.PermissionDeniedError}}),Object.defineProperty(s,"UnprocessableEntityError",{enumerable:!0,get:function(){return d.UnprocessableEntityError}}),Object.defineProperty(s,"InvalidWebhookSignatureError",{enumerable:!0,get:function(){return d.InvalidWebhookSignatureError}});var l=Hx();Object.defineProperty(s,"AzureOpenAI",{enumerable:!0,get:function(){return l.AzureOpenAI}})})(ju,ju.exports)),ju.exports}var ks={};const Mx={},Px=Object.freeze(Object.defineProperty({__proto__:null,default:Mx},Symbol.toStringTag,{value:"Module"})),P0=jS(Px);var N0;function Ku(){if(N0)return ks;N0=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.isFsModuleAvailable=ks.isRunningInBrowser=ks.getBrowserInfo=void 0;function i(){if(typeof navigator>"u"||!navigator)return null;const c=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:m,pattern:p}of c){const h=p.exec(navigator.userAgent);if(h){const d=h[1]||0,l=h[2]||0,o=h[3]||0;return{browser:m,version:`${d}.${l}.${o}`}}}return null}ks.getBrowserInfo=i;const s=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";ks.isRunningInBrowser=s;const r=()=>{try{return!0}catch{return!1}};return ks.isFsModuleAvailable=r,ks}var k0;function Pe(){return k0||(k0=1,(function(i){var s={},r=Gi&&Gi.__awaiter||function(H,w,k,N){function B(F){return F instanceof k?F:new k(function(W){W(F)})}return new(k||(k=Promise))(function(F,W){function K(P){try{Y(N.next(P))}catch(q){W(q)}}function $(P){try{Y(N.throw(P))}catch(q){W(q)}}function Y(P){P.done?F(P.value):B(P.value).then(K,$)}Y((N=N.apply(H,w||[])).next())})},c=Gi&&Gi.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(i,"__esModule",{value:!0}),i.setApiKey=i.setBaseURL=i.toQueryParams=i.initOpenAIClient=i.defaultHeadersBuilder=i.portkeyHeaders=i.finalResponse=i.parseBody=i.overrideConfig=i.getPortkeyHeader=i.isEmpty=i.castToError=i.readEnv=i.getPlatformProperties=void 0;const m=nn(),p=O1(),h=c(Vu()),d=Ku(),l=()=>{if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{[`${m.PORTKEY_HEADER_PREFIX}runtime`]:"node",[`${m.PORTKEY_HEADER_PREFIX}runtime-version`]:process.version};const H=(0,d.getBrowserInfo)();return H?{[`${m.PORTKEY_HEADER_PREFIX}runtime`]:`browser: ${H.browser}`,[`${m.PORTKEY_HEADER_PREFIX}runtime-version`]:H.version}:{}};i.getPlatformProperties=l;const o=H=>{var w,k;if(typeof process<"u")return(k=(w=s)===null||w===void 0?void 0:w[H])!==null&&k!==void 0?k:void 0};i.readEnv=o;const u=H=>H instanceof Error?H:new Error(H);i.castToError=u;const f=H=>!!(H==null||typeof H=="string"&&H.trim().length===0||Array.isArray(H)&&H.length===0||typeof H=="object"&&Object.keys(H).length===0);i.isEmpty=f;const v=H=>`${m.PORTKEY_HEADER_PREFIX}${H}`;i.getPortkeyHeader=v;const _=(H,w)=>(0,i.isEmpty)(w)?H:w;i.overrideConfig=_;const O=H=>{if((0,i.isEmpty)(H))return{};const w={};for(let k in H){const N=H[k];k=k.replace("ID","Id").replace(/[A-Z]/g,B=>`_${B.toLowerCase()}`),w[k]=N}return w};i.parseBody=O;function j(H){var w;const k=C(H.response.headers);return Object.assign(Object.assign({},((w=H.data)===null||w===void 0?void 0:w.body)||H.data),{getHeaders:()=>k})}i.finalResponse=j;function C(H){const w=(0,p.createResponseHeaders)(H),k=m.PORTKEY_HEADER_PREFIX,N=Object.entries(w).filter(([B,F])=>B.startsWith(k)).map(([B,F])=>[B.replace(k,""),F]);return Object.fromEntries(N)}i.portkeyHeaders=C;function b(H){const w=H.customHeaders,k=H.portkeyHeaders;return Object.prototype.hasOwnProperty.call(w,"authorization")&&!w.authorization.startsWith("Bearer")&&(H.customHeaders.authorization="Bearer "+H.customHeaders.authorization),Object.assign(Object.assign({},w),k)}i.defaultHeadersBuilder=b;function S(H){var w;return new h.default({apiKey:H.apiKey||(0,i.readEnv)("OPENAI_API_KEY")||m.OPEN_AI_API_KEY,baseURL:H.baseURL,defaultHeaders:b(H),maxRetries:0,dangerouslyAllowBrowser:(w=H.dangerouslyAllowBrowser)!==null&&w!==void 0?w:!1,fetch:(k,N)=>r(this,void 0,void 0,function*(){var B,F;const W=Object.assign(Object.assign({},N),N?.body&&typeof((B=N.body)===null||B===void 0?void 0:B.pipe)=="function"&&{duplex:"half"});if(W.body&&((F=W.body.constructor)===null||F===void 0?void 0:F.name)==="FormData"){if(W.headers instanceof Headers)W.headers.delete("Content-Type");else if(W.headers&&"Content-Type"in W.headers&&typeof W.headers=="object"){const Y=W.headers;delete Y["Content-Type"]}}let K=!1,$;try{$=yield fetch(k,W)}catch{K=!0}if(K||$&&!$.ok&&H._shouldRetry($))return yield fetch(k,W);if($)return $;throw(0,i.castToError)($)})})}i.initOpenAIClient=S;function x(H){if(!H)return"";const w=Object.entries(H).filter(([,k])=>k!=null).map(([k,N])=>`${k}=${N}`).join("&");return w?`?${w}`:""}i.toQueryParams=x;function E(H,w){return H||(w?m.PORTKEY_BASE_URL:m.LOCAL_BASE_URL)}i.setBaseURL=E;function I(H,w){if(w)return w;if(H===m.PORTKEY_BASE_URL&&!w)throw(0,i.castToError)(m.MISSING_API_KEY_ERROR_MESSAGE)}i.setApiKey=I})(Gi)),Gi}var Ac={},q0;function De(){if(q0)return Ac;q0=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.createHeaders=void 0;const i=Pe(),s=r=>{const c={};let m=[];r.forwardHeaders&&(m=r.forwardHeaders.map(p=>p.replace("ID","Id").replace(/[A-Z]/g,h=>`-${h.toLowerCase()}`)));for(let p in r){let h=r[p];if(!(0,i.isEmpty)(h)){if(p.toLocaleLowerCase()==="authorization"){c[p.toLowerCase()]=h||"";continue}typeof h=="boolean"&&(h=h.toString()),p==="forwardHeaders"&&(h=h.join(",")),p=p.replace("ID","Id").replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`),!(0,i.isEmpty)(h)&&typeof h=="object"&&(h=JSON.stringify(h)),m&&m.includes(p)?c[p]=h||"":c[(0,i.getPortkeyHeader)(p)]=h||""}}return c};return Ac.createHeaders=s,Ac}var z0;function Nx(){if(z0)return Ms;z0=1;var i=Ms&&Ms.__awaiter||function(l,o,u,f){function v(_){return _ instanceof u?_:new u(function(O){O(_)})}return new(u||(u=Promise))(function(_,O){function j(S){try{b(f.next(S))}catch(x){O(x)}}function C(S){try{b(f.throw(S))}catch(x){O(x)}}function b(S){S.done?_(S.value):v(S.value).then(j,C)}b((f=f.apply(l,o||[])).next())})};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.ChatCompletionsMessages=Ms.Chat=void 0;const s=Ue(),r=nn(),c=Pe(),m=De();class p extends s.ApiResource{constructor(){super(...arguments),this.completions=new h(this.client)}}Ms.Chat=p;class h extends s.ApiResource{constructor(){super(...arguments),this.messages=new d(this.client)}create(o,u,f){var v;const _=o;if(u){const j=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}const O=(v=o.stream)!==null&&v!==void 0?v:!1;return this.post(r.CHAT_COMPLETE_API,Object.assign(Object.assign({body:_},f),{stream:O}))}retrieve(o,u,f){if(u){const v=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},u),{config:v})))}return this.getMethod(`${r.CHAT_COMPLETE_API}/${o}`,Object.assign({},f))}update(o,u,f,v){const _=u;if(f){const O=(0,c.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},f),{config:O})))}return this.post(`${r.CHAT_COMPLETE_API}/${o}`,Object.assign({body:_},v))}list(o,u,f){if(u){const v=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},u),{config:v})))}return this.getMethod(`${r.CHAT_COMPLETE_API}`,Object.assign(Object.assign({},f),o))}delete(o,u,f){if(u){const v=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},u),{config:v})))}return this.deleteMethod(`${r.CHAT_COMPLETE_API}/${o}`,Object.assign({},f))}parse(o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,c.initOpenAIClient)(this.client).responses.parse(o,f)})}stream(o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,c.initOpenAIClient)(this.client).chat.completions.stream(o,f)})}runTools(o,u,f){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return(0,c.initOpenAIClient)(this.client).chat.completions.runTools(o,f)}}class d extends s.ApiResource{list(o,u,f,v){if(f){const _=(0,c.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},f),{config:_})))}return this.getMethod(`${r.CHAT_COMPLETE_API}/${o}/messages`,Object.assign(Object.assign({},v),u))}}return Ms.ChatCompletionsMessages=d,Ms}var Sc={},$0;function kx(){if($0)return Sc;$0=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.Completions=void 0;const i=Ue(),s=nn(),r=Pe(),c=De();class m extends i.ApiResource{create(h,d,l){var o;const u=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=(o=h.stream)!==null&&o!==void 0?o:!1;return this.client.responseHeaders,this.post(s.TEXT_COMPLETE_API,Object.assign(Object.assign({body:u},l),{stream:f}))}}return Sc.Completions=m,Sc}var Cc={},D0;function qx(){if(D0)return Cc;D0=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.Feedback=void 0;const i=Ue(),s=nn(),r=Pe(),c=De();class m extends i.ApiResource{create(h,d,l){const o=h;if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(s.FEEDBACK_API,Object.assign({body:o},l))}update(h,d,l){const o=h,u=h.feedbackID;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}return this.put(s.FEEDBACK_API+"/"+u,Object.assign({body:o},l))}}return Cc.Feedback=m,Cc}var Jt={},U0;function zx(){if(U0)return Jt;U0=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.PromptCompletions=Jt.PromptPartialsVersions=Jt.Partials=Jt.PromptVersions=Jt.Prompt=Jt.Generations=void 0;const i=nn(),s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{create(f,v){console.warn("This API has been deprecated. Please use the Prompt API for the saved prompt.");const O={variables:f.variables};return this.post(`/v1/prompts/${f.promptID}/generate`,Object.assign({body:O},v))}}Jt.Generations=m;class p extends s.ApiResource{constructor(f){super(f),this.completions=new o(f),this.versions=new h(f),this.partials=new d(f)}render(f,v,_){const O=f,j=f.promptID;if(v){const b=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:b})))}return this.post(`/prompts/${j}/render`,Object.assign({body:O},_))}create(f,v,_){const O=f;if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}return this.post(i.PROMPTS_API,Object.assign({body:O},_))}list(f,v,_){const O=f?(0,r.toQueryParams)(f):"";if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}return this.getMethod(`${i.PROMPTS_API}${O}`,Object.assign({},_))}retrieve(f,v,_){if(v){const j=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:j})))}return this.getMethod(`${i.PROMPTS_API}/${f}`,Object.assign({},_))}update(f,v,_,O){const j=v;if(_){const b=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:b})))}return this.put(`${i.PROMPTS_API}/${f}`,Object.assign({body:j},O))}delete(f,v,_){if(v){const j=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:j})))}return this.deleteMethod(`${i.PROMPTS_API}/${f}`,Object.assign({},_))}publish(f,v,_,O){if(_){const C=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:C})))}return this.put(`${i.PROMPTS_API}/${f}/makeDefault`,Object.assign({body:v},O))}}Jt.Prompt=p;class h extends s.ApiResource{list(f,v,_){if(v){const j=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:j})))}return this.getMethod(`${i.PROMPTS_API}/${f}/versions`,Object.assign({},_))}retrieve(f,v,_,O){if(_){const C=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:C})))}return this.getMethod(`${i.PROMPTS_API}/${f}/versions/${v}`,Object.assign({},O))}update(f,v,_,O,j){if(O){const b=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:b})))}return this.put(`${i.PROMPTS_API}/${f}/versions/${v}`,Object.assign({body:_},j))}}Jt.PromptVersions=h;class d extends s.ApiResource{constructor(f){super(f),this.versions=new l(f)}create(f,v,_){const O=f;if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}return this.post(`${i.PROMPT_PARTIALS_API}`,Object.assign({body:O},_))}list(f,v,_){const O=f?(0,r.toQueryParams)(f):"";if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}return this.getMethod(`${i.PROMPT_PARTIALS_API}${O}`,Object.assign({},_))}retrieve(f,v,_){if(v){const j=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:j})))}return this.getMethod(`${i.PROMPT_PARTIALS_API}/${f}`,Object.assign({},_))}update(f,v,_,O){if(_){const C=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:C})))}return this.put(`${i.PROMPT_PARTIALS_API}/${f}`,Object.assign({body:v},O))}delete(f,v,_){if(v){const j=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:j})))}return this.deleteMethod(`${i.PROMPT_PARTIALS_API}/${f}`,Object.assign({},_))}publish(f,v,_,O){if(_){const C=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:C})))}return this.put(`${i.PROMPT_PARTIALS_API}/${f}/makeDefault`,Object.assign({body:v},O))}}Jt.Partials=d;class l extends s.ApiResource{list(f,v,_){if(v){const j=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:j})))}return this.getMethod(`${i.PROMPT_PARTIALS_API}/${f}/versions`,Object.assign({},_))}}Jt.PromptPartialsVersions=l;class o extends s.ApiResource{create(f,v,_){var O;if(v){const x=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:x})))}const j=f.promptID,C=f,b=(O=f.stream)!==null&&O!==void 0?O:!1;return delete C.promptID,C.stream=b,this.post(`/prompts/${j}/completions`,Object.assign(Object.assign({body:C},_),{stream:b}))}}return Jt.PromptCompletions=o,Jt}var Rc={},B0;function $x(){if(B0)return Rc;B0=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.postMethod=void 0;const i=Ue(),s=Pe(),r=De();let c=class extends i.ApiResource{create(p,h,d,l){const o=h;if(d){const f=(0,s.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(p,Object.assign({body:o},l))}};return Rc.postMethod=c,Rc}var wc={},L0;function Dx(){if(L0)return wc;L0=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.getMethod=void 0;const i=Ue(),s=Pe(),r=De();let c=class extends i.ApiResource{create(p,h,d){if(h){const o=(0,s.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},h),{config:o})))}return this.getMethod(p,Object.assign({},d))}};return wc.getMethod=c,wc}var xc={},F0;function Ux(){if(F0)return xc;F0=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.deleteMethod=void 0;const i=Ue(),s=Pe(),r=De();let c=class extends i.ApiResource{create(p,h,d){if(h){const o=(0,s.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},h),{config:o})))}return this.deleteMethod(p,Object.assign({},d))}};return xc.deleteMethod=c,xc}var Ec={},G0;function Bx(){if(G0)return Ec;G0=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.putMethod=void 0;const i=Ue(),s=Pe(),r=De();let c=class extends i.ApiResource{create(p,h,d,l){const o=h;if(d){const f=(0,s.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.put(p,Object.assign({body:o},l))}};return Ec.putMethod=c,Ec}var Tc={},V0;function Lx(){if(V0)return Tc;V0=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.Embeddings=void 0;const i=Ue(),s=nn(),r=Pe(),c=De();class m extends i.ApiResource{create(h,d,l){const o=h;if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(s.EMBEDDINGS_API,Object.assign({body:o},l))}}return Tc.Embeddings=m,Tc}var Yi={},K0;function Fx(){if(K0)return Yi;K0=1;var i=Yi&&Yi.__awaiter||function(p,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(j){try{O(l.next(j))}catch(C){f(C)}}function _(j){try{O(l.throw(j))}catch(C){f(C)}}function O(j){j.done?u(j.value):o(j.value).then(v,_)}O((l=l.apply(p,h||[])).next())})};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Images=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{generate(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}const o=(0,r.initOpenAIClient)(this.client);return h.stream?o.images.generate(h,l):o.images.generate(h,l).withResponse().then(f=>(0,r.finalResponse)(f))}edit(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}const o=(0,r.initOpenAIClient)(this.client);return h.stream?o.images.edit(h,l):o.images.edit(h,l).withResponse().then(f=>(0,r.finalResponse)(f))}createVariation(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).images.createVariation(o,l).withResponse();return(0,r.finalResponse)(f)})}}return Yi.Images=m,Yi}var Zi={},Y0;function Gx(){if(Y0)return Zi;Y0=1;var i=Zi&&Zi.__awaiter||function(p,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(j){try{O(l.next(j))}catch(C){f(C)}}function _(j){try{O(l.throw(j))}catch(C){f(C)}}function O(j){j.done?u(j.value):o(j.value).then(v,_)}O((l=l.apply(p,h||[])).next())})};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Assistants=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{create(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).beta.assistants.create(o,l).withResponse();return(0,r.finalResponse)(f)})}list(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).beta.assistants.list(o,l).withResponse();return(0,r.finalResponse)(f)})}retrieve(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).beta.assistants.retrieve(h,l).withResponse();return(0,r.finalResponse)(u)})}update(h,d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).beta.assistants.update(h,u,o).withResponse();return(0,r.finalResponse)(v)})}delete(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).beta.assistants.delete(h,l).withResponse();return(0,r.finalResponse)(u)})}}return Zi.Assistants=m,Zi}var An={},Z0;function Vx(){if(Z0)return An;Z0=1;var i=An&&An.__awaiter||function(l,o,u,f){function v(_){return _ instanceof u?_:new u(function(O){O(_)})}return new(u||(u=Promise))(function(_,O){function j(S){try{b(f.next(S))}catch(x){O(x)}}function C(S){try{b(f.throw(S))}catch(x){O(x)}}function b(S){S.done?_(S.value):v(S.value).then(j,C)}b((f=f.apply(l,o||[])).next())})};Object.defineProperty(An,"__esModule",{value:!0}),An.Steps=An.Runs=An.Messages=An.Threads=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{constructor(o){super(o),this.messages=new p(o),this.runs=new h(o)}create(o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).beta.threads.create(v,f).withResponse();return(0,r.finalResponse)(O)})}retrieve(o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.threads.retrieve(o,f).withResponse();return(0,r.finalResponse)(_)})}update(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const j=yield(0,r.initOpenAIClient)(this.client).beta.threads.update(o,_,v).withResponse();return(0,r.finalResponse)(j)})}delete(o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.threads.delete(o,f).withResponse();return(0,r.finalResponse)(_)})}createAndRun(o,u,f){return i(this,void 0,void 0,function*(){const v=o,{stream:_}=v;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}const O=(0,r.initOpenAIClient)(this.client);if(_===!0)return yield O.beta.threads.createAndRunStream(v,f);{const j=yield O.beta.threads.createAndRun(v,f).withResponse();return(0,r.finalResponse)(j)}})}createAndRunPoll(o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.createAndRunPoll(v,f)})}createAndRunStream(o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.createAndRunStream(v,f)})}}An.Threads=m;class p extends s.ApiResource{create(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const j=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.create(o,_,v).withResponse();return(0,r.finalResponse)(j)})}list(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const j=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.list(o,_,v).withResponse();return(0,r.finalResponse)(j)})}retrieve(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const j=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.retrieve(o,{thread_id:u},v).withResponse();return(0,r.finalResponse)(O)})}update(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const j=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.update(o,_,v).withResponse();return(0,r.finalResponse)(j)})}delete(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const j=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.delete(o,{thread_id:u},v).withResponse();return(0,r.finalResponse)(O)})}}An.Messages=p;class h extends s.ApiResource{constructor(o){super(o),this.steps=new d(o)}create(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u,{stream:O}=_;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const j=(0,r.initOpenAIClient)(this.client);if(O===!0)return yield j.beta.threads.runs.stream(o,_,v);{const C=yield j.beta.threads.runs.create(o,_,v).withResponse();return(0,r.finalResponse)(C)}})}list(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const j=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.list(o,_,v).withResponse();return(0,r.finalResponse)(j)})}retrieve(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const j=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.retrieve(o,{thread_id:u},v).withResponse();return(0,r.finalResponse)(O)})}update(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const j=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.update(o,_,v).withResponse();return(0,r.finalResponse)(j)})}submitToolOutputs(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const j=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.submitToolOutputs(o,_,v).withResponse();return(0,r.finalResponse)(j)})}submitToolOutputsAndPoll(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.submitToolOutputsAndPoll(o,_,v)})}submitToolOutputsStream(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.submitToolOutputsStream(o,_,v)})}cancel(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const b=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:b})))}const _=(0,r.initOpenAIClient)(this.client),j=Object.assign({body:{}},v),C=yield _.beta.threads.runs.cancel(o,{thread_id:u},j).withResponse();return(0,r.finalResponse)(C)})}createAndPoll(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.createAndPoll(o,_,v)})}createAndStream(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.createAndStream(o,_,v)})}poll(o,{thread_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const j=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:j})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.poll(o,{thread_id:u},v)})}stream(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.stream(o,_,v)})}}An.Runs=h;class d extends s.ApiResource{list(o,u,f,v){return i(this,void 0,void 0,function*(){const _=u;if(f){const C=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:C})))}const j=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.steps.list(o,_,v).withResponse();return(0,r.finalResponse)(j)})}retrieve(o,{thread_id:u,run_id:f},v,_){return i(this,void 0,void 0,function*(){if(v){const C=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:C})))}const j=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.steps.retrieve(o,{thread_id:u,run_id:f},_).withResponse();return(0,r.finalResponse)(j)})}}return An.Steps=d,An}var Xi={},X0;function Kx(){if(X0)return Xi;X0=1;var i=Xi&&Xi.__awaiter||function(p,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(j){try{O(l.next(j))}catch(C){f(C)}}function _(j){try{O(l.throw(j))}catch(C){f(C)}}function O(j){j.done?u(j.value):o(j.value).then(v,_)}O((l=l.apply(p,h||[])).next())})};Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.MainFiles=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{create(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).files.create(o,l).withResponse();return(0,r.finalResponse)(f)})}list(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).files.list(o,l).withResponse();return(0,r.finalResponse)(f)})}retrieve(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).files.retrieve(h,l).withResponse();return(0,r.finalResponse)(u)})}delete(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).files.delete(h,l).withResponse();return(0,r.finalResponse)(u)})}content(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).files.content(h,l).withResponse();return(0,r.finalResponse)(u)})}retrieveContent(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).files.content(h,l).withResponse();return(0,r.finalResponse)(u)})}waitForProcessing(h,d,l){return i(this,void 0,void 0,function*(){const o=d;if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return yield(0,r.initOpenAIClient)(this.client).files.waitForProcessing(h,Object.assign(Object.assign({},o.pollInterval!==void 0&&{pollInterval:o.pollInterval}),o.maxWait!==void 0&&{maxWait:o.maxWait}))})}}return Xi.MainFiles=m,Xi}var Qi={},Q0;function Yx(){if(Q0)return Qi;Q0=1;var i=Qi&&Qi.__awaiter||function(p,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(j){try{O(l.next(j))}catch(C){f(C)}}function _(j){try{O(l.throw(j))}catch(C){f(C)}}function O(j){j.done?u(j.value):o(j.value).then(v,_)}O((l=l.apply(p,h||[])).next())})};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.Models=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{list(h,d){return i(this,void 0,void 0,function*(){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}const o=yield(0,r.initOpenAIClient)(this.client).models.list(d).withResponse();return(0,r.finalResponse)(o)})}retrieve(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).models.retrieve(h,l).withResponse();return(0,r.finalResponse)(u)})}delete(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).models.delete(h,l).withResponse();return(0,r.finalResponse)(u)})}}return Qi.Models=m,Qi}var Sn={},J0;function Zx(){if(J0)return Sn;J0=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.Member=Sn.Workspaces=Sn.Invites=Sn.Users=Sn.Admin=void 0;const i=Ue(),s=De(),r=Pe();class c extends i.ApiResource{constructor(o){super(o),this.users=new m(o),this.workspaces=new h(o)}}Sn.Admin=c;class m extends i.ApiResource{constructor(){super(...arguments),this.invites=new p(this.client)}retrieve(o,u,f){const _=o.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/users/${_}`,Object.assign({},f))}list(o,u,f){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const _=(0,r.toQueryParams)(v);return this.getMethod(`/admin/users${_}`,Object.assign({},f))}update(o,u,f){const v=o,_=v.userId;return delete v.userId,u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.put(`/admin/users/${_}`,Object.assign({body:v},f))}delete(o,u,f){const v=o,_=v.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/users/${_}`,Object.assign({body:v},f))}}Sn.Users=m;class p extends i.ApiResource{create(o,u,f){const v=o;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post("/admin/users/invites",Object.assign({body:v},f))}retrieve(o,u,f){const _=o.inviteId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/users/invites/${_}`,Object.assign({},f))}list(o,u,f){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const _=v?(0,r.toQueryParams)(v):"";return this.getMethod(`/admin/users/invites${_}`,Object.assign({},f))}delete(o,u,f){const v=o,_=v.inviteId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/users/invites/${_}`,Object.assign({body:v},f))}resend(o,u,f){const _=o.inviteId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post(`/admin/users/invites/${_}/resend`,Object.assign({},f))}}Sn.Invites=p;class h extends i.ApiResource{constructor(){super(...arguments),this.users=new d(this.client)}create(o,u,f){const v=o;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post("/admin/workspaces",Object.assign({body:v},f))}retrieve(o,u,f){const _=o.workspaceId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/workspaces/${_}`,Object.assign({},f))}list(o,u,f){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const _=(0,r.toQueryParams)(v);return this.getMethod(`/admin/workspaces${_}`,Object.assign({},f))}update(o,u,f){const v=o,_=v.workspaceId;return delete v.workspaceId,u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.put(`/admin/workspaces/${_}`,Object.assign({body:v},f))}delete(o,u,f){const v=o,_=v.workspaceId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/workspaces/${_}`,Object.assign({body:v},f))}}Sn.Workspaces=h;class d extends i.ApiResource{create(o,u,f){const v=o,_=v.workspaceId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post(`/admin/workspaces/${_}/users`,Object.assign({body:v},f))}retrieve(o,u,f){const v=o,_=v.workspaceId,O=v.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/workspaces/${_}/users/${O}`,Object.assign({},f))}list(o,u,f){const v=o,_=v.workspaceId;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const O=(0,r.toQueryParams)(v);return this.getMethod(`/admin/workspaces/${_}/users${O}`,Object.assign({},f))}delete(o,u,f){const v=o,_=v.workspaceId,O=v.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/workspaces/${_}/users/${O}`,Object.assign({body:v},f))}update(o,u,f){const v=o,_=v.workspaceId,O=v.userId;return delete v.workspaceId,u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.put(`/admin/workspaces/${_}/users/${O}`,Object.assign({body:v},f))}}return Sn.Member=d,Sn}var Ic={},W0;function Xx(){if(W0)return Ic;W0=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.Configs=void 0;const i=Ue(),s=De(),r=Pe();class c extends i.ApiResource{constructor(p){super(p)}create(p,h,d){const l=p;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.post("/configs",Object.assign({body:l},d))}retrieve(p,h,d){const o=p.slug;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.getMethod(`/configs/${o}`,Object.assign({},d))}update(p,h,d){const l=p,o=l.slug;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.put(`/configs/${o}`,Object.assign({body:l},d))}list(p,h,d){const l=p,o=(0,r.toQueryParams)(l);return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.getMethod(`/configs${o}`,Object.assign({},d))}delete(p,h,d){const l=p;let o="";return l.id?(o=l.id,console.warn('You are using "id" to delete a config. This will be deprecated in the future. Please use "slug" instead.')):l.slug&&(o=l.slug),h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.deleteMethod(`/configs/${o}`,Object.assign({},d))}}return Ic.Configs=c,Ic}var Ji={},eO;function Qx(){if(eO)return Ji;eO=1;var i=Ji&&Ji.__awaiter||function(p,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(j){try{O(l.next(j))}catch(C){f(C)}}function _(j){try{O(l.throw(j))}catch(C){f(C)}}function O(j){j.done?u(j.value):o(j.value).then(v,_)}O((l=l.apply(p,h||[])).next())})};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.Batches=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{create(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).batches.create(o,l).withResponse();return(0,r.finalResponse)(f)})}retrieve(h,d,l){return i(this,void 0,void 0,function*(){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}const u=yield(0,r.initOpenAIClient)(this.client).batches.retrieve(h,l).withResponse();return(0,r.finalResponse)(u)})}list(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).batches.list(o,l).withResponse();return(0,r.finalResponse)(f)})}cancel(h,d,l){return i(this,void 0,void 0,function*(){if(d){const _=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:_})))}const o=(0,r.initOpenAIClient)(this.client),f=Object.assign({body:{}},l),v=yield o.batches.cancel(h,f).withResponse();return(0,r.finalResponse)(v)})}output(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.getMethod(`/batches/${h}/output`,l)}}return Ji.Batches=m,Ji}var Wi={},tO;function Jx(){if(tO)return Wi;tO=1;var i=Wi&&Wi.__rest||function(p,h){var d={};for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&h.indexOf(l)<0&&(d[l]=p[l]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(p);o<l.length;o++)h.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(p,l[o])&&(d[l[o]]=p[l[o]]);return d};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.VirtualKeys=void 0;const s=Ue(),r=De(),c=Pe();class m extends s.ApiResource{create(h,d,l){return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.post("/virtual-keys",Object.assign({body:h},l))}list(h,d,l){const o=h;d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d))));const u=(0,c.toQueryParams)(o);return this.getMethod(`/virtual-keys${u}`,Object.assign({},l))}retrieve(h,d,l){const{slug:o}=h;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.getMethod(`/virtual-keys/${o}`,Object.assign({},l))}update(h,d,l){const{slug:o}=h,u=i(h,["slug"]);return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.put(`/virtual-keys/${o}`,Object.assign({body:u},l))}delete(h,d,l){const{slug:o}=h;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.deleteMethod(`/virtual-keys/${o}`,Object.assign({},l))}}return Wi.VirtualKeys=m,Wi}var Nt={},nO;function Wx(){if(nO)return Nt;nO=1;var i=Nt&&Nt.__awaiter||function(f,v,_,O){function j(C){return C instanceof _?C:new _(function(b){b(C)})}return new(_||(_=Promise))(function(C,b){function S(I){try{E(O.next(I))}catch(H){b(H)}}function x(I){try{E(O.throw(I))}catch(H){b(H)}}function E(I){I.done?C(I.value):j(I.value).then(S,x)}E((O=O.apply(f,v||[])).next())})};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Permissions=Nt.FineTuningCheckpoints=Nt.Grader=Nt.Alpha=Nt.Checkpoints=Nt.Jobs=Nt.FineTuning=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{constructor(v){super(v),this.jobs=new p(v),this.checkpoints=new o(v),this.alpha=new d(v)}}Nt.FineTuning=m;class p extends s.ApiResource{constructor(v){super(v),this.checkpoints=new h(v)}create(v,_,O){return i(this,void 0,void 0,function*(){const j=v;if(_){const S=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.create(j,O).withResponse();return(0,r.finalResponse)(b)})}retrieve(v,_,O){return i(this,void 0,void 0,function*(){if(_){const b=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:b})))}const C=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.retrieve(v,O).withResponse();return(0,r.finalResponse)(C)})}list(v,_,O){return i(this,void 0,void 0,function*(){const j=v;if(_){const S=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.list(j,O).withResponse();return(0,r.finalResponse)(b)})}cancel(v,_,O){return i(this,void 0,void 0,function*(){if(_){const x=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:x})))}const j=(0,r.initOpenAIClient)(this.client),b=Object.assign({body:{}},O),S=yield j.fineTuning.jobs.cancel(v,b).withResponse();return(0,r.finalResponse)(S)})}listEvents(v,_,O,j){return i(this,void 0,void 0,function*(){const C=_;if(O){const x=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:x})))}const S=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.listEvents(v,C,j).withResponse();return(0,r.finalResponse)(S)})}}Nt.Jobs=p;class h extends s.ApiResource{list(v,_,O,j){return i(this,void 0,void 0,function*(){const C=_;if(O){const x=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:x})))}const S=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.checkpoints.list(v,C,j).withResponse();return(0,r.finalResponse)(S)})}}Nt.Checkpoints=h;class d extends s.ApiResource{constructor(v){super(v),this.grader=new l(v)}}Nt.Alpha=d;class l extends s.ApiResource{run(v,_,O){return i(this,void 0,void 0,function*(){if(_){const b=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:b})))}const C=yield(0,r.initOpenAIClient)(this.client).fineTuning.alpha.graders.run(v,O).withResponse();return(0,r.finalResponse)(C)})}validate(v,_,O){return i(this,void 0,void 0,function*(){if(_){const b=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:b})))}const C=yield(0,r.initOpenAIClient)(this.client).fineTuning.alpha.graders.validate(v,O).withResponse();return(0,r.finalResponse)(C)})}}Nt.Grader=l;class o extends s.ApiResource{constructor(v){super(v),this.permissions=new u(v)}}Nt.FineTuningCheckpoints=o;class u extends s.ApiResource{create(v,_,O,j){return i(this,void 0,void 0,function*(){if(O){const S=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.checkpoints.permissions.create(v,_,j).withResponse();return(0,r.finalResponse)(b)})}retrieve(v,_,O,j){return i(this,void 0,void 0,function*(){if(O){const S=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.checkpoints.permissions.retrieve(v,_,j).withResponse();return(0,r.finalResponse)(b)})}delete(v,{fine_tuned_model_checkpoint:_},O,j){return i(this,void 0,void 0,function*(){if(O){const S=(0,r.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},O),{config:S})))}const b=yield(0,r.initOpenAIClient)(this.client).fineTuning.checkpoints.permissions.delete(v,{fine_tuned_model_checkpoint:_},j).withResponse();return(0,r.finalResponse)(b)})}}return Nt.Permissions=u,Nt}var er={},sO;function eE(){if(sO)return er;sO=1;var i=er&&er.__awaiter||function(p,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(j){try{O(l.next(j))}catch(C){f(C)}}function _(j){try{O(l.throw(j))}catch(C){f(C)}}function O(j){j.done?u(j.value):o(j.value).then(v,_)}O((l=l.apply(p,h||[])).next())})};Object.defineProperty(er,"__esModule",{value:!0}),er.Moderations=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{create(h,d,l){return i(this,void 0,void 0,function*(){const o=h;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).moderations.create(o,l).withResponse();return(0,r.finalResponse)(f)})}}return er.Moderations=m,er}var Wt={},ta={},iO;function tE(){if(iO)return ta;iO=1;var i=ta&&ta.__awaiter||function(b,S,x,E){function I(H){return H instanceof x?H:new x(function(w){w(H)})}return new(x||(x=Promise))(function(H,w){function k(F){try{B(E.next(F))}catch(W){w(W)}}function N(F){try{B(E.throw(F))}catch(W){w(W)}}function B(F){F.done?H(F.value):I(F.value).then(k,N)}B((E=E.apply(b,S||[])).next())})};Object.defineProperty(ta,"__esModule",{value:!0});const r=(0,Ku().isFsModuleAvailable)();let c,m,p,h,d;if(r)try{c=P0;const{promisify:b}=P0;m=b(c.open),p=b(c.read),h=b(c.stat),d=b(c.close)}catch{console.warn("File system operations not available in this environment")}function l(b){var S;return i(this,void 0,void 0,function*(){if(!r||!c)return null;try{const x=(S=b.split(".").pop())===null||S===void 0?void 0:S.toLowerCase(),I=(yield h(b)).size;switch(x){case"wav":return u(b);case"mp3":return f(b,I);case"mpga":return v(b,I);case"flac":return _(b);case"ogg":return O(b,I);case"mp4":case"m4a":return j(b);default:return null}}catch{return null}})}function o(b,S,x){return i(this,void 0,void 0,function*(){const E=yield m(b,"r"),I=Buffer.alloc(x);try{const{bytesRead:H}=yield p(E,I,0,x,S);return H<x?I.slice(0,H):I}finally{yield d(E)}})}function u(b){return i(this,void 0,void 0,function*(){try{const S=yield o(b,0,44);if(S.length<44)return null;const x=S.readUInt32LE(24),E=S.readUInt32LE(40),I=S.readUInt16LE(34),H=S.readUInt16LE(22),w=E/(x*H*(I/8));return Math.round(w*1e3).toString()}catch{return null}})}function f(b,S){return i(this,void 0,void 0,function*(){try{const x=yield o(b,0,Math.min(10240,S));if(x.length<128)return null;for(let E=0;E<x.length-4;E++)if(x[E]===255&&(x[E+1]&224)===224){const I=x[E+2]>>4&15,H=x[E+2]>>2&3,w=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320],k=[44100,48e3,32e3];if(I>=w.length||H>=k.length)continue;const N=Number(w[I]),B=Number(k[H]);if(!N||!B)continue;return(S*8/(N*1e3)*1e3).toFixed(0)}}catch{}return null})}function v(b,S){var x,E;return i(this,void 0,void 0,function*(){try{const I=yield o(b,0,Math.min(10240,S));if(I.length<128)return null;for(let H=0;H<I.length-4;H++)if(I[H]===255&&(I[H+1]&240)===240){const w=I[H+2]>>4&15,k=I[H+2]>>2&3,N=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,0],B=[[44100,48e3,32e3,0],[22050,24e3,16e3,0],[11025,12e3,8e3,0]],F=I[H+1]>>3&3,W=F===3?0:F===2?1:2;if(w===0||w>=N.length||k>=3||W>=B.length||k>=((x=B[W])===null||x===void 0?void 0:x.length))continue;const K=Number(N[w]),$=Number((E=B[W])===null||E===void 0?void 0:E[k]);if(!K||!$)continue;return(S*8/(K*1e3)*1e3).toFixed(0)}}catch{}return null})}function _(b){return i(this,void 0,void 0,function*(){try{if((yield o(b,0,4)).toString()!=="fLaC")return null;const x=yield o(b,4,102400);let E=0,I=!1,H=!1,w=0,k=0;for(;!I&&E<x.length&&!(E+4>x.length);){I=(x[E]&128)===128;const F=x[E]&127,W=x.readUInt32BE(E)&16777215;if(E+=4,F===0&&E+18<=x.length){k=x[E+10]<<12|x[E+11]<<4|(x[E+12]&240)>>4,w=(x[E+13]&15)<<32|x[E+14]<<24|x[E+15]<<16|x[E+16]<<8|x[E+17],H=!0;break}E+=W}if(!H||k===0)return null;const N=w/k;return Math.round(N*1e3).toString()}catch{return null}})}function O(b,S){return i(this,void 0,void 0,function*(){try{if((yield o(b,0,4)).toString()!=="OggS")return null;const E=yield o(b,0,Math.min(1e4,S)),I=Math.min(10240,S),H=yield o(b,Math.max(0,S-I),I);let w=0,k=0;for(;k<E.length-7;){if(k+7<=E.length&&E.slice(k,k+7).toString()==="vorbis"&&k+16<E.length){w=E.readUInt32LE(k+12);break}k++}if(w===0)return null;let N=0;for(k=0;k<H.length-27;)if(k+4<=H.length&&H.slice(k,k+4).toString()==="OggS")if(k+14<H.length){const W=Number(H.readBigInt64LE(k+6));if(W>N&&(N=W),k+27>=H.length)break;const K=H[k+26];let Y=27+K;for(let P=0;P<K&&k+27+P<H.length;P++)Y+=H[k+27+P];k+=Y}else break;else k++;if(N===0)return null;const B=N/w;return Math.round(B*1e3).toString()}catch{return null}})}function j(b){return i(this,void 0,void 0,function*(){try{const S=yield m(b,"r");try{return yield C(S,b,0)}finally{yield d(S)}}catch{return null}})}function C(b,S,x){return i(this,void 0,void 0,function*(){try{const I=Buffer.alloc(8),{bytesRead:H}=yield p(b,I,0,8,x);if(H<8)return null;const w=I.readUInt32BE(0);if(w<8)return null;const k=I.slice(4,8).toString();if(k==="moov"){const N=yield o(S,x,w);for(let B=8;B<N.length-8;B++)if(B+4<=N.length&&N.slice(B,B+4).toString()==="mvhd"){if(B+5>=N.length)break;const F=N[B+4];let W,K;if(F===0){if(B+24>=N.length)break;W=N.readUInt32BE(B+16),K=N.readUInt32BE(B+20)}else{if(B+36>=N.length)break;W=N.readUInt32BE(B+24);const $=N.readUInt32BE(B+28),Y=N.readUInt32BE(B+32);K=$*Math.pow(2,32)+Y}if(W>0){const $=K/W;return Math.round($*1e3).toString()}}}else if(["trak","mdia","minf","stbl"].includes(k))return C(b,S,x+8);if(w>0)return C(b,S,x+w)}catch{return null}return null})}return ta.default=l,ta}var rO;function nE(){if(rO)return Wt;rO=1;var i=Wt&&Wt.__awaiter||function(v,_,O,j){function C(b){return b instanceof O?b:new O(function(S){S(b)})}return new(O||(O=Promise))(function(b,S){function x(H){try{I(j.next(H))}catch(w){S(w)}}function E(H){try{I(j.throw(H))}catch(w){S(w)}}function I(H){H.done?b(H.value):C(H.value).then(x,E)}I((j=j.apply(v,_||[])).next())})},s=Wt&&Wt.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.speech=Wt.translations=Wt.transcriptions=Wt.Audio=void 0;const r=Ue(),c=Pe(),m=De(),p=nn(),h=s(tE()),d=Ku();class l extends r.ApiResource{constructor(_){super(_),this.transcriptions=new o(_),this.translations=new u(_),this.speech=new f(_)}}Wt.Audio=l;class o extends r.ApiResource{create(_,O,j){var C;return i(this,void 0,void 0,function*(){const b=(C=_.file)===null||C===void 0?void 0:C.path;if(b&&this.client.calculateAudioDuration&&(0,d.isFsModuleAvailable)()){const E=yield(0,h.default)(b);E&&(O=Object.assign(Object.assign({},O),{[p.AUDIO_FILE_DURATION_HEADER]:E}))}if(O){const E=(0,c.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},O),{config:E})))}return(0,c.initOpenAIClient)(this.client).audio.transcriptions.create(_,j)})}}Wt.transcriptions=o;class u extends r.ApiResource{create(_,O,j){var C;return i(this,void 0,void 0,function*(){const b=_,S=(C=b.file)===null||C===void 0?void 0:C.path;if(S&&this.client.calculateAudioDuration&&(0,d.isFsModuleAvailable)()){const I=yield(0,h.default)(S);I&&(O=Object.assign(Object.assign({},O),{[p.AUDIO_FILE_DURATION_HEADER]:I}))}if(O){const I=(0,c.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},O),{config:I})))}const E=yield(0,c.initOpenAIClient)(this.client).audio.translations.create(b,j).withResponse();return(0,c.finalResponse)(E)})}}Wt.translations=u;class f extends r.ApiResource{create(_,O,j){return i(this,void 0,void 0,function*(){const C=_;if(O){const x=(0,c.overrideConfig)(this.client.config,O.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,m.createHeaders)(Object.assign(Object.assign({},O),{config:x})))}return yield(0,c.initOpenAIClient)(this.client).audio.speech.create(C,j)})}}return Wt.speech=f,Wt}var Xn={},aO;function sE(){if(aO)return Xn;aO=1;var i=Xn&&Xn.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function j(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,j)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.FileBatches=Xn.Files=Xn.VectorStores=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{constructor(l){super(l),this.files=new p(l),this.fileBatches=new h(l)}create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.create(f,u).withResponse();return(0,r.finalResponse)(_)})}retrieve(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).vectorStores.retrieve(l,u).withResponse();return(0,r.finalResponse)(v)})}update(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.update(l,v,f).withResponse();return(0,r.finalResponse)(O)})}list(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.list(f,u).withResponse();return(0,r.finalResponse)(_)})}delete(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).vectorStores.delete(l,u).withResponse();return(0,r.finalResponse)(v)})}}Xn.VectorStores=m;class p extends s.ApiResource{create(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.create(l,v,f).withResponse();return(0,r.finalResponse)(O)})}retrieve(l,{vector_store_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.retrieve(l,{vector_store_id:o},f).withResponse();return(0,r.finalResponse)(_)})}list(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.list(l,v,f).withResponse();return(0,r.finalResponse)(O)})}delete(l,{vector_store_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.delete(l,{vector_store_id:o},f).withResponse();return(0,r.finalResponse)(_)})}createAndPoll(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.createAndPoll(l,v,f)})}poll(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.poll(l,o,f)})}upload(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.upload(l,o,f)})}uploadAndPoll(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.uploadAndPoll(l,o,f)})}}Xn.Files=p;class h extends s.ApiResource{create(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.create(l,v,f).withResponse();return(0,r.finalResponse)(O)})}retrieve(l,{vector_store_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.retrieve(l,{vector_store_id:o},f).withResponse();return(0,r.finalResponse)(_)})}cancel(l,{vector_store_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const C=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:C})))}const v=(0,r.initOpenAIClient)(this.client),O=Object.assign({body:{}},f),j=yield v.vectorStores.fileBatches.cancel(l,{vector_store_id:o},O).withResponse();return(0,r.finalResponse)(j)})}createAndPoll(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.createAndPoll(l,v,f)})}listFiles(l,o,u,f){return i(this,void 0,void 0,function*(){const v=o;if(u){const j=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.listFiles(l,v,f).withResponse();return(0,r.finalResponse)(O)})}poll(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.poll(l,o,f)})}uploadAndPoll(l,{files:o,fileIds:u=[]},f,v){return i(this,void 0,void 0,function*(){if(f){const j=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:j})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.uploadAndPoll(l,{files:o,fileIds:u},v)})}}return Xn.FileBatches=h,Xn}var qs={},oO;function iE(){if(oO)return qs;oO=1;var i=qs&&qs.__awaiter||function(h,d,l,o){function u(f){return f instanceof l?f:new l(function(v){v(f)})}return new(l||(l=Promise))(function(f,v){function _(C){try{j(o.next(C))}catch(b){v(b)}}function O(C){try{j(o.throw(C))}catch(b){v(b)}}function j(C){C.done?f(C.value):u(C.value).then(_,O)}j((o=o.apply(h,d||[])).next())})};Object.defineProperty(qs,"__esModule",{value:!0}),qs.Parts=qs.Uploads=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{constructor(d){super(d),this.parts=new p(d)}create(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).uploads.create(u,o).withResponse();return(0,r.finalResponse)(v)})}cancel(d,l,o){return i(this,void 0,void 0,function*(){if(l){const O=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:O})))}const u=(0,r.initOpenAIClient)(this.client),v=Object.assign({body:{}},o),_=yield u.uploads.cancel(d,v).withResponse();return(0,r.finalResponse)(_)})}complete(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).uploads.complete(d,f,u).withResponse();return(0,r.finalResponse)(_)})}}qs.Uploads=m;class p extends s.ApiResource{create(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).uploads.parts.create(d,f,u).withResponse();return(0,r.finalResponse)(_)})}}return qs.Parts=p,qs}var Hc={},cO;function rE(){if(cO)return Hc;cO=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.ApiKeys=void 0;const i=Ue(),s=De(),r=Pe();class c extends i.ApiResource{create(p,h,d){const l=p,o=l.type,u=l["sub-type"];return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.post(`/api-keys/${o}/${u}`,Object.assign({body:l},d))}retrieve(p,h,d){const o=p.id;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.getMethod(`/api-keys/${o}`,Object.assign({},d))}update(p,h,d){const l=p,o=l.id;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.put(`/api-keys/${o}`,Object.assign({body:l},d))}list(p,h,d){const l=p;h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h))));const o=(0,r.toQueryParams)(l);return this.getMethod(`/api-keys${o}`,Object.assign({},d))}delete(p,h,d){const l=p,o=l.id;return h&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},h)))),this.deleteMethod(`/api-keys/${o}`,Object.assign({body:l},d))}}return Hc.ApiKeys=c,Hc}var zs={},lO;function aE(){if(lO)return zs;lO=1;var i=zs&&zs.__rest||function(d,l){var o={};for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&l.indexOf(u)<0&&(o[u]=d[u]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(d);f<u.length;f++)l.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(d,u[f])&&(o[u[f]]=d[u[f]]);return o};Object.defineProperty(zs,"__esModule",{value:!0}),zs.Exports=zs.Logs=void 0;const s=Ue(),r=De(),c=Pe(),m=nn();class p extends s.ApiResource{constructor(l){super(l),this.exports=new h(l)}create(l,o,u){const f=l;if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return this.post(m.LOGS_API,Object.assign({body:f},u))}}zs.Logs=p;class h extends s.ApiResource{create(l,o,u){const{workspaceId:f,requestedData:v}=l,_=i(l,["workspaceId","requestedData"]),O=Object.assign(Object.assign({},_),{workspace_id:f,requested_data:v});return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.post("/logs/exports",Object.assign({body:O},u))}retrieve(l,o,u){const v=l.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.getMethod(`/logs/exports/${v}`,Object.assign({},u))}list(l,o,u){const{workspaceId:f}=l,v=i(l,["workspaceId"]),_=Object.assign(Object.assign({},v),{workspace_id:f}),O=(0,c.toQueryParams)(_);return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.getMethod(`/logs/exports${O}`,Object.assign({},u))}update(l,o,u){const{workspaceId:f,requestedData:v}=l,_=i(l,["workspaceId","requestedData"]),O=Object.assign(Object.assign({},_),{workspace_id:f,requested_data:v}),j=O.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.put(`/logs/exports/${j}`,Object.assign({body:O},u))}start(l,o,u){const f=l,v=f.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.post(`/logs/exports/${v}/start`,Object.assign({body:f},u))}cancel(l,o,u){const f=l,v=f.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.post(`/logs/exports/${v}/cancel`,Object.assign({body:f},u))}download(l,o,u){const f=l,v=f.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.getMethod(`/logs/exports/${v}/download`,Object.assign({body:f},u))}}return zs.Exports=h,zs}var Qn={},uO;function oE(){if(uO)return Qn;uO=1;var i=Qn&&Qn.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function j(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,j)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.TranscriptionSessions=Qn.Sessions=Qn.Realtime=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{constructor(l){super(l),this.sessions=new p(l),this.transcriptionSessions=new h(l)}}Qn.Realtime=m;class p extends s.ApiResource{create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.realtime.sessions.create(f,u).withResponse();return(0,r.finalResponse)(_)})}}Qn.Sessions=p;class h extends s.ApiResource{create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.realtime.transcriptionSessions.create(f,u).withResponse();return(0,r.finalResponse)(_)})}}return Qn.TranscriptionSessions=h,Qn}var $s={},dO;function cE(){if(dO)return $s;dO=1;var i=$s&&$s.__awaiter||function(h,d,l,o){function u(f){return f instanceof l?f:new l(function(v){v(f)})}return new(l||(l=Promise))(function(f,v){function _(C){try{j(o.next(C))}catch(b){v(b)}}function O(C){try{j(o.throw(C))}catch(b){v(b)}}function j(C){C.done?f(C.value):u(C.value).then(_,O)}j((o=o.apply(h,d||[])).next())})};Object.defineProperty($s,"__esModule",{value:!0}),$s.InputItems=$s.Responses=void 0;const s=Ue(),r=De(),c=Pe();class m extends s.ApiResource{constructor(d){super(d),this.inputItems=new p(d)}create(d,l,o){if(l){const v=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return(0,c.initOpenAIClient)(this.client).responses.create(d,o)}retrieve(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).responses.retrieve(d,f,u).withResponse();return(0,c.finalResponse)(_)})}delete(d,l,o){return i(this,void 0,void 0,function*(){if(l){const v=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=yield(0,c.initOpenAIClient)(this.client).responses.delete(d,o).withResponse();return(0,c.finalResponse)(f)})}parse(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).responses.parse(u,o)})}stream(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).responses.stream(u,o)})}cancel(d,l,o){return i(this,void 0,void 0,function*(){if(l){const O=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:O})))}const u=(0,c.initOpenAIClient)(this.client),v=Object.assign({body:{}},o),_=yield u.responses.cancel(d,v).withResponse();return(0,c.finalResponse)(_)})}}$s.Responses=m;class p extends s.ApiResource{list(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).responses.inputItems.list(d,f,u).withResponse();return(0,c.finalResponse)(_)})}}return $s.InputItems=p,$s}var Mc={},fO;function lE(){if(fO)return Mc;fO=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.Labels=void 0;const i=nn(),s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{create(h,d,l){const o=h;if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(`${i.LABELS_API}`,Object.assign({body:o},l))}list(h,d,l){const o=h?(0,r.toQueryParams)(h):"";if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.getMethod(`${i.LABELS_API}${o}`,Object.assign({},l))}retrieve(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.getMethod(`${i.LABELS_API}/${h}`,Object.assign({},l))}update(h,d,l,o){const u=d;if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return this.put(`${i.LABELS_API}/${h}`,Object.assign({body:u},o))}delete(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.deleteMethod(`${i.LABELS_API}/${h}`,Object.assign({},l))}}return Mc.Labels=m,Mc}var Pc={},hO;function uE(){if(hO)return Pc;hO=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.Collections=void 0;const i=nn(),s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{create(h,d,l){const o=h;if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.post(`${i.COLLECTIONS_API}`,Object.assign({body:o},l))}list(h,d,l){const o=h?(0,r.toQueryParams)(h):"";if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return this.getMethod(`${i.COLLECTIONS_API}${o}`,Object.assign({},l))}retrieve(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.getMethod(`${i.COLLECTIONS_API}/${h}`,Object.assign({},l))}update(h,d,l,o){if(l){const f=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:f})))}return this.put(`${i.COLLECTIONS_API}/${h}`,Object.assign({body:d},o))}delete(h,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.deleteMethod(`${i.COLLECTIONS_API}/${h}`,Object.assign({},l))}}return Pc.Collections=m,Pc}var Jn={},pO;function dE(){if(pO)return Jn;pO=1;var i=Jn&&Jn.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function j(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,j)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.OutputItems=Jn.EvalsRuns=Jn.Evals=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{constructor(l){super(l),this.runs=new p(l)}create(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return yield(0,r.initOpenAIClient)(this.client).evals.create(l,u)})}retrieve(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).evals.retrieve(l,u).withResponse();return(0,r.finalResponse)(v)})}update(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.update(l,o,f).withResponse();return(0,r.finalResponse)(_)})}list(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).evals.list(l,u).withResponse();return(0,r.finalResponse)(v)})}delete(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).evals.delete(l,u).withResponse();return(0,r.finalResponse)(v)})}}Jn.Evals=m;class p extends s.ApiResource{constructor(l){super(l),this.outputItems=new h(l)}create(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.create(l,o,f).withResponse();return(0,r.finalResponse)(_)})}retrieve(l,{eval_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.retrieve(l,{eval_id:o},f).withResponse();return(0,r.finalResponse)(_)})}list(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.list(l,o,f).withResponse();return(0,r.finalResponse)(_)})}delete(l,{eval_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.delete(l,{eval_id:o},f).withResponse();return(0,r.finalResponse)(_)})}cancel(l,{eval_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const C=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:C})))}const v=(0,r.initOpenAIClient)(this.client),O=Object.assign({body:{}},f),j=yield v.evals.runs.cancel(l,{eval_id:o},O).withResponse();return(0,r.finalResponse)(j)})}}Jn.EvalsRuns=p;class h extends s.ApiResource{retrieve(l,{eval_id:o,run_id:u},f,v){return i(this,void 0,void 0,function*(){if(f){const j=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:j})))}const O=yield(0,r.initOpenAIClient)(this.client).evals.runs.outputItems.retrieve(l,{eval_id:o,run_id:u},v).withResponse();return(0,r.finalResponse)(O)})}list(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.outputItems.list(l,o,f).withResponse();return(0,r.finalResponse)(_)})}}return Jn.OutputItems=h,Jn}var Wn={},mO;function fE(){if(mO)return Wn;mO=1;var i=Wn&&Wn.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function j(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,j)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.Content=Wn.ContainersFiles=Wn.Containers=void 0;const s=Ue(),r=De(),c=Pe();class m extends s.ApiResource{constructor(l){super(l),this.files=new p(l)}create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.create(f,u).withResponse();return(0,c.finalResponse)(_)})}retrieve(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,c.initOpenAIClient)(this.client).containers.retrieve(l,u).withResponse();return(0,c.finalResponse)(v)})}list(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,c.initOpenAIClient)(this.client).containers.list(l,u).withResponse();return(0,c.finalResponse)(v)})}delete(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,c.initOpenAIClient)(this.client).containers.delete(l,u).withResponse();return(0,c.finalResponse)(v)})}}Wn.Containers=m;class p extends s.ApiResource{constructor(l){super(l),this.content=new h(l)}create(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.create(l,o,f).withResponse();return(0,c.finalResponse)(_)})}retrieve(l,{container_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.retrieve(l,{container_id:o},f).withResponse();return(0,c.finalResponse)(_)})}list(l,o,u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.list(l,o,f).withResponse();return(0,c.finalResponse)(_)})}delete(l,{container_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.delete(l,{container_id:o},f).withResponse();return(0,c.finalResponse)(_)})}}Wn.ContainersFiles=p;class h extends s.ApiResource{retrieve(l,{container_id:o},u,f){return i(this,void 0,void 0,function*(){if(u){const O=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return yield(yield(0,c.initOpenAIClient)(this.client).containers.files.content.retrieve(l,{container_id:o},f)).text()})}}return Wn.Content=h,Wn}var es={},gO;function hE(){if(gO)return es;gO=1;var i=es&&es.__rest||function(l,o){var u={};for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&o.indexOf(f)<0&&(u[f]=l[f]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,f=Object.getOwnPropertySymbols(l);v<f.length;v++)o.indexOf(f[v])<0&&Object.prototype.propertyIsEnumerable.call(l,f[v])&&(u[f[v]]=l[f[v]]);return u};Object.defineProperty(es,"__esModule",{value:!0}),es.Models=es.Workspaces=es.Integrations=void 0;const s=nn(),r=Ue(),c=De(),m=Pe();class p extends r.ApiResource{constructor(o){super(o),this.workspaces=new h(o),this.models=new d(o)}create(o,u,f){const v=o;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.post(`${s.INTEGRATIONS_API}`,Object.assign({body:v},f))}list(o,u,f){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u))));const _=(0,m.toQueryParams)(v);return this.getMethod(`${s.INTEGRATIONS_API}${_}`,Object.assign({},f))}retrieve(o,u,f){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.getMethod(`${s.INTEGRATIONS_API}/${_}`,Object.assign({},f))}update(o,u,f){const{slug:v}=o,_=i(o,["slug"]);return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.put(`${s.INTEGRATIONS_API}/${v}`,Object.assign({body:_},f))}delete(o,u,f){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.deleteMethod(`${s.INTEGRATIONS_API}/${_}`,Object.assign({},f))}}es.Integrations=p;class h extends r.ApiResource{constructor(o){super(o)}update(o,u,f){const{slug:v}=o,_=i(o,["slug"]);return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.put(`${s.INTEGRATIONS_API}/${v}/workspaces`,Object.assign({body:_},f))}list(o,u,f){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.getMethod(`${s.INTEGRATIONS_API}/${_}/workspaces`,Object.assign({},f))}}es.Workspaces=h;class d extends r.ApiResource{constructor(o){super(o)}update(o,u,f){const{slug:v}=o,_=i(o,["slug"]);return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.put(`${s.INTEGRATIONS_API}/${v}/models`,Object.assign({body:_},f))}list(o,u,f){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.getMethod(`${s.INTEGRATIONS_API}/${_}/models`,Object.assign({},f))}delete(o,u,f){const v=o,_=v.slug,O=v.slugs;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u))));const j=O?`?slugs=${O}`:"";return this.deleteMethod(`${s.INTEGRATIONS_API}/${_}/models${j}`,Object.assign({},f))}}return es.Models=d,es}var tr={},vO;function pE(){if(vO)return tr;vO=1;var i=tr&&tr.__rest||function(h,d){var l={};for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&d.indexOf(o)<0&&(l[o]=h[o]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(h);u<o.length;u++)d.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(h,o[u])&&(l[o[u]]=h[o[u]]);return l};Object.defineProperty(tr,"__esModule",{value:!0}),tr.Providers=void 0;const s=nn(),r=Ue(),c=De(),m=Pe();class p extends r.ApiResource{list(d,l,o){const u=d;l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l))));const f=u?(0,m.toQueryParams)(u):"";return this.getMethod(`${s.PROVIDERS_API}${f}`,Object.assign({},o))}create(d,l,o){const u=d;return l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l)))),this.post(s.PROVIDERS_API,Object.assign({body:u},o))}retrieve(d,l,o){const{slug:u}=d,f=i(d,["slug"]);l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l))));const v=(0,m.toQueryParams)(f);return this.getMethod(`${s.PROVIDERS_API}/${u}${v}`,Object.assign({},o))}update(d,l,o){const{slug:u}=d,f=i(d,["slug"]);return l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l)))),this.put(`${s.PROVIDERS_API}/${u}`,Object.assign({body:f},o))}delete(d,l,o){const{slug:u}=d,f=i(d,["slug"]);l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l))));const v=(0,m.toQueryParams)(f);return this.deleteMethod(`${s.PROVIDERS_API}/${u}${v}`,Object.assign({},o))}}return tr.Providers=p,tr}var nr={},yO;function mE(){if(yO)return nr;yO=1;var i=nr&&nr.__awaiter||function(p,h,d,l){function o(u){return u instanceof d?u:new d(function(f){f(u)})}return new(d||(d=Promise))(function(u,f){function v(j){try{O(l.next(j))}catch(C){f(C)}}function _(j){try{O(l.throw(j))}catch(C){f(C)}}function O(j){j.done?u(j.value):o(j.value).then(v,_)}O((l=l.apply(p,h||[])).next())})};Object.defineProperty(nr,"__esModule",{value:!0}),nr.Webhooks=void 0;const s=Ue(),r=De(),c=Pe();class m extends s.ApiResource{constructor(h){super(h)}unwarp(h,d,l,o=300,u){return i(this,void 0,void 0,function*(){if(u){const _=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).webhooks.unwrap(h,d,l,o)})}verifySignature(h,d,l,o=300,u){return i(this,void 0,void 0,function*(){if(u){const _=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).webhooks.verifySignature(h,d,l,o)})}}return nr.Webhooks=m,nr}var ts={},_O;function gE(){if(_O)return ts;_O=1;var i=ts&&ts.__awaiter||function(d,l,o,u){function f(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function O(b){try{C(u.next(b))}catch(S){_(S)}}function j(b){try{C(u.throw(b))}catch(S){_(S)}}function C(b){b.done?v(b.value):f(b.value).then(O,j)}C((u=u.apply(d,l||[])).next())})};Object.defineProperty(ts,"__esModule",{value:!0}),ts.Calls=ts.ClientSecrets=ts.MainRealtime=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{constructor(l){super(l),this.clientSecrets=new p(l),this.calls=new h(l)}}ts.MainRealtime=m;class p extends s.ApiResource{constructor(l){super(l)}create(l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).realtime.clientSecrets.create(f,u).withResponse();return(0,r.finalResponse)(_)})}}ts.ClientSecrets=p;class h extends s.ApiResource{constructor(l){super(l)}accept(l,o,u,f){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.accept(l,o,f)}hangup(l,o,u){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.hangup(l,u)}refer(l,o,u,f){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.refer(l,o,f)}reject(l,o={},u,f){if(u){const O=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:O})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.reject(l,o,f)}}return ts.Calls=h,ts}var Ds={},bO;function vE(){if(bO)return Ds;bO=1;var i=Ds&&Ds.__awaiter||function(h,d,l,o){function u(f){return f instanceof l?f:new l(function(v){v(f)})}return new(l||(l=Promise))(function(f,v){function _(C){try{j(o.next(C))}catch(b){v(b)}}function O(C){try{j(o.throw(C))}catch(b){v(b)}}function j(C){C.done?f(C.value):u(C.value).then(_,O)}j((o=o.apply(h,d||[])).next())})};Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.Items=Ds.Conversations=void 0;const s=Ue(),r=Pe(),c=De();class m extends s.ApiResource{constructor(d){super(d),this.items=new p(d)}create(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.create(u,o).withResponse();return(0,r.finalResponse)(v)})}retrieve(d,l,o){return i(this,void 0,void 0,function*(){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).conversations.retrieve(d,o).withResponse();return(0,r.finalResponse)(f)})}update(d,l,o,u){return i(this,void 0,void 0,function*(){const f=l;if(o){const O=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:O})))}const _=yield(0,r.initOpenAIClient)(this.client).conversations.update(d,f,u).withResponse();return(0,r.finalResponse)(_)})}delete(d,l,o){return i(this,void 0,void 0,function*(){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=yield(0,r.initOpenAIClient)(this.client).conversations.delete(d,o).withResponse();return(0,r.finalResponse)(f)})}}Ds.Conversations=m;class p extends s.ApiResource{create(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.create(d,l,u).withResponse();return(0,r.finalResponse)(v)})}retrieve(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.retrieve(d,l,u).withResponse();return(0,r.finalResponse)(v)})}list(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.list(d,l,u).withResponse();return(0,r.finalResponse)(v)})}delete(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.delete(d,l,u).withResponse();return(0,r.finalResponse)(v)})}}return Ds.Items=p,Ds}var Nc={},OO;function yE(){if(OO)return Nc;OO=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.Videos=void 0;const i=Ue(),s=De(),r=Pe();class c extends i.ApiResource{constructor(p){super(p)}create(p,h,d){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.create(p,d)}retrieve(p,h,d){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.retrieve(p,d)}list(p={},h,d){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.list(p,d)}delete(p,h,d){if(h){const u=(0,r.overrideConfig)(this.client.config,h.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},h),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.delete(p,d)}downloadContent(p,h={},d,l){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return(0,r.initOpenAIClient)(this.client).videos.downloadContent(p,h,l)}remix(p,h,d,l){if(d){const f=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},d),{config:f})))}return(0,r.initOpenAIClient)(this.client).videos.remix(p,h,l)}}return Nc.Videos=c,Nc}var Us={},jO;function _E(){if(jO)return Us;jO=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.ChatKitThreads=Us.ChatKitSessions=Us.ChatKit=void 0;const i=Ue(),s=De(),r=Pe();class c extends i.ApiResource{constructor(d){super(d),this.sessions=new m(d),this.threads=new p(d)}uploadFile(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return(0,r.initOpenAIClient)(this.client).beta.chatkit.uploadFile(d,o)}}Us.ChatKit=c;class m extends i.ApiResource{create(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=(0,r.initOpenAIClient)(this.client).beta.chatkit.sessions.create(d,o).withResponse();return(0,r.finalResponse)(f)}cancel(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=(0,r.initOpenAIClient)(this.client).beta.chatkit.sessions.cancel(d,o).withResponse();return(0,r.finalResponse)(f)}}Us.ChatKitSessions=m;class p extends i.ApiResource{retrieve(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.retrieve(d,o).withResponse();return(0,r.finalResponse)(f)}list(d={},l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.list(d,o)}delete(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const f=(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.delete(d,o).withResponse();return(0,r.finalResponse)(f)}listItems(d,l={},o,u){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.listItems(d,l,u)}}return Us.ChatKitThreads=p,Us}var kc={},AO;function bE(){if(AO)return kc;AO=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.Guardrails=void 0;const i=Ue(),s=De(),r=Pe(),c=nn();class m extends i.ApiResource{create(h,d,l){const o=h;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.post(c.GUARDRAILS_API,Object.assign({body:o},l))}list(h,d,l){const o=h;d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d))));const u=o?(0,r.toQueryParams)(o):"";return this.getMethod(`${c.GUARDRAILS_API}${u}`,Object.assign({},l))}retrieve(h,d,l){const u=h.guardrail_id;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.getMethod(`${c.GUARDRAILS_API}/${u}`,Object.assign({},l))}update(h,d,l){const o=h,u=o.guardrail_id;return delete o.guardrail_id,d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.put(`${c.GUARDRAILS_API}/${u}`,Object.assign({body:o},l))}delete(h,d,l){const o=h,u=o.guardrail_id;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.deleteMethod(`${c.GUARDRAILS_API}/${u}`,Object.assign({body:o},l))}}return kc.Guardrails=m,kc}var SO;function Op(){return SO||(SO=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Guardrails=i.ChatKit=i.Videos=i.Conversations=i.MainRealtime=i.Webhooks=i.Providers=i.Integrations=i.Containers=i.Evals=i.Collections=i.Labels=i.Responses=i.Realtime=i.Logs=i.ApiKeys=i.Uploads=i.VectorStores=i.Audio=i.Moderations=i.FineTuning=i.VirtualKeys=i.Batches=i.Configs=i.Admin=i.Models=i.MainFiles=i.Threads=i.Assistants=i.Images=i.Embeddings=i.putMethod=i.deleteMethod=i.getMethod=i.postMethod=i.Prompt=i.Generations=i.Feedback=i.createHeaders=i.Completions=i.Chat=void 0;var s=Nx();Object.defineProperty(i,"Chat",{enumerable:!0,get:function(){return s.Chat}});var r=kx();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return r.Completions}});var c=De();Object.defineProperty(i,"createHeaders",{enumerable:!0,get:function(){return c.createHeaders}});var m=qx();Object.defineProperty(i,"Feedback",{enumerable:!0,get:function(){return m.Feedback}});var p=zx();Object.defineProperty(i,"Generations",{enumerable:!0,get:function(){return p.Generations}}),Object.defineProperty(i,"Prompt",{enumerable:!0,get:function(){return p.Prompt}});var h=$x();Object.defineProperty(i,"postMethod",{enumerable:!0,get:function(){return h.postMethod}});var d=Dx();Object.defineProperty(i,"getMethod",{enumerable:!0,get:function(){return d.getMethod}});var l=Ux();Object.defineProperty(i,"deleteMethod",{enumerable:!0,get:function(){return l.deleteMethod}});var o=Bx();Object.defineProperty(i,"putMethod",{enumerable:!0,get:function(){return o.putMethod}});var u=Lx();Object.defineProperty(i,"Embeddings",{enumerable:!0,get:function(){return u.Embeddings}});var f=Fx();Object.defineProperty(i,"Images",{enumerable:!0,get:function(){return f.Images}});var v=Gx();Object.defineProperty(i,"Assistants",{enumerable:!0,get:function(){return v.Assistants}});var _=Vx();Object.defineProperty(i,"Threads",{enumerable:!0,get:function(){return _.Threads}});var O=Kx();Object.defineProperty(i,"MainFiles",{enumerable:!0,get:function(){return O.MainFiles}});var j=Yx();Object.defineProperty(i,"Models",{enumerable:!0,get:function(){return j.Models}});var C=Zx();Object.defineProperty(i,"Admin",{enumerable:!0,get:function(){return C.Admin}});var b=Xx();Object.defineProperty(i,"Configs",{enumerable:!0,get:function(){return b.Configs}});var S=Qx();Object.defineProperty(i,"Batches",{enumerable:!0,get:function(){return S.Batches}});var x=Jx();Object.defineProperty(i,"VirtualKeys",{enumerable:!0,get:function(){return x.VirtualKeys}});var E=Wx();Object.defineProperty(i,"FineTuning",{enumerable:!0,get:function(){return E.FineTuning}});var I=eE();Object.defineProperty(i,"Moderations",{enumerable:!0,get:function(){return I.Moderations}});var H=nE();Object.defineProperty(i,"Audio",{enumerable:!0,get:function(){return H.Audio}});var w=sE();Object.defineProperty(i,"VectorStores",{enumerable:!0,get:function(){return w.VectorStores}});var k=iE();Object.defineProperty(i,"Uploads",{enumerable:!0,get:function(){return k.Uploads}});var N=rE();Object.defineProperty(i,"ApiKeys",{enumerable:!0,get:function(){return N.ApiKeys}});var B=aE();Object.defineProperty(i,"Logs",{enumerable:!0,get:function(){return B.Logs}});var F=oE();Object.defineProperty(i,"Realtime",{enumerable:!0,get:function(){return F.Realtime}});var W=cE();Object.defineProperty(i,"Responses",{enumerable:!0,get:function(){return W.Responses}});var K=lE();Object.defineProperty(i,"Labels",{enumerable:!0,get:function(){return K.Labels}});var $=uE();Object.defineProperty(i,"Collections",{enumerable:!0,get:function(){return $.Collections}});var Y=dE();Object.defineProperty(i,"Evals",{enumerable:!0,get:function(){return Y.Evals}});var P=fE();Object.defineProperty(i,"Containers",{enumerable:!0,get:function(){return P.Containers}});var q=hE();Object.defineProperty(i,"Integrations",{enumerable:!0,get:function(){return q.Integrations}});var L=pE();Object.defineProperty(i,"Providers",{enumerable:!0,get:function(){return L.Providers}});var de=mE();Object.defineProperty(i,"Webhooks",{enumerable:!0,get:function(){return de.Webhooks}});var me=gE();Object.defineProperty(i,"MainRealtime",{enumerable:!0,get:function(){return me.MainRealtime}});var M=vE();Object.defineProperty(i,"Conversations",{enumerable:!0,get:function(){return M.Conversations}});var Z=yE();Object.defineProperty(i,"Videos",{enumerable:!0,get:function(){return Z.Videos}});var X=_E();Object.defineProperty(i,"ChatKit",{enumerable:!0,get:function(){return X.ChatKit}});var ie=bE();Object.defineProperty(i,"Guardrails",{enumerable:!0,get:function(){return ie.Guardrails}})})(gh)),gh}var Cn={},Rn={},Cu={exports:{}},CO;function OE(){if(CO)return Cu.exports;CO=1,Cu.exports=i,Cu.exports.HttpsAgent=i;function i(){}return Cu.exports}var qc={},RO;function jE(){return RO||(RO=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.VERSION=void 0,qc.VERSION="3.0.1"),qc}var wO;function AE(){if(wO)return Rn;wO=1;var i=Rn&&Rn.__awaiter||function(C,b,S,x){function E(I){return I instanceof S?I:new S(function(H){H(I)})}return new(S||(S=Promise))(function(I,H){function w(B){try{N(x.next(B))}catch(F){H(F)}}function k(B){try{N(x.throw(B))}catch(F){H(F)}}function N(B){B.done?I(B.value):E(B.value).then(w,k)}N((x=x.apply(C,b||[])).next())})},s=Rn&&Rn.__rest||function(C,b){var S={};for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&b.indexOf(x)<0&&(S[x]=C[x]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,x=Object.getOwnPropertySymbols(C);E<x.length;E++)b.indexOf(x[E])<0&&Object.prototype.propertyIsEnumerable.call(C,x[E])&&(S[x[E]]=C[x[E]]);return S},r=Rn&&Rn.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.ApiClient=Rn.APIPromise=void 0;const c=r(OE()),m=Op(),p=nn(),h=b1(),d=O1(),l=Pe(),o=jE(),u=new c.default({keepAlive:!0,timeout:300*1e3});function f(){if(typeof window<"u"&&window.fetch)return window.fetch.bind(window);if(typeof ch<"u"&&ch.fetch)return ch.fetch;if(typeof fetch<"u")return fetch.bind(globalThis);throw new Error("Fetch is not available in this environment")}function v(C){return i(this,void 0,void 0,function*(){const{response:b}=C;if(C.options.stream)return new d.Stream(b);const S=b.headers.get("content-type");if(S?.includes("application/json")){const E=_(C);return Object.assign(Object.assign({},yield b.json()),{getHeaders:()=>E})}return yield b.text()})}function _(C){const{responseHeaders:b}=C,S=(0,d.createResponseHeaders)(b),x=p.PORTKEY_HEADER_PREFIX,E=Object.entries(S).filter(([I,H])=>I.startsWith(x)).map(([I,H])=>[I.replace(x,""),H]);return Object.fromEntries(E)}class O extends Promise{constructor(b,S=v){super(x=>{x(null)}),this.responsePromise=b,this.parseResponse=S}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(b,S){return this.parse().then(b,S)}catch(b){return this.parse().catch(b)}finally(b){return this.parse().finally(b)}}Rn.APIPromise=O;class j{constructor(b){var{apiKey:S,baseURL:x,config:E,virtualKey:I,traceID:H,metadata:w,provider:k,Authorization:N,cacheForceRefresh:B,debug:F,customHost:W,openaiProject:K,openaiOrganization:$,awsSecretAccessKey:Y,awsAccessKeyId:P,awsSessionToken:q,awsRegion:L,vertexProjectId:de,vertexRegion:me,workersAiAccountId:M,azureResourceName:Z,azureDeploymentId:X,azureApiVersion:ie,azureEndpointName:ee,huggingfaceBaseUrl:fe,forwardHeaders:ge,cacheNamespace:ae,requestTimeout:oe,strictOpenAiCompliance:we=!1,anthropicBeta:ne,anthropicVersion:pe,mistralFimCompletion:ve,dangerouslyAllowBrowser:Te,vertexStorageBucketName:Le,providerFileName:nt,providerModel:Be,awsS3Bucket:bt,awsS3ObjectKey:it,awsBedrockModel:jt,fireworksAccountId:Ot}=b,Fn=s(b,["apiKey","baseURL","config","virtualKey","traceID","metadata","provider","Authorization","cacheForceRefresh","debug","customHost","openaiProject","openaiOrganization","awsSecretAccessKey","awsAccessKeyId","awsSessionToken","awsRegion","vertexProjectId","vertexRegion","workersAiAccountId","azureResourceName","azureDeploymentId","azureApiVersion","azureEndpointName","huggingfaceBaseUrl","forwardHeaders","cacheNamespace","requestTimeout","strictOpenAiCompliance","anthropicBeta","anthropicVersion","mistralFimCompletion","dangerouslyAllowBrowser","vertexStorageBucketName","providerFileName","providerModel","awsS3Bucket","awsS3ObjectKey","awsBedrockModel","fireworksAccountId"]);this.maxRetries=1,this.apiKey=S??"",this.baseURL=x??"",this.customHeaders=(0,m.createHeaders)(Object.assign({apiKey:S,config:E,virtualKey:I,traceID:H,metadata:w,provider:k,Authorization:N,cacheForceRefresh:B,debug:F,customHost:W,cacheNamespace:ae,openaiProject:K,openaiOrganization:$,awsSecretAccessKey:Y,awsAccessKeyId:P,awsSessionToken:q,awsRegion:L,vertexProjectId:de,vertexRegion:me,workersAiAccountId:M,azureResourceName:Z,azureDeploymentId:X,azureApiVersion:ie,azureEndpointName:ee,huggingfaceBaseUrl:fe,forwardHeaders:ge,requestTimeout:oe,strictOpenAiCompliance:we,anthropicVersion:pe,mistralFimCompletion:ve,anthropicBeta:ne,dangerouslyAllowBrowser:Te,vertexStorageBucketName:Le,providerFileName:nt,providerModel:Be,awsS3Bucket:bt,awsS3ObjectKey:it,awsBedrockModel:jt,fireworksAccountId:Ot},Fn)),this.portkeyHeaders=this.defaultHeaders(),this.fetch=f(),this.responseHeaders={}}defaultHeaders(){return Object.assign({"Content-Type":"application/json",[`${p.PORTKEY_HEADER_PREFIX}package-version`]:`portkey-${o.VERSION}`},(0,l.getPlatformProperties)())}_post(b,S){return this.methodRequest("post",b,S)}_put(b,S){return this.methodRequest("put",b,S)}_get(b,S){return this.methodRequest("get",b,S)}_delete(b,S){return this.methodRequest("delete",b,S)}generateError(b,S,x,E){return h.APIError.generate(b,S,x,E)}_shouldRetry(b){const S=b.status,x=b.headers.get("x-portkey-trace-id"),E=b.headers.get("x-portkey-request-id"),I=b.headers.get("x-portkey-gateway-exception");return!(S<500||x||E||I)}request(b,S=0){var x;return i(this,void 0,void 0,function*(){const{req:E,url:I}=this.buildRequest(b),H=yield this.fetch(I,E).catch(l.castToError);if(H instanceof Error){if(!((x=b.signal)===null||x===void 0)&&x.aborted)throw new h.APIUserAbortError;if(S<this.maxRetries)return this.request(b,S+1);throw H.name==="AbortError"?new h.APIConnectionTimeoutError({message:`${H.message} 
 STACK: ${H.stack}`}):new h.APIConnectionError({cause:H})}if(this.responseHeaders=(0,d.createResponseHeaders)(H.headers),!H.ok){if(S<this.maxRetries&&this._shouldRetry(H))return this.request(b,S+1);const w=yield H.text().catch(()=>"Unknown"),k=(0,d.safeJSON)(w),N=k?void 0:w;throw this.generateError(H.status,k,N,this.responseHeaders)}return{response:H,options:b,responseHeaders:H.headers}})}buildRequest(b){const S=new URL(this.baseURL+b.path),{method:x,body:E,extraHeaders:I}=b,H=Object.assign(Object.assign(Object.assign({},this.defaultHeaders()),this.customHeaders),I),k=Object.assign({method:x,headers:H},typeof window>"u"?{agent:u}:{});return x!=="get"&&E!==void 0&&(k.body=JSON.stringify((0,l.parseBody)(E))),{req:k,url:S.toString()}}methodRequest(b,S,x){return new O(this.request(Object.assign({method:b,path:S},x)))}}return Rn.ApiClient=j,Rn}var xO;function SE(){if(xO)return Cn;xO=1;var i=Cn&&Cn.__createBinding||(Object.create?(function(o,u,f,v){v===void 0&&(v=f);var _=Object.getOwnPropertyDescriptor(u,f);(!_||("get"in _?!u.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(o,v,_)}):(function(o,u,f,v){v===void 0&&(v=f),o[v]=u[f]})),s=Cn&&Cn.__setModuleDefault||(Object.create?(function(o,u){Object.defineProperty(o,"default",{enumerable:!0,value:u})}):function(o,u){o.default=u}),r=Cn&&Cn.__importStar||function(o){if(o&&o.__esModule)return o;var u={};if(o!=null)for(var f in o)f!=="default"&&Object.prototype.hasOwnProperty.call(o,f)&&i(u,o,f);return s(u,o),u},c=Cn&&Cn.__rest||function(o,u){var f={};for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&u.indexOf(v)<0&&(f[v]=o[v]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,v=Object.getOwnPropertySymbols(o);_<v.length;_++)u.indexOf(v[_])<0&&Object.prototype.propertyIsEnumerable.call(o,v[_])&&(f[v[_]]=o[v[_]]);return f};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.Portkey=void 0;const m=r(Op()),p=AE(),h=Ku(),d=Pe();class l extends p.ApiClient{constructor(u){var f,v,{apiKey:_=(f=(0,d.readEnv)("PORTKEY_API_KEY"))!==null&&f!==void 0?f:null,baseURL:O=(v=(0,d.readEnv)("PORTKEY_BASE_URL"))!==null&&v!==void 0?v:null,config:j,virtualKey:C,provider:b,traceID:S,metadata:x,Authorization:E,cacheForceRefresh:I,debug:H,customHost:w,openaiProject:k,openaiOrganization:N,awsSecretAccessKey:B,awsAccessKeyId:F,awsSessionToken:W,awsRegion:K,vertexProjectId:$,vertexRegion:Y,workersAiAccountId:P,azureResourceName:q,azureDeploymentId:L,azureApiVersion:de,azureEndpointName:me,huggingfaceBaseUrl:M,forwardHeaders:Z,cacheNamespace:X,requestTimeout:ie,strictOpenAiCompliance:ee,anthropicBeta:fe,anthropicVersion:ge,mistralFimCompletion:ae,dangerouslyAllowBrowser:oe,vertexStorageBucketName:we,providerFileName:ne,providerModel:pe,awsS3Bucket:ve,awsS3ObjectKey:Te,awsBedrockModel:Le,fireworksAccountId:nt,calculateAudioDuration:Be}=u,bt=c(u,["apiKey","baseURL","config","virtualKey","provider","traceID","metadata","Authorization","cacheForceRefresh","debug","customHost","openaiProject","openaiOrganization","awsSecretAccessKey","awsAccessKeyId","awsSessionToken","awsRegion","vertexProjectId","vertexRegion","workersAiAccountId","azureResourceName","azureDeploymentId","azureApiVersion","azureEndpointName","huggingfaceBaseUrl","forwardHeaders","cacheNamespace","requestTimeout","strictOpenAiCompliance","anthropicBeta","anthropicVersion","mistralFimCompletion","dangerouslyAllowBrowser","vertexStorageBucketName","providerFileName","providerModel","awsS3Bucket","awsS3ObjectKey","awsBedrockModel","fireworksAccountId","calculateAudioDuration"]);if((0,h.isRunningInBrowser)()&&!oe)throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Portkey({ ..., dangerouslyAllowBrowser: true, ... });`);super(Object.assign({apiKey:_,baseURL:O,config:j,virtualKey:C,provider:b,traceID:S,metadata:x,Authorization:E,cacheForceRefresh:I,debug:H,customHost:w,cacheNamespace:X,openaiProject:k,openaiOrganization:N,awsSecretAccessKey:B,awsAccessKeyId:F,awsSessionToken:W,awsRegion:K,vertexProjectId:$,vertexRegion:Y,workersAiAccountId:P,azureResourceName:q,azureDeploymentId:L,azureApiVersion:de,azureEndpointName:me,huggingfaceBaseUrl:M,forwardHeaders:Z,requestTimeout:ie,strictOpenAiCompliance:ee,anthropicBeta:fe,anthropicVersion:ge,mistralFimCompletion:ae,dangerouslyAllowBrowser:oe,vertexStorageBucketName:we,providerFileName:ne,providerModel:pe,awsS3Bucket:ve,awsS3ObjectKey:Te,awsBedrockModel:Le,fireworksAccountId:nt},bt)),this.completions=new m.Completions(this),this.chat=new m.Chat(this),this.embeddings=new m.Embeddings(this),this.files=new m.MainFiles(this),this.images=new m.Images(this),this.models=new m.Models(this),this.generations=new m.Generations(this),this.prompts=new m.Prompt(this),this.labels=new m.Labels(this),this.collections=new m.Collections(this),this.feedback=new m.Feedback(this),this.batches=new m.Batches(this),this.fineTuning=new m.FineTuning(this),this.vectorStores=new m.VectorStores(this),this.moderations=new m.Moderations(this),this.audio=new m.Audio(this),this.uploads=new m.Uploads(this),this.responses=new m.Responses(this),this.evals=new m.Evals(this),this.containers=new m.Containers(this),this.webhooks=new m.Webhooks(this),this.admin=new m.Admin(this),this.virtualKeys=new m.VirtualKeys(this),this.apiKeys=new m.ApiKeys(this),this.configs=new m.Configs(this),this.logs=new m.Logs(this),this.integrations=new m.Integrations(this),this.providers=new m.Providers(this),this.realtime=new m.MainRealtime(this),this.conversations=new m.Conversations(this),this.videos=new m.Videos(this),this.guardrails=new m.Guardrails(this),this.beta={assistants:new m.Assistants(this),threads:new m.Threads(this),realtime:new m.Realtime(this),chatkit:new m.ChatKit(this)},this.post=(it,jt,Ot,Fn)=>new m.postMethod(this).create(it,jt,Ot,Fn),this.get=(it,jt,Ot)=>new m.getMethod(this).create(it,jt,Ot),this.delete=(it,jt,Ot)=>new m.deleteMethod(this).create(it,jt,Ot),this.put=(it,jt,Ot,Fn)=>new m.putMethod(this).create(it,jt,Ot,Fn),this.baseURL=(0,d.setBaseURL)(O,_),this.apiKey=(0,d.setApiKey)(this.baseURL,_),this.virtualKey=C||null,this.config=j||null,this.provider=b,this.traceID=S,this.metadata=x,this.cacheForceRefresh=I,this.debug=H,this.customHost=w,this.cacheNamespace=X,this.openaiProject=k,this.openaiOrganization=N,this.awsSecretAccessKey=B,this.awsAccessKeyId=F,this.awsSessionToken=W,this.awsRegion=K,this.vertexProjectId=$,this.vertexRegion=Y,this.workersAiAccountId=P,this.azureResourceName=q,this.azureDeploymentId=L,this.azureApiVersion=de,this.azureEndpointName=me,this.huggingfaceBaseUrl=M,this.forwardHeaders=Z,this.requestTimeout=ie,this.strictOpenAiCompliance=ee,this.anthropicBeta=fe,this.anthropicVersion=ge,this.mistralFimCompletion=ae,this.dangerouslyAllowBrowser=oe??!1,this.vertexStorageBucketName=we,this.providerFileName=ne,this.providerModel=pe,this.awsS3Bucket=ve,this.awsS3ObjectKey=Te,this.awsBedrockModel=Le,this.fireworksAccountId=nt,this.calculateAudioDuration=Be??!0}}return Cn.Portkey=l,Cn}var Mh={},zc={},$c={},Ph,EO;function CE(){return EO||(EO=1,Ph=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),Ph}var Bs={},Dc={},TO;function RE(){if(TO)return Dc;TO=1;var i;Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.EventEmitter=void 0;const s=ze();let r=class{constructor(){i.set(this,{})}on(m,p){return(s.__classPrivateFieldGet(this,i,"f")[m]||(s.__classPrivateFieldGet(this,i,"f")[m]=[])).push({listener:p}),this}off(m,p){const h=s.__classPrivateFieldGet(this,i,"f")[m];if(!h)return this;const d=h.findIndex(l=>l.listener===p);return d>=0&&h.splice(d,1),this}once(m,p){return(s.__classPrivateFieldGet(this,i,"f")[m]||(s.__classPrivateFieldGet(this,i,"f")[m]=[])).push({listener:p,once:!0}),this}emitted(m){return new Promise((p,h)=>{this.once(m,p)})}_emit(m,...p){const h=s.__classPrivateFieldGet(this,i,"f")[m];h&&(s.__classPrivateFieldGet(this,i,"f")[m]=h.filter(d=>!d.once),h.forEach(({listener:d})=>d(...p)))}_hasListener(m){const p=s.__classPrivateFieldGet(this,i,"f")[m];return p&&p.length>0}};return Dc.EventEmitter=r,i=new WeakMap,Dc}var IO;function sj(){if(IO)return Bs;IO=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.OpenAIRealtimeEmitter=Bs.OpenAIRealtimeError=void 0,Bs.isAzure=p,Bs.buildRealtimeURL=h;const i=RE(),s=Ln(),r=Vu();class c extends s.OpenAIError{constructor(l,o){super(l),this.error=o?.error,this.event_id=o?.event_id}}Bs.OpenAIRealtimeError=c;class m extends i.EventEmitter{_onError(l,o,u){if(o=l?.error?`${l.error.message} code=${l.error.code} param=${l.error.param} type=${l.error.type} event_id=${l.error.event_id}`:o??"unknown error",!this._hasListener("error")){const v=new c(o+"\n\nTo resolve these unhandled rejection errors you should bind an `error` callback, e.g. `rt.on('error', (error) => ...)` ",l);v.cause=u,Promise.reject(v);return}const f=new c(o,l);f.cause=u,this._emit("error",f)}}Bs.OpenAIRealtimeEmitter=m;function p(d){return d instanceof r.AzureOpenAI}function h(d,l){const o="/realtime",u=d.baseURL,f=new URL(u+(u.endsWith("/")?o.slice(1):o));return f.protocol="wss",p(d)?(f.searchParams.set("api-version",d.apiVersion),f.searchParams.set("deployment",l)):f.searchParams.set("model",l),f}return Bs}var HO;function wE(){if(HO)return $c;HO=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.OpenAIRealtimeWS=void 0;const s=ze().__importStar(CE()),r=Vu(),c=sj();class m extends c.OpenAIRealtimeEmitter{constructor(h,d){if(super(),d??(d=new r.OpenAI),typeof d?._options?.apiKey=="function"&&!h.__resolvedApiKey)throw new Error(["Cannot open Realtime WebSocket with a function-based apiKey.","Use the .create() method so that the key is resolved before connecting:","await OpenAIRealtimeWS.create(client, { model })"].join(`
`));this.url=(0,c.buildRealtimeURL)(d,h.model),this.socket=new s.WebSocket(this.url,{...h.options,headers:{...h.options?.headers,...(0,c.isAzure)(d)&&!h.__resolvedApiKey?{}:{Authorization:`Bearer ${d.apiKey}`},"OpenAI-Beta":"realtime=v1"}}),this.socket.on("message",o=>{const u=(()=>{try{return JSON.parse(o.toString())}catch(f){return this._onError(null,"could not parse websocket event",f),null}})();u&&(this._emit("event",u),u.type==="error"?this._onError(u):this._emit(u.type,u))}),this.socket.on("error",o=>{this._onError(null,o.message,o)})}static async create(h,d){return new m({...d,__resolvedApiKey:await h._callApiKey()},h)}static async azure(h,d={}){const l=await h._callApiKey(),o=d.deploymentName??h.deploymentName;if(!o)throw new Error("No deployment name provided");return new m({model:o,options:{...d.options,headers:{...d.options?.headers,...l?{}:{"api-key":h.apiKey}}},__resolvedApiKey:l},h)}send(h){try{this.socket.send(JSON.stringify(h))}catch(d){this._onError(null,"could not send data",d)}}close(h){try{this.socket.close(h?.code??1e3,h?.reason??"OK")}catch(d){this._onError(null,"could not close the connection",d)}}}return $c.OpenAIRealtimeWS=m,$c}var MO;function xE(){if(MO)return zc;MO=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.PortkeyAIRealtimeWS=void 0;const i=wE();class s extends i.OpenAIRealtimeWS{constructor(c,m){var p;const h=Object.assign(Object.assign({},c.options),{headers:Object.assign(Object.assign({},((p=c.options)===null||p===void 0?void 0:p.headers)||{}),m.customHeaders)});super(Object.assign(Object.assign({},c),{options:h}),m)}}return zc.PortkeyAIRealtimeWS=s,zc}var PO;function EE(){return PO||(PO=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.PortkeyAIRealtimeWS=void 0;var s=xE();Object.defineProperty(i,"PortkeyAIRealtimeWS",{enumerable:!0,get:function(){return s.PortkeyAIRealtimeWS}})})(Mh)),Mh}var Uc={},Bc={},NO;function TE(){if(NO)return Bc;NO=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.OpenAIRealtimeWebSocket=void 0;const i=Vu(),s=Ln(),r=sj(),c=Qh();class m extends r.OpenAIRealtimeEmitter{constructor(h,d){super();const l=typeof d?._options?.apiKey=="function",o=h.dangerouslyAllowBrowser??d?._options?.dangerouslyAllowBrowser??(d?.apiKey?.startsWith("ek_")?!0:null);if(!o&&(0,c.isRunningInBrowser)())throw new s.OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.

You can avoid this error by creating an ephemeral session token:
https://platform.openai.com/docs/api-reference/realtime-sessions
`);if(d??(d=new i.OpenAI({dangerouslyAllowBrowser:o})),l&&!h?.__resolvedApiKey)throw new Error(["Cannot open Realtime WebSocket with a function-based apiKey.","Use the .create() method so that the key is resolved before connecting:","await OpenAIRealtimeWebSocket.create(client, { model })"].join(`
`));this.url=(0,r.buildRealtimeURL)(d,h.model),h.onURL?.(this.url),this.socket=new WebSocket(this.url.toString(),["realtime",...(0,r.isAzure)(d)?[]:[`openai-insecure-api-key.${d.apiKey}`],"openai-beta.realtime-v1"]),this.socket.addEventListener("message",u=>{const f=(()=>{try{return JSON.parse(u.data.toString())}catch(v){return this._onError(null,"could not parse websocket event",v),null}})();f&&(this._emit("event",f),f.type==="error"?this._onError(f):this._emit(f.type,f))}),this.socket.addEventListener("error",u=>{this._onError(null,u.message,null)}),(0,r.isAzure)(d)&&(this.url.searchParams.get("Authorization")!==null?this.url.searchParams.set("Authorization","<REDACTED>"):this.url.searchParams.set("api-key","<REDACTED>"))}static async create(h,d){return new m({...d,__resolvedApiKey:await h._callApiKey()},h)}static async azure(h,d={}){const l=await h._callApiKey();function o(v){l?v.searchParams.set("Authorization",`Bearer ${h.apiKey}`):v.searchParams.set("api-key",h.apiKey)}const u=d.deploymentName??h.deploymentName;if(!u)throw new Error("No deployment name provided");const{dangerouslyAllowBrowser:f}=d;return new m({model:u,onURL:o,...f?{dangerouslyAllowBrowser:f}:{},__resolvedApiKey:l},h)}send(h){try{this.socket.send(JSON.stringify(h))}catch(d){this._onError(null,"could not send data",d)}}close(h){try{this.socket.close(h?.code??1e3,h?.reason??"OK")}catch(d){this._onError(null,"could not close the connection",d)}}}return Bc.OpenAIRealtimeWebSocket=m,Bc}var kO;function IE(){if(kO)return Uc;kO=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.PorkteyRealtimeWebSocket=void 0;const i=TE();class s extends i.OpenAIRealtimeWebSocket{constructor(c,m){super(Object.assign({},c),m)}}return Uc.PorkteyRealtimeWebSocket=s,Uc}var ns={},Nh={},qO;function HE(){return qO||(qO=1,Object.defineProperty(Nh,"__esModule",{value:!0})),Nh}var zO;function ME(){if(zO)return ns;zO=1;var i=ns&&ns.__createBinding||(Object.create?(function(c,m,p,h){h===void 0&&(h=p);var d=Object.getOwnPropertyDescriptor(m,p);(!d||("get"in d?!m.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(c,h,d)}):(function(c,m,p,h){h===void 0&&(h=p),c[h]=m[p]})),s=ns&&ns.__setModuleDefault||(Object.create?(function(c,m){Object.defineProperty(c,"default",{enumerable:!0,value:m})}):function(c,m){c.default=m}),r=ns&&ns.__importStar||function(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var p in c)p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)&&i(m,c,p);return s(m,c),m};return Object.defineProperty(ns,"__esModule",{value:!0}),ns.ChatCompletionTypes=void 0,ns.ChatCompletionTypes=r(HE()),ns}var $O;function PE(){return $O||($O=1,(function(i){var s=Hs&&Hs.__createBinding||(Object.create?(function(o,u,f,v){v===void 0&&(v=f);var _=Object.getOwnPropertyDescriptor(u,f);(!_||("get"in _?!u.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(o,v,_)}):(function(o,u,f,v){v===void 0&&(v=f),o[v]=u[f]})),r=Hs&&Hs.__setModuleDefault||(Object.create?(function(o,u){Object.defineProperty(o,"default",{enumerable:!0,value:u})}):function(o,u){o.default=u}),c=Hs&&Hs.__importStar||function(o){if(o&&o.__esModule)return o;var u={};if(o!=null)for(var f in o)f!=="default"&&Object.prototype.hasOwnProperty.call(o,f)&&s(u,o,f);return r(u,o),u};Object.defineProperty(i,"__esModule",{value:!0}),i.types=i.PorkteyRealtimeWebSocket=i.PortkeyAIRealtimeWS=i.createHeaders=i.PORTKEY_GATEWAY_URL=i.Portkey=void 0;const m=c(Op()),p=c(SE()),h=c(nn()),d=EE();Object.defineProperty(i,"PortkeyAIRealtimeWS",{enumerable:!0,get:function(){return d.PortkeyAIRealtimeWS}});const l=IE();Object.defineProperty(i,"PorkteyRealtimeWebSocket",{enumerable:!0,get:function(){return l.PorkteyRealtimeWebSocket}}),i.Portkey=p.Portkey,i.PORTKEY_GATEWAY_URL=h.PORTKEY_GATEWAY_URL,i.createHeaders=m.createHeaders,i.types=c(ME()),i.default=i.Portkey})(Hs)),Hs}var NE=PE();const DO=ip(NE);class kE{client;config;constructor(s){this.config=s,this.client=new DO({apiKey:s.apiKey,provider:"openai",dangerouslyAllowBrowser:!0})}async createChatCompletion(s){try{return await this.client.chat.completions.create({model:"gpt-4o",messages:s.messages,tools:s.tools,temperature:s.temperature??.7,max_tokens:s.max_tokens??2e3,stream:s.stream??!1})}catch(r){throw console.error("Portkey API error:",r),r}}async*createChatCompletionStream(s){try{const r=await this.client.chat.completions.create({model:"gpt-4o",messages:s.messages,tools:s.tools,temperature:s.temperature??.7,max_tokens:s.max_tokens??2e3,stream:!0});for await(const c of r)yield c}catch(r){throw console.error("Portkey streaming error:",r),r}}updateConfig(s){this.config={...this.config,...s},this.client=new DO({apiKey:this.config.apiKey,provider:"openai",dangerouslyAllowBrowser:!0})}}let sp=null;function kh(i){return i&&(sp=new kE(i)),sp}function qE(){return sp!==null}function zE(i){return{type:"function",function:{name:i.name,description:i.description||`Call the ${i.name} tool`,parameters:{type:"object",properties:i.inputSchema.properties||{},required:i.inputSchema.required||[]}}}}function $E(i){const s=[];for(const r of Object.values(i))for(const c of r)s.push(zE(c));return s}function DE(i,s){for(const[r,c]of Object.entries(s))if(c.some(m=>m.name===i))return r;return null}const UO="hoot-portkey-api-key";function UE(){const[i,s]=se.useState([{role:"assistant",content:qE()?" Hi! I'm connected to GPT-4o and can use your MCP tools. What would you like to do?":" Hi! Please configure your Portkey API key in settings to get started."}]),[r,c]=se.useState(""),[m,p]=se.useState(!1),[h,d]=se.useState(null),[l,o]=se.useState(!1),[u,f]=se.useState(null),[v,_]=se.useState(()=>localStorage.getItem(UO)||""),O=se.useRef(null),j=$e(N=>N.servers),C=$e(N=>N.tools),b=j.filter(N=>N.connected),S=Object.values(C).flat(),x=!!v;se.useEffect(()=>{v&&kh({apiKey:v})},[v]);const E=()=>{O.current?.scrollIntoView({behavior:"smooth"})};se.useEffect(()=>{E()},[i]);const I=N=>{_(N),localStorage.setItem(UO,N),kh({apiKey:N}),s([{role:"assistant",content:" Great! I'm now connected to GPT-4o. I can use your MCP tools. What would you like to do?"}])},H=async()=>{if(!r.trim()||m)return;if(!x){alert("Please configure your Portkey API key in settings first."),o(!0);return}if(b.length===0){alert("Please connect to at least one MCP server in the Test Tools tab first.");return}const N={role:"user",content:r};s(B=>[...B,N]),c(""),p(!0);try{const B=kh();if(!B)throw new Error("Portkey client not initialized");const F=$E(C),W=i.filter(q=>q.role==="user"||q.role==="assistant").map(q=>({role:q.role,content:q.content}));W.push({role:"user",content:r});const K={model:"gpt-4o",messages:W,tools:F.length>0?F:void 0},$=await B.createChatCompletion({messages:W,tools:F.length>0?F:void 0}),P=$.choices[0].message;if(P.tool_calls&&P.tool_calls.length>0){s(q=>[...q,{role:"assistant",content:P.content||"I need to use some tools to help with that.",apiRequest:K,apiResponse:$}]);for(const q of P.tool_calls){const L=q.function.name,de=q.function.arguments;s(M=>[...M,{role:"tool",content:`Calling tool: ${L}`,toolCall:{id:q.id,name:L,arguments:de},apiRequest:{function:L,arguments:de}}]);const me=DE(L,C);if(!me)throw new Error(`Tool ${L} not found on any connected server`);try{const M=await sa.executeTool(me,L,JSON.parse(de));s(ee=>[...ee,{role:"tool",content:`Tool result: ${L}`,toolResult:{id:q.id,name:L,result:JSON.stringify(M,null,2)},apiResponse:M}]);const Z=[...W,{role:"assistant",content:P.content||null,tool_calls:P.tool_calls},{role:"tool",content:JSON.stringify(M),tool_call_id:q.id}],X=await B.createChatCompletion({messages:Z,tools:F.length>0?F:void 0}),ie=X.choices[0].message;s(ee=>[...ee,{role:"assistant",content:ie.content||"Done!",apiRequest:{messages:Z},apiResponse:X}])}catch(M){s(Z=>[...Z,{role:"assistant",content:` Error executing tool ${L}: ${M.message}`}])}}}else s(q=>[...q,{role:"assistant",content:P.content||"I apologize, I could not generate a response.",apiRequest:K,apiResponse:$}])}catch(B){console.error("Error in LLM conversation:",B),s(F=>[...F,{role:"assistant",content:` Error: ${B.message||"Failed to process your request"}`}])}finally{p(!1)}},w=h!==null?i[h]:null,k=(N,B)=>{const F=typeof N=="string"?N:JSON.stringify(N,null,2);navigator.clipboard.writeText(F),f(B),setTimeout(()=>f(null),2e3)};return A.jsxs("div",{className:"hybrid-interface",children:[A.jsxs("div",{className:"chat-info-bar",children:[A.jsxs("div",{className:"chat-info-left",children:[A.jsxs("span",{className:"info-item",children:[A.jsx(Ru,{size:14}),A.jsxs("span",{children:[b.length," server",b.length!==1?"s":""]})]}),A.jsx("span",{className:"info-divider",children:""}),A.jsxs("span",{className:"info-item",children:[A.jsx(Kr,{size:14}),A.jsxs("span",{children:[S.length," tool",S.length!==1?"s":""]})]})]}),A.jsxs("button",{className:`info-settings-button ${x?"":"needs-setup"}`,onClick:()=>o(!0),title:x?"API Settings":"Configure API Key",children:[A.jsx(YO,{size:14}),!x&&A.jsx("span",{className:"setup-indicator",children:"Setup Required"})]})]}),A.jsxs("div",{className:"hybrid-content",children:[A.jsxs("div",{className:"chat-pane full-width",children:[A.jsxs("div",{className:"chat-messages-hybrid",children:[i.map((N,B)=>A.jsxs("div",{className:`chat-message-hybrid chat-message-${N.role} ${B===h?"selected":""} ${N.apiRequest||N.apiResponse?"has-api-data":""}`,onClick:()=>N.apiRequest||N.apiResponse?d(B):null,children:[N.role==="user"&&A.jsx("div",{className:"message-avatar-hybrid user",children:"You"}),N.role==="assistant"&&A.jsx("div",{className:"message-avatar-hybrid assistant",children:A.jsx(Ru,{size:14})}),N.role==="tool"&&A.jsx("div",{className:"message-avatar-hybrid tool",children:A.jsx(Kr,{size:14})}),A.jsxs("div",{className:"message-content-hybrid",children:[A.jsx("div",{className:"message-text-hybrid",children:N.content}),(N.apiRequest||N.apiResponse)&&A.jsxs("div",{className:"api-indicator",children:[A.jsx(Kr,{size:12}),"Click to view API details"]})]})]},B)),m&&A.jsxs("div",{className:"chat-message-hybrid chat-message-assistant",children:[A.jsx("div",{className:"message-avatar-hybrid assistant",children:A.jsx(Ru,{size:14})}),A.jsx("div",{className:"message-content-hybrid",children:A.jsxs("div",{className:"typing-indicator-hybrid",children:[A.jsx("span",{}),A.jsx("span",{}),A.jsx("span",{})]})})]}),A.jsx("div",{ref:O})]}),A.jsx("div",{className:"chat-input-container-hybrid",children:A.jsxs("div",{className:"chat-input-wrapper-hybrid",children:[A.jsx("textarea",{className:"chat-input-hybrid",value:r,onChange:N=>c(N.target.value),onKeyPress:N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),H())},placeholder:x?"Ask me anything about your MCP tools...":"Configure API key in settings first...",rows:1,disabled:m||!x}),A.jsx("button",{className:"chat-send-button-hybrid",onClick:H,disabled:!r.trim()||m||!x,children:A.jsx(gC,{size:16})})]})})]}),h!==null&&w&&A.jsxs("div",{className:"api-pane",children:[A.jsxs("div",{className:"api-pane-header",children:[A.jsx(Kr,{size:16}),A.jsx("span",{children:"Live API Calls"})]}),A.jsx("div",{className:"api-pane-content",children:w?A.jsxs(A.Fragment,{children:[w.apiRequest&&A.jsxs("div",{className:"api-block",children:[A.jsxs("div",{className:"api-block-header request",children:[A.jsx("span",{children:" Request"}),A.jsx("button",{className:"api-copy-button",onClick:()=>k(w.apiRequest,"request"),title:"Copy JSON",children:u==="request"?A.jsx(Gc,{size:14}):A.jsx(Vc,{size:14})})]}),A.jsx(Yc,{content:JSON.stringify(w.apiRequest),className:"api-json-viewer"})]}),w.apiResponse&&A.jsxs("div",{className:"api-block",children:[A.jsxs("div",{className:"api-block-header response",children:[A.jsx("span",{children:" Response"}),A.jsx("button",{className:"api-copy-button",onClick:()=>k(w.apiResponse,"response"),title:"Copy JSON",children:u==="response"?A.jsx(Gc,{size:14}):A.jsx(Vc,{size:14})})]}),A.jsx(Yc,{content:JSON.stringify(w.apiResponse),className:"api-json-viewer"})]}),w.toolCall&&A.jsxs("div",{className:"api-block",children:[A.jsxs("div",{className:"api-block-header tool-call",children:[A.jsxs("span",{children:[" Tool Call: ",w.toolCall.name]}),A.jsx("button",{className:"api-copy-button",onClick:()=>k(w.toolCall.arguments,"toolcall"),title:"Copy JSON",children:u==="toolcall"?A.jsx(Gc,{size:14}):A.jsx(Vc,{size:14})})]}),A.jsx(Yc,{content:w.toolCall.arguments,className:"api-json-viewer"})]}),w.toolResult&&A.jsxs("div",{className:"api-block",children:[A.jsxs("div",{className:"api-block-header tool-result",children:[A.jsxs("span",{children:[" Tool Result: ",w.toolResult.name]}),A.jsx("button",{className:"api-copy-button",onClick:()=>k(w.toolResult.result,"toolresult"),title:"Copy JSON",children:u==="toolresult"?A.jsx(Gc,{size:14}):A.jsx(Vc,{size:14})})]}),A.jsx(Yc,{content:w.toolResult.result,className:"api-json-viewer"})]}),!w.apiRequest&&!w.apiResponse&&!w.toolCall&&!w.toolResult&&A.jsxs("div",{className:"api-empty",children:[A.jsx(Kr,{size:32}),A.jsx("p",{children:"No API data for this message"})]})]}):A.jsxs("div",{className:"api-empty",children:[A.jsx(Kr,{size:32}),A.jsx("p",{children:"Click on a message to see API details"}),A.jsx("span",{className:"api-hint",children:"Messages with API data have a blue indicator"})]})})]})]}),l&&A.jsx(vx,{onClose:()=>o(!1),onSave:I,currentApiKey:v})]})}const BE=se.memo(function({server:s,mode:r,onSubmit:c,isSubmitting:m,error:p}){const[h,d]=se.useState(s.name),[l,o]=se.useState(s.transport),[u,f]=se.useState(s.command||""),[v,_]=se.useState(s.url||""),[O,j]=se.useState(""),C=s.auth?.type==="oauth"&&s.auth&&"client_id"in s.auth&&!!s.auth.client_id,[b,S]=se.useState(C?"oauth_client_credentials":s.auth?.type||"none"),[x,E]=se.useState(s.auth?.type==="headers"&&s.auth.headers?Object.entries(s.auth.headers).map(([ee,fe])=>({key:ee,value:fe})):[{key:"",value:""}]),[I,H]=se.useState(s.auth?.type==="oauth"&&s.auth&&"client_id"in s.auth&&s.auth.client_id||""),[w,k]=se.useState(""),[N,B]=se.useState(s.auth?.type==="oauth"&&s.auth&&"token_url"in s.auth&&s.auth.token_url||""),[F,W]=se.useState(!1),[K,$]=se.useState(s.auth?.type==="oauth"&&s.auth?.additionalHeaders?Object.entries(s.auth.additionalHeaders).map(([ee,fe])=>({key:ee,value:fe})):[{key:"",value:""}]),[Y,P]=se.useState(s.auth?.type==="oauth"&&s.auth?.customOAuthMetadata?.authorization_endpoint||""),[q,L]=se.useState(s.auth?.type==="oauth"&&s.auth?.customOAuthMetadata?.token_endpoint||""),[de,me]=se.useState(s.auth?.type==="oauth"&&s.auth?.customOAuthMetadata?.client_id||""),[M,Z]=se.useState(!1);se.useEffect(()=>{b==="headers"&&x.length===0&&E([{key:"",value:""}])},[b,x.length]);const X=async()=>{if(!(!v.trim()||!v.startsWith("http"))&&b==="none"&&!(l!=="sse"&&l!=="http")){Z(!0);try{(await JO(v,l)).requiresOAuth&&(console.log(" OAuth detected for URL:",v),S("oauth"),$n.info("OAuth Required","This server requires OAuth authentication"))}catch(ee){console.error("OAuth discovery error:",ee)}finally{Z(!1)}}},ie=async()=>{if(j(""),!h.trim()){j("Server name is required");return}if(l==="stdio"&&!u.trim()){j("Command is required for stdio transport");return}if((l==="sse"||l==="http")&&!v.trim()){j("URL is required for SSE/HTTP transport");return}if(b==="headers"&&x.filter(ae=>ae.key.trim()&&ae.value.trim()).length===0){j("At least one header with key and value is required for header-based auth");return}if(b==="oauth_client_credentials"&&(!I.trim()||!w.trim())){j("Client ID and Client Secret are required for OAuth Client Credentials");return}let ee;if(b!=="none"&&(ee={type:b==="oauth_client_credentials"?"oauth":b},b==="headers"?ee.headers=x.filter(ge=>ge.key.trim()&&ge.value.trim()).reduce((ge,ae)=>({...ge,[ae.key.trim()]:ae.value.trim()}),{}):b==="oauth_client_credentials"&&(ee.client_id=I.trim(),ee.client_secret=w.trim(),N.trim()&&(ee.token_url=N.trim())),b==="oauth"||b==="oauth_client_credentials")){const ge=K.filter(ae=>ae.key.trim()&&ae.value.trim());ge.length>0&&(ee.additionalHeaders=ge.reduce((ae,oe)=>({...ae,[oe.key.trim()]:oe.value.trim()}),{})),(Y.trim()||q.trim()||de.trim())&&(ee.customOAuthMetadata={},Y.trim()&&(ee.customOAuthMetadata.authorization_endpoint=Y.trim()),q.trim()&&(ee.customOAuthMetadata.token_endpoint=q.trim()),de.trim()&&(ee.customOAuthMetadata.client_id=de.trim()))}const fe={name:h.trim(),transport:l,...l==="stdio"?{command:u.trim(),url:void 0}:{url:v.trim(),command:void 0},auth:ee};await c(fe)};return A.jsxs(A.Fragment,{children:[(O||p)&&A.jsx("div",{className:"error-message",children:O||p}),l==="stdio"?A.jsx(Qe,{label:"Command",placeholder:"node server.js",value:u,onChange:ee=>f(ee.target.value)}):A.jsxs("div",{style:{position:"relative"},children:[A.jsx(Qe,{label:"URL",placeholder:"https://example.com/mcp",value:v,onChange:ee=>_(ee.target.value),onBlur:X}),M&&A.jsx("div",{style:{position:"absolute",right:"12px",top:"38px",display:"flex",alignItems:"center",gap:"8px"},children:A.jsx(mp,{size:"sm"})})]}),A.jsx("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid var(--border-color)"}}),A.jsx(Qe,{label:"Server Name",placeholder:"My MCP Server",value:h,onChange:ee=>d(ee.target.value)}),A.jsx(aa,{label:"Transport",value:l,onChange:ee=>o(ee),options:[{value:"http",label:"HTTP"},{value:"sse",label:"SSE"},{value:"stdio",label:"stdio (coming soon)",disabled:!0}]}),A.jsx(aa,{label:"Authentication",value:b,onChange:ee=>S(ee),options:[{value:"none",label:"None"},{value:"headers",label:"Headers"},{value:"oauth",label:"OAuth Auto"},{value:"oauth_client_credentials",label:"OAuth Client"}]}),b==="headers"&&A.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)"},children:[A.jsx("label",{className:"form-label",children:"Headers"}),x.map((ee,fe)=>A.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[A.jsx(Qe,{placeholder:"Header Name (e.g., X-API-Key)",value:ee.key,onChange:ge=>{const ae=[...x];ae[fe].key=ge.target.value,E(ae)}}),A.jsx(Qe,{type:"password",placeholder:"Header Value",value:ee.value,onChange:ge=>{const ae=[...x];ae[fe].value=ge.target.value,E(ae)}}),x.length>1&&A.jsx(pt,{variant:"ghost",size:"sm",type:"button",onClick:()=>E(x.filter((ge,ae)=>ae!==fe)),children:""})]},fe)),A.jsx(pt,{variant:"outline",size:"sm",type:"button",onClick:()=>E([...x,{key:"",value:""}]),style:{width:"100%",marginTop:"8px"},children:"+ Add Header"})]}),b==="oauth"&&A.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)"},children:[A.jsx("div",{className:"info-message",style:{fontSize:"13px",opacity:.8},children:"Hoot will automatically handle the OAuth flow with PKCE when you connect."}),A.jsxs("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid rgba(92, 207, 230, 0.2)"},children:[A.jsxs(pt,{variant:"ghost",size:"sm",type:"button",onClick:()=>W(!F),style:{padding:0,display:"flex",alignItems:"center",gap:"6px",marginBottom:F?"16px":0},children:[A.jsx("span",{style:{transform:F?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),"Advanced OAuth Settings"]}),F&&A.jsxs("div",{style:{marginTop:"16px"},children:[A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsxs("label",{className:"form-label",style:{marginBottom:"8px"},children:["Additional Headers",A.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(sent with OAuth requests)"})]}),K.map((ee,fe)=>A.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[A.jsx(Qe,{placeholder:"Header Name (e.g., X-API-Version)",value:ee.key,onChange:ge=>{const ae=[...K];ae[fe].key=ge.target.value,$(ae)}}),A.jsx(Qe,{placeholder:"Header Value",value:ee.value,onChange:ge=>{const ae=[...K];ae[fe].value=ge.target.value,$(ae)}}),K.length>1&&A.jsx(pt,{variant:"ghost",size:"sm",type:"button",onClick:()=>$(K.filter((ge,ae)=>ae!==fe)),children:""})]},fe)),A.jsx(pt,{variant:"outline",size:"sm",type:"button",onClick:()=>$([...K,{key:"",value:""}]),style:{width:"100%",marginTop:"8px"},children:"+ Add Header"})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"form-label",style:{marginBottom:"12px"},children:["Custom OAuth Endpoints",A.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(overrides auto-discovery)"})]}),A.jsx(Qe,{placeholder:"Authorization Endpoint (optional)",value:Y,onChange:ee=>P(ee.target.value)}),A.jsx(Qe,{placeholder:"Token Endpoint (optional)",value:q,onChange:ee=>L(ee.target.value)}),A.jsx(Qe,{placeholder:"Custom Client ID (optional)",value:de,onChange:ee=>me(ee.target.value)})]})]})]})]}),b==="oauth_client_credentials"&&A.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)",display:"flex",flexDirection:"column",gap:"16px"},children:[A.jsx(Qe,{label:"Client ID",placeholder:"your-client-id",value:I,onChange:ee=>H(ee.target.value)}),A.jsx(Qe,{label:"Client Secret",type:"password",placeholder:"your-client-secret",value:w,onChange:ee=>k(ee.target.value)}),A.jsx(Qe,{label:"Token URL (Optional)",placeholder:"https://api.example.com/oauth/token",value:N,onChange:ee=>B(ee.target.value)})]}),A.jsx("div",{style:{marginTop:"32px",paddingBottom:"8px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:A.jsx(pt,{variant:"primary",onClick:ie,disabled:m,children:m?"Connecting...":r==="add"?"Add Server":"Save & Reconnect"})})]})}),LE=se.memo(function({onClose:s}){console.log(" AddServerModal rendered"),se.useEffect(()=>{const I=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=I}},[]);const[r,c]=se.useState(""),[m,p]=se.useState(""),[h,d]=se.useState("idle"),[l,o]=se.useState(null),u=$e(I=>I.addServer),{connect:f}=oa(),[v,_]=se.useState(!1),[O,j]=se.useState(""),[C,b]=se.useState([{id:"connect",label:"Finding your server",status:"pending"},{id:"transport",label:"Checking how to connect",status:"pending"},{id:"metadata",label:"Getting server details",status:"pending"},{id:"auth",label:"Checking if login is needed",status:"pending"}]),S=(I,H,w)=>{b(k=>k.map(N=>N.id===I?{...N,status:H,message:w}:N))},x=async()=>{if(p(""),!r.trim()){p("Server URL is required");return}try{new URL(r.trim())}catch{p("Please enter a valid URL (e.g., http://localhost:3000)");return}d("detecting"),b([{id:"connect",label:"Finding your server",status:"active"},{id:"transport",label:"Checking how to connect",status:"pending"},{id:"metadata",label:"Getting server details",status:"pending"},{id:"auth",label:"Checking if login is needed",status:"pending"}]);try{await new Promise(N=>setTimeout(N,400));const I=await PC(r.trim());if(!I.success){S("connect","error",I.error||"Connection failed"),d("error"),p(I.error||"Could not connect to server");return}S("connect","complete"),S("transport","active"),await new Promise(N=>setTimeout(N,300)),S("transport","complete",I.transport?.toUpperCase()),S("metadata","active"),await new Promise(N=>setTimeout(N,300));const H=I.serverInfo?.name||"Unknown Server";S("metadata","complete",H),S("auth","active"),await new Promise(N=>setTimeout(N,300));let w="None Required";I.requiresClientCredentials?w="Client Credentials Required":I.requiresOAuth?w="OAuth Required":I.requiresHeaderAuth&&(w="Custom Auth Required"),S("auth","complete",w),d("success");const k={id:`server-${Date.now()}`,name:H,url:r.trim(),transport:I.transport||"http"};I.requiresOAuth?k.auth={type:"oauth"}:I.requiresHeaderAuth?k.auth={type:"headers",headers:{}}:k.auth={type:"none"},o(k),await new Promise(N=>setTimeout(N,600)),d("configuring")}catch(I){console.error("Detection error:",I),d("error"),p(I instanceof Error?I.message:"Failed to detect server configuration")}},E=async I=>{_(!0),j("");try{const H=`server-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,w={id:H,name:I.name,transport:I.transport,connected:!1,url:I.url,command:I.command,auth:I.auth};if(u(w),I.auth?.type==="oauth"&&sessionStorage.setItem("oauth_server_id",H),await f(w))s();else{const N=$e.getState().servers.find(B=>B.id===H);N?.error?j(N.error):console.log(" OAuth redirect initiated")}}catch(H){const w=H instanceof Error?H.message:"Failed to connect. Check settings and try again.";j(w)}finally{_(!1)}};return A.jsx("div",{className:"modal-overlay",onClick:s,children:A.jsxs("div",{className:"modal",onClick:I=>I.stopPropagation(),style:{maxWidth:h==="configuring"?"600px":"560px"},children:[A.jsxs("div",{className:"modal-header",children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[A.jsx("span",{style:{fontSize:"28px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),A.jsx("h2",{style:{margin:0},children:h==="configuring"?"Configure Server":"Add MCP Server"})]}),h!=="configuring"&&A.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"14px",fontWeight:400,marginTop:"4px",marginBottom:"24px"},children:"Enter your server URL and we'll figure out the rest"})]}),A.jsx("div",{className:"modal-body",children:h==="configuring"&&l?A.jsx(BE,{server:l,mode:"add",onSubmit:E,isSubmitting:v,error:O}):A.jsxs(A.Fragment,{children:[A.jsx(Qe,{label:"Server URL",placeholder:"http://localhost:3000/mcp",value:r,onChange:I=>c(I.target.value),onKeyDown:I=>{I.key==="Enter"&&h==="idle"&&x()},disabled:h==="detecting",autoFocus:!0}),h==="detecting"&&A.jsx("div",{style:{marginTop:"24px"},children:C.map(I=>A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",marginBottom:"8px",background:I.status==="active"||I.status==="complete"?"rgba(92, 207, 230, 0.1)":"rgba(31, 36, 48, 0.6)",borderRadius:"8px",border:`1px solid ${I.status==="active"?"rgba(92, 207, 230, 0.3)":I.status==="complete"?"rgba(34, 197, 94, 0.3)":I.status==="error"?"rgba(239, 68, 68, 0.3)":"rgba(92, 207, 230, 0.1)"}`,transition:"all 0.3s ease"},children:[A.jsxs("div",{style:{width:"20px",height:"20px",flexShrink:0},children:[I.status==="active"&&A.jsx("div",{className:"spinner-small"}),I.status==="complete"&&A.jsx("span",{style:{color:"var(--green-500)",fontSize:"16px"},children:""}),I.status==="error"&&A.jsx("span",{style:{color:"var(--red-500)",fontSize:"16px"},children:""}),I.status==="pending"&&A.jsx("span",{style:{color:"var(--text-tertiary)",fontSize:"16px"},children:""})]}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:"var(--text-white)"},children:I.label}),I.message&&A.jsx("div",{style:{fontSize:"12px",color:I.status==="error"?"var(--red-500)":"var(--text-secondary)",marginTop:"2px"},children:I.message})]})]},I.id))}),h==="success"&&A.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"8px",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),A.jsx("div",{style:{color:"var(--green-500)",fontWeight:600,marginBottom:"4px"},children:"Detection Complete!"}),A.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:"Opening configuration..."})]}),m&&A.jsx("div",{className:"error-message",style:{marginTop:"16px"},children:m})]})}),h!=="configuring"&&A.jsxs("div",{className:"modal-footer",children:[A.jsx(pt,{variant:"secondary",onClick:s,disabled:h==="detecting",children:"Cancel"}),h==="idle"||h==="error"?A.jsx(pt,{variant:"primary",onClick:x,disabled:!r.trim(),children:"Detect Server"}):null]})]})})}),FE=se.memo(function({mode:s="edit",server:r,onClose:c}){const[m,p]=se.useState(r.name),[h,d]=se.useState(r.transport),[l,o]=se.useState(r.command||""),[u,f]=se.useState(r.url||""),[v,_]=se.useState(""),O=r.auth?.type==="oauth"&&r.auth&&"client_id"in r.auth&&!!r.auth.client_id,[j,C]=se.useState(O?"oauth_client_credentials":r.auth?.type||"none"),[b,S]=se.useState(r.auth?.type==="headers"&&r.auth.headers?Object.entries(r.auth.headers).map(([ae,oe])=>({key:ae,value:oe})):[{key:"",value:""}]),[x,E]=se.useState(r.auth?.type==="oauth"&&r.auth&&"client_id"in r.auth&&r.auth.client_id||""),[I,H]=se.useState(""),[w,k]=se.useState(r.auth?.type==="oauth"&&r.auth&&"token_url"in r.auth&&r.auth.token_url||""),[N,B]=se.useState(!1),[F,W]=se.useState(r.auth?.type==="oauth"&&r.auth?.additionalHeaders?Object.entries(r.auth.additionalHeaders).map(([ae,oe])=>({key:ae,value:oe})):[{key:"",value:""}]),[K,$]=se.useState(r.auth?.type==="oauth"&&r.auth?.customOAuthMetadata?.authorization_endpoint||""),[Y,P]=se.useState(r.auth?.type==="oauth"&&r.auth?.customOAuthMetadata?.token_endpoint||""),[q,L]=se.useState(r.auth?.type==="oauth"&&r.auth?.customOAuthMetadata?.client_id||""),[de,me]=se.useState(!1);se.useEffect(()=>{j==="headers"&&b.length===0&&S([{key:"",value:""}])},[j,b.length]);const M=async()=>{if(!(!u.trim()||!u.startsWith("http"))&&j==="none"&&!(h!=="sse"&&h!=="http")){me(!0);try{(await JO(u,h)).requiresOAuth&&(console.log(" OAuth detected for URL:",u),C("oauth"),$n.info("OAuth Required","This server requires OAuth authentication"))}catch(ae){console.error("OAuth discovery error:",ae)}finally{me(!1)}}},Z=$e(ae=>ae.updateServer),X=$e(ae=>ae.addServer),{connect:ie,disconnect:ee,isConnecting:fe}=oa(),ge=async()=>{if(_(""),!m.trim()){_("Server name is required");return}if(h==="stdio"&&!l.trim()){_("Command is required for stdio transport");return}if((h==="sse"||h==="http")&&!u.trim()){_("URL is required for SSE/HTTP transport");return}if(j==="headers"&&b.filter(we=>we.key.trim()&&we.value.trim()).length===0){_("At least one header with key and value is required for header-based auth");return}if(j==="oauth_client_credentials"&&(!x.trim()||!I.trim())){_("Client ID and Client Secret are required for OAuth Client Credentials");return}let ae;if(j!=="none"&&(ae={type:j==="oauth_client_credentials"?"oauth":j},j==="headers"?ae.headers=b.filter(oe=>oe.key.trim()&&oe.value.trim()).reduce((oe,we)=>({...oe,[we.key.trim()]:we.value.trim()}),{}):j==="oauth_client_credentials"&&(ae.client_id=x.trim(),ae.client_secret=I.trim(),w.trim()&&(ae.token_url=w.trim())),j==="oauth"||j==="oauth_client_credentials")){const oe=F.filter(we=>we.key.trim()&&we.value.trim());oe.length>0&&(ae.additionalHeaders=oe.reduce((we,ne)=>({...we,[ne.key.trim()]:ne.value.trim()}),{})),(K.trim()||Y.trim()||q.trim())&&(ae.customOAuthMetadata={},K.trim()&&(ae.customOAuthMetadata.authorization_endpoint=K.trim()),Y.trim()&&(ae.customOAuthMetadata.token_endpoint=Y.trim()),q.trim()&&(ae.customOAuthMetadata.client_id=q.trim()))}if(s==="edit"&&r.connected&&await ee(r.id),s==="add"){const oe=`server-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,we={id:oe,name:m.trim(),transport:h,connected:!1,...h==="stdio"?{command:l.trim()}:{url:u.trim()},auth:ae};X(we),ae?.type==="oauth"&&sessionStorage.setItem("oauth_server_id",oe);try{if(await ie(we))c();else{const pe=$e.getState().servers.find(ve=>ve.id===oe);pe?.error?_(pe.error):console.log(" OAuth redirect initiated")}}catch(ne){const pe=ne instanceof Error?ne.message:"Failed to connect. Check settings and try again.";_(pe)}}else{const oe={name:m.trim(),transport:h,...h==="stdio"?{command:l.trim(),url:void 0}:{url:u.trim(),command:void 0},auth:ae};(u.trim()!==r.url||h!==r.transport)&&(oe.faviconUrl=void 0),Z(r.id,oe);const we=$e.getState().servers.find(ne=>ne.id===r.id);if(we){we.auth?.type==="oauth"&&sessionStorage.setItem("oauth_server_id",we.id);try{if(await ie(we))c();else{const pe=$e.getState().servers.find(ve=>ve.id===r.id);pe?.error?_(pe.error):console.log(" OAuth redirect initiated")}}catch(ne){const pe=ne instanceof Error?ne.message:"Failed to connect with new configuration. Check settings and try again.";_(pe)}}}};return A.jsx("div",{className:"modal-overlay",onClick:c,children:A.jsxs("div",{className:"modal",onClick:ae=>ae.stopPropagation(),children:[A.jsx("div",{className:"modal-header",children:A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[A.jsx("span",{style:{fontSize:"28px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),A.jsx("h2",{style:{margin:0},children:s==="add"?"Configure Server":"Edit Server"})]})}),A.jsxs("div",{className:"modal-body",children:[v&&A.jsx("div",{className:"error-message",children:v}),h==="stdio"?A.jsx(Qe,{label:"Command",placeholder:"node server.js",value:l,onChange:ae=>o(ae.target.value),autoFocus:!0}):A.jsxs("div",{style:{position:"relative"},children:[A.jsx(Qe,{label:"URL",placeholder:"http://localhost:3000",value:u,onChange:ae=>f(ae.target.value),onBlur:M,autoFocus:!0}),de&&A.jsx("div",{style:{position:"absolute",right:"12px",top:"38px",display:"flex",alignItems:"center"},children:A.jsx(mp,{size:"sm"})})]}),A.jsx(Qe,{label:"Server Name",placeholder:"My MCP Server",value:m,onChange:ae=>p(ae.target.value)}),A.jsx(aa,{label:"Transport",value:h,onChange:ae=>d(ae),options:[{value:"http",label:"HTTP"},{value:"sse",label:"SSE"},{value:"stdio",label:"stdio (desktop only)",disabled:!0}],helperText:h==="stdio"?"stdio transport requires a desktop app. Use SSE or HTTP for browser testing.":void 0}),A.jsx("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid var(--border-color)"},children:A.jsx(aa,{label:"Authentication",value:j,onChange:ae=>C(ae),options:[{value:"none",label:"None"},{value:"headers",label:"Headers"},{value:"oauth",label:"OAuth Auto"},{value:"oauth_client_credentials",label:"OAuth Client"}]})}),j==="headers"&&A.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)"},children:[A.jsx("label",{className:"form-label",children:"Headers"}),b.map((ae,oe)=>A.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[A.jsx(Qe,{placeholder:"Header Name (e.g., X-API-Key)",value:ae.key,onChange:we=>{const ne=[...b];ne[oe].key=we.target.value,S(ne)}}),A.jsx(Qe,{type:"password",placeholder:"Header Value",value:ae.value,onChange:we=>{const ne=[...b];ne[oe].value=we.target.value,S(ne)}}),b.length>1&&A.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>S(b.filter((we,ne)=>ne!==oe)),children:""})]},oe)),A.jsx(pt,{variant:"outline",size:"sm",onClick:()=>S([...b,{key:"",value:""}]),style:{width:"100%",marginTop:"8px"},children:"+ Add Header"})]}),j==="oauth"&&A.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)"},children:[A.jsx("div",{className:"info-message",style:{fontSize:"13px",opacity:.8},children:"Hoot will automatically handle the OAuth flow with PKCE when you connect."}),A.jsxs("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid rgba(92, 207, 230, 0.2)"},children:[A.jsxs(pt,{variant:"ghost",size:"sm",onClick:()=>B(!N),style:{padding:0,display:"flex",alignItems:"center",gap:"6px",marginBottom:N?"16px":0},children:[A.jsx("span",{style:{transform:N?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),"Advanced OAuth Settings"]}),N&&A.jsxs("div",{style:{marginTop:"16px"},children:[A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsxs("label",{className:"form-label",style:{marginBottom:"8px"},children:["Additional Headers",A.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(sent with OAuth requests)"})]}),F.map((ae,oe)=>A.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[A.jsx(Qe,{placeholder:"Header Name (e.g., X-API-Version)",value:ae.key,onChange:we=>{const ne=[...F];ne[oe].key=we.target.value,W(ne)}}),A.jsx(Qe,{placeholder:"Header Value",value:ae.value,onChange:we=>{const ne=[...F];ne[oe].value=we.target.value,W(ne)}}),F.length>1&&A.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>W(F.filter((we,ne)=>ne!==oe)),children:""})]},oe)),A.jsx(pt,{variant:"outline",size:"sm",onClick:()=>W([...F,{key:"",value:""}]),style:{width:"100%"},children:"+ Add Header"})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"form-label",style:{marginBottom:"12px"},children:["Custom OAuth Endpoints",A.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(overrides auto-discovery)"})]}),A.jsx(Qe,{placeholder:"Authorization Endpoint (optional)",value:K,onChange:ae=>$(ae.target.value)}),A.jsx(Qe,{placeholder:"Token Endpoint (optional)",value:Y,onChange:ae=>P(ae.target.value)}),A.jsx(Qe,{placeholder:"Custom Client ID (optional)",value:q,onChange:ae=>L(ae.target.value)})]})]})]})]}),j==="oauth_client_credentials"&&A.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)",display:"flex",flexDirection:"column",gap:"16px"},children:[A.jsx(Qe,{label:"Client ID",placeholder:"your-client-id",value:x,onChange:ae=>E(ae.target.value)}),A.jsx(Qe,{label:"Client Secret",type:"password",placeholder:"your-client-secret",value:I,onChange:ae=>H(ae.target.value)}),A.jsx(Qe,{label:"Token URL (Optional)",placeholder:"https://api.example.com/oauth/token",value:w,onChange:ae=>k(ae.target.value)}),A.jsxs("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid rgba(92, 207, 230, 0.2)"},children:[A.jsxs(pt,{variant:"ghost",size:"sm",onClick:()=>B(!N),style:{padding:0,display:"flex",alignItems:"center",gap:"6px",marginBottom:N?"16px":0},children:[A.jsx("span",{style:{transform:N?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),"Advanced Settings"]}),N&&A.jsxs("div",{style:{marginTop:"16px"},children:[A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsxs("label",{className:"form-label",style:{marginBottom:"8px"},children:["Additional Headers",A.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(sent with OAuth requests)"})]}),F.map((ae,oe)=>A.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[A.jsx(Qe,{placeholder:"Header Name (e.g., X-API-Version)",value:ae.key,onChange:we=>{const ne=[...F];ne[oe].key=we.target.value,W(ne)}}),A.jsx(Qe,{placeholder:"Header Value",value:ae.value,onChange:we=>{const ne=[...F];ne[oe].value=we.target.value,W(ne)}}),F.length>1&&A.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>W(F.filter((we,ne)=>ne!==oe)),children:""})]},oe)),A.jsx(pt,{variant:"outline",size:"sm",onClick:()=>W([...F,{key:"",value:""}]),style:{width:"100%",marginTop:"8px"},children:"+ Add Header"})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"form-label",style:{marginBottom:"12px"},children:["Custom OAuth Endpoints",A.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(overrides auto-discovery)"})]}),A.jsx(Qe,{placeholder:"Authorization Endpoint (optional)",value:K,onChange:ae=>$(ae.target.value)}),A.jsx(Qe,{placeholder:"Token Endpoint (optional)",value:Y,onChange:ae=>P(ae.target.value)}),A.jsx(Qe,{placeholder:"Custom Client ID (optional)",value:q,onChange:ae=>L(ae.target.value)})]})]})]})]})]}),A.jsxs("div",{className:"modal-footer",children:[A.jsx(pt,{variant:"secondary",onClick:c,disabled:fe,children:"Cancel"}),A.jsx(pt,{variant:"primary",onClick:ge,disabled:fe,children:fe?"Connecting...":s==="add"?"Add Server":"Save & Reconnect"})]})]})})});function GE(){const[i,s]=se.useState("processing"),[r,c]=se.useState("Processing authorization..."),{connect:m}=oa(),p=$e(l=>l.servers),h=se.useRef(!1);se.useEffect(()=>{if(h.current){console.log("OAuth callback already executed, skipping duplicate");return}h.current=!0,d()},[]);const d=async()=>{try{sessionStorage.removeItem("oauth_last_redirect");const l=new URLSearchParams(window.location.search),o=l.get("code"),u=l.get("error"),f=l.get("error_description");if(u){const b={access_denied:"Authorization was cancelled or denied. You can try again if you change your mind.",invalid_request:"Invalid OAuth request. The server may have incorrect OAuth configuration.",unauthorized_client:"This client is not authorized. Please check the server's OAuth client ID configuration.",unsupported_response_type:"OAuth configuration error. The server may not support the required response type.",invalid_scope:"The requested permissions are invalid or not available.",server_error:"The authorization server encountered an error. Please try again later.",temporarily_unavailable:"The authorization server is temporarily unavailable. Please try again in a few moments."}[u]||f||`OAuth error: ${u}`;throw new Error(b)}if(!o)throw new Error("No authorization code was received from the OAuth provider. This may indicate a configuration issue with the server.");const v=sessionStorage.getItem("oauth_server_id")||sessionStorage.getItem("oauth_pending_server");if(!v)throw new Error("OAuth session expired. Please return to Hoot and try connecting again.");console.log(` OAuth callback: Looking for server ID: ${v}`),console.log(" OAuth callback: Available servers:",p.map(C=>({id:C.id,name:C.name})));const _=p.find(C=>C.id===v);if(!_)throw new Error(`Server not found. It may have been deleted while you were authorizing. (Looking for ID: ${v})`);c(`Exchanging authorization code for ${_.name}...`);let O=!1,j=null;try{O=await m(_,o)}catch(C){j=C instanceof Error?C:new Error("Connection failed"),console.log("Connection error during OAuth callback:",j)}if(O)s("success"),c(` Successfully authorized ${_.name}!`);else if(c(`Waiting for ${_.name} to complete connection...`),await new Promise(S=>setTimeout(S,1500)),$e.getState().servers.find(S=>S.id===v)?.connected)s("success"),c(` Successfully authorized ${_.name}!`);else{const S=j?.message||"Failed to complete OAuth connection. The token exchange may have failed. Please try reconnecting.";throw new Error(S)}try{const C=await DC(v);if(C&&C.name){console.log(` Updating server name from "${_.name}" to "${C.name}"`);const b=$e.getState().updateServer;b(v,{name:C.name,...C.version&&{}})}}catch(C){console.log("Could not fetch server info after OAuth:",C)}sessionStorage.removeItem("oauth_server_id"),sessionStorage.removeItem("oauth_pending_server"),sessionStorage.removeItem("oauth_last_redirect"),setTimeout(()=>{window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate"))},1e3)}catch(l){console.error("OAuth callback error:",l),s("error");let o="OAuth authorization failed";l instanceof Error&&(o=l.message,o.includes("Code verifier")||o.includes("PKCE")?o="Token exchange failed: PKCE verification error. The authorization session may have expired. Please try connecting again.":o.includes("Backend server is not running")?o="Unable to complete authorization: Backend server is not running. Please ensure the backend is started.":o.includes("Failed to fetch")||o.includes("Network")?o="Network error during token exchange. Please check your internet connection and try again.":o.includes("401")||o.includes("invalid_client")?o="Token exchange failed: Invalid client credentials. Please verify the OAuth configuration (client ID and secret) for this server.":o.includes("invalid_grant")||o.includes("authorization code")?o="Token exchange failed: The authorization code is invalid or expired. This can happen if you took too long to authorize. Please try connecting again.":o.includes("CORS")&&(o="Token exchange failed due to CORS restrictions. The server needs to allow requests from this domain.")),c(o)}};return A.jsx("div",{className:"oauth-callback",children:A.jsxs("div",{className:`oauth-callback-content ${i==="error"?"error":""}`,children:[A.jsxs("div",{className:"oauth-icon",children:[i==="processing"&&A.jsx("div",{className:"spinner",children:""}),i==="success"&&A.jsx("div",{className:"success-icon",children:""}),i==="error"&&A.jsx("div",{className:"error-icon",children:""})]}),A.jsxs("h2",{className:"oauth-title",children:[i==="processing"&&"Authorizing...",i==="success"&&"Authorization Complete!",i==="error"&&"Authorization Failed"]}),A.jsx("p",{className:"oauth-message",children:r}),i==="error"&&A.jsx(pt,{variant:"primary",onClick:()=>window.location.href="/",children:"Return to Hoot"}),i==="success"&&A.jsx("p",{className:"oauth-redirect",children:"Redirecting you back to Hoot..."})]})})}function VE(){try{if(window.location.hash.startsWith("#/try")){const m=new URL(window.location.href.replace("#/try","")).searchParams.get("config");if(m){const p=atob(m),h=JSON.parse(p);return BO(h)}}const r=new URLSearchParams(window.location.search).get("try");if(r){const c=atob(r),m=JSON.parse(c);return BO(m)}return null}catch(i){return console.error("Failed to parse Try in Hoot URL:",i),$n.error("Invalid Link",'The "Try in Hoot" link is malformed or invalid'),null}}function BO(i){if(!i||typeof i!="object")throw new Error("Config must be an object");if(i.url&&!i.name&&!i.transport)return{name:"",transport:"http",url:i.url,...i.auth&&{auth:i.auth}};if(!i.name||typeof i.name!="string")throw new Error('Config must include a "name" string (or just provide URL for auto-detection)');if(!i.transport||!["stdio","sse","http"].includes(i.transport))throw new Error('Config must include a valid "transport" (stdio, sse, or http)');if(i.transport==="stdio"&&!i.command)throw new Error('stdio transport requires a "command" field');if((i.transport==="sse"||i.transport==="http")&&!i.url)throw new Error('SSE/HTTP transport requires a "url" field');if(i.auth&&((!i.auth.type||!["none","headers","oauth","client_credentials"].includes(i.auth.type))&&console.warn(`Unknown auth type: ${i.auth.type}, but allowing it for future compatibility`),i.auth.type==="headers"&&!i.auth.headers))throw new Error('Header auth requires "headers" object');return{name:i.name,transport:i.transport,...i.command&&{command:i.command},...i.url&&{url:i.url},...i.auth&&{auth:i.auth}}}function KE({config:i,onConfirm:s,onCancel:r}){return _1.createPortal(A.jsx("div",{className:"modal-overlay",children:A.jsxs("div",{className:"modal",style:{maxWidth:"520px"},children:[A.jsxs("div",{className:"modal-header",children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[A.jsx("span",{style:{fontSize:"28px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),A.jsx("h2",{style:{margin:0},children:"Try in Hoot"})]}),A.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"14px",fontWeight:400,marginTop:"4px",marginBottom:"24px"},children:"Add this server to get started"})]}),A.jsxs("div",{className:"modal-body",children:[A.jsxs("div",{style:{background:"rgba(31, 36, 48, 0.6)",padding:"20px",borderRadius:"10px",marginBottom:"20px",border:"2px solid rgba(92, 207, 230, 0.2)"},children:[A.jsx(Lc,{label:"Server Name",value:i.name,icon:""}),A.jsx(Lc,{label:"Transport",value:i.transport.toUpperCase(),icon:"",badge:!0}),i.url&&A.jsx(Lc,{label:"URL",value:i.url,icon:"",mono:!0}),i.command&&A.jsx(Lc,{label:"Command",value:i.command,icon:"",mono:!0}),i.auth&&i.auth.type!=="none"&&A.jsx(Lc,{label:"Authentication",value:i.auth.type==="oauth"?"OAuth 2.1":"Custom Headers",icon:"",isLast:!0})]}),A.jsxs("div",{style:{background:"rgba(255, 174, 87, 0.08)",border:"1px solid rgba(255, 174, 87, 0.25)",padding:"12px 14px",borderRadius:"8px",fontSize:"12px",lineHeight:"1.5",color:"rgba(255, 174, 87, 0.9)",display:"flex",gap:"10px"},children:[A.jsx("span",{style:{flexShrink:0},children:""}),A.jsx("span",{children:"Only add servers from trusted sources"})]})]}),A.jsxs("div",{className:"modal-footer",children:[A.jsx(pt,{variant:"secondary",onClick:r,children:"Cancel"}),A.jsx(pt,{variant:"primary",onClick:s,children:"Add & Connect"})]})]})}),document.body)}function Lc({label:i,value:s,icon:r,mono:c,badge:m,isLast:p}){return A.jsxs("div",{style:{marginBottom:p?"0":"14px"},children:[A.jsxs("div",{style:{color:"var(--blue-500)",fontSize:"11px",fontWeight:600,marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"6px"},children:[A.jsx("span",{children:r}),A.jsx("span",{children:i})]}),A.jsx("div",{style:{color:"var(--text-white)",fontSize:"14px",fontWeight:500,fontFamily:c?"var(--font-mono)":"var(--font-sans)",wordBreak:"break-all",lineHeight:"1.4",...m&&{display:"inline-block",background:"rgba(31, 36, 48, 0.8)",padding:"4px 10px",borderRadius:"6px",border:"1px solid rgba(92, 207, 230, 0.3)",color:"var(--blue-500)",fontSize:"12px",fontWeight:600}},children:s})]})}function YE(){const[i,s]=se.useState(null),[r,c]=se.useState(!1),m=$e(l=>l.addServer),{connect:p}=oa();se.useEffect(()=>{const l=VE();if(l){s(l);const o=new URL(window.location.href);o.hash.startsWith("#/try")?(o.hash="",window.history.replaceState({},"",o.toString())):o.searchParams.has("try")&&(o.searchParams.delete("try"),window.history.replaceState({},"",o.toString()))}},[]);const h=async()=>{if(!(!i||r)){c(!0);try{m(i);const l=$e.getState().servers,o=l[l.length-1];if(await p(o))$n.success("Server Added",`Successfully connected to ${i.name}`),s(null);else{const f=$e.getState().servers.find(v=>v.id===o.id);f?.error?($n.error("Connection Failed",f.error),s(null)):($n.info("OAuth Required","Redirecting to complete authentication..."),s(null))}}catch(l){const o=l instanceof Error?l.message:"Failed to add server";$n.error("Failed to Add Server",o),s(null)}finally{c(!1)}}},d=()=>{s(null)};return i?A.jsx(KE,{config:i,onConfirm:h,onCancel:d}):null}const ZE=se.memo(function({toast:s,onDismiss:r}){se.useEffect(()=>{const m=s.duration||5e3;if(m>0){const p=setTimeout(()=>{r(s.id)},m);return()=>clearTimeout(p)}},[s,r]);const c=()=>{switch(s.type){case"success":return A.jsx(KS,{size:20});case"error":return A.jsx(ZS,{size:20});case"warning":return A.jsx(GO,{size:20});case"info":return A.jsx(rC,{size:20})}};return A.jsxs("div",{className:`toast toast-${s.type}`,children:[A.jsx("div",{className:"toast-icon",children:c()}),A.jsxs("div",{className:"toast-content",children:[A.jsx("div",{className:"toast-message",children:s.message}),s.description&&A.jsx("div",{className:"toast-description",children:s.description})]}),A.jsx("button",{className:"toast-close",onClick:()=>r(s.id),"aria-label":"Dismiss",children:A.jsx(ZO,{size:16})})]})}),XE=se.memo(function({toasts:s,onDismiss:r}){return A.jsx("div",{className:"toast-container",children:s.map(c=>A.jsx(ZE,{toast:c,onDismiss:r},c.id))})});class QE extends se.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error(" Error Boundary caught an error:",s,r),this.setState({error:s,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onReset?.()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:A.jsx("div",{className:"error-boundary",children:A.jsxs("div",{className:"error-boundary-content",children:[A.jsx("div",{className:"error-icon",children:A.jsx(AC,{size:48})}),A.jsx("h2",{className:"error-title",children:"Something went wrong"}),A.jsx("p",{className:"error-message",children:this.state.error?.message||"An unexpected error occurred"}),!1,A.jsxs(pt,{variant:"primary",onClick:this.handleReset,children:[A.jsx(zh,{size:16}),A.jsx("span",{children:"Try Again"})]})]})}):this.props.children}}const JE=[{id:"ayu-mirage",name:"Ayu Mirage",emoji:""},{id:"arctic-ice",name:"Arctic Ice",emoji:""},{id:"duotone-dark",name:"DuoTone Dark",emoji:""},{id:"duotone-sea",name:"DuoTone Sea",emoji:""},{id:"duotone-forest",name:"DuoTone Forest",emoji:""}];function WE(){const i=localStorage.getItem("hoot-theme")||"ayu-mirage",s=r=>{const c=document.getElementById("theme-link");c&&(c.href=`/src/themes/${r}.css`,localStorage.setItem("hoot-theme",r),document.querySelectorAll(".theme-option").forEach(m=>{m.classList.toggle("active",m.getAttribute("data-theme")===r)}),setTimeout(()=>{window.initializeHills&&window.initializeHills()},100))};return A.jsxs("div",{className:"theme-switcher-header",children:[A.jsx("button",{className:"theme-trigger",title:"Change theme",children:A.jsx(dC,{size:18})}),A.jsx("div",{className:"theme-dropdown",children:JE.map(r=>A.jsx("button",{"data-theme":r.id,"data-tooltip":r.name,className:`theme-option ${i===r.id?"active":""}`,onClick:()=>s(r.id),children:A.jsx("span",{className:"theme-emoji",children:r.emoji})},r.id))})]})}function eT(){const i=$e(c=>c.servers),s=$e(c=>c.tools),{connect:r}=oa();se.useEffect(()=>{let c=!1;if(c)return;if(c=!0,sessionStorage.getItem("skip_auto_reconnect")){console.log(" Skipping auto-reconnect after OAuth callback"),sessionStorage.removeItem("skip_auto_reconnect");return}const m=i.filter(p=>s[p.id]&&s[p.id].length>0&&!p.connected);m.length>0&&(console.log(` Hoot: Auto-reconnecting to ${m.length} server(s)...`),m.forEach(p=>{const h=p.auth?.type==="oauth";r(p,void 0,h).catch(d=>{p.auth?.type==="oauth"?console.log(` ${p.name} needs manual reconnection (OAuth)`):console.warn(`Failed to auto-reconnect to ${p.name}:`,d)})}))},[])}const tT="0.6.0",nT={version:tT};class sT{logs=[];maxLogs=1e3;isEnabled=!1;constructor(){this.isEnabled&&(this.interceptConsole(),console.log(" Development logger initialized. Logs are being captured."))}interceptConsole(){const s=console.log,r=console.warn,c=console.error,m=console.info,p=console.debug;console.log=(...h)=>{this.addLog("log",h),s.apply(console,h)},console.warn=(...h)=>{this.addLog("warn",h),r.apply(console,h)},console.error=(...h)=>{this.addLog("error",h),c.apply(console,h)},console.info=(...h)=>{this.addLog("info",h),m.apply(console,h)},console.debug=(...h)=>{this.addLog("debug",h),p.apply(console,h)}}addLog(s,r){if(!this.isEnabled)return;const c=new Date().toISOString();this.logs.push({timestamp:c,level:s,args:r}),this.logs.length>this.maxLogs&&this.logs.shift()}formatLogs(){return this.logs.map(s=>{const r=s.args.map(c=>{if(typeof c=="object")try{return JSON.stringify(c,null,2)}catch{return String(c)}return String(c)}).join(" ");return`[${s.timestamp}] [${s.level.toUpperCase()}] ${r}`}).join(`
`)}downloadLogs(){if(!this.isEnabled){console.warn("Logger is not enabled in production");return}const s=this.formatLogs(),r=new Blob([s],{type:"text/plain"}),c=URL.createObjectURL(r),m=document.createElement("a");m.href=c,m.download=`hoot-logs-${Date.now()}.txt`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(c),console.log(" Logs downloaded successfully")}getLogs(){return this.formatLogs()}clearLogs(){this.logs=[],console.log(" Logs cleared")}exposeToWindow(){this.isEnabled&&(window.hootLogger={download:()=>this.downloadLogs(),clear:()=>this.clearLogs(),get:()=>this.getLogs(),count:()=>this.logs.length},console.log(` Logger controls available:
  - hootLogger.download() - Download logs to file
  - hootLogger.clear() - Clear all logs
  - hootLogger.get() - Get logs as string
  - hootLogger.count() - Get log count`))}}new sT;function iT(){const[i,s]=se.useState(!1),[r,c]=se.useState(null),[m,p]=se.useState(window.location.pathname),[h,d]=se.useState("test"),l=sr(f=>f.toasts),o=sr(f=>f.removeToast);return se.useEffect(()=>{MC()},[]),eT(),se.useEffect(()=>{const f=()=>{p(window.location.pathname)};return window.addEventListener("popstate",f),()=>window.removeEventListener("popstate",f)},[]),m==="/oauth/callback"?A.jsx(GE,{}):A.jsx(QE,{children:A.jsxs("div",{className:"app",children:[A.jsxs("header",{className:"app-header",children:[A.jsxs("div",{className:"app-header-left",children:[A.jsxs("div",{className:"app-branding",children:[A.jsx("span",{className:"logo-icon",children:""}),A.jsx("h1",{className:"app-title",children:"Hoot"})]}),A.jsxs("nav",{className:"app-nav",children:[A.jsxs("button",{className:`nav-button ${h==="test"?"active":""}`,onClick:()=>d("test"),title:"Test MCP tools manually",children:[A.jsx(ap,{size:18}),A.jsx("span",{children:"Test Tools"})]}),A.jsxs("button",{className:`nav-button ${h==="hybrid"?"active":""}`,onClick:()=>d("hybrid"),title:"Chat with AI to test tools",children:[A.jsx(Ru,{size:18}),A.jsx("span",{children:"Chat"})]})]})]}),A.jsxs("div",{className:"app-actions",children:[A.jsx(WE,{}),A.jsx("a",{href:"https://portkey.ai/docs/hoot",target:"_blank",rel:"noopener noreferrer",className:"header-link",title:"Documentation",children:A.jsx(US,{size:18})}),A.jsx("a",{href:"https://portkey.ai/community",target:"_blank",rel:"noopener noreferrer",className:"header-link",title:"Discord",children:A.jsx(lC,{size:18})}),A.jsxs("a",{href:"https://github.com/portkey-ai/hoot",target:"_blank",rel:"noopener noreferrer",className:"version-badge",title:"View on GitHub",children:[A.jsx(sC,{size:14}),A.jsxs("span",{children:["v",nT.version]})]})]})]}),A.jsxs("div",{className:"app-content",children:[h==="test"&&A.jsxs("div",{className:"test-layout",children:[A.jsx(ix,{onAddServer:()=>s(!0),onEditServer:f=>c(f)}),A.jsx(ox,{}),A.jsx(fx,{})]}),h==="hybrid"&&A.jsx(UE,{})]}),i&&A.jsx(LE,{onClose:()=>s(!1)}),r&&A.jsx(FE,{server:r,onClose:()=>c(null)}),A.jsx(YE,{}),A.jsx(XE,{toasts:l,onDismiss:o})]})})}const zn={back:{startY:30,endY:30,cssVar:"--hills-layer-1",opacity:.3},middle:{startY:90,endY:90,cssVar:"--hills-layer-2",opacity:.4},front:{startY:120,endY:120,cssVar:"--hills-layer-3",opacity:.5}};function qh(i,s,r,c,m){const p=m!==void 0?ij(m):Math.random,h=Math.floor(p()*3)+3,d=[];d.push({x:0,y:s});for(let o=1;o<h;o++){const u=i/h*o,f=Math.min(s,r)-20,v=Math.min(s,r)+40,_=f+p()*(v-f);d.push({x:u,y:_})}d.push({x:i,y:r});let l=`M${d[0].x} ${d[0].y}`;for(let o=1;o<d.length;o++){const u=d[o-1],f=d[o],v=(f.x-u.x)/3,_=u.x+v,O=u.y+(p()-.5)*30,j=f.x-v,C=f.y+(p()-.5)*30;l+=` C${_} ${O}, ${j} ${C}, ${f.x} ${f.y}`}return l+=` V${c} H0 Z`,l}function ij(i){let s=i;return()=>(s=(s*1664525+1013904223)%4294967296,s/4294967296)}function Fc(i=1920,s=150,r){const c=r!==void 0?ij(r):Math.random,m=(v,_)=>typeof window>"u"?_:getComputedStyle(document.documentElement).getPropertyValue(v).trim()||_,p=m(zn.back.cssVar,"#2e3440"),h=m(zn.middle.cssVar,"#3b4252"),d=m(zn.front.cssVar,"#434c5e"),l=qh(i,zn.back.startY,zn.back.endY,s,c()),o=qh(i,zn.middle.startY,zn.middle.endY,s,c()),u=qh(i,zn.front.startY,zn.front.endY,s,c()),f=`<svg viewBox='0 0 ${i} ${s}' xmlns='http://www.w3.org/2000/svg' preserveAspectRatio='none'>
    <path d='${l}' fill='${p}' fill-opacity='${zn.back.opacity}'/>
    <path d='${o}' fill='${h}' fill-opacity='${zn.middle.opacity}'/>
    <path d='${u}' fill='${d}' fill-opacity='${zn.front.opacity}'/>
  </svg>`;return`url("data:image/svg+xml,${encodeURIComponent(f)}")`}function rj(){const i=Date.now(),s=Fc(1920,150,i+1),r=Fc(1920,150,i+2),c=Fc(1920,150,i+3),m=Fc(1920,150,i+4),p=Fc(1920,150,i+5);document.documentElement.style.setProperty("--hills-main-area",s),document.documentElement.style.setProperty("--hills-tools-sidebar",r),document.documentElement.style.setProperty("--hills-server-sidebar",c),document.documentElement.style.setProperty("--hills-empty-state",m),document.documentElement.style.setProperty("--hills-api-pane",p)}rj();typeof window<"u"&&(window.initializeHills=rj);HS.createRoot(document.getElementById("root")).render(A.jsx(Ht.StrictMode,{children:A.jsx(iT,{})}));

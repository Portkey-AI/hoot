(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function r(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(h){if(h.ep)return;h.ep=!0;const p=r(h);fetch(h.href,p)}})();window.process={env:{}};var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function kS(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var s=i.default;if(typeof s=="function"){var r=function c(){var h=!1;try{h=this instanceof c}catch{}return h?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(c){var h=Object.getOwnPropertyDescriptor(i,c);Object.defineProperty(r,c,h.get?h:{enumerable:!0,get:function(){return i[c]}})}),r}var fh={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function PS(){if(Ry)return to;Ry=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(c,h,p){var f=null;if(p!==void 0&&(f=""+p),h.key!==void 0&&(f=""+h.key),"key"in h){p={};for(var d in h)d!=="key"&&(p[d]=h[d])}else p=h;return h=p.ref,{$$typeof:i,type:c,key:f,ref:h!==void 0?h:null,props:p}}return to.Fragment=s,to.jsx=r,to.jsxs=r,to}var xy;function qS(){return xy||(xy=1,fh.exports=PS()),fh.exports}var j=qS(),hh={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function zS(){if(Ey)return Me;Ey=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function O(N,F,le){this.props=N,this.context=F,this.refs=w,this.updater=le||b}O.prototype.isReactComponent={},O.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},O.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function S(){}S.prototype=O.prototype;function R(N,F,le){this.props=N,this.context=F,this.refs=w,this.updater=le||b}var E=R.prototype=new S;E.constructor=R,A(E,O.prototype),E.isPureReactComponent=!0;var H=Array.isArray;function M(){}var x={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function $(N,F,le){var de=le.ref;return{$$typeof:i,type:N,key:F,ref:de!==void 0?de:null,props:le}}function V(N,F){return $(N.type,F,N.props)}function G(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function ee(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return F[le]})}var X=/\/+/g;function q(N,F){return typeof N=="object"&&N!==null&&N.key!=null?ee(""+N.key):F.toString(36)}function U(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(M,M):(N.status="pending",N.then(function(F){N.status==="pending"&&(N.status="fulfilled",N.value=F)},function(F){N.status==="pending"&&(N.status="rejected",N.reason=F)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function I(N,F,le,de,re){var ve=typeof N;(ve==="undefined"||ve==="boolean")&&(N=null);var fe=!1;if(N===null)fe=!0;else switch(ve){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(N.$$typeof){case i:case s:fe=!0;break;case u:return fe=N._init,I(fe(N._payload),F,le,de,re)}}if(fe)return re=re(N),fe=de===""?"."+q(N,0):de,H(re)?(le="",fe!=null&&(le=fe.replace(X,"$&/")+"/"),I(re,F,le,"",function(_e){return _e})):re!=null&&(G(re)&&(re=V(re,le+(re.key==null||N&&N.key===re.key?"":(""+re.key).replace(X,"$&/")+"/")+fe)),F.push(re)),1;fe=0;var te=de===""?".":de+":";if(H(N))for(var ne=0;ne<N.length;ne++)de=N[ne],ve=te+q(de,ne),fe+=I(de,F,le,ve,re);else if(ne=_(N),typeof ne=="function")for(N=ne.call(N),ne=0;!(de=N.next()).done;)de=de.value,ve=te+q(de,ne++),fe+=I(de,F,le,ve,re);else if(ve==="object"){if(typeof N.then=="function")return I(U(N),F,le,de,re);throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return fe}function k(N,F,le){if(N==null)return N;var de=[],re=0;return I(N,de,"","",function(ve){return F.call(le,ve,re++)}),de}function B(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var ue=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ce={map:k,forEach:function(N,F,le){k(N,function(){F.apply(this,arguments)},le)},count:function(N){var F=0;return k(N,function(){F++}),F},toArray:function(N){return k(N,function(F){return F})||[]},only:function(N){if(!G(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Me.Activity=m,Me.Children=ce,Me.Component=O,Me.Fragment=r,Me.Profiler=h,Me.PureComponent=R,Me.StrictMode=c,Me.Suspense=l,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return x.H.useMemoCache(N)}},Me.cache=function(N){return function(){return N.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(N,F,le){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var de=A({},N.props),re=N.key;if(F!=null)for(ve in F.key!==void 0&&(re=""+F.key),F)!P.call(F,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&F.ref===void 0||(de[ve]=F[ve]);var ve=arguments.length-2;if(ve===1)de.children=le;else if(1<ve){for(var fe=Array(ve),te=0;te<ve;te++)fe[te]=arguments[te+2];de.children=fe}return $(N.type,re,de)},Me.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:p,_context:N},N},Me.createElement=function(N,F,le){var de,re={},ve=null;if(F!=null)for(de in F.key!==void 0&&(ve=""+F.key),F)P.call(F,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(re[de]=F[de]);var fe=arguments.length-2;if(fe===1)re.children=le;else if(1<fe){for(var te=Array(fe),ne=0;ne<fe;ne++)te[ne]=arguments[ne+2];re.children=te}if(N&&N.defaultProps)for(de in fe=N.defaultProps,fe)re[de]===void 0&&(re[de]=fe[de]);return $(N,ve,re)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(N){return{$$typeof:d,render:N}},Me.isValidElement=G,Me.lazy=function(N){return{$$typeof:u,_payload:{_status:-1,_result:N},_init:B}},Me.memo=function(N,F){return{$$typeof:o,type:N,compare:F===void 0?null:F}},Me.startTransition=function(N){var F=x.T,le={};x.T=le;try{var de=N(),re=x.S;re!==null&&re(le,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(M,ue)}catch(ve){ue(ve)}finally{F!==null&&le.types!==null&&(F.types=le.types),x.T=F}},Me.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Me.use=function(N){return x.H.use(N)},Me.useActionState=function(N,F,le){return x.H.useActionState(N,F,le)},Me.useCallback=function(N,F){return x.H.useCallback(N,F)},Me.useContext=function(N){return x.H.useContext(N)},Me.useDebugValue=function(){},Me.useDeferredValue=function(N,F){return x.H.useDeferredValue(N,F)},Me.useEffect=function(N,F){return x.H.useEffect(N,F)},Me.useEffectEvent=function(N){return x.H.useEffectEvent(N)},Me.useId=function(){return x.H.useId()},Me.useImperativeHandle=function(N,F,le){return x.H.useImperativeHandle(N,F,le)},Me.useInsertionEffect=function(N,F){return x.H.useInsertionEffect(N,F)},Me.useLayoutEffect=function(N,F){return x.H.useLayoutEffect(N,F)},Me.useMemo=function(N,F){return x.H.useMemo(N,F)},Me.useOptimistic=function(N,F){return x.H.useOptimistic(N,F)},Me.useReducer=function(N,F,le){return x.H.useReducer(N,F,le)},Me.useRef=function(N){return x.H.useRef(N)},Me.useState=function(N){return x.H.useState(N)},Me.useSyncExternalStore=function(N,F,le){return x.H.useSyncExternalStore(N,F,le)},Me.useTransition=function(){return x.H.useTransition()},Me.version="19.2.0",Me}var Ty;function up(){return Ty||(Ty=1,hh.exports=zS()),hh.exports}var Z=up();const wt=lp(Z);var ph={exports:{}},no={},mh={exports:{}},gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function $S(){return Iy||(Iy=1,(function(i){function s(I,k){var B=I.length;I.push(k);e:for(;0<B;){var ue=B-1>>>1,ce=I[ue];if(0<h(ce,k))I[ue]=k,I[B]=ce,B=ue;else break e}}function r(I){return I.length===0?null:I[0]}function c(I){if(I.length===0)return null;var k=I[0],B=I.pop();if(B!==k){I[0]=B;e:for(var ue=0,ce=I.length,N=ce>>>1;ue<N;){var F=2*(ue+1)-1,le=I[F],de=F+1,re=I[de];if(0>h(le,B))de<ce&&0>h(re,le)?(I[ue]=re,I[de]=B,ue=de):(I[ue]=le,I[F]=B,ue=F);else if(de<ce&&0>h(re,B))I[ue]=re,I[de]=B,ue=de;else break e}}return k}function h(I,k){var B=I.sortIndex-k.sortIndex;return B!==0?B:I.id-k.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var l=[],o=[],u=1,m=null,v=3,_=!1,b=!1,A=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function E(I){for(var k=r(o);k!==null;){if(k.callback===null)c(o);else if(k.startTime<=I)c(o),k.sortIndex=k.expirationTime,s(l,k);else break;k=r(o)}}function H(I){if(A=!1,E(I),!b)if(r(l)!==null)b=!0,M||(M=!0,ee());else{var k=r(o);k!==null&&U(H,k.startTime-I)}}var M=!1,x=-1,P=5,$=-1;function V(){return w?!0:!(i.unstable_now()-$<P)}function G(){if(w=!1,M){var I=i.unstable_now();$=I;var k=!0;try{e:{b=!1,A&&(A=!1,S(x),x=-1),_=!0;var B=v;try{t:{for(E(I),m=r(l);m!==null&&!(m.expirationTime>I&&V());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,v=m.priorityLevel;var ce=ue(m.expirationTime<=I);if(I=i.unstable_now(),typeof ce=="function"){m.callback=ce,E(I),k=!0;break t}m===r(l)&&c(l),E(I)}else c(l);m=r(l)}if(m!==null)k=!0;else{var N=r(o);N!==null&&U(H,N.startTime-I),k=!1}}break e}finally{m=null,v=B,_=!1}k=void 0}}finally{k?ee():M=!1}}}var ee;if(typeof R=="function")ee=function(){R(G)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,q=X.port2;X.port1.onmessage=G,ee=function(){q.postMessage(null)}}else ee=function(){O(G,0)};function U(I,k){x=O(function(){I(i.unstable_now())},k)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(I){switch(v){case 1:case 2:case 3:var k=3;break;default:k=v}var B=v;v=k;try{return I()}finally{v=B}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(I,k){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=v;v=I;try{return k()}finally{v=B}},i.unstable_scheduleCallback=function(I,k,B){var ue=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ue+B:ue):B=ue,I){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=B+ce,I={id:u++,callback:k,priorityLevel:I,startTime:B,expirationTime:ce,sortIndex:-1},B>ue?(I.sortIndex=B,s(o,I),r(l)===null&&I===r(o)&&(A?(S(x),x=-1):A=!0,U(H,B-ue))):(I.sortIndex=ce,s(l,I),b||_||(b=!0,M||(M=!0,ee()))),I},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(I){var k=v;return function(){var B=v;v=k;try{return I.apply(this,arguments)}finally{v=B}}}})(gh)),gh}var Hy;function DS(){return Hy||(Hy=1,mh.exports=$S()),mh.exports}var vh={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function US(){if(My)return Kt;My=1;var i=up();function s(l){var o="https://react.dev/errors/"+l;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var c={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},h=Symbol.for("react.portal");function p(l,o,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:m==null?null:""+m,children:l,containerInfo:o,implementation:u}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(l,o){if(l==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Kt.createPortal=function(l,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(s(299));return p(l,o,null,u)},Kt.flushSync=function(l){var o=f.T,u=c.p;try{if(f.T=null,c.p=2,l)return l()}finally{f.T=o,c.p=u,c.d.f()}},Kt.preconnect=function(l,o){typeof l=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,c.d.C(l,o))},Kt.prefetchDNS=function(l){typeof l=="string"&&c.d.D(l)},Kt.preinit=function(l,o){if(typeof l=="string"&&o&&typeof o.as=="string"){var u=o.as,m=d(u,o.crossOrigin),v=typeof o.integrity=="string"?o.integrity:void 0,_=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;u==="style"?c.d.S(l,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):u==="script"&&c.d.X(l,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},Kt.preinitModule=function(l,o){if(typeof l=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var u=d(o.as,o.crossOrigin);c.d.M(l,{crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&c.d.M(l)},Kt.preload=function(l,o){if(typeof l=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var u=o.as,m=d(u,o.crossOrigin);c.d.L(l,u,{crossOrigin:m,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},Kt.preloadModule=function(l,o){if(typeof l=="string")if(o){var u=d(o.as,o.crossOrigin);c.d.m(l,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else c.d.m(l)},Kt.requestFormReset=function(l){c.d.r(l)},Kt.unstable_batchedUpdates=function(l,o){return l(o)},Kt.useFormState=function(l,o,u){return f.H.useFormState(l,o,u)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var Ny;function JO(){if(Ny)return vh.exports;Ny=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),vh.exports=US(),vh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function BS(){if(ky)return no;ky=1;var i=DS(),s=up(),r=JO();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(p(e)!==e)throw Error(c(188))}function o(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,a=t;;){var g=n.return;if(g===null)break;var y=g.alternate;if(y===null){if(a=g.return,a!==null){n=a;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===n)return l(g),e;if(y===a)return l(g),t;y=y.sibling}throw Error(c(188))}if(n.return!==a.return)n=g,a=y;else{for(var C=!1,T=g.child;T;){if(T===n){C=!0,n=g,a=y;break}if(T===a){C=!0,a=g,n=y;break}T=T.sibling}if(!C){for(T=y.child;T;){if(T===n){C=!0,n=y,a=g;break}if(T===a){C=!0,a=y,n=g;break}T=T.sibling}if(!C)throw Error(c(189))}}if(n.alternate!==a)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function u(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=u(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),R=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case O:return"Profiler";case w:return"StrictMode";case H:return"Suspense";case M:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case R:return e.displayName||"Context";case S:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}var U=Array.isArray,I=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},ue=[],ce=-1;function N(e){return{current:e}}function F(e){0>ce||(e.current=ue[ce],ue[ce]=null,ce--)}function le(e,t){ce++,ue[ce]=e.current,e.current=t}var de=N(null),re=N(null),ve=N(null),fe=N(null);function te(e,t){switch(le(ve,t),le(re,e),le(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xv(t),e=Jv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(de),le(de,e)}function ne(){F(de),F(re),F(ve)}function _e(e){e.memoizedState!==null&&le(fe,e);var t=de.current,n=Jv(t,e.type);t!==n&&(le(re,e),le(de,n))}function W(e){re.current===e&&(F(de),F(re)),fe.current===e&&(F(fe),Ja._currentValue=B)}var pe,ge;function Re(e){if(pe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",ge=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+ge}var Ue=!1;function nt(e,t){if(!e||Ue)return"";Ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(se){var J=se}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(se){J=se}e.call(oe.prototype)}}else{try{throw Error()}catch(se){J=se}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(se){if(se&&J&&typeof se.stack=="string")return[se.stack,J.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=a.DetermineComponentFrameRoot(),C=y[0],T=y[1];if(C&&T){var z=C.split(`
`),Y=T.split(`
`);for(g=a=0;a<z.length&&!z[a].includes("DetermineComponentFrameRoot");)a++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(a===z.length||g===Y.length)for(a=z.length-1,g=Y.length-1;1<=a&&0<=g&&z[a]!==Y[g];)g--;for(;1<=a&&0<=g;a--,g--)if(z[a]!==Y[g]){if(a!==1||g!==1)do if(a--,g--,0>g||z[a]!==Y[g]){var ie=`
`+z[a].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=a&&0<=g);break}}}finally{Ue=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Re(n):""}function Le(e,t){switch(e.tag){case 26:case 27:case 5:return Re(e.type);case 16:return Re("Lazy");case 13:return e.child!==t&&t!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return nt(e.type,!1);case 11:return nt(e.type.render,!1);case 1:return nt(e.type,!0);case 31:return Re("Activity");default:return""}}function bt(e){try{var t="",n=null;do t+=Le(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var it=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,Ot=i.unstable_cancelCallback,Vn=i.unstable_shouldYield,rt=i.unstable_requestPaint,Mt=i.unstable_now,Ju=i.unstable_getCurrentPriorityLevel,ur=i.unstable_ImmediatePriority,Rn=i.unstable_UserBlockingPriority,Zt=i.unstable_NormalPriority,al=i.unstable_LowPriority,la=i.unstable_IdlePriority,ol=i.log,Tp=i.unstable_setDisableYieldValue,rs=null,hn=null;function Zs(e){if(typeof ol=="function"&&Tp(e),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(rs,e)}catch{}}var pn=Math.clz32?Math.clz32:Oj,_j=Math.log,bj=Math.LN2;function Oj(e){return e>>>=0,e===0?32:31-(_j(e)/bj|0)|0}var cl=256,ll=262144,ul=4194304;function xi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dl(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var g=0,y=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var T=a&134217727;return T!==0?(a=T&~y,a!==0?g=xi(a):(C&=T,C!==0?g=xi(C):n||(n=T&~e,n!==0&&(g=xi(n))))):(T=a&~y,T!==0?g=xi(T):C!==0?g=xi(C):n||(n=a&~e,n!==0&&(g=xi(n)))),g===0?0:t!==0&&t!==g&&(t&y)===0&&(y=g&-g,n=t&-t,y>=n||y===32&&(n&4194048)!==0)?t:g}function ua(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jj(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ip(){var e=ul;return ul<<=1,(ul&62914560)===0&&(ul=4194304),e}function Qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function da(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Aj(e,t,n,a,g,y){var C=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,z=e.expirationTimes,Y=e.hiddenUpdates;for(n=C&~n;0<n;){var ie=31-pn(n),oe=1<<ie;T[ie]=0,z[ie]=-1;var J=Y[ie];if(J!==null)for(Y[ie]=null,ie=0;ie<J.length;ie++){var se=J[ie];se!==null&&(se.lane&=-536870913)}n&=~oe}a!==0&&Hp(e,a,0),y!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=y&~(C&~t))}function Hp(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-pn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Mp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-pn(n),g=1<<a;g&t|e[a]&t&&(e[a]|=t),n&=~g}}function Np(e,t){var n=t&-t;return n=(n&42)!==0?1:Wu(n),(n&(e.suspendedLanes|t))!==0?0:n}function Wu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ed(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function kp(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:by(e.type))}function Pp(e,t){var n=k.p;try{return k.p=e,t()}finally{k.p=n}}var Xs=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Xs,sn="__reactProps$"+Xs,dr="__reactContainer$"+Xs,td="__reactEvents$"+Xs,Sj="__reactListeners$"+Xs,wj="__reactHandles$"+Xs,qp="__reactResources$"+Xs,fa="__reactMarker$"+Xs;function nd(e){delete e[Dt],delete e[sn],delete e[td],delete e[Sj],delete e[wj]}function fr(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dr]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=iy(e);e!==null;){if(n=e[Dt])return n;e=iy(e)}return t}e=n,n=e.parentNode}return null}function hr(e){if(e=e[Dt]||e[dr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ha(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function pr(e){var t=e[qp];return t||(t=e[qp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qt(e){e[fa]=!0}var zp=new Set,$p={};function Ei(e,t){mr(e,t),mr(e+"Capture",t)}function mr(e,t){for($p[e]=t,e=0;e<t.length;e++)zp.add(t[e])}var Cj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dp={},Up={};function Rj(e){return it.call(Up,e)?!0:it.call(Dp,e)?!1:Cj.test(e)?Up[e]=!0:(Dp[e]=!0,!1)}function fl(e,t,n){if(Rj(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ps(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function xn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xj(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,y=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(C){n=""+C,y.call(this,C)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(C){n=""+C},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sd(e){if(!e._valueTracker){var t=Bp(e)?"checked":"value";e._valueTracker=xj(e,t,""+e[t])}}function Lp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Bp(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ej=/[\n"\\]/g;function En(e){return e.replace(Ej,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function id(e,t,n,a,g,y,C,T){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),t!=null?C==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xn(t)):e.value!==""+xn(t)&&(e.value=""+xn(t)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),t!=null?rd(e,C,xn(t)):n!=null?rd(e,C,xn(n)):a!=null&&e.removeAttribute("value"),g==null&&y!=null&&(e.defaultChecked=!!y),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+xn(T):e.removeAttribute("name")}function Fp(e,t,n,a,g,y,C,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),t!=null||n!=null){if(!(y!=="submit"&&y!=="reset"||t!=null)){sd(e);return}n=n!=null?""+xn(n):"",t=t!=null?""+xn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}a=a??g,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=T?e.checked:!!a,e.defaultChecked=!!a,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),sd(e)}function rd(e,t,n){t==="number"&&pl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function gr(e,t,n,a){if(e=e.options,t){t={};for(var g=0;g<n.length;g++)t["$"+n[g]]=!0;for(n=0;n<e.length;n++)g=t.hasOwnProperty("$"+e[n].value),e[n].selected!==g&&(e[n].selected=g),g&&a&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,g=0;g<e.length;g++){if(e[g].value===n){e[g].selected=!0,a&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function Gp(e,t,n){if(t!=null&&(t=""+xn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xn(n):""}function Vp(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(c(92));if(U(a)){if(1<a.length)throw Error(c(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=xn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),sd(e)}function vr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kp(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Tj.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yp(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var g in t)a=t[g],t.hasOwnProperty(g)&&n[g]!==a&&Kp(e,g,a)}else for(var y in t)t.hasOwnProperty(y)&&Kp(e,y,t[y])}function ad(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ij=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(e){return Hj.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ms(){}var od=null;function cd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yr=null,_r=null;function Zp(e){var t=hr(e);if(t&&(e=t.stateNode)){var n=e[sn]||null;e:switch(e=t.stateNode,t.type){case"input":if(id(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+En(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var g=a[sn]||null;if(!g)throw Error(c(90));id(a,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Lp(a)}break e;case"textarea":Gp(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&gr(e,!!n.multiple,t,!1)}}}var ld=!1;function Xp(e,t,n){if(ld)return e(t,n);ld=!0;try{var a=e(t);return a}finally{if(ld=!1,(yr!==null||_r!==null)&&(nu(),yr&&(t=yr,e=_r,_r=yr=null,Zp(t),e)))for(t=0;t<e.length;t++)Zp(e[t])}}function pa(e,t){var n=e.stateNode;if(n===null)return null;var a=n[sn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ud=!1;if(gs)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){ud=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{ud=!1}var Js=null,dd=null,gl=null;function Jp(){if(gl)return gl;var e,t=dd,n=t.length,a,g="value"in Js?Js.value:Js.textContent,y=g.length;for(e=0;e<n&&t[e]===g[e];e++);var C=n-e;for(a=1;a<=C&&t[n-a]===g[y-a];a++);return gl=g.slice(e,1<a?1-a:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Qp(){return!1}function rn(e){function t(n,a,g,y,C){this._reactName=n,this._targetInst=g,this.type=a,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?yl:Qp,this.isPropagationStopped=Qp,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=rn(Ti),ga=m({},Ti,{view:0,detail:0}),Mj=rn(ga),fd,hd,va,bl=m({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==va&&(va&&e.type==="mousemove"?(fd=e.screenX-va.screenX,hd=e.screenY-va.screenY):hd=fd=0,va=e),fd)},movementY:function(e){return"movementY"in e?e.movementY:hd}}),Wp=rn(bl),Nj=m({},bl,{dataTransfer:0}),kj=rn(Nj),Pj=m({},ga,{relatedTarget:0}),pd=rn(Pj),qj=m({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),zj=rn(qj),$j=m({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dj=rn($j),Uj=m({},Ti,{data:0}),em=rn(Uj),Bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fj[e])?!!t[e]:!1}function md(){return Gj}var Vj=m({},ga,{key:function(e){if(e.key){var t=Bj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kj=rn(Vj),Yj=m({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=rn(Yj),Zj=m({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),Xj=rn(Zj),Jj=m({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qj=rn(Jj),Wj=m({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eA=rn(Wj),tA=m({},Ti,{newState:0,oldState:0}),nA=rn(tA),sA=[9,13,27,32],gd=gs&&"CompositionEvent"in window,ya=null;gs&&"documentMode"in document&&(ya=document.documentMode);var iA=gs&&"TextEvent"in window&&!ya,nm=gs&&(!gd||ya&&8<ya&&11>=ya),sm=" ",im=!1;function rm(e,t){switch(e){case"keyup":return sA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function am(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function rA(e,t){switch(e){case"compositionend":return am(t);case"keypress":return t.which!==32?null:(im=!0,sm);case"textInput":return e=t.data,e===sm&&im?null:e;default:return null}}function aA(e,t){if(br)return e==="compositionend"||!gd&&rm(e,t)?(e=Jp(),gl=dd=Js=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nm&&t.locale!=="ko"?null:t.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oA[e.type]:t==="textarea"}function cm(e,t,n,a){yr?_r?_r.push(a):_r=[a]:yr=a,t=lu(t,"onChange"),0<t.length&&(n=new _l("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var _a=null,ba=null;function cA(e){Fv(e,0)}function Ol(e){var t=ha(e);if(Lp(t))return e}function lm(e,t){if(e==="change")return t}var um=!1;if(gs){var vd;if(gs){var yd="oninput"in document;if(!yd){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),yd=typeof dm.oninput=="function"}vd=yd}else vd=!1;um=vd&&(!document.documentMode||9<document.documentMode)}function fm(){_a&&(_a.detachEvent("onpropertychange",hm),ba=_a=null)}function hm(e){if(e.propertyName==="value"&&Ol(ba)){var t=[];cm(t,ba,e,cd(e)),Xp(cA,t)}}function lA(e,t,n){e==="focusin"?(fm(),_a=t,ba=n,_a.attachEvent("onpropertychange",hm)):e==="focusout"&&fm()}function uA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(ba)}function dA(e,t){if(e==="click")return Ol(t)}function fA(e,t){if(e==="input"||e==="change")return Ol(t)}function hA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:hA;function Oa(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var g=n[a];if(!it.call(t,g)||!mn(e[g],t[g]))return!1}return!0}function pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mm(e,t){var n=pm(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pm(n)}}function gm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=pl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var pA=gs&&"documentMode"in document&&11>=document.documentMode,Or=null,bd=null,ja=null,Od=!1;function ym(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Od||Or==null||Or!==pl(a)||(a=Or,"selectionStart"in a&&_d(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ja&&Oa(ja,a)||(ja=a,a=lu(bd,"onSelect"),0<a.length&&(t=new _l("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Or)))}function Ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},jd={},_m={};gs&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function Hi(e){if(jd[e])return jd[e];if(!jr[e])return e;var t=jr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _m)return jd[e]=t[n];return e}var bm=Hi("animationend"),Om=Hi("animationiteration"),jm=Hi("animationstart"),mA=Hi("transitionrun"),gA=Hi("transitionstart"),vA=Hi("transitioncancel"),Am=Hi("transitionend"),Sm=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function Kn(e,t){Sm.set(e,t),Ei(t,[e])}var jl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tn=[],Ar=0,Sd=0;function Al(){for(var e=Ar,t=Sd=Ar=0;t<e;){var n=Tn[t];Tn[t++]=null;var a=Tn[t];Tn[t++]=null;var g=Tn[t];Tn[t++]=null;var y=Tn[t];if(Tn[t++]=null,a!==null&&g!==null){var C=a.pending;C===null?g.next=g:(g.next=C.next,C.next=g),a.pending=g}y!==0&&wm(n,g,y)}}function Sl(e,t,n,a){Tn[Ar++]=e,Tn[Ar++]=t,Tn[Ar++]=n,Tn[Ar++]=a,Sd|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function wd(e,t,n,a){return Sl(e,t,n,a),wl(e)}function Mi(e,t){return Sl(e,null,null,t),wl(e)}function wm(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var g=!1,y=e.return;y!==null;)y.childLanes|=n,a=y.alternate,a!==null&&(a.childLanes|=n),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(g=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,g&&t!==null&&(g=31-pn(n),e=y.hiddenUpdates,a=e[g],a===null?e[g]=[t]:a.push(t),t.lane=n|536870912),y):null}function wl(e){if(50<Fa)throw Fa=0,kf=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Sr={};function yA(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,a){return new yA(e,t,n,a)}function Cd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vs(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Cm(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cl(e,t,n,a,g,y){var C=0;if(a=e,typeof e=="function")Cd(e)&&(C=1);else if(typeof e=="string")C=AS(e,n,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=gn(31,n,t,g),e.elementType=$,e.lanes=y,e;case A:return Ni(n.children,g,y,t);case w:C=8,g|=24;break;case O:return e=gn(12,n,t,g|2),e.elementType=O,e.lanes=y,e;case H:return e=gn(13,n,t,g),e.elementType=H,e.lanes=y,e;case M:return e=gn(19,n,t,g),e.elementType=M,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:C=10;break e;case S:C=9;break e;case E:C=11;break e;case x:C=14;break e;case P:C=16,a=null;break e}C=29,n=Error(c(130,e===null?"null":typeof e,"")),a=null}return t=gn(C,n,t,g),t.elementType=e,t.type=a,t.lanes=y,t}function Ni(e,t,n,a){return e=gn(7,e,a,t),e.lanes=n,e}function Rd(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function Rm(e){var t=gn(18,null,null,0);return t.stateNode=e,t}function xd(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xm=new WeakMap;function In(e,t){if(typeof e=="object"&&e!==null){var n=xm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:bt(t)},xm.set(e,t),t)}return{value:e,source:t,stack:bt(t)}}var wr=[],Cr=0,Rl=null,Aa=0,Hn=[],Mn=0,Qs=null,as=1,os="";function ys(e,t){wr[Cr++]=Aa,wr[Cr++]=Rl,Rl=e,Aa=t}function Em(e,t,n){Hn[Mn++]=as,Hn[Mn++]=os,Hn[Mn++]=Qs,Qs=e;var a=as;e=os;var g=32-pn(a)-1;a&=~(1<<g),n+=1;var y=32-pn(t)+g;if(30<y){var C=g-g%5;y=(a&(1<<C)-1).toString(32),a>>=C,g-=C,as=1<<32-pn(t)+g|n<<g|a,os=y+e}else as=1<<y|n<<g|a,os=e}function Ed(e){e.return!==null&&(ys(e,1),Em(e,1,0))}function Td(e){for(;e===Rl;)Rl=wr[--Cr],wr[Cr]=null,Aa=wr[--Cr],wr[Cr]=null;for(;e===Qs;)Qs=Hn[--Mn],Hn[Mn]=null,os=Hn[--Mn],Hn[Mn]=null,as=Hn[--Mn],Hn[Mn]=null}function Tm(e,t){Hn[Mn++]=as,Hn[Mn++]=os,Hn[Mn++]=Qs,as=t.id,os=t.overflow,Qs=e}var Ut=null,gt=null,Ze=!1,Ws=null,Nn=!1,Id=Error(c(519));function ei(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sa(In(t,e)),Id}function Im(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Dt]=e,t[sn]=a,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Va.length;n++)Ge(Va[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),Fp(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Vp(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Yv(t.textContent,n)?(a.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),a.onScroll!=null&&Ge("scroll",t),a.onScrollEnd!=null&&Ge("scrollend",t),a.onClick!=null&&(t.onclick=ms),t=!0):t=!1,t||ei(e,!0)}function Hm(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Ut=Ut.return}}function Rr(e){if(e!==Ut)return!1;if(!Ze)return Hm(e),Ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Xf(e.type,e.memoizedProps)),n=!n),n&&gt&&ei(e),Hm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));gt=sy(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));gt=sy(e)}else t===27?(t=gt,pi(e.type)?(e=th,th=null,gt=e):gt=t):gt=Ut?Pn(e.stateNode.nextSibling):null;return!0}function ki(){gt=Ut=null,Ze=!1}function Hd(){var e=Ws;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Ws=null),e}function Sa(e){Ws===null?Ws=[e]:Ws.push(e)}var Md=N(null),Pi=null,_s=null;function ti(e,t,n){le(Md,t._currentValue),t._currentValue=n}function bs(e){e._currentValue=Md.current,F(Md)}function Nd(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function kd(e,t,n,a){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var y=g.dependencies;if(y!==null){var C=g.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=g;for(var z=0;z<t.length;z++)if(T.context===t[z]){y.lanes|=n,T=y.alternate,T!==null&&(T.lanes|=n),Nd(y.return,n,e),a||(C=null);break e}y=T.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(c(341));C.lanes|=n,y=C.alternate,y!==null&&(y.lanes|=n),Nd(C,n,e),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===e){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function xr(e,t,n,a){e=null;for(var g=t,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(c(387));if(C=C.memoizedProps,C!==null){var T=g.type;mn(g.pendingProps.value,C.value)||(e!==null?e.push(T):e=[T])}}else if(g===fe.current){if(C=g.alternate,C===null)throw Error(c(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(Ja):e=[Ja])}g=g.return}e!==null&&kd(t,e,n,a),t.flags|=262144}function xl(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qi(e){Pi=e,_s=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return Mm(Pi,e)}function El(e,t){return Pi===null&&qi(e),Mm(e,t)}function Mm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},_s===null){if(e===null)throw Error(c(308));_s=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _s=_s.next=t;return n}var _A=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},bA=i.unstable_scheduleCallback,OA=i.unstable_NormalPriority,xt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new _A,data:new Map,refCount:0}}function wa(e){e.refCount--,e.refCount===0&&bA(OA,function(){e.controller.abort()})}var Ca=null,qd=0,Er=0,Tr=null;function jA(e,t){if(Ca===null){var n=Ca=[];qd=0,Er=Uf(),Tr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return qd++,t.then(Nm,Nm),t}function Nm(){if(--qd===0&&Ca!==null){Tr!==null&&(Tr.status="fulfilled");var e=Ca;Ca=null,Er=0,Tr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function AA(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(g){n.push(g)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var g=0;g<n.length;g++)(0,n[g])(t)},function(g){for(a.status="rejected",a.reason=g,g=0;g<n.length;g++)(0,n[g])(void 0)}),a}var km=I.S;I.S=function(e,t){yv=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&jA(e,t),km!==null&&km(e,t)};var zi=N(null);function zd(){var e=zi.current;return e!==null?e:ht.pooledCache}function Tl(e,t){t===null?le(zi,zi.current):le(zi,t.pool)}function Pm(){var e=zd();return e===null?null:{parent:xt._currentValue,pool:e}}var Ir=Error(c(460)),$d=Error(c(474)),Il=Error(c(542)),Hl={then:function(){}};function qm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ms,ms),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dm(e),e;default:if(typeof t.status=="string")t.then(ms,ms);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var g=t;g.status="fulfilled",g.value=a}},function(a){if(t.status==="pending"){var g=t;g.status="rejected",g.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dm(e),e}throw Di=t,Ir}}function $i(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Di=n,Ir):n}}var Di=null;function $m(){if(Di===null)throw Error(c(459));var e=Di;return Di=null,e}function Dm(e){if(e===Ir||e===Il)throw Error(c(483))}var Hr=null,Ra=0;function Ml(e){var t=Ra;return Ra+=1,Hr===null&&(Hr=[]),zm(Hr,e,t)}function xa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Nl(e,t){throw t.$$typeof===v?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Um(e){function t(L,D){if(e){var K=L.deletions;K===null?(L.deletions=[D],L.flags|=16):K.push(D)}}function n(L,D){if(!e)return null;for(;D!==null;)t(L,D),D=D.sibling;return null}function a(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function g(L,D){return L=vs(L,D),L.index=0,L.sibling=null,L}function y(L,D,K){return L.index=K,e?(K=L.alternate,K!==null?(K=K.index,K<D?(L.flags|=67108866,D):K):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function C(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,D,K,ae){return D===null||D.tag!==6?(D=Rd(K,L.mode,ae),D.return=L,D):(D=g(D,K),D.return=L,D)}function z(L,D,K,ae){var xe=K.type;return xe===A?ie(L,D,K.props.children,ae,K.key):D!==null&&(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===P&&$i(xe)===D.type)?(D=g(D,K.props),xa(D,K),D.return=L,D):(D=Cl(K.type,K.key,K.props,null,L.mode,ae),xa(D,K),D.return=L,D)}function Y(L,D,K,ae){return D===null||D.tag!==4||D.stateNode.containerInfo!==K.containerInfo||D.stateNode.implementation!==K.implementation?(D=xd(K,L.mode,ae),D.return=L,D):(D=g(D,K.children||[]),D.return=L,D)}function ie(L,D,K,ae,xe){return D===null||D.tag!==7?(D=Ni(K,L.mode,ae,xe),D.return=L,D):(D=g(D,K),D.return=L,D)}function oe(L,D,K){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Rd(""+D,L.mode,K),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return K=Cl(D.type,D.key,D.props,null,L.mode,K),xa(K,D),K.return=L,K;case b:return D=xd(D,L.mode,K),D.return=L,D;case P:return D=$i(D),oe(L,D,K)}if(U(D)||ee(D))return D=Ni(D,L.mode,K,null),D.return=L,D;if(typeof D.then=="function")return oe(L,Ml(D),K);if(D.$$typeof===R)return oe(L,El(L,D),K);Nl(L,D)}return null}function J(L,D,K,ae){var xe=D!==null?D.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return xe!==null?null:T(L,D,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return K.key===xe?z(L,D,K,ae):null;case b:return K.key===xe?Y(L,D,K,ae):null;case P:return K=$i(K),J(L,D,K,ae)}if(U(K)||ee(K))return xe!==null?null:ie(L,D,K,ae,null);if(typeof K.then=="function")return J(L,D,Ml(K),ae);if(K.$$typeof===R)return J(L,D,El(L,K),ae);Nl(L,K)}return null}function se(L,D,K,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return L=L.get(K)||null,T(D,L,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return L=L.get(ae.key===null?K:ae.key)||null,z(D,L,ae,xe);case b:return L=L.get(ae.key===null?K:ae.key)||null,Y(D,L,ae,xe);case P:return ae=$i(ae),se(L,D,K,ae,xe)}if(U(ae)||ee(ae))return L=L.get(K)||null,ie(D,L,ae,xe,null);if(typeof ae.then=="function")return se(L,D,K,Ml(ae),xe);if(ae.$$typeof===R)return se(L,D,K,El(D,ae),xe);Nl(D,ae)}return null}function je(L,D,K,ae){for(var xe=null,We=null,Se=D,qe=D=0,Ke=null;Se!==null&&qe<K.length;qe++){Se.index>qe?(Ke=Se,Se=null):Ke=Se.sibling;var et=J(L,Se,K[qe],ae);if(et===null){Se===null&&(Se=Ke);break}e&&Se&&et.alternate===null&&t(L,Se),D=y(et,D,qe),We===null?xe=et:We.sibling=et,We=et,Se=Ke}if(qe===K.length)return n(L,Se),Ze&&ys(L,qe),xe;if(Se===null){for(;qe<K.length;qe++)Se=oe(L,K[qe],ae),Se!==null&&(D=y(Se,D,qe),We===null?xe=Se:We.sibling=Se,We=Se);return Ze&&ys(L,qe),xe}for(Se=a(Se);qe<K.length;qe++)Ke=se(Se,L,qe,K[qe],ae),Ke!==null&&(e&&Ke.alternate!==null&&Se.delete(Ke.key===null?qe:Ke.key),D=y(Ke,D,qe),We===null?xe=Ke:We.sibling=Ke,We=Ke);return e&&Se.forEach(function(_i){return t(L,_i)}),Ze&&ys(L,qe),xe}function Te(L,D,K,ae){if(K==null)throw Error(c(151));for(var xe=null,We=null,Se=D,qe=D=0,Ke=null,et=K.next();Se!==null&&!et.done;qe++,et=K.next()){Se.index>qe?(Ke=Se,Se=null):Ke=Se.sibling;var _i=J(L,Se,et.value,ae);if(_i===null){Se===null&&(Se=Ke);break}e&&Se&&_i.alternate===null&&t(L,Se),D=y(_i,D,qe),We===null?xe=_i:We.sibling=_i,We=_i,Se=Ke}if(et.done)return n(L,Se),Ze&&ys(L,qe),xe;if(Se===null){for(;!et.done;qe++,et=K.next())et=oe(L,et.value,ae),et!==null&&(D=y(et,D,qe),We===null?xe=et:We.sibling=et,We=et);return Ze&&ys(L,qe),xe}for(Se=a(Se);!et.done;qe++,et=K.next())et=se(Se,L,qe,et.value,ae),et!==null&&(e&&et.alternate!==null&&Se.delete(et.key===null?qe:et.key),D=y(et,D,qe),We===null?xe=et:We.sibling=et,We=et);return e&&Se.forEach(function(NS){return t(L,NS)}),Ze&&ys(L,qe),xe}function dt(L,D,K,ae){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case _:e:{for(var xe=K.key;D!==null;){if(D.key===xe){if(xe=K.type,xe===A){if(D.tag===7){n(L,D.sibling),ae=g(D,K.props.children),ae.return=L,L=ae;break e}}else if(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===P&&$i(xe)===D.type){n(L,D.sibling),ae=g(D,K.props),xa(ae,K),ae.return=L,L=ae;break e}n(L,D);break}else t(L,D);D=D.sibling}K.type===A?(ae=Ni(K.props.children,L.mode,ae,K.key),ae.return=L,L=ae):(ae=Cl(K.type,K.key,K.props,null,L.mode,ae),xa(ae,K),ae.return=L,L=ae)}return C(L);case b:e:{for(xe=K.key;D!==null;){if(D.key===xe)if(D.tag===4&&D.stateNode.containerInfo===K.containerInfo&&D.stateNode.implementation===K.implementation){n(L,D.sibling),ae=g(D,K.children||[]),ae.return=L,L=ae;break e}else{n(L,D);break}else t(L,D);D=D.sibling}ae=xd(K,L.mode,ae),ae.return=L,L=ae}return C(L);case P:return K=$i(K),dt(L,D,K,ae)}if(U(K))return je(L,D,K,ae);if(ee(K)){if(xe=ee(K),typeof xe!="function")throw Error(c(150));return K=xe.call(K),Te(L,D,K,ae)}if(typeof K.then=="function")return dt(L,D,Ml(K),ae);if(K.$$typeof===R)return dt(L,D,El(L,K),ae);Nl(L,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,D!==null&&D.tag===6?(n(L,D.sibling),ae=g(D,K),ae.return=L,L=ae):(n(L,D),ae=Rd(K,L.mode,ae),ae.return=L,L=ae),C(L)):n(L,D)}return function(L,D,K,ae){try{Ra=0;var xe=dt(L,D,K,ae);return Hr=null,xe}catch(Se){if(Se===Ir||Se===Il)throw Se;var We=gn(29,Se,null,L.mode);return We.lanes=ae,We.return=L,We}finally{}}}var Ui=Um(!0),Bm=Um(!1),ni=!1;function Dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(st&2)!==0){var g=a.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),a.pending=t,t=wl(e),wm(e,null,n),t}return Sl(e,a,t,n),wl(e)}function Ea(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Mp(e,n)}}function Bd(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var g=null,y=null;if(n=n.firstBaseUpdate,n!==null){do{var C={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};y===null?g=y=C:y=y.next=C,n=n.next}while(n!==null);y===null?g=y=t:y=y.next=t}else g=y=t;n={baseState:a.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ld=!1;function Ta(){if(Ld){var e=Tr;if(e!==null)throw e}}function Ia(e,t,n,a){Ld=!1;var g=e.updateQueue;ni=!1;var y=g.firstBaseUpdate,C=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var z=T,Y=z.next;z.next=null,C===null?y=Y:C.next=Y,C=z;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==C&&(T===null?ie.firstBaseUpdate=Y:T.next=Y,ie.lastBaseUpdate=z))}if(y!==null){var oe=g.baseState;C=0,ie=Y=z=null,T=y;do{var J=T.lane&-536870913,se=J!==T.lane;if(se?(Ve&J)===J:(a&J)===J){J!==0&&J===Er&&(Ld=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var je=e,Te=T;J=t;var dt=n;switch(Te.tag){case 1:if(je=Te.payload,typeof je=="function"){oe=je.call(dt,oe,J);break e}oe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Te.payload,J=typeof je=="function"?je.call(dt,oe,J):je,J==null)break e;oe=m({},oe,J);break e;case 2:ni=!0}}J=T.callback,J!==null&&(e.flags|=64,se&&(e.flags|=8192),se=g.callbacks,se===null?g.callbacks=[J]:se.push(J))}else se={lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(Y=ie=se,z=oe):ie=ie.next=se,C|=J;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;se=T,T=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);ie===null&&(z=oe),g.baseState=z,g.firstBaseUpdate=Y,g.lastBaseUpdate=ie,y===null&&(g.shared.lanes=0),li|=C,e.lanes=C,e.memoizedState=oe}}function Lm(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Fm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Lm(n[e],t)}var Mr=N(null),kl=N(0);function Gm(e,t){e=Es,le(kl,e),le(Mr,t),Es=e|t.baseLanes}function Fd(){le(kl,Es),le(Mr,Mr.current)}function Gd(){Es=kl.current,F(Mr),F(kl)}var vn=N(null),kn=null;function ri(e){var t=e.alternate;le(Ct,Ct.current&1),le(vn,e),kn===null&&(t===null||Mr.current!==null||t.memoizedState!==null)&&(kn=e)}function Vd(e){le(Ct,Ct.current),le(vn,e),kn===null&&(kn=e)}function Vm(e){e.tag===22?(le(Ct,Ct.current),le(vn,e),kn===null&&(kn=e)):ai()}function ai(){le(Ct,Ct.current),le(vn,vn.current)}function yn(e){F(vn),kn===e&&(kn=null),F(Ct)}var Ct=N(0);function Pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Wf(n)||eh(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Os=0,Pe=null,lt=null,Et=null,ql=!1,Nr=!1,Bi=!1,zl=0,Ha=0,kr=null,SA=0;function At(){throw Error(c(321))}function Kd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function Yd(e,t,n,a,g,y){return Os=y,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Eg:uf,Bi=!1,y=n(a,g),Bi=!1,Nr&&(y=Ym(t,n,a,g)),Km(e),y}function Km(e){I.H=ka;var t=lt!==null&&lt.next!==null;if(Os=0,Et=lt=Pe=null,ql=!1,Ha=0,kr=null,t)throw Error(c(300));e===null||Tt||(e=e.dependencies,e!==null&&xl(e)&&(Tt=!0))}function Ym(e,t,n,a){Pe=e;var g=0;do{if(Nr&&(kr=null),Ha=0,Nr=!1,25<=g)throw Error(c(301));if(g+=1,Et=lt=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=Tg,y=t(n,a)}while(Nr);return y}function wA(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Ma(t):t,e=e.useState()[0],(lt!==null?lt.memoizedState:null)!==e&&(Pe.flags|=1024),t}function Zd(){var e=zl!==0;return zl=0,e}function Xd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Jd(e){if(ql){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ql=!1}Os=0,Et=lt=Pe=null,Nr=!1,Ha=zl=0,kr=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Pe.memoizedState=Et=e:Et=Et.next=e,Et}function Rt(){if(lt===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=Et===null?Pe.memoizedState:Et.next;if(t!==null)Et=t,lt=e;else{if(e===null)throw Pe.alternate===null?Error(c(467)):Error(c(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Et===null?Pe.memoizedState=Et=e:Et=Et.next=e}return Et}function $l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ma(e){var t=Ha;return Ha+=1,kr===null&&(kr=[]),e=zm(kr,e,t),t=Pe,(Et===null?t.memoizedState:Et.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Eg:uf),e}function Dl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ma(e);if(e.$$typeof===R)return Bt(e)}throw Error(c(438,String(e)))}function Qd(e){var t=null,n=Pe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Pe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(g){return g.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=$l(),Pe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=V;return t.index++,n}function js(e,t){return typeof t=="function"?t(e):t}function Ul(e){var t=Rt();return Wd(t,lt,e)}function Wd(e,t,n){var a=e.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=n;var g=e.baseQueue,y=a.pending;if(y!==null){if(g!==null){var C=g.next;g.next=y.next,y.next=C}t.baseQueue=g=y,a.pending=null}if(y=e.baseState,g===null)e.memoizedState=y;else{t=g.next;var T=C=null,z=null,Y=t,ie=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?(Ve&oe)===oe:(Os&oe)===oe){var J=Y.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===Er&&(ie=!0);else if((Os&J)===J){Y=Y.next,J===Er&&(ie=!0);continue}else oe={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(T=z=oe,C=y):z=z.next=oe,Pe.lanes|=J,li|=J;oe=Y.action,Bi&&n(y,oe),y=Y.hasEagerState?Y.eagerState:n(y,oe)}else J={lane:oe,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(T=z=J,C=y):z=z.next=J,Pe.lanes|=oe,li|=oe;Y=Y.next}while(Y!==null&&Y!==t);if(z===null?C=y:z.next=T,!mn(y,e.memoizedState)&&(Tt=!0,ie&&(n=Tr,n!==null)))throw n;e.memoizedState=y,e.baseState=C,e.baseQueue=z,a.lastRenderedState=y}return g===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ef(e){var t=Rt(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var a=n.dispatch,g=n.pending,y=t.memoizedState;if(g!==null){n.pending=null;var C=g=g.next;do y=e(y,C.action),C=C.next;while(C!==g);mn(y,t.memoizedState)||(Tt=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),n.lastRenderedState=y}return[y,a]}function Zm(e,t,n){var a=Pe,g=Rt(),y=Ze;if(y){if(n===void 0)throw Error(c(407));n=n()}else n=t();var C=!mn((lt||g).memoizedState,n);if(C&&(g.memoizedState=n,Tt=!0),g=g.queue,sf(Qm.bind(null,a,g,e),[e]),g.getSnapshot!==t||C||Et!==null&&Et.memoizedState.tag&1){if(a.flags|=2048,Pr(9,{destroy:void 0},Jm.bind(null,a,g,n,t),null),ht===null)throw Error(c(349));y||(Os&127)!==0||Xm(a,t,n)}return n}function Xm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t=$l(),Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jm(e,t,n,a){t.value=n,t.getSnapshot=a,Wm(t)&&eg(e)}function Qm(e,t,n){return n(function(){Wm(t)&&eg(e)})}function Wm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function eg(e){var t=Mi(e,2);t!==null&&un(t,e,2)}function tf(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),Bi){Zs(!0);try{n()}finally{Zs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:e},t}function tg(e,t,n,a){return e.baseState=n,Wd(e,lt,typeof a=="function"?a:js)}function CA(e,t,n,a,g){if(Fl(e))throw Error(c(485));if(e=t.action,e!==null){var y={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};I.T!==null?n(!0):y.isTransition=!1,a(y),n=t.pending,n===null?(y.next=t.pending=y,ng(t,y)):(y.next=n.next,t.pending=n.next=y)}}function ng(e,t){var n=t.action,a=t.payload,g=e.state;if(t.isTransition){var y=I.T,C={};I.T=C;try{var T=n(g,a),z=I.S;z!==null&&z(C,T),sg(e,t,T)}catch(Y){nf(e,t,Y)}finally{y!==null&&C.types!==null&&(y.types=C.types),I.T=y}}else try{y=n(g,a),sg(e,t,y)}catch(Y){nf(e,t,Y)}}function sg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){ig(e,t,a)},function(a){return nf(e,t,a)}):ig(e,t,n)}function ig(e,t,n){t.status="fulfilled",t.value=n,rg(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ng(e,n)))}function nf(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,rg(t),t=t.next;while(t!==a)}e.action=null}function rg(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ag(e,t){return t}function og(e,t){if(Ze){var n=ht.formState;if(n!==null){e:{var a=Pe;if(Ze){if(gt){t:{for(var g=gt,y=Nn;g.nodeType!==8;){if(!y){g=null;break t}if(g=Pn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){gt=Pn(g.nextSibling),a=g.data==="F!";break e}}ei(a)}a=!1}a&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:t},n.queue=a,n=Cg.bind(null,Pe,a),a.dispatch=n,a=tf(!1),y=lf.bind(null,Pe,!1,a.queue),a=Xt(),g={state:t,dispatch:null,action:e,pending:null},a.queue=g,n=CA.bind(null,Pe,g,y,n),g.dispatch=n,a.memoizedState=e,[t,n,!1]}function cg(e){var t=Rt();return lg(t,lt,e)}function lg(e,t,n){if(t=Wd(e,t,ag)[0],e=Ul(js)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Ma(t)}catch(C){throw C===Ir?Il:C}else a=t;t=Rt();var g=t.queue,y=g.dispatch;return n!==t.memoizedState&&(Pe.flags|=2048,Pr(9,{destroy:void 0},RA.bind(null,g,n),null)),[a,y,e]}function RA(e,t){e.action=t}function ug(e){var t=Rt(),n=lt;if(n!==null)return lg(t,n,e);Rt(),t=t.memoizedState,n=Rt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Pr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Pe.updateQueue,t===null&&(t=$l(),Pe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function dg(){return Rt().memoizedState}function Bl(e,t,n,a){var g=Xt();Pe.flags|=e,g.memoizedState=Pr(1|t,{destroy:void 0},n,a===void 0?null:a)}function Ll(e,t,n,a){var g=Rt();a=a===void 0?null:a;var y=g.memoizedState.inst;lt!==null&&a!==null&&Kd(a,lt.memoizedState.deps)?g.memoizedState=Pr(t,y,n,a):(Pe.flags|=e,g.memoizedState=Pr(1|t,y,n,a))}function fg(e,t){Bl(8390656,8,e,t)}function sf(e,t){Ll(2048,8,e,t)}function xA(e){Pe.flags|=4;var t=Pe.updateQueue;if(t===null)t=$l(),Pe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function hg(e){var t=Rt().memoizedState;return xA({ref:t,nextImpl:e}),function(){if((st&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function pg(e,t){return Ll(4,2,e,t)}function mg(e,t){return Ll(4,4,e,t)}function gg(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vg(e,t,n){n=n!=null?n.concat([e]):null,Ll(4,4,gg.bind(null,t,e),n)}function rf(){}function yg(e,t){var n=Rt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Kd(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function _g(e,t){var n=Rt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Kd(t,a[1]))return a[0];if(a=e(),Bi){Zs(!0);try{e()}finally{Zs(!1)}}return n.memoizedState=[a,t],a}function af(e,t,n){return n===void 0||(Os&1073741824)!==0&&(Ve&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=bv(),Pe.lanes|=e,li|=e,n)}function bg(e,t,n,a){return mn(n,t)?n:Mr.current!==null?(e=af(e,n,a),mn(e,t)||(Tt=!0),e):(Os&42)===0||(Os&1073741824)!==0&&(Ve&261930)===0?(Tt=!0,e.memoizedState=n):(e=bv(),Pe.lanes|=e,li|=e,t)}function Og(e,t,n,a,g){var y=k.p;k.p=y!==0&&8>y?y:8;var C=I.T,T={};I.T=T,lf(e,!1,t,n);try{var z=g(),Y=I.S;if(Y!==null&&Y(T,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=AA(z,a);Na(e,t,ie,On(e))}else Na(e,t,a,On(e))}catch(oe){Na(e,t,{then:function(){},status:"rejected",reason:oe},On())}finally{k.p=y,C!==null&&T.types!==null&&(C.types=T.types),I.T=C}}function EA(){}function of(e,t,n,a){if(e.tag!==5)throw Error(c(476));var g=jg(e).queue;Og(e,g,t,B,n===null?EA:function(){return Ag(e),n(a)})}function jg(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:B},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ag(e){var t=jg(e);t.next===null&&(t=e.alternate.memoizedState),Na(e,t.next.queue,{},On())}function cf(){return Bt(Ja)}function Sg(){return Rt().memoizedState}function wg(){return Rt().memoizedState}function TA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=On();e=si(n);var a=ii(t,e,n);a!==null&&(un(a,t,n),Ea(a,t,n)),t={cache:Pd()},e.payload=t;return}t=t.return}}function IA(e,t,n){var a=On();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fl(e)?Rg(t,n):(n=wd(e,t,n,a),n!==null&&(un(n,e,a),xg(n,t,a)))}function Cg(e,t,n){var a=On();Na(e,t,n,a)}function Na(e,t,n,a){var g={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fl(e))Rg(t,g);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var C=t.lastRenderedState,T=y(C,n);if(g.hasEagerState=!0,g.eagerState=T,mn(T,C))return Sl(e,t,g,0),ht===null&&Al(),!1}catch{}finally{}if(n=wd(e,t,g,a),n!==null)return un(n,e,a),xg(n,t,a),!0}return!1}function lf(e,t,n,a){if(a={lane:2,revertLane:Uf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fl(e)){if(t)throw Error(c(479))}else t=wd(e,n,a,2),t!==null&&un(t,e,2)}function Fl(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function Rg(e,t){Nr=ql=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xg(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Mp(e,n)}}var ka={readContext:Bt,use:Dl,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};ka.useEffectEvent=At;var Eg={readContext:Bt,use:Dl,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:fg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Bl(4194308,4,gg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bl(4194308,4,e,t)},useInsertionEffect:function(e,t){Bl(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var a=e();if(Bi){Zs(!0);try{e()}finally{Zs(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Xt();if(n!==void 0){var g=n(t);if(Bi){Zs(!0);try{n(t)}finally{Zs(!1)}}}else g=t;return a.memoizedState=a.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},a.queue=e,e=e.dispatch=IA.bind(null,Pe,e),[a.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=tf(e);var t=e.queue,n=Cg.bind(null,Pe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:rf,useDeferredValue:function(e,t){var n=Xt();return af(n,e,t)},useTransition:function(){var e=tf(!1);return e=Og.bind(null,Pe,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Pe,g=Xt();if(Ze){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),ht===null)throw Error(c(349));(Ve&127)!==0||Xm(a,t,n)}g.memoizedState=n;var y={value:n,getSnapshot:t};return g.queue=y,fg(Qm.bind(null,a,y,e),[e]),a.flags|=2048,Pr(9,{destroy:void 0},Jm.bind(null,a,y,n,t),null),n},useId:function(){var e=Xt(),t=ht.identifierPrefix;if(Ze){var n=os,a=as;n=(a&~(1<<32-pn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=zl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=SA++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:cf,useFormState:og,useActionState:og,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=lf.bind(null,Pe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Qd,useCacheRefresh:function(){return Xt().memoizedState=TA.bind(null,Pe)},useEffectEvent:function(e){var t=Xt(),n={impl:e};return t.memoizedState=n,function(){if((st&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},uf={readContext:Bt,use:Dl,useCallback:yg,useContext:Bt,useEffect:sf,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:_g,useReducer:Ul,useRef:dg,useState:function(){return Ul(js)},useDebugValue:rf,useDeferredValue:function(e,t){var n=Rt();return bg(n,lt.memoizedState,e,t)},useTransition:function(){var e=Ul(js)[0],t=Rt().memoizedState;return[typeof e=="boolean"?e:Ma(e),t]},useSyncExternalStore:Zm,useId:Sg,useHostTransitionStatus:cf,useFormState:cg,useActionState:cg,useOptimistic:function(e,t){var n=Rt();return tg(n,lt,e,t)},useMemoCache:Qd,useCacheRefresh:wg};uf.useEffectEvent=hg;var Tg={readContext:Bt,use:Dl,useCallback:yg,useContext:Bt,useEffect:sf,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:_g,useReducer:ef,useRef:dg,useState:function(){return ef(js)},useDebugValue:rf,useDeferredValue:function(e,t){var n=Rt();return lt===null?af(n,e,t):bg(n,lt.memoizedState,e,t)},useTransition:function(){var e=ef(js)[0],t=Rt().memoizedState;return[typeof e=="boolean"?e:Ma(e),t]},useSyncExternalStore:Zm,useId:Sg,useHostTransitionStatus:cf,useFormState:ug,useActionState:ug,useOptimistic:function(e,t){var n=Rt();return lt!==null?tg(n,lt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:wg};Tg.useEffectEvent=hg;function df(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:m({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ff={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=On(),g=si(a);g.payload=t,n!=null&&(g.callback=n),t=ii(e,g,a),t!==null&&(un(t,e,a),Ea(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=On(),g=si(a);g.tag=1,g.payload=t,n!=null&&(g.callback=n),t=ii(e,g,a),t!==null&&(un(t,e,a),Ea(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=On(),a=si(n);a.tag=2,t!=null&&(a.callback=t),t=ii(e,a,n),t!==null&&(un(t,e,n),Ea(t,e,n))}};function Ig(e,t,n,a,g,y,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,y,C):t.prototype&&t.prototype.isPureReactComponent?!Oa(n,a)||!Oa(g,y):!0}function Hg(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ff.enqueueReplaceState(t,t.state,null)}function Li(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=m({},n));for(var g in e)n[g]===void 0&&(n[g]=e[g])}return n}function Mg(e){jl(e)}function Ng(e){console.error(e)}function kg(e){jl(e)}function Gl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Pg(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function hf(e,t,n){return n=si(n),n.tag=3,n.payload={element:null},n.callback=function(){Gl(e,t)},n}function qg(e){return e=si(e),e.tag=3,e}function zg(e,t,n,a){var g=n.type.getDerivedStateFromError;if(typeof g=="function"){var y=a.value;e.payload=function(){return g(y)},e.callback=function(){Pg(t,n,a)}}var C=n.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){Pg(t,n,a),typeof g!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})})}function HA(e,t,n,a,g){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&xr(t,n,g,!0),n=vn.current,n!==null){switch(n.tag){case 31:case 13:return kn===null?su():n.alternate===null&&St===0&&(St=3),n.flags&=-257,n.flags|=65536,n.lanes=g,a===Hl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),zf(e,a,g)),!1;case 22:return n.flags|=65536,a===Hl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),zf(e,a,g)),!1}throw Error(c(435,n.tag))}return zf(e,a,g),su(),!1}if(Ze)return t=vn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=g,a!==Id&&(e=Error(c(422),{cause:a}),Sa(In(e,n)))):(a!==Id&&(t=Error(c(423),{cause:a}),Sa(In(t,n))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,a=In(a,n),g=hf(e.stateNode,a,g),Bd(e,g),St!==4&&(St=2)),!1;var y=Error(c(520),{cause:a});if(y=In(y,n),La===null?La=[y]:La.push(y),St!==4&&(St=2),t===null)return!0;a=In(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=g&-g,n.lanes|=e,e=hf(n.stateNode,a,e),Bd(n,e),!1;case 1:if(t=n.type,y=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ui===null||!ui.has(y))))return n.flags|=65536,g&=-g,n.lanes|=g,g=qg(g),zg(g,e,n,a),Bd(n,g),!1}n=n.return}while(n!==null);return!1}var pf=Error(c(461)),Tt=!1;function Lt(e,t,n,a){t.child=e===null?Bm(t,null,n,a):Ui(t,e.child,n,a)}function $g(e,t,n,a,g){n=n.render;var y=t.ref;if("ref"in a){var C={};for(var T in a)T!=="ref"&&(C[T]=a[T])}else C=a;return qi(t),a=Yd(e,t,n,C,y,g),T=Zd(),e!==null&&!Tt?(Xd(e,t,g),As(e,t,g)):(Ze&&T&&Ed(t),t.flags|=1,Lt(e,t,a,g),t.child)}function Dg(e,t,n,a,g){if(e===null){var y=n.type;return typeof y=="function"&&!Cd(y)&&y.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=y,Ug(e,t,y,a,g)):(e=Cl(n.type,null,a,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,!jf(e,g)){var C=y.memoizedProps;if(n=n.compare,n=n!==null?n:Oa,n(C,a)&&e.ref===t.ref)return As(e,t,g)}return t.flags|=1,e=vs(y,a),e.ref=t.ref,e.return=t,t.child=e}function Ug(e,t,n,a,g){if(e!==null){var y=e.memoizedProps;if(Oa(y,a)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=a=y,jf(e,g))(e.flags&131072)!==0&&(Tt=!0);else return t.lanes=e.lanes,As(e,t,g)}return mf(e,t,n,a,g)}function Bg(e,t,n,a){var g=a.children,y=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(y=y!==null?y.baseLanes|n:n,e!==null){for(a=t.child=e.child,g=0;a!==null;)g=g|a.lanes|a.childLanes,a=a.sibling;a=g&~y}else a=0,t.child=null;return Lg(e,t,y,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tl(t,y!==null?y.cachePool:null),y!==null?Gm(t,y):Fd(),Vm(t);else return a=t.lanes=536870912,Lg(e,t,y!==null?y.baseLanes|n:n,n,a)}else y!==null?(Tl(t,y.cachePool),Gm(t,y),ai(),t.memoizedState=null):(e!==null&&Tl(t,null),Fd(),ai());return Lt(e,t,g,n),t.child}function Pa(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lg(e,t,n,a,g){var y=zd();return y=y===null?null:{parent:xt._currentValue,pool:y},t.memoizedState={baseLanes:n,cachePool:y},e!==null&&Tl(t,null),Fd(),Vm(t),e!==null&&xr(e,t,a,!0),t.childLanes=g,null}function Vl(e,t){return t=Yl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fg(e,t,n){return Ui(t,e.child,null,n),e=Vl(t,t.pendingProps),e.flags|=2,yn(t),t.memoizedState=null,e}function MA(e,t,n){var a=t.pendingProps,g=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ze){if(a.mode==="hidden")return e=Vl(t,a),t.lanes=536870912,Pa(null,e);if(Vd(t),(e=gt)?(e=ny(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qs!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},n=Rm(e),n.return=t,t.child=n,Ut=t,gt=null)):e=null,e===null)throw ei(t);return t.lanes=536870912,null}return Vl(t,a)}var y=e.memoizedState;if(y!==null){var C=y.dehydrated;if(Vd(t),g)if(t.flags&256)t.flags&=-257,t=Fg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Tt||xr(e,t,n,!1),g=(n&e.childLanes)!==0,Tt||g){if(a=ht,a!==null&&(C=Np(a,n),C!==0&&C!==y.retryLane))throw y.retryLane=C,Mi(e,C),un(a,e,C),pf;su(),t=Fg(e,t,n)}else e=y.treeContext,gt=Pn(C.nextSibling),Ut=t,Ze=!0,Ws=null,Nn=!1,e!==null&&Tm(t,e),t=Vl(t,a),t.flags|=4096;return t}return e=vs(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mf(e,t,n,a,g){return qi(t),n=Yd(e,t,n,a,void 0,g),a=Zd(),e!==null&&!Tt?(Xd(e,t,g),As(e,t,g)):(Ze&&a&&Ed(t),t.flags|=1,Lt(e,t,n,g),t.child)}function Gg(e,t,n,a,g,y){return qi(t),t.updateQueue=null,n=Ym(t,a,n,g),Km(e),a=Zd(),e!==null&&!Tt?(Xd(e,t,y),As(e,t,y)):(Ze&&a&&Ed(t),t.flags|=1,Lt(e,t,n,y),t.child)}function Vg(e,t,n,a,g){if(qi(t),t.stateNode===null){var y=Sr,C=n.contextType;typeof C=="object"&&C!==null&&(y=Bt(C)),y=new n(a,y),t.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ff,t.stateNode=y,y._reactInternals=t,y=t.stateNode,y.props=a,y.state=t.memoizedState,y.refs={},Dd(t),C=n.contextType,y.context=typeof C=="object"&&C!==null?Bt(C):Sr,y.state=t.memoizedState,C=n.getDerivedStateFromProps,typeof C=="function"&&(df(t,n,C,a),y.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&ff.enqueueReplaceState(y,y.state,null),Ia(t,a,y,g),Ta(),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){y=t.stateNode;var T=t.memoizedProps,z=Li(n,T);y.props=z;var Y=y.context,ie=n.contextType;C=Sr,typeof ie=="object"&&ie!==null&&(C=Bt(ie));var oe=n.getDerivedStateFromProps;ie=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||Y!==C)&&Hg(t,y,a,C),ni=!1;var J=t.memoizedState;y.state=J,Ia(t,a,y,g),Ta(),Y=t.memoizedState,T||J!==Y||ni?(typeof oe=="function"&&(df(t,n,oe,a),Y=t.memoizedState),(z=ni||Ig(t,n,z,a,J,Y,C))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Y),y.props=a,y.state=Y,y.context=C,a=z):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{y=t.stateNode,Ud(e,t),C=t.memoizedProps,ie=Li(n,C),y.props=ie,oe=t.pendingProps,J=y.context,Y=n.contextType,z=Sr,typeof Y=="object"&&Y!==null&&(z=Bt(Y)),T=n.getDerivedStateFromProps,(Y=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==oe||J!==z)&&Hg(t,y,a,z),ni=!1,J=t.memoizedState,y.state=J,Ia(t,a,y,g),Ta();var se=t.memoizedState;C!==oe||J!==se||ni||e!==null&&e.dependencies!==null&&xl(e.dependencies)?(typeof T=="function"&&(df(t,n,T,a),se=t.memoizedState),(ie=ni||Ig(t,n,ie,a,J,se,z)||e!==null&&e.dependencies!==null&&xl(e.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,se,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,se,z)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=se),y.props=a,y.state=se,y.context=z,a=ie):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),a=!1)}return y=a,Kl(e,t),a=(t.flags&128)!==0,y||a?(y=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:y.render(),t.flags|=1,e!==null&&a?(t.child=Ui(t,e.child,null,g),t.child=Ui(t,null,n,g)):Lt(e,t,n,g),t.memoizedState=y.state,e=t.child):e=As(e,t,g),e}function Kg(e,t,n,a){return ki(),t.flags|=256,Lt(e,t,n,a),t.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(e){return{baseLanes:e,cachePool:Pm()}}function yf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=bn),e}function Yg(e,t,n){var a=t.pendingProps,g=!1,y=(t.flags&128)!==0,C;if((C=y)||(C=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),C&&(g=!0,t.flags&=-129),C=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ze){if(g?ri(t):ai(),(e=gt)?(e=ny(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qs!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},n=Rm(e),n.return=t,t.child=n,Ut=t,gt=null)):e=null,e===null)throw ei(t);return eh(e)?t.lanes=32:t.lanes=536870912,null}var T=a.children;return a=a.fallback,g?(ai(),g=t.mode,T=Yl({mode:"hidden",children:T},g),a=Ni(a,g,n,null),T.return=t,a.return=t,T.sibling=a,t.child=T,a=t.child,a.memoizedState=vf(n),a.childLanes=yf(e,C,n),t.memoizedState=gf,Pa(null,a)):(ri(t),_f(t,T))}var z=e.memoizedState;if(z!==null&&(T=z.dehydrated,T!==null)){if(y)t.flags&256?(ri(t),t.flags&=-257,t=bf(e,t,n)):t.memoizedState!==null?(ai(),t.child=e.child,t.flags|=128,t=null):(ai(),T=a.fallback,g=t.mode,a=Yl({mode:"visible",children:a.children},g),T=Ni(T,g,n,null),T.flags|=2,a.return=t,T.return=t,a.sibling=T,t.child=a,Ui(t,e.child,null,n),a=t.child,a.memoizedState=vf(n),a.childLanes=yf(e,C,n),t.memoizedState=gf,t=Pa(null,a));else if(ri(t),eh(T)){if(C=T.nextSibling&&T.nextSibling.dataset,C)var Y=C.dgst;C=Y,a=Error(c(419)),a.stack="",a.digest=C,Sa({value:a,source:null,stack:null}),t=bf(e,t,n)}else if(Tt||xr(e,t,n,!1),C=(n&e.childLanes)!==0,Tt||C){if(C=ht,C!==null&&(a=Np(C,n),a!==0&&a!==z.retryLane))throw z.retryLane=a,Mi(e,a),un(C,e,a),pf;Wf(T)||su(),t=bf(e,t,n)}else Wf(T)?(t.flags|=192,t.child=e.child,t=null):(e=z.treeContext,gt=Pn(T.nextSibling),Ut=t,Ze=!0,Ws=null,Nn=!1,e!==null&&Tm(t,e),t=_f(t,a.children),t.flags|=4096);return t}return g?(ai(),T=a.fallback,g=t.mode,z=e.child,Y=z.sibling,a=vs(z,{mode:"hidden",children:a.children}),a.subtreeFlags=z.subtreeFlags&65011712,Y!==null?T=vs(Y,T):(T=Ni(T,g,n,null),T.flags|=2),T.return=t,a.return=t,a.sibling=T,t.child=a,Pa(null,a),a=t.child,T=e.child.memoizedState,T===null?T=vf(n):(g=T.cachePool,g!==null?(z=xt._currentValue,g=g.parent!==z?{parent:z,pool:z}:g):g=Pm(),T={baseLanes:T.baseLanes|n,cachePool:g}),a.memoizedState=T,a.childLanes=yf(e,C,n),t.memoizedState=gf,Pa(e.child,a)):(ri(t),n=e.child,e=n.sibling,n=vs(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(C=t.deletions,C===null?(t.deletions=[e],t.flags|=16):C.push(e)),t.child=n,t.memoizedState=null,n)}function _f(e,t){return t=Yl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yl(e,t){return e=gn(22,e,null,t),e.lanes=0,e}function bf(e,t,n){return Ui(t,e.child,null,n),e=_f(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zg(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Nd(e.return,t,n)}function Of(e,t,n,a,g,y){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:g,treeForkCount:y}:(C.isBackwards=t,C.rendering=null,C.renderingStartTime=0,C.last=a,C.tail=n,C.tailMode=g,C.treeForkCount=y)}function Xg(e,t,n){var a=t.pendingProps,g=a.revealOrder,y=a.tail;a=a.children;var C=Ct.current,T=(C&2)!==0;if(T?(C=C&1|2,t.flags|=128):C&=1,le(Ct,C),Lt(e,t,a,n),a=Ze?Aa:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,n,t);else if(e.tag===19)Zg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(n=t.child,g=null;n!==null;)e=n.alternate,e!==null&&Pl(e)===null&&(g=n),n=n.sibling;n=g,n===null?(g=t.child,t.child=null):(g=n.sibling,n.sibling=null),Of(t,!1,g,n,y,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Pl(e)===null){t.child=g;break}e=g.sibling,g.sibling=n,n=g,g=e}Of(t,!0,n,null,y,a);break;case"together":Of(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function As(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),li|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(xr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=vs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xl(e)))}function NA(e,t,n){switch(t.tag){case 3:te(t,t.stateNode.containerInfo),ti(t,xt,e.memoizedState.cache),ki();break;case 27:case 5:_e(t);break;case 4:te(t,t.stateNode.containerInfo);break;case 10:ti(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Vd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ri(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Yg(e,t,n):(ri(t),e=As(e,t,n),e!==null?e.sibling:null);ri(t);break;case 19:var g=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(xr(e,t,n,!1),a=(n&t.childLanes)!==0),g){if(a)return Xg(e,t,n);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),le(Ct,Ct.current),a)break;return null;case 22:return t.lanes=0,Bg(e,t,n,t.pendingProps);case 24:ti(t,xt,e.memoizedState.cache)}return As(e,t,n)}function Jg(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Tt=!0;else{if(!jf(e,n)&&(t.flags&128)===0)return Tt=!1,NA(e,t,n);Tt=(e.flags&131072)!==0}else Tt=!1,Ze&&(t.flags&1048576)!==0&&Em(t,Aa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=$i(t.elementType),t.type=e,typeof e=="function")Cd(e)?(a=Li(e,a),t.tag=1,t=Vg(null,t,e,a,n)):(t.tag=0,t=mf(null,t,e,a,n));else{if(e!=null){var g=e.$$typeof;if(g===E){t.tag=11,t=$g(null,t,e,a,n);break e}else if(g===x){t.tag=14,t=Dg(null,t,e,a,n);break e}}throw t=q(e)||e,Error(c(306,t,""))}}return t;case 0:return mf(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,g=Li(a,t.pendingProps),Vg(e,t,a,g,n);case 3:e:{if(te(t,t.stateNode.containerInfo),e===null)throw Error(c(387));a=t.pendingProps;var y=t.memoizedState;g=y.element,Ud(e,t),Ia(t,a,null,n);var C=t.memoizedState;if(a=C.cache,ti(t,xt,a),a!==y.cache&&kd(t,[xt],n,!0),Ta(),a=C.element,y.isDehydrated)if(y={element:a,isDehydrated:!1,cache:C.cache},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){t=Kg(e,t,a,n);break e}else if(a!==g){g=In(Error(c(424)),t),Sa(g),t=Kg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(gt=Pn(e.firstChild),Ut=t,Ze=!0,Ws=null,Nn=!0,n=Bm(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ki(),a===g){t=As(e,t,n);break e}Lt(e,t,a,n)}t=t.child}return t;case 26:return Kl(e,t),e===null?(n=cy(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ze||(n=t.type,e=t.pendingProps,a=uu(ve.current).createElement(n),a[Dt]=t,a[sn]=e,Ft(a,n,e),qt(a),t.stateNode=a):t.memoizedState=cy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _e(t),e===null&&Ze&&(a=t.stateNode=ry(t.type,t.pendingProps,ve.current),Ut=t,Nn=!0,g=gt,pi(t.type)?(th=g,gt=Pn(a.firstChild)):gt=g),Lt(e,t,t.pendingProps.children,n),Kl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ze&&((g=a=gt)&&(a=uS(a,t.type,t.pendingProps,Nn),a!==null?(t.stateNode=a,Ut=t,gt=Pn(a.firstChild),Nn=!1,g=!0):g=!1),g||ei(t)),_e(t),g=t.type,y=t.pendingProps,C=e!==null?e.memoizedProps:null,a=y.children,Xf(g,y)?a=null:C!==null&&Xf(g,C)&&(t.flags|=32),t.memoizedState!==null&&(g=Yd(e,t,wA,null,null,n),Ja._currentValue=g),Kl(e,t),Lt(e,t,a,n),t.child;case 6:return e===null&&Ze&&((e=n=gt)&&(n=dS(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,Ut=t,gt=null,e=!0):e=!1),e||ei(t)),null;case 13:return Yg(e,t,n);case 4:return te(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ui(t,null,a,n):Lt(e,t,a,n),t.child;case 11:return $g(e,t,t.type,t.pendingProps,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ti(t,t.type,a.value),Lt(e,t,a.children,n),t.child;case 9:return g=t.type._context,a=t.pendingProps.children,qi(t),g=Bt(g),a=a(g),t.flags|=1,Lt(e,t,a,n),t.child;case 14:return Dg(e,t,t.type,t.pendingProps,n);case 15:return Ug(e,t,t.type,t.pendingProps,n);case 19:return Xg(e,t,n);case 31:return MA(e,t,n);case 22:return Bg(e,t,n,t.pendingProps);case 24:return qi(t),a=Bt(xt),e===null?(g=zd(),g===null&&(g=ht,y=Pd(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=n),g=y),t.memoizedState={parent:a,cache:g},Dd(t),ti(t,xt,g)):((e.lanes&n)!==0&&(Ud(e,t),Ia(t,null,null,n),Ta()),g=e.memoizedState,y=t.memoizedState,g.parent!==a?(g={parent:a,cache:a},t.memoizedState=g,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=g),ti(t,xt,a)):(a=y.cache,ti(t,xt,a),a!==g.cache&&kd(t,[xt],n,!0))),Lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Ss(e){e.flags|=4}function Af(e,t,n,a,g){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(Sv())e.flags|=8192;else throw Di=Hl,$d}else e.flags&=-16777217}function Qg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hy(t))if(Sv())e.flags|=8192;else throw Di=Hl,$d}function Zl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ip():536870912,e.lanes|=t,Dr|=t)}function qa(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var g=e.child;g!==null;)n|=g.lanes|g.childLanes,a|=g.subtreeFlags&65011712,a|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)n|=g.lanes|g.childLanes,a|=g.subtreeFlags,a|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function kA(e,t,n){var a=t.pendingProps;switch(Td(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return vt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),bs(xt),ne(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rr(t)?Ss(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Hd())),vt(t),null;case 26:var g=t.type,y=t.memoizedState;return e===null?(Ss(t),y!==null?(vt(t),Qg(t,y)):(vt(t),Af(t,g,null,a,n))):y?y!==e.memoizedState?(Ss(t),vt(t),Qg(t,y)):(vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ss(t),vt(t),Af(t,g,e,a,n)),null;case 27:if(W(t),n=ve.current,g=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ss(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return vt(t),null}e=de.current,Rr(t)?Im(t):(e=ry(g,a,n),t.stateNode=e,Ss(t))}return vt(t),null;case 5:if(W(t),g=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ss(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return vt(t),null}if(y=de.current,Rr(t))Im(t);else{var C=uu(ve.current);switch(y){case 1:y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=C.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof a.is=="string"?C.createElement("select",{is:a.is}):C.createElement("select"),a.multiple?y.multiple=!0:a.size&&(y.size=a.size);break;default:y=typeof a.is=="string"?C.createElement(g,{is:a.is}):C.createElement(g)}}y[Dt]=t,y[sn]=a;e:for(C=t.child;C!==null;){if(C.tag===5||C.tag===6)y.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}t.stateNode=y;e:switch(Ft(y,g,a),g){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ss(t)}}return vt(t),Af(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ss(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(c(166));if(e=ve.current,Rr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,g=Ut,g!==null)switch(g.tag){case 27:case 5:a=g.memoizedProps}e[Dt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Yv(e.nodeValue,n)),e||ei(t,!0)}else e=uu(e).createTextNode(a),e[Dt]=t,t.stateNode=e}return vt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Rr(t),n!==null){if(e===null){if(!a)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Dt]=t}else ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),e=!1}else n=Hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(yn(t),t):(yn(t),null);if((t.flags&128)!==0)throw Error(c(558))}return vt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=Rr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!g)throw Error(c(318));if(g=t.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(c(317));g[Dt]=t}else ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),g=!1}else g=Hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return t.flags&256?(yn(t),t):(yn(t),null)}return yn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,g=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(g=a.alternate.memoizedState.cachePool.pool),y=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(y=a.memoizedState.cachePool.pool),y!==g&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Zl(t,t.updateQueue),vt(t),null);case 4:return ne(),e===null&&Gf(t.stateNode.containerInfo),vt(t),null;case 10:return bs(t.type),vt(t),null;case 19:if(F(Ct),a=t.memoizedState,a===null)return vt(t),null;if(g=(t.flags&128)!==0,y=a.rendering,y===null)if(g)qa(a,!1);else{if(St!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=Pl(e),y!==null){for(t.flags|=128,qa(a,!1),e=y.updateQueue,t.updateQueue=e,Zl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Cm(n,e),n=n.sibling;return le(Ct,Ct.current&1|2),Ze&&ys(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Mt()>eu&&(t.flags|=128,g=!0,qa(a,!1),t.lanes=4194304)}else{if(!g)if(e=Pl(y),e!==null){if(t.flags|=128,g=!0,e=e.updateQueue,t.updateQueue=e,Zl(t,e),qa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!y.alternate&&!Ze)return vt(t),null}else 2*Mt()-a.renderingStartTime>eu&&n!==536870912&&(t.flags|=128,g=!0,qa(a,!1),t.lanes=4194304);a.isBackwards?(y.sibling=t.child,t.child=y):(e=a.last,e!==null?e.sibling=y:t.child=y,a.last=y)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Mt(),e.sibling=null,n=Ct.current,le(Ct,g?n&1|2:n&1),Ze&&ys(t,a.treeForkCount),e):(vt(t),null);case 22:case 23:return yn(t),Gd(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),n=t.updateQueue,n!==null&&Zl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&F(zi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bs(xt),vt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function PA(e,t){switch(Td(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bs(xt),ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return W(t),null;case 31:if(t.memoizedState!==null){if(yn(t),t.alternate===null)throw Error(c(340));ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(yn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(Ct),null;case 4:return ne(),null;case 10:return bs(t.type),null;case 22:case 23:return yn(t),Gd(),e!==null&&F(zi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bs(xt),null;case 25:return null;default:return null}}function Wg(e,t){switch(Td(t),t.tag){case 3:bs(xt),ne();break;case 26:case 27:case 5:W(t);break;case 4:ne();break;case 31:t.memoizedState!==null&&yn(t);break;case 13:yn(t);break;case 19:F(Ct);break;case 10:bs(t.type);break;case 22:case 23:yn(t),Gd(),e!==null&&F(zi);break;case 24:bs(xt)}}function za(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var g=a.next;n=g;do{if((n.tag&e)===e){a=void 0;var y=n.create,C=n.inst;a=y(),C.destroy=a}n=n.next}while(n!==g)}}catch(T){ot(t,t.return,T)}}function oi(e,t,n){try{var a=t.updateQueue,g=a!==null?a.lastEffect:null;if(g!==null){var y=g.next;a=y;do{if((a.tag&e)===e){var C=a.inst,T=C.destroy;if(T!==void 0){C.destroy=void 0,g=t;var z=n,Y=T;try{Y()}catch(ie){ot(g,z,ie)}}}a=a.next}while(a!==y)}}catch(ie){ot(t,t.return,ie)}}function ev(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Fm(t,n)}catch(a){ot(e,e.return,a)}}}function tv(e,t,n){n.props=Li(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ot(e,t,a)}}function $a(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(g){ot(e,t,g)}}function cs(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(g){ot(e,t,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(g){ot(e,t,g)}else n.current=null}function nv(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(g){ot(e,e.return,g)}}function Sf(e,t,n){try{var a=e.stateNode;iS(a,e.type,n,t),a[sn]=t}catch(g){ot(e,e.return,g)}}function sv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pi(e.type)||e.tag===4}function wf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cf(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ms));else if(a!==4&&(a===27&&pi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Cf(e,t,n),e=e.sibling;e!==null;)Cf(e,t,n),e=e.sibling}function Xl(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&pi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Xl(e,t,n),e=e.sibling;e!==null;)Xl(e,t,n),e=e.sibling}function iv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,g=t.attributes;g.length;)t.removeAttributeNode(g[0]);Ft(t,a,n),t[Dt]=e,t[sn]=n}catch(y){ot(e,e.return,y)}}var ws=!1,It=!1,Rf=!1,rv=typeof WeakSet=="function"?WeakSet:Set,zt=null;function qA(e,t){if(e=e.containerInfo,Yf=vu,e=vm(e),_d(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var g=a.anchorOffset,y=a.focusNode;a=a.focusOffset;try{n.nodeType,y.nodeType}catch{n=null;break e}var C=0,T=-1,z=-1,Y=0,ie=0,oe=e,J=null;t:for(;;){for(var se;oe!==n||g!==0&&oe.nodeType!==3||(T=C+g),oe!==y||a!==0&&oe.nodeType!==3||(z=C+a),oe.nodeType===3&&(C+=oe.nodeValue.length),(se=oe.firstChild)!==null;)J=oe,oe=se;for(;;){if(oe===e)break t;if(J===n&&++Y===g&&(T=C),J===y&&++ie===a&&(z=C),(se=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=se}n=T===-1||z===-1?null:{start:T,end:z}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zf={focusedElem:e,selectionRange:n},vu=!1,zt=t;zt!==null;)if(t=zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,zt=e;else for(;zt!==null;){switch(t=zt,y=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)g=e[n],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,n=t,g=y.memoizedProps,y=y.memoizedState,a=n.stateNode;try{var je=Li(n.type,g);e=a.getSnapshotBeforeUpdate(je,y),a.__reactInternalSnapshotBeforeUpdate=e}catch(Te){ot(n,n.return,Te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Qf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,zt=e;break}zt=t.return}}function av(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Rs(e,n),a&4&&za(5,n);break;case 1:if(Rs(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(C){ot(n,n.return,C)}else{var g=Li(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(g,t,e.__reactInternalSnapshotBeforeUpdate)}catch(C){ot(n,n.return,C)}}a&64&&ev(n),a&512&&$a(n,n.return);break;case 3:if(Rs(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Fm(e,t)}catch(C){ot(n,n.return,C)}}break;case 27:t===null&&a&4&&iv(n);case 26:case 5:Rs(e,n),t===null&&a&4&&nv(n),a&512&&$a(n,n.return);break;case 12:Rs(e,n);break;case 31:Rs(e,n),a&4&&lv(e,n);break;case 13:Rs(e,n),a&4&&uv(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=VA.bind(null,n),fS(e,n))));break;case 22:if(a=n.memoizedState!==null||ws,!a){t=t!==null&&t.memoizedState!==null||It,g=ws;var y=It;ws=a,(It=t)&&!y?xs(e,n,(n.subtreeFlags&8772)!==0):Rs(e,n),ws=g,It=y}break;case 30:break;default:Rs(e,n)}}function ov(e){var t=e.alternate;t!==null&&(e.alternate=null,ov(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&nd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var yt=null,an=!1;function Cs(e,t,n){for(n=n.child;n!==null;)cv(e,t,n),n=n.sibling}function cv(e,t,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(rs,n)}catch{}switch(n.tag){case 26:It||cs(n,t),Cs(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:It||cs(n,t);var a=yt,g=an;pi(n.type)&&(yt=n.stateNode,an=!1),Cs(e,t,n),Ya(n.stateNode),yt=a,an=g;break;case 5:It||cs(n,t);case 6:if(a=yt,g=an,yt=null,Cs(e,t,n),yt=a,an=g,yt!==null)if(an)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(n.stateNode)}catch(y){ot(n,t,y)}else try{yt.removeChild(n.stateNode)}catch(y){ot(n,t,y)}break;case 18:yt!==null&&(an?(e=yt,ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Yr(e)):ey(yt,n.stateNode));break;case 4:a=yt,g=an,yt=n.stateNode.containerInfo,an=!0,Cs(e,t,n),yt=a,an=g;break;case 0:case 11:case 14:case 15:oi(2,n,t),It||oi(4,n,t),Cs(e,t,n);break;case 1:It||(cs(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&tv(n,t,a)),Cs(e,t,n);break;case 21:Cs(e,t,n);break;case 22:It=(a=It)||n.memoizedState!==null,Cs(e,t,n),It=a;break;default:Cs(e,t,n)}}function lv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Yr(e)}catch(n){ot(t,t.return,n)}}}function uv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yr(e)}catch(n){ot(t,t.return,n)}}function zA(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rv),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rv),t;default:throw Error(c(435,e.tag))}}function Jl(e,t){var n=zA(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var g=KA.bind(null,e,a);a.then(g,g)}})}function on(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var g=n[a],y=e,C=t,T=C;e:for(;T!==null;){switch(T.tag){case 27:if(pi(T.type)){yt=T.stateNode,an=!1;break e}break;case 5:yt=T.stateNode,an=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(yt===null)throw Error(c(160));cv(y,C,g),yt=null,an=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dv(t,e),t=t.sibling}var Yn=null;function dv(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(t,e),cn(e),a&4&&(oi(3,e,e.return),za(3,e),oi(5,e,e.return));break;case 1:on(t,e),cn(e),a&512&&(It||n===null||cs(n,n.return)),a&64&&ws&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var g=Yn;if(on(t,e),cn(e),a&512&&(It||n===null||cs(n,n.return)),a&4){var y=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,g=g.ownerDocument||g;t:switch(a){case"title":y=g.getElementsByTagName("title")[0],(!y||y[fa]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(a),g.head.insertBefore(y,g.querySelector("head > title"))),Ft(y,a,n),y[Dt]=e,qt(y),a=y;break e;case"link":var C=dy("link","href",g).get(a+(n.href||""));if(C){for(var T=0;T<C.length;T++)if(y=C[T],y.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&y.getAttribute("rel")===(n.rel==null?null:n.rel)&&y.getAttribute("title")===(n.title==null?null:n.title)&&y.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){C.splice(T,1);break t}}y=g.createElement(a),Ft(y,a,n),g.head.appendChild(y);break;case"meta":if(C=dy("meta","content",g).get(a+(n.content||""))){for(T=0;T<C.length;T++)if(y=C[T],y.getAttribute("content")===(n.content==null?null:""+n.content)&&y.getAttribute("name")===(n.name==null?null:n.name)&&y.getAttribute("property")===(n.property==null?null:n.property)&&y.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&y.getAttribute("charset")===(n.charSet==null?null:n.charSet)){C.splice(T,1);break t}}y=g.createElement(a),Ft(y,a,n),g.head.appendChild(y);break;default:throw Error(c(468,a))}y[Dt]=e,qt(y),a=y}e.stateNode=a}else fy(g,e.type,e.stateNode);else e.stateNode=uy(g,a,e.memoizedProps);else y!==a?(y===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):y.count--,a===null?fy(g,e.type,e.stateNode):uy(g,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Sf(e,e.memoizedProps,n.memoizedProps)}break;case 27:on(t,e),cn(e),a&512&&(It||n===null||cs(n,n.return)),n!==null&&a&4&&Sf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(on(t,e),cn(e),a&512&&(It||n===null||cs(n,n.return)),e.flags&32){g=e.stateNode;try{vr(g,"")}catch(je){ot(e,e.return,je)}}a&4&&e.stateNode!=null&&(g=e.memoizedProps,Sf(e,g,n!==null?n.memoizedProps:g)),a&1024&&(Rf=!0);break;case 6:if(on(t,e),cn(e),a&4){if(e.stateNode===null)throw Error(c(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(je){ot(e,e.return,je)}}break;case 3:if(hu=null,g=Yn,Yn=du(t.containerInfo),on(t,e),Yn=g,cn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Yr(t.containerInfo)}catch(je){ot(e,e.return,je)}Rf&&(Rf=!1,fv(e));break;case 4:a=Yn,Yn=du(e.stateNode.containerInfo),on(t,e),cn(e),Yn=a;break;case 12:on(t,e),cn(e);break;case 31:on(t,e),cn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Jl(e,a)));break;case 13:on(t,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Wl=Mt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Jl(e,a)));break;case 22:g=e.memoizedState!==null;var z=n!==null&&n.memoizedState!==null,Y=ws,ie=It;if(ws=Y||g,It=ie||z,on(t,e),It=ie,ws=Y,cn(e),a&8192)e:for(t=e.stateNode,t._visibility=g?t._visibility&-2:t._visibility|1,g&&(n===null||z||ws||It||Fi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){z=n=t;try{if(y=z.stateNode,g)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{T=z.stateNode;var oe=z.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(je){ot(z,z.return,je)}}}else if(t.tag===6){if(n===null){z=t;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(je){ot(z,z.return,je)}}}else if(t.tag===18){if(n===null){z=t;try{var se=z.stateNode;g?ty(se,!0):ty(z.stateNode,!1)}catch(je){ot(z,z.return,je)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Jl(e,n))));break;case 19:on(t,e),cn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Jl(e,a)));break;case 30:break;case 21:break;default:on(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(sv(a)){n=a;break}a=a.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var g=n.stateNode,y=wf(e);Xl(e,y,g);break;case 5:var C=n.stateNode;n.flags&32&&(vr(C,""),n.flags&=-33);var T=wf(e);Xl(e,T,C);break;case 3:case 4:var z=n.stateNode.containerInfo,Y=wf(e);Cf(e,Y,z);break;default:throw Error(c(161))}}catch(ie){ot(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rs(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)av(e,t.alternate,t),t=t.sibling}function Fi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oi(4,t,t.return),Fi(t);break;case 1:cs(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&tv(t,t.return,n),Fi(t);break;case 27:Ya(t.stateNode);case 26:case 5:cs(t,t.return),Fi(t);break;case 22:t.memoizedState===null&&Fi(t);break;case 30:Fi(t);break;default:Fi(t)}e=e.sibling}}function xs(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,g=e,y=t,C=y.flags;switch(y.tag){case 0:case 11:case 15:xs(g,y,n),za(4,y);break;case 1:if(xs(g,y,n),a=y,g=a.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){ot(a,a.return,Y)}if(a=y,g=a.updateQueue,g!==null){var T=a.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)Lm(z[g],T)}catch(Y){ot(a,a.return,Y)}}n&&C&64&&ev(y),$a(y,y.return);break;case 27:iv(y);case 26:case 5:xs(g,y,n),n&&a===null&&C&4&&nv(y),$a(y,y.return);break;case 12:xs(g,y,n);break;case 31:xs(g,y,n),n&&C&4&&lv(g,y);break;case 13:xs(g,y,n),n&&C&4&&uv(g,y);break;case 22:y.memoizedState===null&&xs(g,y,n),$a(y,y.return);break;case 30:break;default:xs(g,y,n)}t=t.sibling}}function xf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&wa(n))}function Ef(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wa(e))}function Zn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hv(e,t,n,a),t=t.sibling}function hv(e,t,n,a){var g=t.flags;switch(t.tag){case 0:case 11:case 15:Zn(e,t,n,a),g&2048&&za(9,t);break;case 1:Zn(e,t,n,a);break;case 3:Zn(e,t,n,a),g&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wa(e)));break;case 12:if(g&2048){Zn(e,t,n,a),e=t.stateNode;try{var y=t.memoizedProps,C=y.id,T=y.onPostCommit;typeof T=="function"&&T(C,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){ot(t,t.return,z)}}else Zn(e,t,n,a);break;case 31:Zn(e,t,n,a);break;case 13:Zn(e,t,n,a);break;case 23:break;case 22:y=t.stateNode,C=t.alternate,t.memoizedState!==null?y._visibility&2?Zn(e,t,n,a):Da(e,t):y._visibility&2?Zn(e,t,n,a):(y._visibility|=2,qr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),g&2048&&xf(C,t);break;case 24:Zn(e,t,n,a),g&2048&&Ef(t.alternate,t);break;default:Zn(e,t,n,a)}}function qr(e,t,n,a,g){for(g=g&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var y=e,C=t,T=n,z=a,Y=C.flags;switch(C.tag){case 0:case 11:case 15:qr(y,C,T,z,g),za(8,C);break;case 23:break;case 22:var ie=C.stateNode;C.memoizedState!==null?ie._visibility&2?qr(y,C,T,z,g):Da(y,C):(ie._visibility|=2,qr(y,C,T,z,g)),g&&Y&2048&&xf(C.alternate,C);break;case 24:qr(y,C,T,z,g),g&&Y&2048&&Ef(C.alternate,C);break;default:qr(y,C,T,z,g)}t=t.sibling}}function Da(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,g=a.flags;switch(a.tag){case 22:Da(n,a),g&2048&&xf(a.alternate,a);break;case 24:Da(n,a),g&2048&&Ef(a.alternate,a);break;default:Da(n,a)}t=t.sibling}}var Ua=8192;function zr(e,t,n){if(e.subtreeFlags&Ua)for(e=e.child;e!==null;)pv(e,t,n),e=e.sibling}function pv(e,t,n){switch(e.tag){case 26:zr(e,t,n),e.flags&Ua&&e.memoizedState!==null&&SS(n,Yn,e.memoizedState,e.memoizedProps);break;case 5:zr(e,t,n);break;case 3:case 4:var a=Yn;Yn=du(e.stateNode.containerInfo),zr(e,t,n),Yn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ua,Ua=16777216,zr(e,t,n),Ua=a):zr(e,t,n));break;default:zr(e,t,n)}}function mv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ba(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];zt=a,vv(a,e)}mv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gv(e),e=e.sibling}function gv(e){switch(e.tag){case 0:case 11:case 15:Ba(e),e.flags&2048&&oi(9,e,e.return);break;case 3:Ba(e);break;case 12:Ba(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ql(e)):Ba(e);break;default:Ba(e)}}function Ql(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];zt=a,vv(a,e)}mv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:oi(8,t,t.return),Ql(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function vv(e,t){for(;zt!==null;){var n=zt;switch(n.tag){case 0:case 11:case 15:oi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:wa(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,zt=a;else e:for(n=e;zt!==null;){a=zt;var g=a.sibling,y=a.return;if(ov(a),a===n){zt=null;break e}if(g!==null){g.return=y,zt=g;break e}zt=y}}}var $A={getCacheForType:function(e){var t=Bt(xt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Bt(xt).controller.signal}},DA=typeof WeakMap=="function"?WeakMap:Map,st=0,ht=null,Fe=null,Ve=0,at=0,_n=null,ci=!1,$r=!1,Tf=!1,Es=0,St=0,li=0,Gi=0,If=0,bn=0,Dr=0,La=null,ln=null,Hf=!1,Wl=0,yv=0,eu=1/0,tu=null,ui=null,Nt=0,di=null,Ur=null,Ts=0,Mf=0,Nf=null,_v=null,Fa=0,kf=null;function On(){return(st&2)!==0&&Ve!==0?Ve&-Ve:I.T!==null?Uf():kp()}function bv(){if(bn===0)if((Ve&536870912)===0||Ze){var e=ll;ll<<=1,(ll&3932160)===0&&(ll=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function un(e,t,n){(e===ht&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Br(e,0),fi(e,Ve,bn,!1)),da(e,n),((st&2)===0||e!==ht)&&(e===ht&&((st&2)===0&&(Gi|=n),St===4&&fi(e,Ve,bn,!1)),ls(e))}function Ov(e,t,n){if((st&6)!==0)throw Error(c(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ua(e,t),g=a?LA(e,t):qf(e,t,!0),y=a;do{if(g===0){$r&&!a&&fi(e,t,0,!1);break}else{if(n=e.current.alternate,y&&!UA(n)){g=qf(e,t,!1),y=!1;continue}if(g===2){if(y=t,e.errorRecoveryDisabledLanes&y)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){t=C;e:{var T=e;g=La;var z=T.current.memoizedState.isDehydrated;if(z&&(Br(T,C).flags|=256),C=qf(T,C,!1),C!==2){if(Tf&&!z){T.errorRecoveryDisabledLanes|=y,Gi|=y,g=4;break e}y=ln,ln=g,y!==null&&(ln===null?ln=y:ln.push.apply(ln,y))}g=C}if(y=!1,g!==2)continue}}if(g===1){Br(e,0),fi(e,t,0,!0);break}e:{switch(a=e,y=g,y){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:fi(a,t,bn,!ci);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(g=Wl+300-Mt(),10<g)){if(fi(a,t,bn,!ci),dl(a,0,!0)!==0)break e;Ts=t,a.timeoutHandle=Qv(jv.bind(null,a,n,ln,tu,Hf,t,bn,Gi,Dr,ci,y,"Throttled",-0,0),g);break e}jv(a,n,ln,tu,Hf,t,bn,Gi,Dr,ci,y,null,-0,0)}}break}while(!0);ls(e)}function jv(e,t,n,a,g,y,C,T,z,Y,ie,oe,J,se){if(e.timeoutHandle=-1,oe=t.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ms},pv(t,y,oe);var je=(y&62914560)===y?Wl-Mt():(y&4194048)===y?yv-Mt():0;if(je=wS(oe,je),je!==null){Ts=y,e.cancelPendingCommit=je(Tv.bind(null,e,t,y,n,a,g,C,T,z,ie,oe,null,J,se)),fi(e,y,C,!Y);return}}Tv(e,t,y,n,a,g,C,T,z)}function UA(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var g=n[a],y=g.getSnapshot;g=g.value;try{if(!mn(y(),g))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fi(e,t,n,a){t&=~If,t&=~Gi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var g=t;0<g;){var y=31-pn(g),C=1<<y;a[y]=-1,g&=~C}n!==0&&Hp(e,n,t)}function nu(){return(st&6)===0?(Ga(0),!1):!0}function Pf(){if(Fe!==null){if(at===0)var e=Fe.return;else e=Fe,_s=Pi=null,Jd(e),Hr=null,Ra=0,e=Fe;for(;e!==null;)Wg(e.alternate,e),e=e.return;Fe=null}}function Br(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,oS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ts=0,Pf(),ht=e,Fe=n=vs(e.current,null),Ve=t,at=0,_n=null,ci=!1,$r=ua(e,t),Tf=!1,Dr=bn=If=Gi=li=St=0,ln=La=null,Hf=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var g=31-pn(a),y=1<<g;t|=e[g],a&=~y}return Es=t,Al(),n}function Av(e,t){Pe=null,I.H=ka,t===Ir||t===Il?(t=$m(),at=3):t===$d?(t=$m(),at=4):at=t===pf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_n=t,Fe===null&&(St=1,Gl(e,In(t,e.current)))}function Sv(){var e=vn.current;return e===null?!0:(Ve&4194048)===Ve?kn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?e===kn:!1}function wv(){var e=I.H;return I.H=ka,e===null?ka:e}function Cv(){var e=I.A;return I.A=$A,e}function su(){St=4,ci||(Ve&4194048)!==Ve&&vn.current!==null||($r=!0),(li&134217727)===0&&(Gi&134217727)===0||ht===null||fi(ht,Ve,bn,!1)}function qf(e,t,n){var a=st;st|=2;var g=wv(),y=Cv();(ht!==e||Ve!==t)&&(tu=null,Br(e,t)),t=!1;var C=St;e:do try{if(at!==0&&Fe!==null){var T=Fe,z=_n;switch(at){case 8:Pf(),C=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(t=!0);var Y=at;if(at=0,_n=null,Lr(e,T,z,Y),n&&$r){C=0;break e}break;default:Y=at,at=0,_n=null,Lr(e,T,z,Y)}}BA(),C=St;break}catch(ie){Av(e,ie)}while(!0);return t&&e.shellSuspendCounter++,_s=Pi=null,st=a,I.H=g,I.A=y,Fe===null&&(ht=null,Ve=0,Al()),C}function BA(){for(;Fe!==null;)Rv(Fe)}function LA(e,t){var n=st;st|=2;var a=wv(),g=Cv();ht!==e||Ve!==t?(tu=null,eu=Mt()+500,Br(e,t)):$r=ua(e,t);e:do try{if(at!==0&&Fe!==null){t=Fe;var y=_n;t:switch(at){case 1:at=0,_n=null,Lr(e,t,y,1);break;case 2:case 9:if(qm(y)){at=0,_n=null,xv(t);break}t=function(){at!==2&&at!==9||ht!==e||(at=7),ls(e)},y.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:qm(y)?(at=0,_n=null,xv(t)):(at=0,_n=null,Lr(e,t,y,7));break;case 5:var C=null;switch(Fe.tag){case 26:C=Fe.memoizedState;case 5:case 27:var T=Fe;if(C?hy(C):T.stateNode.complete){at=0,_n=null;var z=T.sibling;if(z!==null)Fe=z;else{var Y=T.return;Y!==null?(Fe=Y,iu(Y)):Fe=null}break t}}at=0,_n=null,Lr(e,t,y,5);break;case 6:at=0,_n=null,Lr(e,t,y,6);break;case 8:Pf(),St=6;break e;default:throw Error(c(462))}}FA();break}catch(ie){Av(e,ie)}while(!0);return _s=Pi=null,I.H=a,I.A=g,st=n,Fe!==null?0:(ht=null,Ve=0,Al(),St)}function FA(){for(;Fe!==null&&!Vn();)Rv(Fe)}function Rv(e){var t=Jg(e.alternate,e,Es);e.memoizedProps=e.pendingProps,t===null?iu(e):Fe=t}function xv(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Gg(n,t,t.pendingProps,t.type,void 0,Ve);break;case 11:t=Gg(n,t,t.pendingProps,t.type.render,t.ref,Ve);break;case 5:Jd(t);default:Wg(n,t),t=Fe=Cm(t,Es),t=Jg(n,t,Es)}e.memoizedProps=e.pendingProps,t===null?iu(e):Fe=t}function Lr(e,t,n,a){_s=Pi=null,Jd(t),Hr=null,Ra=0;var g=t.return;try{if(HA(e,g,t,n,Ve)){St=1,Gl(e,In(n,e.current)),Fe=null;return}}catch(y){if(g!==null)throw Fe=g,y;St=1,Gl(e,In(n,e.current)),Fe=null;return}t.flags&32768?(Ze||a===1?e=!0:$r||(Ve&536870912)!==0?e=!1:(ci=e=!0,(a===2||a===9||a===3||a===6)&&(a=vn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ev(t,e)):iu(t)}function iu(e){var t=e;do{if((t.flags&32768)!==0){Ev(t,ci);return}e=t.return;var n=kA(t.alternate,t,Es);if(n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);St===0&&(St=5)}function Ev(e,t){do{var n=PA(e.alternate,e);if(n!==null){n.flags&=32767,Fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=n}while(e!==null);St=6,Fe=null}function Tv(e,t,n,a,g,y,C,T,z){e.cancelPendingCommit=null;do ru();while(Nt!==0);if((st&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(y=t.lanes|t.childLanes,y|=Sd,Aj(e,n,y,C,T,z),e===ht&&(Fe=ht=null,Ve=0),Ur=t,di=e,Ts=n,Mf=y,Nf=g,_v=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YA(Zt,function(){return kv(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=I.T,I.T=null,g=k.p,k.p=2,C=st,st|=4;try{qA(e,t,n)}finally{st=C,k.p=g,I.T=a}}Nt=1,Iv(),Hv(),Mv()}}function Iv(){if(Nt===1){Nt=0;var e=di,t=Ur,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=I.T,I.T=null;var a=k.p;k.p=2;var g=st;st|=4;try{dv(t,e);var y=Zf,C=vm(e.containerInfo),T=y.focusedElem,z=y.selectionRange;if(C!==T&&T&&T.ownerDocument&&gm(T.ownerDocument.documentElement,T)){if(z!==null&&_d(T)){var Y=z.start,ie=z.end;if(ie===void 0&&(ie=Y),"selectionStart"in T)T.selectionStart=Y,T.selectionEnd=Math.min(ie,T.value.length);else{var oe=T.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var se=J.getSelection(),je=T.textContent.length,Te=Math.min(z.start,je),dt=z.end===void 0?Te:Math.min(z.end,je);!se.extend&&Te>dt&&(C=dt,dt=Te,Te=C);var L=mm(T,Te),D=mm(T,dt);if(L&&D&&(se.rangeCount!==1||se.anchorNode!==L.node||se.anchorOffset!==L.offset||se.focusNode!==D.node||se.focusOffset!==D.offset)){var K=oe.createRange();K.setStart(L.node,L.offset),se.removeAllRanges(),Te>dt?(se.addRange(K),se.extend(D.node,D.offset)):(K.setEnd(D.node,D.offset),se.addRange(K))}}}}for(oe=[],se=T;se=se.parentNode;)se.nodeType===1&&oe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var ae=oe[T];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}vu=!!Yf,Zf=Yf=null}finally{st=g,k.p=a,I.T=n}}e.current=t,Nt=2}}function Hv(){if(Nt===2){Nt=0;var e=di,t=Ur,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=I.T,I.T=null;var a=k.p;k.p=2;var g=st;st|=4;try{av(e,t.alternate,t)}finally{st=g,k.p=a,I.T=n}}Nt=3}}function Mv(){if(Nt===4||Nt===3){Nt=0,rt();var e=di,t=Ur,n=Ts,a=_v;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Ur=di=null,Nv(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(ui=null),ed(n),t=t.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(rs,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=I.T,g=k.p,k.p=2,I.T=null;try{for(var y=e.onRecoverableError,C=0;C<a.length;C++){var T=a[C];y(T.value,{componentStack:T.stack})}}finally{I.T=t,k.p=g}}(Ts&3)!==0&&ru(),ls(e),g=e.pendingLanes,(n&261930)!==0&&(g&42)!==0?e===kf?Fa++:(Fa=0,kf=e):Fa=0,Ga(0)}}function Nv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wa(t)))}function ru(){return Iv(),Hv(),Mv(),kv()}function kv(){if(Nt!==5)return!1;var e=di,t=Mf;Mf=0;var n=ed(Ts),a=I.T,g=k.p;try{k.p=32>n?32:n,I.T=null,n=Nf,Nf=null;var y=di,C=Ts;if(Nt=0,Ur=di=null,Ts=0,(st&6)!==0)throw Error(c(331));var T=st;if(st|=4,gv(y.current),hv(y,y.current,C,n),st=T,Ga(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(rs,y)}catch{}return!0}finally{k.p=g,I.T=a,Nv(e,t)}}function Pv(e,t,n){t=In(n,t),t=hf(e.stateNode,t,2),e=ii(e,t,2),e!==null&&(da(e,2),ls(e))}function ot(e,t,n){if(e.tag===3)Pv(e,e,n);else for(;t!==null;){if(t.tag===3){Pv(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ui===null||!ui.has(a))){e=In(n,e),n=qg(2),a=ii(t,n,2),a!==null&&(zg(n,a,t,e),da(a,2),ls(a));break}}t=t.return}}function zf(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new DA;var g=new Set;a.set(t,g)}else g=a.get(t),g===void 0&&(g=new Set,a.set(t,g));g.has(n)||(Tf=!0,g.add(n),e=GA.bind(null,e,t,n),t.then(e,e))}function GA(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ht===e&&(Ve&n)===n&&(St===4||St===3&&(Ve&62914560)===Ve&&300>Mt()-Wl?(st&2)===0&&Br(e,0):If|=n,Dr===Ve&&(Dr=0)),ls(e)}function qv(e,t){t===0&&(t=Ip()),e=Mi(e,t),e!==null&&(da(e,t),ls(e))}function VA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qv(e,n)}function KA(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,g=e.memoizedState;g!==null&&(n=g.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(t),qv(e,n)}function YA(e,t){return jt(e,t)}var au=null,Fr=null,$f=!1,ou=!1,Df=!1,hi=0;function ls(e){e!==Fr&&e.next===null&&(Fr===null?au=Fr=e:Fr=Fr.next=e),ou=!0,$f||($f=!0,XA())}function Ga(e,t){if(!Df&&ou){Df=!0;do for(var n=!1,a=au;a!==null;){if(e!==0){var g=a.pendingLanes;if(g===0)var y=0;else{var C=a.suspendedLanes,T=a.pingedLanes;y=(1<<31-pn(42|e)+1)-1,y&=g&~(C&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(n=!0,Uv(a,y))}else y=Ve,y=dl(a,a===ht?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(y&3)===0||ua(a,y)||(n=!0,Uv(a,y));a=a.next}while(n);Df=!1}}function ZA(){zv()}function zv(){ou=$f=!1;var e=0;hi!==0&&aS()&&(e=hi);for(var t=Mt(),n=null,a=au;a!==null;){var g=a.next,y=$v(a,t);y===0?(a.next=null,n===null?au=g:n.next=g,g===null&&(Fr=n)):(n=a,(e!==0||(y&3)!==0)&&(ou=!0)),a=g}Nt!==0&&Nt!==5||Ga(e),hi!==0&&(hi=0)}function $v(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,g=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var C=31-pn(y),T=1<<C,z=g[C];z===-1?((T&n)===0||(T&a)!==0)&&(g[C]=jj(T,t)):z<=t&&(e.expiredLanes|=T),y&=~T}if(t=ht,n=Ve,n=dl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ot(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ua(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Ot(a),ed(n)){case 2:case 8:n=Rn;break;case 32:n=Zt;break;case 268435456:n=la;break;default:n=Zt}return a=Dv.bind(null,e),n=jt(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Ot(a),e.callbackPriority=2,e.callbackNode=null,2}function Dv(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ru()&&e.callbackNode!==n)return null;var a=Ve;return a=dl(e,e===ht?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Ov(e,a,t),$v(e,Mt()),e.callbackNode!=null&&e.callbackNode===n?Dv.bind(null,e):null)}function Uv(e,t){if(ru())return null;Ov(e,t,!0)}function XA(){cS(function(){(st&6)!==0?jt(ur,ZA):zv()})}function Uf(){if(hi===0){var e=Er;e===0&&(e=cl,cl<<=1,(cl&261888)===0&&(cl=256)),hi=e}return hi}function Bv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ml(""+e)}function Lv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function JA(e,t,n,a,g){if(t==="submit"&&n&&n.stateNode===g){var y=Bv((g[sn]||null).action),C=a.submitter;C&&(t=(t=C[sn]||null)?Bv(t.formAction):C.getAttribute("formAction"),t!==null&&(y=t,C=null));var T=new _l("action","action",null,a,g);e.push({event:T,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(hi!==0){var z=C?Lv(g,C):new FormData(g);of(n,{pending:!0,data:z,method:g.method,action:y},null,z)}}else typeof y=="function"&&(T.preventDefault(),z=C?Lv(g,C):new FormData(g),of(n,{pending:!0,data:z,method:g.method,action:y},y,z))},currentTarget:g}]})}}for(var Bf=0;Bf<Ad.length;Bf++){var Lf=Ad[Bf],QA=Lf.toLowerCase(),WA=Lf[0].toUpperCase()+Lf.slice(1);Kn(QA,"on"+WA)}Kn(bm,"onAnimationEnd"),Kn(Om,"onAnimationIteration"),Kn(jm,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(mA,"onTransitionRun"),Kn(gA,"onTransitionStart"),Kn(vA,"onTransitionCancel"),Kn(Am,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Va));function Fv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],g=a.event;a=a.listeners;e:{var y=void 0;if(t)for(var C=a.length-1;0<=C;C--){var T=a[C],z=T.instance,Y=T.currentTarget;if(T=T.listener,z!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=Y;try{y(g)}catch(ie){jl(ie)}g.currentTarget=null,y=z}else for(C=0;C<a.length;C++){if(T=a[C],z=T.instance,Y=T.currentTarget,T=T.listener,z!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=Y;try{y(g)}catch(ie){jl(ie)}g.currentTarget=null,y=z}}}}function Ge(e,t){var n=t[td];n===void 0&&(n=t[td]=new Set);var a=e+"__bubble";n.has(a)||(Gv(t,e,2,!1),n.add(a))}function Ff(e,t,n){var a=0;t&&(a|=4),Gv(n,e,a,t)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Gf(e){if(!e[cu]){e[cu]=!0,zp.forEach(function(n){n!=="selectionchange"&&(eS.has(n)||Ff(n,!1,e),Ff(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cu]||(t[cu]=!0,Ff("selectionchange",!1,t))}}function Gv(e,t,n,a){switch(by(t)){case 2:var g=xS;break;case 8:g=ES;break;default:g=ah}n=g.bind(null,t,n,e),g=void 0,!ud||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),a?g!==void 0?e.addEventListener(t,n,{capture:!0,passive:g}):e.addEventListener(t,n,!0):g!==void 0?e.addEventListener(t,n,{passive:g}):e.addEventListener(t,n,!1)}function Vf(e,t,n,a,g){var y=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var C=a.tag;if(C===3||C===4){var T=a.stateNode.containerInfo;if(T===g)break;if(C===4)for(C=a.return;C!==null;){var z=C.tag;if((z===3||z===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;T!==null;){if(C=fr(T),C===null)return;if(z=C.tag,z===5||z===6||z===26||z===27){a=y=C;continue e}T=T.parentNode}}a=a.return}Xp(function(){var Y=y,ie=cd(n),oe=[];e:{var J=Sm.get(e);if(J!==void 0){var se=_l,je=e;switch(e){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":se=Kj;break;case"focusin":je="focus",se=pd;break;case"focusout":je="blur",se=pd;break;case"beforeblur":case"afterblur":se=pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=kj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Xj;break;case bm:case Om:case jm:se=zj;break;case Am:se=Qj;break;case"scroll":case"scrollend":se=Mj;break;case"wheel":se=eA;break;case"copy":case"cut":case"paste":se=Dj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=tm;break;case"toggle":case"beforetoggle":se=nA}var Te=(t&4)!==0,dt=!Te&&(e==="scroll"||e==="scrollend"),L=Te?J!==null?J+"Capture":null:J;Te=[];for(var D=Y,K;D!==null;){var ae=D;if(K=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||K===null||L===null||(ae=pa(D,L),ae!=null&&Te.push(Ka(D,ae,K))),dt)break;D=D.return}0<Te.length&&(J=new se(J,je,null,n,ie),oe.push({event:J,listeners:Te}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",J&&n!==od&&(je=n.relatedTarget||n.fromElement)&&(fr(je)||je[dr]))break e;if((se||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,se?(je=n.relatedTarget||n.toElement,se=Y,je=je?fr(je):null,je!==null&&(dt=p(je),Te=je.tag,je!==dt||Te!==5&&Te!==27&&Te!==6)&&(je=null)):(se=null,je=Y),se!==je)){if(Te=Wp,ae="onMouseLeave",L="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(Te=tm,ae="onPointerLeave",L="onPointerEnter",D="pointer"),dt=se==null?J:ha(se),K=je==null?J:ha(je),J=new Te(ae,D+"leave",se,n,ie),J.target=dt,J.relatedTarget=K,ae=null,fr(ie)===Y&&(Te=new Te(L,D+"enter",je,n,ie),Te.target=K,Te.relatedTarget=dt,ae=Te),dt=ae,se&&je)t:{for(Te=tS,L=se,D=je,K=0,ae=L;ae;ae=Te(ae))K++;ae=0;for(var xe=D;xe;xe=Te(xe))ae++;for(;0<K-ae;)L=Te(L),K--;for(;0<ae-K;)D=Te(D),ae--;for(;K--;){if(L===D||D!==null&&L===D.alternate){Te=L;break t}L=Te(L),D=Te(D)}Te=null}else Te=null;se!==null&&Vv(oe,J,se,Te,!1),je!==null&&dt!==null&&Vv(oe,dt,je,Te,!0)}}e:{if(J=Y?ha(Y):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var We=lm;else if(om(J))if(um)We=fA;else{We=uA;var Se=lA}else se=J.nodeName,!se||se.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Y&&ad(Y.elementType)&&(We=lm):We=dA;if(We&&(We=We(e,Y))){cm(oe,We,n,ie);break e}Se&&Se(e,J,Y),e==="focusout"&&Y&&J.type==="number"&&Y.memoizedProps.value!=null&&rd(J,"number",J.value)}switch(Se=Y?ha(Y):window,e){case"focusin":(om(Se)||Se.contentEditable==="true")&&(Or=Se,bd=Y,ja=null);break;case"focusout":ja=bd=Or=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,ym(oe,n,ie);break;case"selectionchange":if(pA)break;case"keydown":case"keyup":ym(oe,n,ie)}var qe;if(gd)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else br?rm(e,n)&&(Ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ke="onCompositionStart");Ke&&(nm&&n.locale!=="ko"&&(br||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&br&&(qe=Jp()):(Js=ie,dd="value"in Js?Js.value:Js.textContent,br=!0)),Se=lu(Y,Ke),0<Se.length&&(Ke=new em(Ke,e,null,n,ie),oe.push({event:Ke,listeners:Se}),qe?Ke.data=qe:(qe=am(n),qe!==null&&(Ke.data=qe)))),(qe=iA?rA(e,n):aA(e,n))&&(Ke=lu(Y,"onBeforeInput"),0<Ke.length&&(Se=new em("onBeforeInput","beforeinput",null,n,ie),oe.push({event:Se,listeners:Ke}),Se.data=qe)),JA(oe,e,Y,n,ie)}Fv(oe,t)})}function Ka(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lu(e,t){for(var n=t+"Capture",a=[];e!==null;){var g=e,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=pa(e,n),g!=null&&a.unshift(Ka(e,g,y)),g=pa(e,t),g!=null&&a.push(Ka(e,g,y))),e.tag===3)return a;e=e.return}return[]}function tS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vv(e,t,n,a,g){for(var y=t._reactName,C=[];n!==null&&n!==a;){var T=n,z=T.alternate,Y=T.stateNode;if(T=T.tag,z!==null&&z===a)break;T!==5&&T!==26&&T!==27||Y===null||(z=Y,g?(Y=pa(n,y),Y!=null&&C.unshift(Ka(n,Y,z))):g||(Y=pa(n,y),Y!=null&&C.push(Ka(n,Y,z)))),n=n.return}C.length!==0&&e.push({event:t,listeners:C})}var nS=/\r\n?/g,sS=/\u0000|\uFFFD/g;function Kv(e){return(typeof e=="string"?e:""+e).replace(nS,`
`).replace(sS,"")}function Yv(e,t){return t=Kv(t),Kv(e)===t}function ut(e,t,n,a,g,y){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||vr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&vr(e,""+a);break;case"className":hl(e,"class",a);break;case"tabIndex":hl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":hl(e,n,a);break;case"style":Yp(e,a,y);break;case"data":if(t!=="object"){hl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ml(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(n==="formAction"?(t!=="input"&&ut(e,t,"name",g.name,g,null),ut(e,t,"formEncType",g.formEncType,g,null),ut(e,t,"formMethod",g.formMethod,g,null),ut(e,t,"formTarget",g.formTarget,g,null)):(ut(e,t,"encType",g.encType,g,null),ut(e,t,"method",g.method,g,null),ut(e,t,"target",g.target,g,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ml(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ms);break;case"onScroll":a!=null&&Ge("scroll",e);break;case"onScrollEnd":a!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(g.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ml(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),fl(e,"popover",a);break;case"xlinkActuate":ps(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ps(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ps(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ps(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ps(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ps(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ps(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ps(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ps(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":fl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ij.get(n)||n,fl(e,n,a))}}function Kf(e,t,n,a,g,y){switch(n){case"style":Yp(e,a,y);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(g.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof a=="string"?vr(e,a):(typeof a=="number"||typeof a=="bigint")&&vr(e,""+a);break;case"onScroll":a!=null&&Ge("scroll",e);break;case"onScrollEnd":a!=null&&Ge("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$p.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(g=n.endsWith("Capture"),t=n.slice(2,g?n.length-7:void 0),y=e[sn]||null,y=y!=null?y[n]:null,typeof y=="function"&&e.removeEventListener(t,y,g),typeof a=="function")){typeof y!="function"&&y!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,g);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):fl(e,n,a)}}}function Ft(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var a=!1,g=!1,y;for(y in n)if(n.hasOwnProperty(y)){var C=n[y];if(C!=null)switch(y){case"src":a=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ut(e,t,y,C,n,null)}}g&&ut(e,t,"srcSet",n.srcSet,n,null),a&&ut(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var T=y=C=g=null,z=null,Y=null;for(a in n)if(n.hasOwnProperty(a)){var ie=n[a];if(ie!=null)switch(a){case"name":g=ie;break;case"type":C=ie;break;case"checked":z=ie;break;case"defaultChecked":Y=ie;break;case"value":y=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(c(137,t));break;default:ut(e,t,a,ie,n,null)}}Fp(e,y,T,z,Y,C,g,!1);return;case"select":Ge("invalid",e),a=C=y=null;for(g in n)if(n.hasOwnProperty(g)&&(T=n[g],T!=null))switch(g){case"value":y=T;break;case"defaultValue":C=T;break;case"multiple":a=T;default:ut(e,t,g,T,n,null)}t=y,n=C,e.multiple=!!a,t!=null?gr(e,!!a,t,!1):n!=null&&gr(e,!!a,n,!0);return;case"textarea":Ge("invalid",e),y=g=a=null;for(C in n)if(n.hasOwnProperty(C)&&(T=n[C],T!=null))switch(C){case"value":a=T;break;case"defaultValue":g=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(c(91));break;default:ut(e,t,C,T,n,null)}Vp(e,a,g,y);return;case"option":for(z in n)if(n.hasOwnProperty(z)&&(a=n[z],a!=null))switch(z){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ut(e,t,z,a,n,null)}return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(a=0;a<Va.length;a++)Ge(Va[a],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in n)if(n.hasOwnProperty(Y)&&(a=n[Y],a!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ut(e,t,Y,a,n,null)}return;default:if(ad(t)){for(ie in n)n.hasOwnProperty(ie)&&(a=n[ie],a!==void 0&&Kf(e,t,ie,a,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(a=n[T],a!=null&&ut(e,t,T,a,n,null))}function iS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,C=null,T=null,z=null,Y=null,ie=null;for(se in n){var oe=n[se];if(n.hasOwnProperty(se)&&oe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":z=oe;default:a.hasOwnProperty(se)||ut(e,t,se,null,a,oe)}}for(var J in a){var se=a[J];if(oe=n[J],a.hasOwnProperty(J)&&(se!=null||oe!=null))switch(J){case"type":y=se;break;case"name":g=se;break;case"checked":Y=se;break;case"defaultChecked":ie=se;break;case"value":C=se;break;case"defaultValue":T=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(c(137,t));break;default:se!==oe&&ut(e,t,J,se,a,oe)}}id(e,C,T,z,Y,ie,y,g);return;case"select":se=C=T=J=null;for(y in n)if(z=n[y],n.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":se=z;default:a.hasOwnProperty(y)||ut(e,t,y,null,a,z)}for(g in a)if(y=a[g],z=n[g],a.hasOwnProperty(g)&&(y!=null||z!=null))switch(g){case"value":J=y;break;case"defaultValue":T=y;break;case"multiple":C=y;default:y!==z&&ut(e,t,g,y,a,z)}t=T,n=C,a=se,J!=null?gr(e,!!n,J,!1):!!a!=!!n&&(t!=null?gr(e,!!n,t,!0):gr(e,!!n,n?[]:"",!1));return;case"textarea":se=J=null;for(T in n)if(g=n[T],n.hasOwnProperty(T)&&g!=null&&!a.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(e,t,T,null,a,g)}for(C in a)if(g=a[C],y=n[C],a.hasOwnProperty(C)&&(g!=null||y!=null))switch(C){case"value":J=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(c(91));break;default:g!==y&&ut(e,t,C,g,a,y)}Gp(e,J,se);return;case"option":for(var je in n)if(J=n[je],n.hasOwnProperty(je)&&J!=null&&!a.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:ut(e,t,je,null,a,J)}for(z in a)if(J=a[z],se=n[z],a.hasOwnProperty(z)&&J!==se&&(J!=null||se!=null))switch(z){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ut(e,t,z,J,a,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in n)J=n[Te],n.hasOwnProperty(Te)&&J!=null&&!a.hasOwnProperty(Te)&&ut(e,t,Te,null,a,J);for(Y in a)if(J=a[Y],se=n[Y],a.hasOwnProperty(Y)&&J!==se&&(J!=null||se!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(c(137,t));break;default:ut(e,t,Y,J,a,se)}return;default:if(ad(t)){for(var dt in n)J=n[dt],n.hasOwnProperty(dt)&&J!==void 0&&!a.hasOwnProperty(dt)&&Kf(e,t,dt,void 0,a,J);for(ie in a)J=a[ie],se=n[ie],!a.hasOwnProperty(ie)||J===se||J===void 0&&se===void 0||Kf(e,t,ie,J,a,se);return}}for(var L in n)J=n[L],n.hasOwnProperty(L)&&J!=null&&!a.hasOwnProperty(L)&&ut(e,t,L,null,a,J);for(oe in a)J=a[oe],se=n[oe],!a.hasOwnProperty(oe)||J===se||J==null&&se==null||ut(e,t,oe,J,a,se)}function Zv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var g=n[a],y=g.transferSize,C=g.initiatorType,T=g.duration;if(y&&T&&Zv(C)){for(C=0,T=g.responseEnd,a+=1;a<n.length;a++){var z=n[a],Y=z.startTime;if(Y>T)break;var ie=z.transferSize,oe=z.initiatorType;ie&&Zv(oe)&&(z=z.responseEnd,C+=ie*(z<T?1:(T-Y)/(z-Y)))}if(--a,t+=8*(y+C)/(g.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yf=null,Zf=null;function uu(e){return e.nodeType===9?e:e.ownerDocument}function Xv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jf=null;function aS(){var e=window.event;return e&&e.type==="popstate"?e===Jf?!1:(Jf=e,!0):(Jf=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,oS=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,cS=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(e){return Wv.resolve(null).then(e).catch(lS)}:Qv;function lS(e){setTimeout(function(){throw e})}function pi(e){return e==="head"}function ey(e,t){var n=t,a=0;do{var g=n.nextSibling;if(e.removeChild(n),g&&g.nodeType===8)if(n=g.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(g),Yr(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ya(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ya(n);for(var y=n.firstChild;y;){var C=y.nextSibling,T=y.nodeName;y[fa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||n.removeChild(y),y=C}}else n==="body"&&Ya(e.ownerDocument.body);n=g}while(n);Yr(t)}function ty(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Qf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Qf(n),nd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function uS(e,t,n,a){for(;e.nodeType===1;){var g=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[fa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function dS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function ny(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pn(e.nextSibling),e===null))return null;return e}function Wf(e){return e.data==="$?"||e.data==="$~"}function eh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var th=null;function sy(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Pn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function iy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ry(e,t,n){switch(t=uu(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Ya(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);nd(e)}var qn=new Map,ay=new Set;function du(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Is=k.d;k.d={f:hS,r:pS,D:mS,C:gS,L:vS,m:yS,X:bS,S:_S,M:OS};function hS(){var e=Is.f(),t=nu();return e||t}function pS(e){var t=hr(e);t!==null&&t.tag===5&&t.type==="form"?Ag(t):Is.r(e)}var Gr=typeof document>"u"?null:document;function oy(e,t,n){var a=Gr;if(a&&typeof t=="string"&&t){var g=En(t);g='link[rel="'+e+'"][href="'+g+'"]',typeof n=="string"&&(g+='[crossorigin="'+n+'"]'),ay.has(g)||(ay.add(g),e={rel:e,crossOrigin:n,href:t},a.querySelector(g)===null&&(t=a.createElement("link"),Ft(t,"link",e),qt(t),a.head.appendChild(t)))}}function mS(e){Is.D(e),oy("dns-prefetch",e,null)}function gS(e,t){Is.C(e,t),oy("preconnect",e,t)}function vS(e,t,n){Is.L(e,t,n);var a=Gr;if(a&&e&&t){var g='link[rel="preload"][as="'+En(t)+'"]';t==="image"&&n&&n.imageSrcSet?(g+='[imagesrcset="'+En(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(g+='[imagesizes="'+En(n.imageSizes)+'"]')):g+='[href="'+En(e)+'"]';var y=g;switch(t){case"style":y=Vr(e);break;case"script":y=Kr(e)}qn.has(y)||(e=m({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),qn.set(y,e),a.querySelector(g)!==null||t==="style"&&a.querySelector(Za(y))||t==="script"&&a.querySelector(Xa(y))||(t=a.createElement("link"),Ft(t,"link",e),qt(t),a.head.appendChild(t)))}}function yS(e,t){Is.m(e,t);var n=Gr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",g='link[rel="modulepreload"][as="'+En(a)+'"][href="'+En(e)+'"]',y=g;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Kr(e)}if(!qn.has(y)&&(e=m({rel:"modulepreload",href:e},t),qn.set(y,e),n.querySelector(g)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xa(y)))return}a=n.createElement("link"),Ft(a,"link",e),qt(a),n.head.appendChild(a)}}}function _S(e,t,n){Is.S(e,t,n);var a=Gr;if(a&&e){var g=pr(a).hoistableStyles,y=Vr(e);t=t||"default";var C=g.get(y);if(!C){var T={loading:0,preload:null};if(C=a.querySelector(Za(y)))T.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qn.get(y))&&nh(e,n);var z=C=a.createElement("link");qt(z),Ft(z,"link",e),z._p=new Promise(function(Y,ie){z.onload=Y,z.onerror=ie}),z.addEventListener("load",function(){T.loading|=1}),z.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fu(C,t,a)}C={type:"stylesheet",instance:C,count:1,state:T},g.set(y,C)}}}function bS(e,t){Is.X(e,t);var n=Gr;if(n&&e){var a=pr(n).hoistableScripts,g=Kr(e),y=a.get(g);y||(y=n.querySelector(Xa(g)),y||(e=m({src:e,async:!0},t),(t=qn.get(g))&&sh(e,t),y=n.createElement("script"),qt(y),Ft(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(g,y))}}function OS(e,t){Is.M(e,t);var n=Gr;if(n&&e){var a=pr(n).hoistableScripts,g=Kr(e),y=a.get(g);y||(y=n.querySelector(Xa(g)),y||(e=m({src:e,async:!0,type:"module"},t),(t=qn.get(g))&&sh(e,t),y=n.createElement("script"),qt(y),Ft(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(g,y))}}function cy(e,t,n,a){var g=(g=ve.current)?du(g):null;if(!g)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Vr(n.href),n=pr(g).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Vr(n.href);var y=pr(g).hoistableStyles,C=y.get(e);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,C),(y=g.querySelector(Za(e)))&&!y._p&&(C.instance=y,C.state.loading=5),qn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qn.set(e,n),y||jS(g,e,n,C.state))),t&&a===null)throw Error(c(528,""));return C}if(t&&a!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Kr(n),n=pr(g).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Vr(e){return'href="'+En(e)+'"'}function Za(e){return'link[rel="stylesheet"]['+e+"]"}function ly(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function jS(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ft(t,"link",n),qt(t),e.head.appendChild(t))}function Kr(e){return'[src="'+En(e)+'"]'}function Xa(e){return"script[async]"+e}function uy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+En(n.href)+'"]');if(a)return t.instance=a,qt(a),a;var g=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),qt(a),Ft(a,"style",g),fu(a,n.precedence,e),t.instance=a;case"stylesheet":g=Vr(n.href);var y=e.querySelector(Za(g));if(y)return t.state.loading|=4,t.instance=y,qt(y),y;a=ly(n),(g=qn.get(g))&&nh(a,g),y=(e.ownerDocument||e).createElement("link"),qt(y);var C=y;return C._p=new Promise(function(T,z){C.onload=T,C.onerror=z}),Ft(y,"link",a),t.state.loading|=4,fu(y,n.precedence,e),t.instance=y;case"script":return y=Kr(n.src),(g=e.querySelector(Xa(y)))?(t.instance=g,qt(g),g):(a=n,(g=qn.get(y))&&(a=m({},n),sh(a,g)),e=e.ownerDocument||e,g=e.createElement("script"),qt(g),Ft(g,"link",a),e.head.appendChild(g),t.instance=g);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,fu(a,n.precedence,e));return t.instance}function fu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=a.length?a[a.length-1]:null,y=g,C=0;C<a.length;C++){var T=a[C];if(T.dataset.precedence===t)y=T;else if(y!==g)break}y?y.parentNode.insertBefore(e,y.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function nh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function sh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var hu=null;function dy(e,t,n){if(hu===null){var a=new Map,g=hu=new Map;g.set(n,a)}else g=hu,a=g.get(n),a||(a=new Map,g.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),g=0;g<n.length;g++){var y=n[g];if(!(y[fa]||y[Dt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(t)||"";C=e+C;var T=a.get(C);T?T.push(y):a.set(C,[y])}}return a}function fy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function AS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function SS(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var g=Vr(a.href),y=t.querySelector(Za(g));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=pu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=y,qt(y);return}y=t.ownerDocument||t,a=ly(a),(g=qn.get(g))&&nh(a,g),y=y.createElement("link"),qt(y);var C=y;C._p=new Promise(function(T,z){C.onload=T,C.onerror=z}),Ft(y,"link",a),n.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=pu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ih=0;function wS(e,t){return e.stylesheets&&e.count===0&&gu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&gu(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+t);0<e.imgBytes&&ih===0&&(ih=62500*rS());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gu(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>ih?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(g)}}:null}function pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mu=null;function gu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mu=new Map,t.forEach(CS,e),mu=null,pu.call(e))}function CS(e,t){if(!(t.state.loading&4)){var n=mu.get(e);if(n)var a=n.get(null);else{n=new Map,mu.set(e,n);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var C=g[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(n.set(C.dataset.precedence,C),a=C)}a&&n.set(null,a)}g=t.instance,C=g.getAttribute("data-precedence"),y=n.get(C)||a,y===a&&n.set(null,g),n.set(C,g),this.count++,a=pu.bind(this),g.addEventListener("load",a),g.addEventListener("error",a),y?y.parentNode.insertBefore(g,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),t.state.loading|=4}}var Ja={$$typeof:R,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function RS(e,t,n,a,g,y,C,T,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qu(0),this.hiddenUpdates=Qu(null),this.identifierPrefix=a,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function py(e,t,n,a,g,y,C,T,z,Y,ie,oe){return e=new RS(e,t,n,C,z,Y,ie,oe,T),t=1,y===!0&&(t|=24),y=gn(3,null,null,t),e.current=y,y.stateNode=e,t=Pd(),t.refCount++,e.pooledCache=t,t.refCount++,y.memoizedState={element:a,isDehydrated:n,cache:t},Dd(y),e}function my(e){return e?(e=Sr,e):Sr}function gy(e,t,n,a,g,y){g=my(g),a.context===null?a.context=g:a.pendingContext=g,a=si(t),a.payload={element:n},y=y===void 0?null:y,y!==null&&(a.callback=y),n=ii(e,a,t),n!==null&&(un(n,e,t),Ea(n,e,t))}function vy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rh(e,t){vy(e,t),(e=e.alternate)&&vy(e,t)}function yy(e){if(e.tag===13||e.tag===31){var t=Mi(e,67108864);t!==null&&un(t,e,67108864),rh(e,67108864)}}function _y(e){if(e.tag===13||e.tag===31){var t=On();t=Wu(t);var n=Mi(e,t);n!==null&&un(n,e,t),rh(e,t)}}var vu=!0;function xS(e,t,n,a){var g=I.T;I.T=null;var y=k.p;try{k.p=2,ah(e,t,n,a)}finally{k.p=y,I.T=g}}function ES(e,t,n,a){var g=I.T;I.T=null;var y=k.p;try{k.p=8,ah(e,t,n,a)}finally{k.p=y,I.T=g}}function ah(e,t,n,a){if(vu){var g=oh(a);if(g===null)Vf(e,t,a,yu,n),Oy(e,a);else if(IS(g,e,t,n,a))a.stopPropagation();else if(Oy(e,a),t&4&&-1<TS.indexOf(e)){for(;g!==null;){var y=hr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=xi(y.pendingLanes);if(C!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;C;){var z=1<<31-pn(C);T.entanglements[1]|=z,C&=~z}ls(y),(st&6)===0&&(eu=Mt()+500,Ga(0))}}break;case 31:case 13:T=Mi(y,2),T!==null&&un(T,y,2),nu(),rh(y,2)}if(y=oh(a),y===null&&Vf(e,t,a,yu,n),y===g)break;g=y}g!==null&&a.stopPropagation()}else Vf(e,t,a,null,n)}}function oh(e){return e=cd(e),ch(e)}var yu=null;function ch(e){if(yu=null,e=fr(e),e!==null){var t=p(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return yu=e,null}function by(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ju()){case ur:return 2;case Rn:return 8;case Zt:case al:return 32;case la:return 268435456;default:return 32}default:return 32}}var lh=!1,mi=null,gi=null,vi=null,Qa=new Map,Wa=new Map,yi=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oy(e,t){switch(e){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function eo(e,t,n,a,g,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:y,targetContainers:[g]},t!==null&&(t=hr(t),t!==null&&yy(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function IS(e,t,n,a,g){switch(t){case"focusin":return mi=eo(mi,e,t,n,a,g),!0;case"dragenter":return gi=eo(gi,e,t,n,a,g),!0;case"mouseover":return vi=eo(vi,e,t,n,a,g),!0;case"pointerover":var y=g.pointerId;return Qa.set(y,eo(Qa.get(y)||null,e,t,n,a,g)),!0;case"gotpointercapture":return y=g.pointerId,Wa.set(y,eo(Wa.get(y)||null,e,t,n,a,g)),!0}return!1}function jy(e){var t=fr(e.target);if(t!==null){var n=p(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,Pp(e.priority,function(){_y(n)});return}}else if(t===31){if(t=d(n),t!==null){e.blockedOn=t,Pp(e.priority,function(){_y(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _u(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);od=a,n.target.dispatchEvent(a),od=null}else return t=hr(n),t!==null&&yy(t),e.blockedOn=n,!1;t.shift()}return!0}function Ay(e,t,n){_u(e)&&n.delete(t)}function HS(){lh=!1,mi!==null&&_u(mi)&&(mi=null),gi!==null&&_u(gi)&&(gi=null),vi!==null&&_u(vi)&&(vi=null),Qa.forEach(Ay),Wa.forEach(Ay)}function bu(e,t){e.blockedOn===t&&(e.blockedOn=null,lh||(lh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,HS)))}var Ou=null;function Sy(e){Ou!==e&&(Ou=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ou===e&&(Ou=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],g=e[t+2];if(typeof a!="function"){if(ch(a||n)===null)continue;break}var y=hr(n);y!==null&&(e.splice(t,3),t-=3,of(y,{pending:!0,data:g,method:n.method,action:a},a,g))}}))}function Yr(e){function t(z){return bu(z,e)}mi!==null&&bu(mi,e),gi!==null&&bu(gi,e),vi!==null&&bu(vi,e),Qa.forEach(t),Wa.forEach(t);for(var n=0;n<yi.length;n++){var a=yi[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)jy(n),n.blockedOn===null&&yi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var g=n[a],y=n[a+1],C=g[sn]||null;if(typeof y=="function")C||Sy(n);else if(C){var T=null;if(y&&y.hasAttribute("formAction")){if(g=y,C=y[sn]||null)T=C.formAction;else if(ch(g)!==null)continue}else T=C.action;typeof T=="function"?n[a+1]=T:(n.splice(a,3),a-=3),Sy(n)}}}function wy(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function t(){g!==null&&(g(),g=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),g!==null&&(g(),g=null)}}}function uh(e){this._internalRoot=e}ju.prototype.render=uh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,a=On();gy(n,a,e,t,null,null)},ju.prototype.unmount=uh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gy(e.current,2,null,e,null,null),nu(),t[dr]=null}};function ju(e){this._internalRoot=e}ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=kp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yi.length&&t!==0&&t<yi[n].priority;n++);yi.splice(n,0,e),n===0&&jy(e)}};var Cy=s.version;if(Cy!=="19.2.0")throw Error(c(527,Cy,"19.2.0"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=o(t),e=e!==null?u(e):null,e=e===null?null:e.stateNode,e};var MS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{rs=Au.inject(MS),hn=Au}catch{}}return no.createRoot=function(e,t){if(!h(e))throw Error(c(299));var n=!1,a="",g=Mg,y=Ng,C=kg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(g=t.onUncaughtError),t.onCaughtError!==void 0&&(y=t.onCaughtError),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=py(e,1,!1,null,null,n,a,null,g,y,C,wy),e[dr]=t.current,Gf(e),new uh(t)},no.hydrateRoot=function(e,t,n){if(!h(e))throw Error(c(299));var a=!1,g="",y=Mg,C=Ng,T=kg,z=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(g=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(C=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(z=n.formState)),t=py(e,1,!0,t,n??null,a,g,z,y,C,T,wy),t.context=my(null),n=t.current,a=On(),a=Wu(a),g=si(a),g.callback=null,ii(n,g,a),n=a,t.current.lanes=n,da(t,n),ls(t),e[dr]=t.current,Gf(e),new ju(t)},no.version="19.2.0",no}var Py;function LS(){if(Py)return ph.exports;Py=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),ph.exports=BS(),ph.exports}var FS=LS();const GS=lp(FS),VS="modulepreload",KS=function(i){return"/"+i},qy={},YS=function(s,r,c){let h=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var f=o;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),l=d?.nonce||d?.getAttribute("nonce");h=o(r.map(u=>{if(u=KS(u),u in qy)return;qy[u]=!0;const m=u.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":VS,m||(_.as="script"),_.crossOrigin="",_.href=u,l&&_.setAttribute("nonce",l),document.head.appendChild(_),m)return new Promise((b,A)=>{_.addEventListener("load",b),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${u}`)))})}))}function p(d){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=d,window.dispatchEvent(l),!l.defaultPrevented)throw d}return h.then(d=>{for(const l of d||[])l.status==="rejected"&&p(l.reason);return s().catch(p)})};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,c)=>c?c.toUpperCase():r.toLowerCase()),zy=i=>{const s=XS(i);return s.charAt(0).toUpperCase()+s.slice(1)},QO=(...i)=>i.filter((s,r,c)=>!!s&&s.trim()!==""&&c.indexOf(s)===r).join(" ").trim(),JS=i=>{for(const s in i)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Z.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:c,className:h="",children:p,iconNode:f,...d},l)=>Z.createElement("svg",{ref:l,...QS,width:s,height:s,stroke:i,strokeWidth:c?Number(r)*24/Number(s):r,className:QO("lucide",h),...!p&&!JS(d)&&{"aria-hidden":"true"},...d},[...f.map(([o,u])=>Z.createElement(o,u)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(i,s)=>{const r=Z.forwardRef(({className:c,...h},p)=>Z.createElement(WS,{ref:p,iconNode:s,className:QO(`lucide-${ZS(zy(i))}`,`lucide-${i}`,c),...h}));return r.displayName=zy(i),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tw=ct("book-open",ew);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vc=ct("check",nw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$y=ct("chevron-down",sw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dy=ct("chevron-right",iw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],WO=ct("circle-alert",rw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ow=ct("circle-check-big",aw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lw=ct("circle-x",cw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dw=ct("clock",uw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Vi=ct("code-xml",fw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Kc=ct("copy",hw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],mw=ct("ellipsis-vertical",pw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vw=ct("eye-off",gw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_w=ct("eye",yw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xu=ct("funnel",bw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],jw=ct("github",Ow);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sw=ct("info",Aw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],e1=ct("key",ww);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uy=ct("log-out",Cw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],xw=ct("message-circle",Rw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Tw=ct("palette",Ew);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Uh=ct("refresh-cw",Iw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mw=ct("send",Hw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],t1=ct("server",Nw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dp=ct("settings",kw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Eu=ct("sparkles",Pw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],n1=ct("trash-2",qw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$w=ct("triangle-alert",zw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],fp=ct("wrench",Dw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bw=ct("x",Uw),By=i=>{let s;const r=new Set,c=(o,u)=>{const m=typeof o=="function"?o(s):o;if(!Object.is(m,s)){const v=s;s=u??(typeof m!="object"||m===null)?m:Object.assign({},s,m),r.forEach(_=>_(s,v))}},h=()=>s,d={setState:c,getState:h,getInitialState:()=>l,subscribe:o=>(r.add(o),()=>r.delete(o))},l=s=i(c,h,d);return d},Lw=(i=>i?By(i):By),Fw=i=>i;function Gw(i,s=Fw){const r=wt.useSyncExternalStore(i.subscribe,wt.useCallback(()=>s(i.getState()),[i,s]),wt.useCallback(()=>s(i.getInitialState()),[i,s]));return wt.useDebugValue(r),r}const Ly=i=>{const s=Lw(i),r=c=>Gw(s,c);return Object.assign(r,s),r},hp=(i=>i?Ly(i):Ly);function pp(i,s){let r;try{r=i()}catch{return}return{getItem:h=>{var p;const f=l=>l===null?null:JSON.parse(l,void 0),d=(p=r.getItem(h))!=null?p:null;return d instanceof Promise?d.then(f):f(d)},setItem:(h,p)=>r.setItem(h,JSON.stringify(p,void 0)),removeItem:h=>r.removeItem(h)}}const Bh=i=>s=>{try{const r=i(s);return r instanceof Promise?r:{then(c){return Bh(c)(r)},catch(c){return this}}}catch(r){return{then(c){return this},catch(c){return Bh(c)(r)}}}},Vw=(i,s)=>(r,c,h)=>{let p={storage:pp(()=>localStorage),partialize:A=>A,version:0,merge:(A,w)=>({...w,...A}),...s},f=!1;const d=new Set,l=new Set;let o=p.storage;if(!o)return i((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${p.name}', the given storage is currently unavailable.`),r(...A)},c,h);const u=()=>{const A=p.partialize({...c()});return o.setItem(p.name,{state:A,version:p.version})},m=h.setState;h.setState=(A,w)=>(m(A,w),u());const v=i((...A)=>(r(...A),u()),c,h);h.getInitialState=()=>v;let _;const b=()=>{var A,w;if(!o)return;f=!1,d.forEach(S=>{var R;return S((R=c())!=null?R:v)});const O=((w=p.onRehydrateStorage)==null?void 0:w.call(p,(A=c())!=null?A:v))||void 0;return Bh(o.getItem.bind(o))(p.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==p.version){if(p.migrate){const R=p.migrate(S.state,S.version);return R instanceof Promise?R.then(E=>[!0,E]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var R;const[E,H]=S;if(_=p.merge(H,(R=c())!=null?R:v),r(_,!0),E)return u()}).then(()=>{O?.(_,void 0),_=c(),f=!0,l.forEach(S=>S(_))}).catch(S=>{O?.(void 0,S)})};return h.persist={setOptions:A=>{p={...p,...A},A.storage&&(o=A.storage)},clearStorage:()=>{o?.removeItem(p.name)},getOptions:()=>p,rehydrate:()=>b(),hasHydrated:()=>f,onHydrate:A=>(d.add(A),()=>{d.delete(A)}),onFinishHydration:A=>(l.add(A),()=>{l.delete(A)})},p.skipHydration||b(),_||v},s1=Vw,Kw=pp(()=>({getItem:i=>{const s=localStorage.getItem(i);if(!s)return null;const r=JSON.parse(s);return r.state?.serverData&&Object.keys(r.state.serverData).forEach(c=>{const h=r.state.serverData[c];h.toolStates&&Object.keys(h.toolStates).forEach(p=>{const f=h.toolStates[p];f.lastExecuted&&(f.lastExecuted=new Date(f.lastExecuted))})}),s},setItem:(i,s)=>{localStorage.setItem(i,s)},removeItem:i=>{localStorage.removeItem(i)}})),Xc=hp()(s1((i,s)=>({serverData:{},recordToolExecution:(r,c)=>{i(h=>{const p=h.serverData[r]||{toolStates:{},toolParameters:{}},f=p.toolStates[c]||{executionCount:0};return{serverData:{...h.serverData,[r]:{...p,toolStates:{...p.toolStates,[c]:{lastExecuted:new Date,executionCount:f.executionCount+1}}}}}})},saveToolParameters:(r,c,h)=>{i(p=>{const f=p.serverData[r]||{toolStates:{},toolParameters:{}};return{serverData:{...p.serverData,[r]:{...f,toolParameters:{...f.toolParameters,[c]:h}}}}})},getToolParameters:(r,c)=>s().serverData[r]?.toolParameters[c],getToolState:(r,c)=>s().serverData[r]?.toolStates[c],clearServerData:r=>{i(c=>{const{[r]:h,...p}=c.serverData;return{serverData:p}})},clearToolParameters:(r,c)=>{i(h=>{const p=h.serverData[r];if(!p)return h;const{[c]:f,...d}=p.toolParameters;return{serverData:{...h.serverData,[r]:{...p,toolParameters:d}}}})}}),{name:"hoot-tool-state",version:1,storage:Kw})),Yw=pp(()=>({getItem:i=>{const s=localStorage.getItem(i);if(!s)return null;const r=JSON.parse(s);return r.state?.servers&&(r.state.servers=r.state.servers.map(c=>({...c,lastConnected:c.lastConnected?new Date(c.lastConnected):void 0}))),r.state?.history&&(r.state.history=r.state.history.map(c=>({...c,timestamp:new Date(c.timestamp),result:{...c.result,timestamp:new Date(c.result.timestamp)}}))),s},setItem:(i,s)=>{localStorage.setItem(i,s)},removeItem:i=>{localStorage.removeItem(i)}})),Ee=hp()(s1(i=>({servers:[],selectedServerId:null,selectedToolName:null,tools:{},history:[],searchQuery:"",executingTools:[],toolFilterEnabled:!0,toolFilterConfig:{topK:22,minScore:.3,contextMessages:3,maxContextTokens:500},toolFilterReady:!1,addServer:s=>i(r=>({servers:[...r.servers,{...s,id:"id"in s?s.id:crypto.randomUUID(),connected:!1}]})),removeServer:s=>i(r=>(Xc.getState().clearServerData(s),{servers:r.servers.filter(c=>c.id!==s),selectedServerId:r.selectedServerId===s?null:r.selectedServerId,tools:Object.fromEntries(Object.entries(r.tools).filter(([c])=>c!==s))})),updateServer:(s,r)=>i(c=>({servers:c.servers.map(h=>h.id===s?{...h,...r}:h)})),setSelectedServer:s=>i({selectedServerId:s,selectedToolName:null}),setTools:(s,r)=>i(c=>({tools:{...c.tools,[s]:r}})),setSelectedTool:s=>i({selectedToolName:s}),addToHistory:s=>i(r=>({history:[{...s,id:crypto.randomUUID(),timestamp:new Date},...r.history].slice(0,100)})),clearHistory:()=>i({history:[]}),setToolExecuting:(s,r,c)=>i(h=>{const p=`${s}:${r}`;if(c){if(!h.executingTools.includes(p))return{executingTools:[...h.executingTools,p]}}else return{executingTools:h.executingTools.filter(f=>f!==p)};return h}),setSearchQuery:s=>i({searchQuery:s}),setToolFilterEnabled:s=>i({toolFilterEnabled:s}),updateToolFilterConfig:s=>i(r=>({toolFilterConfig:{...r.toolFilterConfig,...s}})),setToolFilterReady:s=>i({toolFilterReady:s})}),{name:"hoot-storage",version:1,storage:Yw,partialize:i=>({servers:i.servers.map(s=>({...s,connected:!1,error:void 0})),tools:i.tools,history:i.history.slice(0,50),selectedServerId:null,selectedToolName:null,searchQuery:"",executingTools:[],toolFilterEnabled:i.toolFilterEnabled,toolFilterConfig:i.toolFilterConfig,toolFilterReady:!1})}));class Zw{serverId;_redirectUrl;constructor(s,r,c=`${window.location.origin}/oauth/callback`){this.serverId=s,this._redirectUrl=c}get redirectUrl(){return this._redirectUrl}get clientMetadata(){return{client_name:"Hoot MCP Testing Tool",client_uri:window.location.origin,redirect_uris:[this._redirectUrl],grant_types:["authorization_code","refresh_token"],response_types:["code"],token_endpoint_auth_method:"none"}}async state(){const s=new Uint8Array(32);crypto.getRandomValues(s);const r=Array.from(s,p=>p.toString(16).padStart(2,"0")).join(""),c={path:window.location.pathname,search:window.location.search,serverId:this.serverId};return btoa(JSON.stringify({csrf:r,return:c}))}async clientInformation(){const s=`oauth_client_${this.serverId}`,r=localStorage.getItem(s);if(r)try{return JSON.parse(r)}catch{return}}async saveClientInformation(s){const r=`oauth_client_${this.serverId}`;localStorage.setItem(r,JSON.stringify(s))}async tokens(){const s=`oauth_tokens_${this.serverId}`,r=localStorage.getItem(s);if(r)try{return JSON.parse(r)}catch{return}}async saveTokens(s){const r=`oauth_tokens_${this.serverId}`;localStorage.setItem(r,JSON.stringify(s)),console.log(` Hoot: Saved OAuth tokens for server ${this.serverId}`)}async redirectToAuthorization(s){console.log(` Hoot: Redirecting to authorization: ${s.toString()}`);const r=sessionStorage.getItem("oauth_last_redirect"),c=Date.now();if(r&&c-parseInt(r)<3e3)throw console.error(" Hoot: Redirect loop detected! Aborting to prevent infinite redirects."),sessionStorage.removeItem("oauth_last_redirect"),new Error("OAuth redirect loop detected. Please check your OAuth configuration.");sessionStorage.setItem("oauth_last_redirect",c.toString()),sessionStorage.setItem("oauth_server_id",this.serverId),await new Promise(h=>setTimeout(h,100)),console.log(" Hoot: Performing redirect now..."),window.location.href=s.toString()}async saveCodeVerifier(s){const r=`oauth_verifier_${this.serverId}`;sessionStorage.setItem(r,s)}async codeVerifier(){const s=`oauth_verifier_${this.serverId}`,r=sessionStorage.getItem(s);if(!r)throw new Error("Code verifier not found. Authorization flow may have been interrupted.");return r}async invalidateCredentials(s){console.warn(` Hoot: Invalidating credentials (${s}) for server ${this.serverId}`),(s==="all"||s==="client")&&localStorage.removeItem(`oauth_client_${this.serverId}`),(s==="all"||s==="tokens")&&localStorage.removeItem(`oauth_tokens_${this.serverId}`),(s==="all"||s==="verifier")&&sessionStorage.removeItem(`oauth_verifier_${this.serverId}`)}async isTokenExpired(s){return(s||await this.tokens())?.expires_in,!1}async getValidAccessToken(){const s=await this.tokens();if(s?.access_token)return s.access_token}}const Un="http://localhost:8008";let Ai=null,Zr=null;async function i1(){return Ai||Zr||(Zr=(async()=>{try{const i=await fetch(`${Un}/auth/token`,{method:"GET",credentials:"include"});if(!i.ok)throw new Error("Failed to retrieve session token");if(Ai=(await i.json()).token,!Ai)throw new Error("No token received from backend");return Ai}catch(i){throw console.error("Failed to get session token:",i),Zr=null,new Error("Cannot connect to Hoot backend. Make sure it's running on port 8008.")}finally{Ai&&(Zr=null)}})(),Zr)}async function Xw(){try{await i1(),console.log("Backend client initialized successfully")}catch(i){console.error("Failed to initialize backend client:",i)}}async function Dn(i,s={},r=!0){try{const c=await i1(),h=new Headers(s.headers);h.set("x-hoot-token",c),h.set("Content-Type","application/json");const p=await fetch(i,{...s,headers:h});return p.status===401&&r?(console.log("Auth token expired, refreshing..."),Ai=null,Dn(i,s,!1)):p}catch(c){if(r)return Ai=null,Dn(i,s,!1);throw c}}async function r1(i,s){try{const c=await(await Dn(`${Un}/mcp/discover-oauth`,{method:"POST",body:JSON.stringify({url:i,transport:s})})).json();return c.success?{requiresOAuth:c.requiresOAuth||!1}:{requiresOAuth:!1,error:c.error}}catch(r){return console.error("OAuth discovery error:",r),{requiresOAuth:!1,error:r instanceof Error?r.message:"Discovery failed"}}}async function Jw(i){try{const s=await Dn(`${Un}/mcp/auto-detect`,{method:"POST",body:JSON.stringify({url:i})}),r=await s.json();return!s.ok||!r.success?{success:!1,error:r.error||"Auto-detection failed"}:{success:!0,serverInfo:r.serverInfo,transport:r.transport,requiresOAuth:r.requiresOAuth||!1,requiresClientCredentials:r.requiresClientCredentials||!1,requiresHeaderAuth:r.requiresHeaderAuth||!1}}catch(s){return console.error("Auto-detect error:",s),{success:!1,error:s instanceof Error?s.message:"Auto-detection failed"}}}async function Qw(){try{return(await fetch(`${Un}/health`,{method:"GET",signal:AbortSignal.timeout(1e3)})).ok}catch{return!1}}async function Ww(i,s){try{const r=await Dn(`${Un}/mcp/connect`,{method:"POST",body:JSON.stringify({serverId:i.id,serverName:i.name,url:i.url,transport:i.transport,auth:i.auth,authorizationCode:s})}),c=await r.json();return r.ok?{success:!0}:{success:!1,error:c.error||"Connection failed",needsAuth:c.needsAuth||!1,authorizationUrl:c.authorizationUrl}}catch(r){return console.error("Backend connection error:",r),{success:!1,error:r instanceof Error?r.message:"Failed to connect to backend server"}}}async function eC(i){try{await Dn(`${Un}/mcp/disconnect`,{method:"POST",body:JSON.stringify({serverId:i})})}catch(s){throw console.error("Backend disconnect error:",s),s}}async function Fy(i){try{const s=await Dn(`${Un}/mcp/clear-oauth-tokens`,{method:"POST",body:JSON.stringify({serverId:i})});if(!s.ok){const r=await s.json();throw new Error(r.error||"Failed to clear OAuth tokens")}}catch(s){throw console.error("Backend clear OAuth tokens error:",s),s}}async function tC(i){try{const s=await Dn(`${Un}/mcp/tools/${i}`,{method:"GET"});if(!s.ok){const c=await s.json();throw new Error(c.error||"Failed to list tools")}return(await s.json()).tools}catch(s){throw console.error("Backend list tools error:",s),s}}async function nC(i,s,r){try{const c=await Dn(`${Un}/mcp/execute`,{method:"POST",body:JSON.stringify({serverId:i,toolName:s,arguments:r})});if(!c.ok){const p=await c.json();throw new Error(p.error||"Tool execution failed")}return(await c.json()).result}catch(c){throw console.error("Backend execute tool error:",c),c}}async function sC(i){try{const s=await Dn(`${Un}/mcp/server-info/${i}`,{method:"GET"});return s.ok?(await s.json()).serverInfo:null}catch(s){return console.error("Backend get server info error:",s),null}}async function iC(i){try{const s=await Dn(`${Un}/mcp/oauth-metadata/${i}`,{method:"GET"});return s.ok?(await s.json()).metadata||null:(s.status!==404&&console.error(`Failed to fetch OAuth metadata (${s.status}):`,await s.text()),null)}catch(s){return console.error("Backend get OAuth metadata error:",s),null}}async function a1(i,s){try{const r=await Dn(`${Un}/mcp/favicon`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverUrl:i,oauthLogoUri:s})});return r.ok&&(await r.json()).faviconUrl||null}catch(r){return console.error("Backend get favicon error:",r),null}}class rC{oauthProviders=new Map;connectedServers=new Set;async connect(s,r,c=!1){this.connectedServers.has(s.id)&&await this.disconnect(s.id);try{if(console.log(` Connecting to ${s.name} via backend...`,{transport:s.transport,url:s.url,hasAuth:!!s.auth,authType:s.auth?.type,hasAuthCode:!!r}),!await Qw())throw new Error("Backend server is not running. Please start it with: npm run backend");if(s.auth?.type==="oauth"&&s.url){const f=new Zw(s.id,s.url);this.oauthProviders.set(s.id,f)}const p=await Ww(s,r);if(!p.success){if(p.needsAuth&&p.authorizationUrl){if(c)return console.log(` ${s.name} needs OAuth authorization (skipped during auto-reconnect)`),!1;const f=this.oauthProviders.get(s.id);if(f)return console.log(` Redirecting to OAuth: ${p.authorizationUrl}`),await f.redirectToAuthorization(new URL(p.authorizationUrl)),!1}throw new Error(p.error||"Connection failed")}return this.connectedServers.add(s.id),console.log(` Connected to ${s.name}`),!0}catch(h){throw this.oauthProviders.delete(s.id),this.connectedServers.delete(s.id),console.error(` Connection failed for ${s.name}:`,h),h}}async disconnect(s){try{await eC(s),this.connectedServers.delete(s),this.oauthProviders.delete(s)}catch(r){console.error("Disconnect error:",r),this.connectedServers.delete(s),this.oauthProviders.delete(s)}}getOAuthProvider(s){return this.oauthProviders.get(s)}async needsTokenRefresh(s){const r=this.oauthProviders.get(s);return r?r.isTokenExpired():!1}async listTools(s){if(!this.connectedServers.has(s))throw new Error("Server not connected");return await tC(s)}async executeTool(s,r,c){if(!this.connectedServers.has(s))throw new Error("Server not connected");return await nC(s,r,c)}isConnected(s){return this.connectedServers.has(s)}async disconnectAll(){const s=Array.from(this.connectedServers);await Promise.all(s.map(r=>this.disconnect(r)))}}const ia=new rC,aC=Object.freeze(Object.defineProperty({__proto__:null,mcpClient:ia},Symbol.toStringTag,{value:"Module"})),rr=hp(i=>({toasts:[],addToast:(s,r,c,h)=>{const f={id:`toast-${Date.now()}-${Math.random()}`,type:s,message:r,description:c,duration:h??5e3};i(d=>({toasts:[...d.toasts,f]}))},removeToast:s=>{i(r=>({toasts:r.toasts.filter(c=>c.id!==s)}))},clearToasts:()=>{i({toasts:[]})}})),$n={success:(i,s,r)=>{rr.getState().addToast("success",i,s,r)},error:(i,s,r)=>{rr.getState().addToast("error",i,s,r)},warning:(i,s,r)=>{rr.getState().addToast("warning",i,s,r)},warn:(i,s,r)=>{rr.getState().addToast("warning",i,s,r)},info:(i,s,r)=>{rr.getState().addToast("info",i,s,r)}};var Qe;(function(i){i.assertEqual=h=>{};function s(h){}i.assertIs=s;function r(h){throw new Error}i.assertNever=r,i.arrayToEnum=h=>{const p={};for(const f of h)p[f]=f;return p},i.getValidEnumValues=h=>{const p=i.objectKeys(h).filter(d=>typeof h[h[d]]!="number"),f={};for(const d of p)f[d]=h[d];return i.objectValues(f)},i.objectValues=h=>i.objectKeys(h).map(function(p){return h[p]}),i.objectKeys=typeof Object.keys=="function"?h=>Object.keys(h):h=>{const p=[];for(const f in h)Object.prototype.hasOwnProperty.call(h,f)&&p.push(f);return p},i.find=(h,p)=>{for(const f of h)if(p(f))return f},i.isInteger=typeof Number.isInteger=="function"?h=>Number.isInteger(h):h=>typeof h=="number"&&Number.isFinite(h)&&Math.floor(h)===h;function c(h,p=" | "){return h.map(f=>typeof f=="string"?`'${f}'`:f).join(p)}i.joinValues=c,i.jsonStringifyReplacer=(h,p)=>typeof p=="bigint"?p.toString():p})(Qe||(Qe={}));var Gy;(function(i){i.mergeShapes=(s,r)=>({...s,...r})})(Gy||(Gy={}));const Oe=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Si=i=>{switch(typeof i){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(i)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(i)?Oe.array:i===null?Oe.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?Oe.promise:typeof Map<"u"&&i instanceof Map?Oe.map:typeof Set<"u"&&i instanceof Set?Oe.set:typeof Date<"u"&&i instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},me=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vs extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=c=>{this.issues=[...this.issues,c]},this.addIssues=(c=[])=>{this.issues=[...this.issues,...c]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(p){return p.message},c={_errors:[]},h=p=>{for(const f of p.issues)if(f.code==="invalid_union")f.unionErrors.map(h);else if(f.code==="invalid_return_type")h(f.returnTypeError);else if(f.code==="invalid_arguments")h(f.argumentsError);else if(f.path.length===0)c._errors.push(r(f));else{let d=c,l=0;for(;l<f.path.length;){const o=f.path[l];l===f.path.length-1?(d[o]=d[o]||{_errors:[]},d[o]._errors.push(r(f))):d[o]=d[o]||{_errors:[]},d=d[o],l++}}};return h(this),c}static assert(s){if(!(s instanceof Vs))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},c=[];for(const h of this.issues)if(h.path.length>0){const p=h.path[0];r[p]=r[p]||[],r[p].push(s(h))}else c.push(s(h));return{formErrors:c,fieldErrors:r}}get formErrors(){return this.flatten()}}Vs.create=i=>new Vs(i);const Lh=(i,s)=>{let r;switch(i.code){case me.invalid_type:i.received===Oe.undefined?r="Required":r=`Expected ${i.expected}, received ${i.received}`;break;case me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(i.expected,Qe.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:r=`Unrecognized key(s) in object: ${Qe.joinValues(i.keys,", ")}`;break;case me.invalid_union:r="Invalid input";break;case me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Qe.joinValues(i.options)}`;break;case me.invalid_enum_value:r=`Invalid enum value. Expected ${Qe.joinValues(i.options)}, received '${i.received}'`;break;case me.invalid_arguments:r="Invalid function arguments";break;case me.invalid_return_type:r="Invalid function return type";break;case me.invalid_date:r="Invalid date";break;case me.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(r=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?r=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?r=`Invalid input: must end with "${i.validation.endsWith}"`:Qe.assertNever(i.validation):i.validation!=="regex"?r=`Invalid ${i.validation}`:r="Invalid";break;case me.too_small:i.type==="array"?r=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?r=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?r=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="bigint"?r=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?r=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:r="Invalid input";break;case me.too_big:i.type==="array"?r=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?r=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?r=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?r=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?r=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:r="Invalid input";break;case me.custom:r="Invalid input";break;case me.invalid_intersection_types:r="Intersection results could not be merged";break;case me.not_multiple_of:r=`Number must be a multiple of ${i.multipleOf}`;break;case me.not_finite:r="Number must be finite";break;default:r=s.defaultError,Qe.assertNever(i)}return{message:r}};let oC=Lh;function cC(){return oC}const lC=i=>{const{data:s,path:r,errorMaps:c,issueData:h}=i,p=[...r,...h.path||[]],f={...h,path:p};if(h.message!==void 0)return{...h,path:p,message:h.message};let d="";const l=c.filter(o=>!!o).slice().reverse();for(const o of l)d=o(f,{data:s,defaultError:d}).message;return{...h,path:p,message:d}};function be(i,s){const r=cC(),c=lC({issueData:s,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,r,r===Lh?void 0:Lh].filter(h=>!!h)});i.common.issues.push(c)}class en{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const c=[];for(const h of r){if(h.status==="aborted")return Ie;h.status==="dirty"&&s.dirty(),c.push(h.value)}return{status:s.value,value:c}}static async mergeObjectAsync(s,r){const c=[];for(const h of r){const p=await h.key,f=await h.value;c.push({key:p,value:f})}return en.mergeObjectSync(s,c)}static mergeObjectSync(s,r){const c={};for(const h of r){const{key:p,value:f}=h;if(p.status==="aborted"||f.status==="aborted")return Ie;p.status==="dirty"&&s.dirty(),f.status==="dirty"&&s.dirty(),p.value!=="__proto__"&&(typeof f.value<"u"||h.alwaysSet)&&(c[p.value]=f.value)}return{status:s.value,value:c}}}const Ie=Object.freeze({status:"aborted"}),Yc=i=>({status:"dirty",value:i}),Bn=i=>({status:"valid",value:i}),Vy=i=>i.status==="aborted",Ky=i=>i.status==="dirty",ra=i=>i.status==="valid",Tu=i=>typeof Promise<"u"&&i instanceof Promise;var we;(function(i){i.errToObj=s=>typeof s=="string"?{message:s}:s||{},i.toString=s=>typeof s=="string"?s:s?.message})(we||(we={}));class ds{constructor(s,r,c,h){this._cachedPath=[],this.parent=s,this.data=r,this._path=c,this._key=h}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yy=(i,s)=>{if(ra(s))return{success:!0,data:s.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Vs(i.common.issues);return this._error=r,this._error}}};function ze(i){if(!i)return{};const{errorMap:s,invalid_type_error:r,required_error:c,description:h}=i;if(s&&(r||c))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:h}:{errorMap:(f,d)=>{const{message:l}=i;return f.code==="invalid_enum_value"?{message:l??d.defaultError}:typeof d.data>"u"?{message:l??c??d.defaultError}:f.code!=="invalid_type"?{message:d.defaultError}:{message:l??r??d.defaultError}},description:h}}class Ye{get description(){return this._def.description}_getType(s){return Si(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:Si(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new en,ctx:{common:s.parent.common,data:s.data,parsedType:Si(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(Tu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const c=this.safeParse(s,r);if(c.success)return c.data;throw c.error}safeParse(s,r){const c={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Si(s)},h=this._parseSync({data:s,path:c.path,parent:c});return Yy(c,h)}"~validate"(s){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Si(s)};if(!this["~standard"].async)try{const c=this._parseSync({data:s,path:[],parent:r});return ra(c)?{value:c.value}:{issues:r.common.issues}}catch(c){c?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(c=>ra(c)?{value:c.value}:{issues:r.common.issues})}async parseAsync(s,r){const c=await this.safeParseAsync(s,r);if(c.success)return c.data;throw c.error}async safeParseAsync(s,r){const c={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Si(s)},h=this._parse({data:s,path:c.path,parent:c}),p=await(Tu(h)?h:Promise.resolve(h));return Yy(c,p)}refine(s,r){const c=h=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(h):r;return this._refinement((h,p)=>{const f=s(h),d=()=>p.addIssue({code:me.custom,...c(h)});return typeof Promise<"u"&&f instanceof Promise?f.then(l=>l?!0:(d(),!1)):f?!0:(d(),!1)})}refinement(s,r){return this._refinement((c,h)=>s(c)?!0:(h.addIssue(typeof r=="function"?r(c,h):r),!1))}_refinement(s){return new cr({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Gs.create(this,this._def)}nullable(){return lr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return us.create(this)}promise(){return Pu.create(this,this._def)}or(s){return Hu.create([this,s],this._def)}and(s){return Mu.create(this,s,this._def)}transform(s){return new cr({...ze(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new qu({...ze(this._def),innerType:this,defaultValue:r,typeName:He.ZodDefault})}brand(){return new u1({typeName:He.ZodBranded,type:this,...ze(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new zu({...ze(this._def),innerType:this,catchValue:r,typeName:He.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return gp.create(this,s)}readonly(){return $u.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const uC=/^c[^\s-]{8,}$/i,dC=/^[0-9a-z]+$/,fC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pC=/^[a-z0-9_-]{21}$/i,mC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let yh;const _C=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,OC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,SC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,o1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wC=new RegExp(`^${o1}$`);function c1(i){let s="[0-5]\\d";i.precision?s=`${s}\\.\\d{${i.precision}}`:i.precision==null&&(s=`${s}(\\.\\d+)?`);const r=i.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function CC(i){return new RegExp(`^${c1(i)}$`)}function RC(i){let s=`${o1}T${c1(i)}`;const r=[];return r.push(i.local?"Z?":"Z"),i.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function xC(i,s){return!!((s==="v4"||!s)&&_C.test(i)||(s==="v6"||!s)&&OC.test(i))}function EC(i,s){if(!mC.test(i))return!1;try{const[r]=i.split(".");if(!r)return!1;const c=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),h=JSON.parse(atob(c));return!(typeof h!="object"||h===null||"typ"in h&&h?.typ!=="JWT"||!h.alg||s&&h.alg!==s)}catch{return!1}}function TC(i,s){return!!((s==="v4"||!s)&&bC.test(i)||(s==="v6"||!s)&&jC.test(i))}class Fs extends Ye{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==Oe.string){const p=this._getOrReturnCtx(s);return be(p,{code:me.invalid_type,expected:Oe.string,received:p.parsedType}),Ie}const c=new en;let h;for(const p of this._def.checks)if(p.kind==="min")s.data.length<p.value&&(h=this._getOrReturnCtx(s,h),be(h,{code:me.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),c.dirty());else if(p.kind==="max")s.data.length>p.value&&(h=this._getOrReturnCtx(s,h),be(h,{code:me.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),c.dirty());else if(p.kind==="length"){const f=s.data.length>p.value,d=s.data.length<p.value;(f||d)&&(h=this._getOrReturnCtx(s,h),f?be(h,{code:me.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}):d&&be(h,{code:me.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}),c.dirty())}else if(p.kind==="email")vC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"email",code:me.invalid_string,message:p.message}),c.dirty());else if(p.kind==="emoji")yh||(yh=new RegExp(yC,"u")),yh.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"emoji",code:me.invalid_string,message:p.message}),c.dirty());else if(p.kind==="uuid")hC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"uuid",code:me.invalid_string,message:p.message}),c.dirty());else if(p.kind==="nanoid")pC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"nanoid",code:me.invalid_string,message:p.message}),c.dirty());else if(p.kind==="cuid")uC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"cuid",code:me.invalid_string,message:p.message}),c.dirty());else if(p.kind==="cuid2")dC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"cuid2",code:me.invalid_string,message:p.message}),c.dirty());else if(p.kind==="ulid")fC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"ulid",code:me.invalid_string,message:p.message}),c.dirty());else if(p.kind==="url")try{new URL(s.data)}catch{h=this._getOrReturnCtx(s,h),be(h,{validation:"url",code:me.invalid_string,message:p.message}),c.dirty()}else p.kind==="regex"?(p.regex.lastIndex=0,p.regex.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"regex",code:me.invalid_string,message:p.message}),c.dirty())):p.kind==="trim"?s.data=s.data.trim():p.kind==="includes"?s.data.includes(p.value,p.position)||(h=this._getOrReturnCtx(s,h),be(h,{code:me.invalid_string,validation:{includes:p.value,position:p.position},message:p.message}),c.dirty()):p.kind==="toLowerCase"?s.data=s.data.toLowerCase():p.kind==="toUpperCase"?s.data=s.data.toUpperCase():p.kind==="startsWith"?s.data.startsWith(p.value)||(h=this._getOrReturnCtx(s,h),be(h,{code:me.invalid_string,validation:{startsWith:p.value},message:p.message}),c.dirty()):p.kind==="endsWith"?s.data.endsWith(p.value)||(h=this._getOrReturnCtx(s,h),be(h,{code:me.invalid_string,validation:{endsWith:p.value},message:p.message}),c.dirty()):p.kind==="datetime"?RC(p).test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{code:me.invalid_string,validation:"datetime",message:p.message}),c.dirty()):p.kind==="date"?wC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{code:me.invalid_string,validation:"date",message:p.message}),c.dirty()):p.kind==="time"?CC(p).test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{code:me.invalid_string,validation:"time",message:p.message}),c.dirty()):p.kind==="duration"?gC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"duration",code:me.invalid_string,message:p.message}),c.dirty()):p.kind==="ip"?xC(s.data,p.version)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"ip",code:me.invalid_string,message:p.message}),c.dirty()):p.kind==="jwt"?EC(s.data,p.alg)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"jwt",code:me.invalid_string,message:p.message}),c.dirty()):p.kind==="cidr"?TC(s.data,p.version)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"cidr",code:me.invalid_string,message:p.message}),c.dirty()):p.kind==="base64"?AC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"base64",code:me.invalid_string,message:p.message}),c.dirty()):p.kind==="base64url"?SC.test(s.data)||(h=this._getOrReturnCtx(s,h),be(h,{validation:"base64url",code:me.invalid_string,message:p.message}),c.dirty()):Qe.assertNever(p);return{status:c.value,value:s.data}}_regex(s,r,c){return this.refinement(h=>s.test(h),{validation:r,code:me.invalid_string,...we.errToObj(c)})}_addCheck(s){return new Fs({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...we.errToObj(s)})}url(s){return this._addCheck({kind:"url",...we.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...we.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...we.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...we.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...we.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...we.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...we.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...we.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...we.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...we.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...we.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...we.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof s?.precision>"u"?null:s?.precision,offset:s?.offset??!1,local:s?.local??!1,...we.errToObj(s?.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof s?.precision>"u"?null:s?.precision,...we.errToObj(s?.message)})}duration(s){return this._addCheck({kind:"duration",...we.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...we.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r?.position,...we.errToObj(r?.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...we.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...we.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...we.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...we.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...we.errToObj(r)})}nonempty(s){return this.min(1,we.errToObj(s))}trim(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Fs.create=i=>new Fs({checks:[],typeName:He.ZodString,coerce:i?.coerce??!1,...ze(i)});function IC(i,s){const r=(i.toString().split(".")[1]||"").length,c=(s.toString().split(".")[1]||"").length,h=r>c?r:c,p=Number.parseInt(i.toFixed(h).replace(".","")),f=Number.parseInt(s.toFixed(h).replace(".",""));return p%f/10**h}class aa extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==Oe.number){const p=this._getOrReturnCtx(s);return be(p,{code:me.invalid_type,expected:Oe.number,received:p.parsedType}),Ie}let c;const h=new en;for(const p of this._def.checks)p.kind==="int"?Qe.isInteger(s.data)||(c=this._getOrReturnCtx(s,c),be(c,{code:me.invalid_type,expected:"integer",received:"float",message:p.message}),h.dirty()):p.kind==="min"?(p.inclusive?s.data<p.value:s.data<=p.value)&&(c=this._getOrReturnCtx(s,c),be(c,{code:me.too_small,minimum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),h.dirty()):p.kind==="max"?(p.inclusive?s.data>p.value:s.data>=p.value)&&(c=this._getOrReturnCtx(s,c),be(c,{code:me.too_big,maximum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),h.dirty()):p.kind==="multipleOf"?IC(s.data,p.value)!==0&&(c=this._getOrReturnCtx(s,c),be(c,{code:me.not_multiple_of,multipleOf:p.value,message:p.message}),h.dirty()):p.kind==="finite"?Number.isFinite(s.data)||(c=this._getOrReturnCtx(s,c),be(c,{code:me.not_finite,message:p.message}),h.dirty()):Qe.assertNever(p);return{status:h.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,we.toString(r))}gt(s,r){return this.setLimit("min",s,!1,we.toString(r))}lte(s,r){return this.setLimit("max",s,!0,we.toString(r))}lt(s,r){return this.setLimit("max",s,!1,we.toString(r))}setLimit(s,r,c,h){return new aa({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:c,message:we.toString(h)}]})}_addCheck(s){return new aa({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:we.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:we.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:we.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:we.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:we.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:we.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:we.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:we.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:we.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&Qe.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const c of this._def.checks){if(c.kind==="finite"||c.kind==="int"||c.kind==="multipleOf")return!0;c.kind==="min"?(r===null||c.value>r)&&(r=c.value):c.kind==="max"&&(s===null||c.value<s)&&(s=c.value)}return Number.isFinite(r)&&Number.isFinite(s)}}aa.create=i=>new aa({checks:[],typeName:He.ZodNumber,coerce:i?.coerce||!1,...ze(i)});class Qc extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==Oe.bigint)return this._getInvalidInput(s);let c;const h=new en;for(const p of this._def.checks)p.kind==="min"?(p.inclusive?s.data<p.value:s.data<=p.value)&&(c=this._getOrReturnCtx(s,c),be(c,{code:me.too_small,type:"bigint",minimum:p.value,inclusive:p.inclusive,message:p.message}),h.dirty()):p.kind==="max"?(p.inclusive?s.data>p.value:s.data>=p.value)&&(c=this._getOrReturnCtx(s,c),be(c,{code:me.too_big,type:"bigint",maximum:p.value,inclusive:p.inclusive,message:p.message}),h.dirty()):p.kind==="multipleOf"?s.data%p.value!==BigInt(0)&&(c=this._getOrReturnCtx(s,c),be(c,{code:me.not_multiple_of,multipleOf:p.value,message:p.message}),h.dirty()):Qe.assertNever(p);return{status:h.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return be(r,{code:me.invalid_type,expected:Oe.bigint,received:r.parsedType}),Ie}gte(s,r){return this.setLimit("min",s,!0,we.toString(r))}gt(s,r){return this.setLimit("min",s,!1,we.toString(r))}lte(s,r){return this.setLimit("max",s,!0,we.toString(r))}lt(s,r){return this.setLimit("max",s,!1,we.toString(r))}setLimit(s,r,c,h){return new Qc({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:c,message:we.toString(h)}]})}_addCheck(s){return new Qc({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:we.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:we.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:we.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:we.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:we.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Qc.create=i=>new Qc({checks:[],typeName:He.ZodBigInt,coerce:i?.coerce??!1,...ze(i)});class Fh extends Ye{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==Oe.boolean){const c=this._getOrReturnCtx(s);return be(c,{code:me.invalid_type,expected:Oe.boolean,received:c.parsedType}),Ie}return Bn(s.data)}}Fh.create=i=>new Fh({typeName:He.ZodBoolean,coerce:i?.coerce||!1,...ze(i)});class Iu extends Ye{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==Oe.date){const p=this._getOrReturnCtx(s);return be(p,{code:me.invalid_type,expected:Oe.date,received:p.parsedType}),Ie}if(Number.isNaN(s.data.getTime())){const p=this._getOrReturnCtx(s);return be(p,{code:me.invalid_date}),Ie}const c=new en;let h;for(const p of this._def.checks)p.kind==="min"?s.data.getTime()<p.value&&(h=this._getOrReturnCtx(s,h),be(h,{code:me.too_small,message:p.message,inclusive:!0,exact:!1,minimum:p.value,type:"date"}),c.dirty()):p.kind==="max"?s.data.getTime()>p.value&&(h=this._getOrReturnCtx(s,h),be(h,{code:me.too_big,message:p.message,inclusive:!0,exact:!1,maximum:p.value,type:"date"}),c.dirty()):Qe.assertNever(p);return{status:c.value,value:new Date(s.data.getTime())}}_addCheck(s){return new Iu({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:we.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:we.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}Iu.create=i=>new Iu({checks:[],coerce:i?.coerce||!1,typeName:He.ZodDate,...ze(i)});class Zy extends Ye{_parse(s){if(this._getType(s)!==Oe.symbol){const c=this._getOrReturnCtx(s);return be(c,{code:me.invalid_type,expected:Oe.symbol,received:c.parsedType}),Ie}return Bn(s.data)}}Zy.create=i=>new Zy({typeName:He.ZodSymbol,...ze(i)});class Gh extends Ye{_parse(s){if(this._getType(s)!==Oe.undefined){const c=this._getOrReturnCtx(s);return be(c,{code:me.invalid_type,expected:Oe.undefined,received:c.parsedType}),Ie}return Bn(s.data)}}Gh.create=i=>new Gh({typeName:He.ZodUndefined,...ze(i)});class Vh extends Ye{_parse(s){if(this._getType(s)!==Oe.null){const c=this._getOrReturnCtx(s);return be(c,{code:me.invalid_type,expected:Oe.null,received:c.parsedType}),Ie}return Bn(s.data)}}Vh.create=i=>new Vh({typeName:He.ZodNull,...ze(i)});class Kh extends Ye{constructor(){super(...arguments),this._any=!0}_parse(s){return Bn(s.data)}}Kh.create=i=>new Kh({typeName:He.ZodAny,...ze(i)});class Yh extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Bn(s.data)}}Yh.create=i=>new Yh({typeName:He.ZodUnknown,...ze(i)});class wi extends Ye{_parse(s){const r=this._getOrReturnCtx(s);return be(r,{code:me.invalid_type,expected:Oe.never,received:r.parsedType}),Ie}}wi.create=i=>new wi({typeName:He.ZodNever,...ze(i)});class Xy extends Ye{_parse(s){if(this._getType(s)!==Oe.undefined){const c=this._getOrReturnCtx(s);return be(c,{code:me.invalid_type,expected:Oe.void,received:c.parsedType}),Ie}return Bn(s.data)}}Xy.create=i=>new Xy({typeName:He.ZodVoid,...ze(i)});class us extends Ye{_parse(s){const{ctx:r,status:c}=this._processInputParams(s),h=this._def;if(r.parsedType!==Oe.array)return be(r,{code:me.invalid_type,expected:Oe.array,received:r.parsedType}),Ie;if(h.exactLength!==null){const f=r.data.length>h.exactLength.value,d=r.data.length<h.exactLength.value;(f||d)&&(be(r,{code:f?me.too_big:me.too_small,minimum:d?h.exactLength.value:void 0,maximum:f?h.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:h.exactLength.message}),c.dirty())}if(h.minLength!==null&&r.data.length<h.minLength.value&&(be(r,{code:me.too_small,minimum:h.minLength.value,type:"array",inclusive:!0,exact:!1,message:h.minLength.message}),c.dirty()),h.maxLength!==null&&r.data.length>h.maxLength.value&&(be(r,{code:me.too_big,maximum:h.maxLength.value,type:"array",inclusive:!0,exact:!1,message:h.maxLength.message}),c.dirty()),r.common.async)return Promise.all([...r.data].map((f,d)=>h.type._parseAsync(new ds(r,f,r.path,d)))).then(f=>en.mergeArray(c,f));const p=[...r.data].map((f,d)=>h.type._parseSync(new ds(r,f,r.path,d)));return en.mergeArray(c,p)}get element(){return this._def.type}min(s,r){return new us({...this._def,minLength:{value:s,message:we.toString(r)}})}max(s,r){return new us({...this._def,maxLength:{value:s,message:we.toString(r)}})}length(s,r){return new us({...this._def,exactLength:{value:s,message:we.toString(r)}})}nonempty(s){return this.min(1,s)}}us.create=(i,s)=>new us({type:i,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...ze(s)});function sa(i){if(i instanceof Ht){const s={};for(const r in i.shape){const c=i.shape[r];s[r]=Gs.create(sa(c))}return new Ht({...i._def,shape:()=>s})}else return i instanceof us?new us({...i._def,type:sa(i.element)}):i instanceof Gs?Gs.create(sa(i.unwrap())):i instanceof lr?lr.create(sa(i.unwrap())):i instanceof ar?ar.create(i.items.map(s=>sa(s))):i}class Ht extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=Qe.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==Oe.object){const o=this._getOrReturnCtx(s);return be(o,{code:me.invalid_type,expected:Oe.object,received:o.parsedType}),Ie}const{status:c,ctx:h}=this._processInputParams(s),{shape:p,keys:f}=this._getCached(),d=[];if(!(this._def.catchall instanceof wi&&this._def.unknownKeys==="strip"))for(const o in h.data)f.includes(o)||d.push(o);const l=[];for(const o of f){const u=p[o],m=h.data[o];l.push({key:{status:"valid",value:o},value:u._parse(new ds(h,m,h.path,o)),alwaysSet:o in h.data})}if(this._def.catchall instanceof wi){const o=this._def.unknownKeys;if(o==="passthrough")for(const u of d)l.push({key:{status:"valid",value:u},value:{status:"valid",value:h.data[u]}});else if(o==="strict")d.length>0&&(be(h,{code:me.unrecognized_keys,keys:d}),c.dirty());else if(o!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const o=this._def.catchall;for(const u of d){const m=h.data[u];l.push({key:{status:"valid",value:u},value:o._parse(new ds(h,m,h.path,u)),alwaysSet:u in h.data})}}return h.common.async?Promise.resolve().then(async()=>{const o=[];for(const u of l){const m=await u.key,v=await u.value;o.push({key:m,value:v,alwaysSet:u.alwaysSet})}return o}).then(o=>en.mergeObjectSync(c,o)):en.mergeObjectSync(c,l)}get shape(){return this._def.shape()}strict(s){return we.errToObj,new Ht({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,c)=>{const h=this._def.errorMap?.(r,c).message??c.defaultError;return r.code==="unrecognized_keys"?{message:we.errToObj(s).message??h}:{message:h}}}:{}})}strip(){return new Ht({...this._def,unknownKeys:"strip"})}passthrough(){return new Ht({...this._def,unknownKeys:"passthrough"})}extend(s){return new Ht({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new Ht({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:He.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new Ht({...this._def,catchall:s})}pick(s){const r={};for(const c of Qe.objectKeys(s))s[c]&&this.shape[c]&&(r[c]=this.shape[c]);return new Ht({...this._def,shape:()=>r})}omit(s){const r={};for(const c of Qe.objectKeys(this.shape))s[c]||(r[c]=this.shape[c]);return new Ht({...this._def,shape:()=>r})}deepPartial(){return sa(this)}partial(s){const r={};for(const c of Qe.objectKeys(this.shape)){const h=this.shape[c];s&&!s[c]?r[c]=h:r[c]=h.optional()}return new Ht({...this._def,shape:()=>r})}required(s){const r={};for(const c of Qe.objectKeys(this.shape))if(s&&!s[c])r[c]=this.shape[c];else{let p=this.shape[c];for(;p instanceof Gs;)p=p._def.innerType;r[c]=p}return new Ht({...this._def,shape:()=>r})}keyof(){return l1(Qe.objectKeys(this.shape))}}Ht.create=(i,s)=>new Ht({shape:()=>i,unknownKeys:"strip",catchall:wi.create(),typeName:He.ZodObject,...ze(s)});Ht.strictCreate=(i,s)=>new Ht({shape:()=>i,unknownKeys:"strict",catchall:wi.create(),typeName:He.ZodObject,...ze(s)});Ht.lazycreate=(i,s)=>new Ht({shape:i,unknownKeys:"strip",catchall:wi.create(),typeName:He.ZodObject,...ze(s)});class Hu extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s),c=this._def.options;function h(p){for(const d of p)if(d.result.status==="valid")return d.result;for(const d of p)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const f=p.map(d=>new Vs(d.ctx.common.issues));return be(r,{code:me.invalid_union,unionErrors:f}),Ie}if(r.common.async)return Promise.all(c.map(async p=>{const f={...r,common:{...r.common,issues:[]},parent:null};return{result:await p._parseAsync({data:r.data,path:r.path,parent:f}),ctx:f}})).then(h);{let p;const f=[];for(const l of c){const o={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:o});if(u.status==="valid")return u;u.status==="dirty"&&!p&&(p={result:u,ctx:o}),o.common.issues.length&&f.push(o.common.issues)}if(p)return r.common.issues.push(...p.ctx.common.issues),p.result;const d=f.map(l=>new Vs(l));return be(r,{code:me.invalid_union,unionErrors:d}),Ie}}get options(){return this._def.options}}Hu.create=(i,s)=>new Hu({options:i,typeName:He.ZodUnion,...ze(s)});const Ls=i=>i instanceof Xh?Ls(i.schema):i instanceof cr?Ls(i.innerType()):i instanceof ku?[i.value]:i instanceof or?i.options:i instanceof Jh?Qe.objectValues(i.enum):i instanceof qu?Ls(i._def.innerType):i instanceof Gh?[void 0]:i instanceof Vh?[null]:i instanceof Gs?[void 0,...Ls(i.unwrap())]:i instanceof lr?[null,...Ls(i.unwrap())]:i instanceof u1||i instanceof $u?Ls(i.unwrap()):i instanceof zu?Ls(i._def.innerType):[];class mp extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Oe.object)return be(r,{code:me.invalid_type,expected:Oe.object,received:r.parsedType}),Ie;const c=this.discriminator,h=r.data[c],p=this.optionsMap.get(h);return p?r.common.async?p._parseAsync({data:r.data,path:r.path,parent:r}):p._parseSync({data:r.data,path:r.path,parent:r}):(be(r,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),Ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,r,c){const h=new Map;for(const p of r){const f=Ls(p.shape[s]);if(!f.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const d of f){if(h.has(d))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(d)}`);h.set(d,p)}}return new mp({typeName:He.ZodDiscriminatedUnion,discriminator:s,options:r,optionsMap:h,...ze(c)})}}function Zh(i,s){const r=Si(i),c=Si(s);if(i===s)return{valid:!0,data:i};if(r===Oe.object&&c===Oe.object){const h=Qe.objectKeys(s),p=Qe.objectKeys(i).filter(d=>h.indexOf(d)!==-1),f={...i,...s};for(const d of p){const l=Zh(i[d],s[d]);if(!l.valid)return{valid:!1};f[d]=l.data}return{valid:!0,data:f}}else if(r===Oe.array&&c===Oe.array){if(i.length!==s.length)return{valid:!1};const h=[];for(let p=0;p<i.length;p++){const f=i[p],d=s[p],l=Zh(f,d);if(!l.valid)return{valid:!1};h.push(l.data)}return{valid:!0,data:h}}else return r===Oe.date&&c===Oe.date&&+i==+s?{valid:!0,data:i}:{valid:!1}}class Mu extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s),h=(p,f)=>{if(Vy(p)||Vy(f))return Ie;const d=Zh(p.value,f.value);return d.valid?((Ky(p)||Ky(f))&&r.dirty(),{status:r.value,value:d.data}):(be(c,{code:me.invalid_intersection_types}),Ie)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([p,f])=>h(p,f)):h(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}Mu.create=(i,s,r)=>new Mu({left:i,right:s,typeName:He.ZodIntersection,...ze(r)});class ar extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==Oe.array)return be(c,{code:me.invalid_type,expected:Oe.array,received:c.parsedType}),Ie;if(c.data.length<this._def.items.length)return be(c,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&c.data.length>this._def.items.length&&(be(c,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const p=[...c.data].map((f,d)=>{const l=this._def.items[d]||this._def.rest;return l?l._parse(new ds(c,f,c.path,d)):null}).filter(f=>!!f);return c.common.async?Promise.all(p).then(f=>en.mergeArray(r,f)):en.mergeArray(r,p)}get items(){return this._def.items}rest(s){return new ar({...this._def,rest:s})}}ar.create=(i,s)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ar({items:i,typeName:He.ZodTuple,rest:null,...ze(s)})};class Nu extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==Oe.object)return be(c,{code:me.invalid_type,expected:Oe.object,received:c.parsedType}),Ie;const h=[],p=this._def.keyType,f=this._def.valueType;for(const d in c.data)h.push({key:p._parse(new ds(c,d,c.path,d)),value:f._parse(new ds(c,c.data[d],c.path,d)),alwaysSet:d in c.data});return c.common.async?en.mergeObjectAsync(r,h):en.mergeObjectSync(r,h)}get element(){return this._def.valueType}static create(s,r,c){return r instanceof Ye?new Nu({keyType:s,valueType:r,typeName:He.ZodRecord,...ze(c)}):new Nu({keyType:Fs.create(),valueType:s,typeName:He.ZodRecord,...ze(r)})}}class Jy extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==Oe.map)return be(c,{code:me.invalid_type,expected:Oe.map,received:c.parsedType}),Ie;const h=this._def.keyType,p=this._def.valueType,f=[...c.data.entries()].map(([d,l],o)=>({key:h._parse(new ds(c,d,c.path,[o,"key"])),value:p._parse(new ds(c,l,c.path,[o,"value"]))}));if(c.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const l of f){const o=await l.key,u=await l.value;if(o.status==="aborted"||u.status==="aborted")return Ie;(o.status==="dirty"||u.status==="dirty")&&r.dirty(),d.set(o.value,u.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const l of f){const o=l.key,u=l.value;if(o.status==="aborted"||u.status==="aborted")return Ie;(o.status==="dirty"||u.status==="dirty")&&r.dirty(),d.set(o.value,u.value)}return{status:r.value,value:d}}}}Jy.create=(i,s,r)=>new Jy({valueType:s,keyType:i,typeName:He.ZodMap,...ze(r)});class Wc extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.parsedType!==Oe.set)return be(c,{code:me.invalid_type,expected:Oe.set,received:c.parsedType}),Ie;const h=this._def;h.minSize!==null&&c.data.size<h.minSize.value&&(be(c,{code:me.too_small,minimum:h.minSize.value,type:"set",inclusive:!0,exact:!1,message:h.minSize.message}),r.dirty()),h.maxSize!==null&&c.data.size>h.maxSize.value&&(be(c,{code:me.too_big,maximum:h.maxSize.value,type:"set",inclusive:!0,exact:!1,message:h.maxSize.message}),r.dirty());const p=this._def.valueType;function f(l){const o=new Set;for(const u of l){if(u.status==="aborted")return Ie;u.status==="dirty"&&r.dirty(),o.add(u.value)}return{status:r.value,value:o}}const d=[...c.data.values()].map((l,o)=>p._parse(new ds(c,l,c.path,o)));return c.common.async?Promise.all(d).then(l=>f(l)):f(d)}min(s,r){return new Wc({...this._def,minSize:{value:s,message:we.toString(r)}})}max(s,r){return new Wc({...this._def,maxSize:{value:s,message:we.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}Wc.create=(i,s)=>new Wc({valueType:i,minSize:null,maxSize:null,typeName:He.ZodSet,...ze(s)});class Xh extends Ye{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Xh.create=(i,s)=>new Xh({getter:i,typeName:He.ZodLazy,...ze(s)});class ku extends Ye{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return be(r,{received:r.data,code:me.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:s.data}}get value(){return this._def.value}}ku.create=(i,s)=>new ku({value:i,typeName:He.ZodLiteral,...ze(s)});function l1(i,s){return new or({values:i,typeName:He.ZodEnum,...ze(s)})}class or extends Ye{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),c=this._def.values;return be(r,{expected:Qe.joinValues(c),received:r.parsedType,code:me.invalid_type}),Ie}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),c=this._def.values;return be(r,{received:r.data,code:me.invalid_enum_value,options:c}),Ie}return Bn(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return or.create(s,{...this._def,...r})}exclude(s,r=this._def){return or.create(this.options.filter(c=>!s.includes(c)),{...this._def,...r})}}or.create=l1;class Jh extends Ye{_parse(s){const r=Qe.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(s);if(c.parsedType!==Oe.string&&c.parsedType!==Oe.number){const h=Qe.objectValues(r);return be(c,{expected:Qe.joinValues(h),received:c.parsedType,code:me.invalid_type}),Ie}if(this._cache||(this._cache=new Set(Qe.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const h=Qe.objectValues(r);return be(c,{received:c.data,code:me.invalid_enum_value,options:h}),Ie}return Bn(s.data)}get enum(){return this._def.values}}Jh.create=(i,s)=>new Jh({values:i,typeName:He.ZodNativeEnum,...ze(s)});class Pu extends Ye{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Oe.promise&&r.common.async===!1)return be(r,{code:me.invalid_type,expected:Oe.promise,received:r.parsedType}),Ie;const c=r.parsedType===Oe.promise?r.data:Promise.resolve(r.data);return Bn(c.then(h=>this._def.type.parseAsync(h,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Pu.create=(i,s)=>new Pu({type:i,typeName:He.ZodPromise,...ze(s)});class cr extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:c}=this._processInputParams(s),h=this._def.effect||null,p={addIssue:f=>{be(c,f),f.fatal?r.abort():r.dirty()},get path(){return c.path}};if(p.addIssue=p.addIssue.bind(p),h.type==="preprocess"){const f=h.transform(c.data,p);if(c.common.async)return Promise.resolve(f).then(async d=>{if(r.value==="aborted")return Ie;const l=await this._def.schema._parseAsync({data:d,path:c.path,parent:c});return l.status==="aborted"?Ie:l.status==="dirty"||r.value==="dirty"?Yc(l.value):l});{if(r.value==="aborted")return Ie;const d=this._def.schema._parseSync({data:f,path:c.path,parent:c});return d.status==="aborted"?Ie:d.status==="dirty"||r.value==="dirty"?Yc(d.value):d}}if(h.type==="refinement"){const f=d=>{const l=h.refinement(d,p);if(c.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(c.common.async===!1){const d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return d.status==="aborted"?Ie:(d.status==="dirty"&&r.dirty(),f(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(d=>d.status==="aborted"?Ie:(d.status==="dirty"&&r.dirty(),f(d.value).then(()=>({status:r.value,value:d.value}))))}if(h.type==="transform")if(c.common.async===!1){const f=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!ra(f))return Ie;const d=h.transform(f.value,p);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(f=>ra(f)?Promise.resolve(h.transform(f.value,p)).then(d=>({status:r.value,value:d})):Ie);Qe.assertNever(h)}}cr.create=(i,s,r)=>new cr({schema:i,typeName:He.ZodEffects,effect:s,...ze(r)});cr.createWithPreprocess=(i,s,r)=>new cr({schema:s,effect:{type:"preprocess",transform:i},typeName:He.ZodEffects,...ze(r)});class Gs extends Ye{_parse(s){return this._getType(s)===Oe.undefined?Bn(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Gs.create=(i,s)=>new Gs({innerType:i,typeName:He.ZodOptional,...ze(s)});class lr extends Ye{_parse(s){return this._getType(s)===Oe.null?Bn(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}lr.create=(i,s)=>new lr({innerType:i,typeName:He.ZodNullable,...ze(s)});class qu extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s);let c=r.data;return r.parsedType===Oe.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}qu.create=(i,s)=>new qu({innerType:i,typeName:He.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...ze(s)});class zu extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s),c={...r,common:{...r.common,issues:[]}},h=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return Tu(h)?h.then(p=>({status:"valid",value:p.status==="valid"?p.value:this._def.catchValue({get error(){return new Vs(c.common.issues)},input:c.data})})):{status:"valid",value:h.status==="valid"?h.value:this._def.catchValue({get error(){return new Vs(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}zu.create=(i,s)=>new zu({innerType:i,typeName:He.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...ze(s)});class Qy extends Ye{_parse(s){if(this._getType(s)!==Oe.nan){const c=this._getOrReturnCtx(s);return be(c,{code:me.invalid_type,expected:Oe.nan,received:c.parsedType}),Ie}return{status:"valid",value:s.data}}}Qy.create=i=>new Qy({typeName:He.ZodNaN,...ze(i)});class u1 extends Ye{_parse(s){const{ctx:r}=this._processInputParams(s),c=r.data;return this._def.type._parse({data:c,path:r.path,parent:r})}unwrap(){return this._def.type}}class gp extends Ye{_parse(s){const{status:r,ctx:c}=this._processInputParams(s);if(c.common.async)return(async()=>{const p=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return p.status==="aborted"?Ie:p.status==="dirty"?(r.dirty(),Yc(p.value)):this._def.out._parseAsync({data:p.value,path:c.path,parent:c})})();{const h=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return h.status==="aborted"?Ie:h.status==="dirty"?(r.dirty(),{status:"dirty",value:h.value}):this._def.out._parseSync({data:h.value,path:c.path,parent:c})}}static create(s,r){return new gp({in:s,out:r,typeName:He.ZodPipeline})}}class $u extends Ye{_parse(s){const r=this._def.innerType._parse(s),c=h=>(ra(h)&&(h.value=Object.freeze(h.value)),h);return Tu(r)?r.then(h=>c(h)):c(r)}unwrap(){return this._def.innerType}}$u.create=(i,s)=>new $u({innerType:i,typeName:He.ZodReadonly,...ze(s)});var He;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(He||(He={}));const Q=Fs.create,$t=aa.create,Pt=Fh.create,HC=Kh.create,el=Yh.create;wi.create;const Ae=us.create,ye=Ht.create,tn=Hu.create,MC=mp.create;Mu.create;ar.create;const tl=Nu.create,Ne=ku.create,Ks=or.create;Pu.create;const he=Gs.create;lr.create;const NC=Ie,Bu="2.0",d1=tn([Q(),$t().int()]),f1=Q(),kC=ye({progressToken:he(d1)}).passthrough(),Ln=ye({_meta:he(kC)}).passthrough(),fn=ye({method:Q(),params:he(Ln)}),nl=ye({_meta:he(ye({}).passthrough())}).passthrough(),hs=ye({method:Q(),params:he(nl)}),Fn=ye({_meta:he(ye({}).passthrough())}).passthrough(),Lu=tn([Q(),$t().int()]),PC=ye({jsonrpc:Ne(Bu),id:Lu}).merge(fn).strict(),qC=ye({jsonrpc:Ne(Bu)}).merge(hs).strict(),zC=ye({jsonrpc:Ne(Bu),id:Lu,result:Fn}).strict();var Wy;(function(i){i[i.ConnectionClosed=-32e3]="ConnectionClosed",i[i.RequestTimeout=-32001]="RequestTimeout",i[i.ParseError=-32700]="ParseError",i[i.InvalidRequest=-32600]="InvalidRequest",i[i.MethodNotFound=-32601]="MethodNotFound",i[i.InvalidParams=-32602]="InvalidParams",i[i.InternalError=-32603]="InternalError"})(Wy||(Wy={}));const $C=ye({jsonrpc:Ne(Bu),id:Lu,error:ye({code:$t().int(),message:Q(),data:he(el())})}).strict();tn([PC,qC,zC,$C]);const h1=Fn.strict(),p1=hs.extend({method:Ne("notifications/cancelled"),params:nl.extend({requestId:Lu,reason:Q().optional()})}),DC=ye({src:Q(),mimeType:he(Q()),sizes:he(Ae(Q()))}).passthrough(),sl=ye({icons:Ae(DC).optional()}).passthrough(),il=ye({name:Q(),title:he(Q())}).passthrough(),m1=il.extend({version:Q(),websiteUrl:he(Q())}).merge(sl),UC=ye({experimental:he(ye({}).passthrough()),sampling:he(ye({}).passthrough()),elicitation:he(ye({}).passthrough()),roots:he(ye({listChanged:he(Pt())}).passthrough())}).passthrough(),BC=fn.extend({method:Ne("initialize"),params:Ln.extend({protocolVersion:Q(),capabilities:UC,clientInfo:m1})}),LC=ye({experimental:he(ye({}).passthrough()),logging:he(ye({}).passthrough()),completions:he(ye({}).passthrough()),prompts:he(ye({listChanged:he(Pt())}).passthrough()),resources:he(ye({subscribe:he(Pt()),listChanged:he(Pt())}).passthrough()),tools:he(ye({listChanged:he(Pt())}).passthrough())}).passthrough(),FC=Fn.extend({protocolVersion:Q(),capabilities:LC,serverInfo:m1,instructions:he(Q())}),GC=hs.extend({method:Ne("notifications/initialized")}),g1=fn.extend({method:Ne("ping")}),VC=ye({progress:$t(),total:he($t()),message:he(Q())}).passthrough(),v1=hs.extend({method:Ne("notifications/progress"),params:nl.merge(VC).extend({progressToken:d1})}),Fu=fn.extend({params:Ln.extend({cursor:he(f1)}).optional()}),Gu=Fn.extend({nextCursor:he(f1)}),y1=ye({uri:Q(),mimeType:he(Q()),_meta:he(ye({}).passthrough())}).passthrough(),_1=y1.extend({text:Q()}),vp=Q().refine(i=>{try{return atob(i),!0}catch{return!1}},{message:"Invalid Base64 string"}),b1=y1.extend({blob:vp}),O1=il.extend({uri:Q(),description:he(Q()),mimeType:he(Q()),_meta:he(ye({}).passthrough())}).merge(sl),KC=il.extend({uriTemplate:Q(),description:he(Q()),mimeType:he(Q()),_meta:he(ye({}).passthrough())}).merge(sl),YC=Fu.extend({method:Ne("resources/list")}),ZC=Gu.extend({resources:Ae(O1)}),XC=Fu.extend({method:Ne("resources/templates/list")}),JC=Gu.extend({resourceTemplates:Ae(KC)}),QC=fn.extend({method:Ne("resources/read"),params:Ln.extend({uri:Q()})}),WC=Fn.extend({contents:Ae(tn([_1,b1]))}),eR=hs.extend({method:Ne("notifications/resources/list_changed")}),tR=fn.extend({method:Ne("resources/subscribe"),params:Ln.extend({uri:Q()})}),nR=fn.extend({method:Ne("resources/unsubscribe"),params:Ln.extend({uri:Q()})}),sR=hs.extend({method:Ne("notifications/resources/updated"),params:nl.extend({uri:Q()})}),iR=ye({name:Q(),description:he(Q()),required:he(Pt())}).passthrough(),rR=il.extend({description:he(Q()),arguments:he(Ae(iR)),_meta:he(ye({}).passthrough())}).merge(sl),aR=Fu.extend({method:Ne("prompts/list")}),oR=Gu.extend({prompts:Ae(rR)}),cR=fn.extend({method:Ne("prompts/get"),params:Ln.extend({name:Q(),arguments:he(tl(Q()))})}),yp=ye({type:Ne("text"),text:Q(),_meta:he(ye({}).passthrough())}).passthrough(),_p=ye({type:Ne("image"),data:vp,mimeType:Q(),_meta:he(ye({}).passthrough())}).passthrough(),bp=ye({type:Ne("audio"),data:vp,mimeType:Q(),_meta:he(ye({}).passthrough())}).passthrough(),lR=ye({type:Ne("resource"),resource:tn([_1,b1]),_meta:he(ye({}).passthrough())}).passthrough(),uR=O1.extend({type:Ne("resource_link")}),j1=tn([yp,_p,bp,uR,lR]),dR=ye({role:Ks(["user","assistant"]),content:j1}).passthrough(),fR=Fn.extend({description:he(Q()),messages:Ae(dR)}),hR=hs.extend({method:Ne("notifications/prompts/list_changed")}),pR=ye({title:he(Q()),readOnlyHint:he(Pt()),destructiveHint:he(Pt()),idempotentHint:he(Pt()),openWorldHint:he(Pt())}).passthrough(),mR=il.extend({description:he(Q()),inputSchema:ye({type:Ne("object"),properties:he(ye({}).passthrough()),required:he(Ae(Q()))}).passthrough(),outputSchema:he(ye({type:Ne("object"),properties:he(ye({}).passthrough()),required:he(Ae(Q()))}).passthrough()),annotations:he(pR),_meta:he(ye({}).passthrough())}).merge(sl),gR=Fu.extend({method:Ne("tools/list")}),vR=Gu.extend({tools:Ae(mR)}),A1=Fn.extend({content:Ae(j1).default([]),structuredContent:ye({}).passthrough().optional(),isError:he(Pt())});A1.or(Fn.extend({toolResult:el()}));const yR=fn.extend({method:Ne("tools/call"),params:Ln.extend({name:Q(),arguments:he(tl(el()))})}),_R=hs.extend({method:Ne("notifications/tools/list_changed")}),S1=Ks(["debug","info","notice","warning","error","critical","alert","emergency"]),bR=fn.extend({method:Ne("logging/setLevel"),params:Ln.extend({level:S1})}),OR=hs.extend({method:Ne("notifications/message"),params:nl.extend({level:S1,logger:he(Q()),data:el()})}),jR=ye({name:Q().optional()}).passthrough(),AR=ye({hints:he(Ae(jR)),costPriority:he($t().min(0).max(1)),speedPriority:he($t().min(0).max(1)),intelligencePriority:he($t().min(0).max(1))}).passthrough(),SR=ye({role:Ks(["user","assistant"]),content:tn([yp,_p,bp])}).passthrough(),wR=fn.extend({method:Ne("sampling/createMessage"),params:Ln.extend({messages:Ae(SR),systemPrompt:he(Q()),includeContext:he(Ks(["none","thisServer","allServers"])),temperature:he($t()),maxTokens:$t().int(),stopSequences:he(Ae(Q())),metadata:he(ye({}).passthrough()),modelPreferences:he(AR)})}),CR=Fn.extend({model:Q(),stopReason:he(Ks(["endTurn","stopSequence","maxTokens"]).or(Q())),role:Ks(["user","assistant"]),content:MC("type",[yp,_p,bp])}),RR=ye({type:Ne("boolean"),title:he(Q()),description:he(Q()),default:he(Pt())}).passthrough(),xR=ye({type:Ne("string"),title:he(Q()),description:he(Q()),minLength:he($t()),maxLength:he($t()),format:he(Ks(["email","uri","date","date-time"]))}).passthrough(),ER=ye({type:Ks(["number","integer"]),title:he(Q()),description:he(Q()),minimum:he($t()),maximum:he($t())}).passthrough(),TR=ye({type:Ne("string"),title:he(Q()),description:he(Q()),enum:Ae(Q()),enumNames:he(Ae(Q()))}).passthrough(),IR=tn([RR,xR,ER,TR]),HR=fn.extend({method:Ne("elicitation/create"),params:Ln.extend({message:Q(),requestedSchema:ye({type:Ne("object"),properties:tl(Q(),IR),required:he(Ae(Q()))}).passthrough()})}),MR=Fn.extend({action:Ks(["accept","decline","cancel"]),content:he(tl(Q(),el()))}),NR=ye({type:Ne("ref/resource"),uri:Q()}).passthrough(),kR=ye({type:Ne("ref/prompt"),name:Q()}).passthrough(),PR=fn.extend({method:Ne("completion/complete"),params:Ln.extend({ref:tn([kR,NR]),argument:ye({name:Q(),value:Q()}).passthrough(),context:he(ye({arguments:he(tl(Q(),Q()))}))})}),qR=Fn.extend({completion:ye({values:Ae(Q()).max(100),total:he($t().int()),hasMore:he(Pt())}).passthrough()}),zR=ye({uri:Q().startsWith("file://"),name:he(Q()),_meta:he(ye({}).passthrough())}).passthrough(),$R=fn.extend({method:Ne("roots/list")}),DR=Fn.extend({roots:Ae(zR)}),UR=hs.extend({method:Ne("notifications/roots/list_changed")});tn([g1,BC,PR,bR,cR,aR,YC,XC,QC,tR,nR,yR,gR]);tn([p1,v1,GC,UR]);tn([h1,CR,MR,DR]);tn([g1,wR,HR,$R]);tn([p1,v1,OR,sR,eR,_R,hR]);tn([h1,FC,qR,fR,oR,ZC,JC,WC,A1,vR]);const Vt=Q().url().superRefine((i,s)=>{if(!URL.canParse(i))return s.addIssue({code:me.custom,message:"URL must be parseable",fatal:!0}),NC}).refine(i=>{const s=new URL(i);return s.protocol!=="javascript:"&&s.protocol!=="data:"&&s.protocol!=="vbscript:"},{message:"URL cannot use javascript:, data:, or vbscript: scheme"});ye({resource:Q().url(),authorization_servers:Ae(Vt).optional(),jwks_uri:Q().url().optional(),scopes_supported:Ae(Q()).optional(),bearer_methods_supported:Ae(Q()).optional(),resource_signing_alg_values_supported:Ae(Q()).optional(),resource_name:Q().optional(),resource_documentation:Q().optional(),resource_policy_uri:Q().url().optional(),resource_tos_uri:Q().url().optional(),tls_client_certificate_bound_access_tokens:Pt().optional(),authorization_details_types_supported:Ae(Q()).optional(),dpop_signing_alg_values_supported:Ae(Q()).optional(),dpop_bound_access_tokens_required:Pt().optional()}).passthrough();const BR=ye({issuer:Q(),authorization_endpoint:Vt,token_endpoint:Vt,registration_endpoint:Vt.optional(),scopes_supported:Ae(Q()).optional(),response_types_supported:Ae(Q()),response_modes_supported:Ae(Q()).optional(),grant_types_supported:Ae(Q()).optional(),token_endpoint_auth_methods_supported:Ae(Q()).optional(),token_endpoint_auth_signing_alg_values_supported:Ae(Q()).optional(),service_documentation:Vt.optional(),revocation_endpoint:Vt.optional(),revocation_endpoint_auth_methods_supported:Ae(Q()).optional(),revocation_endpoint_auth_signing_alg_values_supported:Ae(Q()).optional(),introspection_endpoint:Q().optional(),introspection_endpoint_auth_methods_supported:Ae(Q()).optional(),introspection_endpoint_auth_signing_alg_values_supported:Ae(Q()).optional(),code_challenge_methods_supported:Ae(Q()).optional()}).passthrough(),LR=ye({issuer:Q(),authorization_endpoint:Vt,token_endpoint:Vt,userinfo_endpoint:Vt.optional(),jwks_uri:Vt,registration_endpoint:Vt.optional(),scopes_supported:Ae(Q()).optional(),response_types_supported:Ae(Q()),response_modes_supported:Ae(Q()).optional(),grant_types_supported:Ae(Q()).optional(),acr_values_supported:Ae(Q()).optional(),subject_types_supported:Ae(Q()),id_token_signing_alg_values_supported:Ae(Q()),id_token_encryption_alg_values_supported:Ae(Q()).optional(),id_token_encryption_enc_values_supported:Ae(Q()).optional(),userinfo_signing_alg_values_supported:Ae(Q()).optional(),userinfo_encryption_alg_values_supported:Ae(Q()).optional(),userinfo_encryption_enc_values_supported:Ae(Q()).optional(),request_object_signing_alg_values_supported:Ae(Q()).optional(),request_object_encryption_alg_values_supported:Ae(Q()).optional(),request_object_encryption_enc_values_supported:Ae(Q()).optional(),token_endpoint_auth_methods_supported:Ae(Q()).optional(),token_endpoint_auth_signing_alg_values_supported:Ae(Q()).optional(),display_values_supported:Ae(Q()).optional(),claim_types_supported:Ae(Q()).optional(),claims_supported:Ae(Q()).optional(),service_documentation:Q().optional(),claims_locales_supported:Ae(Q()).optional(),ui_locales_supported:Ae(Q()).optional(),claims_parameter_supported:Pt().optional(),request_parameter_supported:Pt().optional(),request_uri_parameter_supported:Pt().optional(),require_request_uri_registration:Pt().optional(),op_policy_uri:Vt.optional(),op_tos_uri:Vt.optional()}).passthrough();LR.merge(BR.pick({code_challenge_methods_supported:!0}));ye({access_token:Q(),id_token:Q().optional(),token_type:Q(),expires_in:$t().optional(),scope:Q().optional(),refresh_token:Q().optional()}).strip();ye({error:Q(),error_description:Q().optional(),error_uri:Q().optional()});const e_=Vt.optional().or(Ne("").transform(()=>{})),FR=ye({redirect_uris:Ae(Vt),token_endpoint_auth_method:Q().optional(),grant_types:Ae(Q()).optional(),response_types:Ae(Q()).optional(),client_name:Q().optional(),client_uri:Vt.optional(),logo_uri:e_,scope:Q().optional(),contacts:Ae(Q()).optional(),tos_uri:e_,policy_uri:Q().optional(),jwks_uri:Vt.optional(),jwks:HC().optional(),software_id:Q().optional(),software_version:Q().optional(),software_statement:Q().optional()}).strip(),GR=ye({client_id:Q(),client_secret:Q().optional(),client_id_issued_at:$t().optional(),client_secret_expires_at:$t().optional()}).strip();FR.merge(GR);ye({error:Q(),error_description:Q().optional()}).strip();ye({token:Q(),token_type_hint:Q().optional()}).strip();class Yt extends Error{constructor(s,r){super(s),this.errorUri=r,this.name=this.constructor.name}toResponseObject(){const s={error:this.errorCode,error_description:this.message};return this.errorUri&&(s.error_uri=this.errorUri),s}get errorCode(){return this.constructor.errorCode}}class VR extends Yt{}VR.errorCode="invalid_request";class KR extends Yt{}KR.errorCode="invalid_client";class YR extends Yt{}YR.errorCode="invalid_grant";class ZR extends Yt{}ZR.errorCode="unauthorized_client";class XR extends Yt{}XR.errorCode="unsupported_grant_type";class JR extends Yt{}JR.errorCode="invalid_scope";class QR extends Yt{}QR.errorCode="access_denied";class WR extends Yt{}WR.errorCode="server_error";class ex extends Yt{}ex.errorCode="temporarily_unavailable";class tx extends Yt{}tx.errorCode="unsupported_response_type";class nx extends Yt{}nx.errorCode="unsupported_token_type";class sx extends Yt{}sx.errorCode="invalid_token";class ix extends Yt{}ix.errorCode="method_not_allowed";class rx extends Yt{}rx.errorCode="too_many_requests";class ax extends Yt{}ax.errorCode="invalid_client_metadata";class ox extends Yt{}ox.errorCode="insufficient_scope";class t_ extends Error{constructor(s){super(s??"Unauthorized")}}function oa(){const[i,s]=Z.useState(!1),r=Ee(f=>f.updateServer),c=Ee(f=>f.setTools),h=Z.useCallback(async(f,d,l,o)=>{s(!0);try{if(console.log(` Attempting to connect to ${f.name}...`,{hasAuth:!!f.auth,authType:f.auth?.type,hasAuthCode:!!d,suppressErrorToast:o}),!await ia.connect(f,d,l))return console.log(` OAuth redirect initiated for ${f.name}`),!1;r(f.id,{connected:!0,error:void 0,lastConnected:new Date});const m=await ia.listTools(f.id);return c(f.id,m),console.log(` Successfully connected to ${f.name}`),!0}catch(u){console.error("Connection error:",u),console.error("Error type:",u?.constructor?.name);const m=u instanceof Error?u.message:String(u);if(m.includes("OAuth authorization required")||m.includes("Redirecting to authorization"))return console.log(" OAuth redirect is happening - not showing as error"),r(f.id,{connected:!1,error:void 0}),!1;if(u instanceof t_)return console.log(" UnauthorizedError caught - OAuth redirect should be happening..."),r(f.id,{connected:!1,error:void 0}),!1;if(u&&typeof u=="object"&&"name"in u&&u.name==="UnauthorizedError")return console.log(" UnauthorizedError detected by name - OAuth redirect should be happening..."),r(f.id,{connected:!1,error:void 0}),!1;let v=u instanceof Error?u.message:"Connection failed";return(v.includes("Failed to fetch")||v.includes("CORS"))&&(v="CORS Error: Server does not allow browser connections. See CORS.md for solutions."),(v.includes("401")||v.includes("Unauthorized"))&&(f.auth?.type==="oauth"&&!d?v="OAuth required but authorization redirect did not occur. Check server OAuth configuration.":f.auth?.type!=="oauth"&&(v.includes("invalid_token")||v.includes("Bearer")?v=` This server requires OAuth authentication.

To fix:
1. Open the server menu ()
2. Click "Edit Server"
3. Set Authentication to "OAuth"
4. Save and connect again`:v="Authentication required (401). Please configure authentication for this server.")),console.error(` Connection to ${f.name} failed:`,v),r(f.id,{connected:!1,error:v}),!(v.includes("OAuth authorization required")||v.includes("Redirecting to authorization")||v.includes("Code verifier")||v.includes("PKCE")||!!d||u instanceof t_)&&!o?$n.error(`Failed to connect to ${f.name}`,v):o&&console.log(` Error toast suppressed during auto-reconnect for ${f.name}`),!1}finally{s(!1)}},[r,c]),p=Z.useCallback(async f=>{await ia.disconnect(f),r(f,{connected:!1})},[r]);return{connect:h,disconnect:p,isConnecting:i}}function cx(){const[i,s]=Z.useState(!1),r=Ee(h=>h.addToHistory);return{execute:Z.useCallback(async(h,p,f)=>{s(!0);const d=performance.now();try{const l=await ia.executeTool(h,p,f),u={success:!0,time:Math.round(performance.now()-d),data:l,timestamp:new Date};return r({serverId:h,toolName:p,input:f,result:u}),u}catch(l){const o=Math.round(performance.now()-d);console.error("Tool execution error:",{serverId:h,toolName:p,args:f,error:l,errorMessage:l instanceof Error?l.message:String(l),errorStack:l instanceof Error?l.stack:void 0});const u=l instanceof Error?l.message:"Execution failed",m={success:!1,time:o,error:u,timestamp:new Date};return r({serverId:h,toolName:p,input:f,result:m}),$n.error(`Failed to execute ${p}`,u),m}finally{s(!1)}},[r]),isExecuting:i}}function Op(){const i=Z.useCallback(()=>{const h=new URLSearchParams(window.location.search);return{server:h.get("server"),tool:h.get("tool"),search:h.get("search"),params:h.get("params"),execution:h.get("execution")}},[]),s=Z.useCallback((h,p=!1)=>{const f=new URL(window.location.href),d=f.searchParams;Object.entries(h).forEach(([o,u])=>{u==null||u===""?d.delete(o):d.set(o,u)});const l=`${f.pathname}${d.toString()?"?"+d.toString():""}${f.hash}`;p?window.history.replaceState({},"",l):window.history.pushState({},"",l)},[]),r=Z.useCallback(h=>{const p={};h.forEach(f=>{p[f]=null}),s(p,!0)},[s]),c=Z.useCallback(()=>{const h=new URL(window.location.href);window.history.replaceState({},"",h.pathname+h.hash)},[]);return{readURL:i,updateURL:s,clearURLParams:r,clearAllParams:c}}const ft=wt.forwardRef(({variant:i="primary",size:s="md",className:r="",type:c="button",children:h,...p},f)=>{const d=`btn-${i}`,l=`btn-${s}`;return j.jsx("button",{ref:f,type:c,className:`btn ${d} ${l} ${r}`.trim(),...p,children:h})});ft.displayName="Button";const Je=wt.forwardRef(({label:i,error:s,helperText:r,className:c="",id:h,...p},f)=>{const d=h||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return j.jsxs("div",{className:"input-wrapper",children:[i&&j.jsxs("label",{htmlFor:d,className:"input-label",children:[i,p.required&&j.jsx("span",{className:"input-required",children:"*"})]}),j.jsx("input",{ref:f,id:d,className:`input ${s?"input-error":""} ${c}`.trim(),...p}),s&&j.jsx("span",{className:"input-error-text",children:s}),r&&!s&&j.jsx("span",{className:"input-helper-text",children:r})]})});Je.displayName="Input";const w1=wt.forwardRef(({label:i,error:s,helperText:r,showToggle:c=!0,className:h="",id:p,...f},d)=>{const[l,o]=Z.useState(!1),u=p||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return j.jsxs("div",{className:"api-key-input-wrapper",children:[i&&j.jsxs("label",{htmlFor:u,className:"api-key-input-label",children:[i,f.required&&j.jsx("span",{className:"api-key-input-required",children:"*"})]}),j.jsxs("div",{className:"api-key-input-container",children:[j.jsx("input",{ref:d,id:u,type:l?"text":"password",className:`api-key-input ${s?"api-key-input-error":""} ${h}`.trim(),autoComplete:"off",...f}),c&&j.jsx("button",{type:"button",className:"api-key-toggle-button",onClick:()=>o(!l),"aria-label":l?"Hide API key":"Show API key",tabIndex:-1,children:l?j.jsx(vw,{size:16}):j.jsx(_w,{size:16})})]}),s&&j.jsx("span",{className:"api-key-input-error-text",children:s}),r&&!s&&j.jsx("span",{className:"api-key-input-helper-text",children:r})]})});w1.displayName="APIKeyInput";const C1=wt.forwardRef(({label:i,error:s,helperText:r,className:c="",id:h,...p},f)=>{const d=h||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return j.jsxs("div",{className:"textarea-wrapper",children:[i&&j.jsxs("label",{htmlFor:d,className:"textarea-label",children:[i,p.required&&j.jsx("span",{className:"textarea-required",children:"*"})]}),j.jsx("textarea",{ref:f,id:d,className:`textarea ${s?"textarea-error":""} ${c}`.trim(),...p}),s&&j.jsx("span",{className:"textarea-error-text",children:s}),r&&!s&&j.jsx("span",{className:"textarea-helper-text",children:r})]})});C1.displayName="Textarea";const lx=wt.forwardRef(({label:i,error:s,helperText:r,options:c,placeholder:h,className:p="",id:f,...d},l)=>{const o=f||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return j.jsxs("div",{className:"select-wrapper",children:[i&&j.jsxs("label",{htmlFor:o,className:"select-label",children:[i,d.required&&j.jsx("span",{className:"select-required",children:"*"})]}),j.jsxs("select",{ref:l,id:o,className:`select ${s?"select-error":""} ${p}`.trim(),...d,children:[h&&j.jsx("option",{value:"",disabled:!0,children:h}),c.map(u=>j.jsx("option",{value:u.value,disabled:u.disabled,children:u.label},u.value))]}),s&&j.jsx("span",{className:"select-error-text",children:s}),r&&!s&&j.jsx("span",{className:"select-helper-text",children:r})]})});lx.displayName="Select";const R1=wt.forwardRef(({label:i,helperText:s,className:r="",id:c,...h},p)=>{const f=c||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return j.jsxs("div",{className:"checkbox-wrapper",children:[j.jsxs("div",{className:"checkbox-container",children:[j.jsx("input",{ref:p,type:"checkbox",id:f,className:`checkbox ${r}`.trim(),...h}),i&&j.jsx("label",{htmlFor:f,className:"checkbox-label",children:i})]}),s&&j.jsx("span",{className:"checkbox-helper-text",children:s})]})});R1.displayName="Checkbox";const Ci=wt.forwardRef(({label:i,options:s,value:r,onChange:c,helperText:h,error:p,disabled:f=!1,className:d=""},l)=>j.jsxs("div",{ref:l,className:`toggle-group-wrapper ${d}`,children:[i&&j.jsx("label",{className:"toggle-group-label",children:i}),j.jsx("div",{className:"toggle-group",role:"group",children:s.map(o=>{const u=r===o.value,m=f||o.disabled;return j.jsx("button",{type:"button",className:`toggle-option ${u?"toggle-option-selected":""}`,onClick:()=>!m&&c(o.value),disabled:m,"aria-pressed":u,children:o.label},o.value)})}),h&&!p&&j.jsx("div",{className:"toggle-group-helper",children:h}),p&&j.jsx("div",{className:"toggle-group-error",children:p})]}));Ci.displayName="ToggleGroup";const x1=wt.forwardRef(({label:i,helperText:s,className:r="",id:c,...h},p)=>{const f=c||(typeof i=="string"?i.toLowerCase().replace(/\s+/g,"-"):void 0);return j.jsxs("div",{className:"switch-wrapper",children:[j.jsxs("div",{className:"switch-container",children:[j.jsx("input",{ref:p,type:"checkbox",id:f,className:`switch ${r}`.trim(),role:"switch",...h}),j.jsx("label",{htmlFor:f,className:"switch-slider"}),i&&j.jsx("label",{htmlFor:f,className:"switch-label",children:i})]}),s&&j.jsx("span",{className:"switch-helper-text",children:s})]})});x1.displayName="Switch";const ux=wt.forwardRef(({variant:i="default",size:s="md",className:r="",children:c,...h},p)=>{const f=`badge-${i}`,d=`badge-${s}`;return j.jsx("span",{ref:p,className:`badge ${f} ${d} ${r}`.trim(),...h,children:c})});ux.displayName="Badge";const dx=wt.forwardRef(({variant:i="default",padding:s="md",className:r="",children:c,...h},p)=>{const f=`card-${i}`,d=`card-padding-${s}`;return j.jsx("div",{ref:p,className:`card ${f} ${d} ${r}`.trim(),...h,children:c})});dx.displayName="Card";const fx=wt.forwardRef(({className:i="",children:s,...r},c)=>j.jsx("div",{ref:c,className:`card-header ${i}`.trim(),...r,children:s}));fx.displayName="CardHeader";const hx=wt.forwardRef(({className:i="",children:s,...r},c)=>j.jsx("h3",{ref:c,className:`card-title ${i}`.trim(),...r,children:s}));hx.displayName="CardTitle";const px=wt.forwardRef(({className:i="",children:s,...r},c)=>j.jsx("p",{ref:c,className:`card-description ${i}`.trim(),...r,children:s}));px.displayName="CardDescription";const mx=wt.forwardRef(({className:i="",children:s,...r},c)=>j.jsx("div",{ref:c,className:`card-content ${i}`.trim(),...r,children:s}));mx.displayName="CardContent";const gx=wt.forwardRef(({className:i="",children:s,...r},c)=>j.jsx("div",{ref:c,className:`card-footer ${i}`.trim(),...r,children:s}));gx.displayName="CardFooter";const jp=wt.forwardRef(({size:i="md",variant:s="primary",className:r="",...c},h)=>{const p=`spinner-${i}`,f=`spinner-${s}`;return j.jsx("div",{ref:h,className:`spinner ${p} ${f} ${r}`.trim(),role:"status","aria-label":"Loading",...c,children:j.jsx("span",{className:"spinner-sr-only",children:"Loading..."})})});jp.displayName="Spinner";const E1=wt.forwardRef(({tabs:i,defaultValue:s,value:r,onChange:c,className:h="",children:p},f)=>{const[d,l]=Z.useState(s||i[0]?.value||""),o=r!==void 0,u=o?r:d,m=v=>{o||l(v),c?.(v)};return j.jsxs("div",{ref:f,className:`tabs-wrapper ${h}`,children:[j.jsx("div",{className:"tabs-list",role:"tablist",children:i.map(v=>{const _=u===v.value,b=v.disabled;return j.jsxs("button",{type:"button",role:"tab","aria-selected":_,"aria-disabled":b,className:`tab ${_?"tab-active":""}`,onClick:()=>!b&&m(v.value),disabled:b,children:[v.icon&&j.jsx("span",{className:"tab-icon",children:v.icon}),j.jsx("span",{className:"tab-label",children:v.label})]},v.value)})}),j.jsx("div",{className:"tabs-content",children:p?.(u)})]})});E1.displayName="Tabs";const ca=Z.memo(function({icon:s,title:r,description:c,action:h}){return j.jsxs("div",{className:"empty-state",children:[s&&j.jsx("div",{className:"empty-state-icon",children:s}),j.jsx("h3",{className:"empty-state-title",children:r}),j.jsx("p",{className:"empty-state-description",children:c}),h&&j.jsx(ft,{variant:"primary",onClick:h.onClick,children:h.label})]})}),vx=Z.memo(function({onAddServer:s}){return j.jsx(ca,{icon:j.jsx(t1,{size:48}),title:"No servers yet",description:"Add your first MCP server to get started testing tools and capabilities.",action:{label:"Add Server",onClick:s}})}),yx=Z.memo(function(){return j.jsx(ca,{icon:j.jsx(fp,{size:48}),title:"No tools available",description:"This server doesn't expose any tools, or hasn't been connected yet."})});Z.memo(function(){return j.jsx(ca,{icon:j.jsx(dw,{size:48}),title:"No execution history",description:"Tool execution history will appear here once you start testing."})});Z.memo(function({error:s,onRetry:r}){return j.jsx(ca,{icon:j.jsx(WO,{size:48}),title:"Connection failed",description:s,action:r?{label:"Retry Connection",onClick:r}:void 0})});var T1=JO();const _x=Z.memo(function({title:s,message:r,confirmText:c="Confirm",cancelText:h="Cancel",onConfirm:p,onCancel:f,danger:d=!1}){return T1.createPortal(j.jsx("div",{className:"modal-overlay",onClick:f,children:j.jsxs("div",{className:"modal modal-small",onClick:l=>l.stopPropagation(),children:[j.jsx("div",{className:"modal-header",children:j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[j.jsx("span",{style:{fontSize:"24px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),j.jsx("h2",{style:{margin:0,fontSize:"20px"},children:s})]})}),j.jsx("div",{className:"modal-body",children:j.jsx("p",{style:{lineHeight:1.6},children:r})}),j.jsxs("div",{className:"modal-footer",children:[j.jsx(ft,{variant:"secondary",onClick:f,children:h}),j.jsx(ft,{variant:d?"danger":"primary",onClick:p,children:c})]})]})}),document.body)}),bx=Z.memo(function({onAddServer:s,onEditServer:r}){return j.jsxs("div",{className:"server-sidebar",children:[j.jsx("div",{className:"sidebar-actions",children:j.jsxs("button",{type:"button",className:"add-server-btn",onClick:s,children:[j.jsx("span",{className:"btn-icon",children:"+"}),j.jsx("span",{children:"Add Server"})]})}),j.jsx(Ox,{onAddServer:s,onEditServer:r})]})});function Ox({onAddServer:i,onEditServer:s}){const r=Ee(d=>d.servers),c=Ee(d=>d.selectedServerId),h=Ee(d=>d.setSelectedServer),{updateURL:p}=Op(),f=d=>{h(d),p({server:d,tool:null})};return r.length===0?j.jsx(vx,{onAddServer:i}):j.jsx("div",{className:"servers-list",children:r.map(d=>j.jsx(jx,{server:d,isSelected:c===d.id,onClick:()=>f(d.id),onEditServer:s},d.id))})}const jx=Z.memo(function({server:s,isSelected:r,onClick:c,onEditServer:h}){const p=Ee(U=>U.tools[s.id]),f=Ee(U=>U.removeServer),d=Ee(U=>U.updateServer),l=Ee(U=>U.setTools),{connect:o,disconnect:u}=oa(),[m,v]=Z.useState(!1),[_,b]=Z.useState(!1),[A,w]=Z.useState(!1),[O,S]=Z.useState(null),R=Z.useRef(null);Z.useEffect(()=>{if(!s.url){S(null);return}const U=s.auth?.oauthServerMetadata?.logo_uri;a1(s.url,U).then(I=>{S(I)}).catch(I=>{console.warn(`Failed to fetch favicon for ${s.name}:`,I),S(null)})},[s.url,s.name,s.auth?.oauthServerMetadata?.logo_uri]),Z.useEffect(()=>{s.connected&&s.auth?.type==="oauth"&&!s.auth?.oauthServerMetadata&&iC(s.id).then(U=>{U?.logo_uri&&s.auth&&d(s.id,{auth:{...s.auth,oauthServerMetadata:U}})}).catch(U=>{U&&!U.message?.includes("404")&&console.warn("Failed to fetch OAuth metadata:",U)})},[s.connected,s.id,s.auth?.type,s.auth?.oauthServerMetadata,d]),Z.useEffect(()=>{const U=I=>{R.current&&!R.current.contains(I.target)&&v(!1)};if(m)return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[m]);const E=()=>{const U={http:"",sse:"",stdio:""};return j.jsxs("span",{className:"transport-badge","data-transport":s.transport,children:[U[s.transport]," ",s.transport.toUpperCase()]})},H=()=>{if(!s.auth||s.auth.type==="none")return null;const U=s.auth.type,I={headers:"API Key",oauth:"OAuth",oauth_client_credentials:"OAuth Client"},k={headers:"",oauth:"",oauth_client_credentials:""};return j.jsxs("span",{className:"auth-badge","data-auth-type":U,children:[k[U]||""," ",I[U]||"Auth"]})},M=U=>{U.stopPropagation(),v(!m)},x=async U=>{if(U.stopPropagation(),v(!1),!!s.connected){b(!0),$n.info(`Refreshing ${s.name}...`,void 0,1500);try{const{mcpClient:I}=await YS(async()=>{const{mcpClient:B}=await Promise.resolve().then(()=>aC);return{mcpClient:B}},void 0),k=await I.listTools(s.id);l(s.id,k),console.log(` Refreshed tools for ${s.name} - ${k.length} tools`)}catch(I){console.error("Failed to refresh tools:",I);const k=I instanceof Error?I.message:"Unknown error";$n.error(`Failed to refresh ${s.name}`,k)}finally{b(!1)}}},P=async U=>{if(U.stopPropagation(),v(!1),!s.auth)return;const I=s.auth.type;if(I==="oauth"||I==="oauth_client_credentials"){try{await Fy(s.id),console.log(` Cleared OAuth credentials from backend for ${s.name}`)}catch(k){console.error("Failed to clear OAuth tokens from backend:",k)}localStorage.removeItem(`oauth_tokens_${s.id}`),localStorage.removeItem(`oauth_client_${s.id}`),sessionStorage.removeItem(`oauth_verifier_${s.id}`)}s.connected&&await u(s.id),I==="oauth"?d(s.id,{auth:{type:"oauth"}}):I==="oauth_client_credentials"?d(s.id,{auth:{type:"oauth_client_credentials"}}):I==="headers"?d(s.id,{auth:{type:"headers"}}):d(s.id,{auth:void 0})},$=async U=>{if(U.stopPropagation(),v(!1),!s.auth)return;const I=s.auth.type;if(s.connected&&await u(s.id),I==="oauth"||I==="oauth_client_credentials"){try{await Fy(s.id),console.log(` Cleared OAuth tokens from backend for re-authentication: ${s.name}`)}catch(k){console.error("Failed to clear OAuth tokens from backend:",k)}localStorage.removeItem(`oauth_tokens_${s.id}`),sessionStorage.removeItem(`oauth_verifier_${s.id}`),I==="oauth"?(sessionStorage.setItem("oauth_server_id",s.id),console.log(" Starting re-authentication OAuth flow...")):console.log(" Starting re-authentication for client credentials...")}else I==="headers"&&console.log(" Re-authentication for header-based auth (will prompt for new headers on next connect)...");await o(s)},V=async U=>{U.stopPropagation(),v(!1),s.auth?.type==="oauth"&&(localStorage.removeItem(`oauth_tokens_${s.id}`),sessionStorage.removeItem(`oauth_verifier_${s.id}`),sessionStorage.removeItem("oauth_last_redirect"),sessionStorage.setItem("oauth_server_id",s.id),console.log(" Starting fresh OAuth flow...")),await o(s)},G=U=>{U.stopPropagation(),v(!1),h(s)},ee=async U=>{U.stopPropagation(),v(!1),s.connected&&await u(s.id)},X=U=>{U.stopPropagation(),v(!1),w(!0)},q=async()=>{s.connected&&await u(s.id),f(s.id),w(!1)};return j.jsxs("div",{className:`server-item ${r?"active":""}`,onClick:c,children:[j.jsxs("div",{className:"server-header",children:[O?j.jsxs("div",{className:"server-favicon-container",children:[j.jsx("img",{src:O,alt:`${s.name} favicon`,className:"server-favicon"}),j.jsx("div",{className:`favicon-status-dot ${s.connected?"connected":"disconnected"}`,title:s.error||(s.connected?"Connected":"Disconnected")})]}):j.jsx("div",{className:`status-dot ${s.connected?"connected":"disconnected"}`,title:s.error||(s.connected?"Connected":"Disconnected")}),j.jsx("span",{className:"server-name",children:s.name}),j.jsx("span",{className:"tool-count",children:p?.length||0})]}),j.jsxs("div",{className:"server-footer",children:[j.jsxs("div",{className:"server-meta",children:[E(),H()]}),j.jsxs("div",{className:"server-actions",ref:R,children:[j.jsx("button",{type:"button",className:"action-btn menu-btn",onClick:M,title:"Server actions",children:j.jsx(mw,{size:14})}),m&&j.jsxs("div",{className:"dropdown-menu",children:[s.connected?j.jsxs("button",{type:"button",className:"dropdown-item",onClick:x,disabled:_,children:[j.jsx(Uh,{size:14,className:_?"spinning":""}),j.jsx("span",{children:"Refresh Tools"})]}):j.jsxs("button",{type:"button",className:"dropdown-item",onClick:V,children:[j.jsx(Uh,{size:14}),j.jsx("span",{children:"Connect"})]}),s.auth&&s.auth.type!=="none"&&j.jsxs(j.Fragment,{children:[j.jsxs("button",{type:"button",className:"dropdown-item",onClick:$,disabled:!s.connected,children:[j.jsx(e1,{size:14}),j.jsx("span",{children:"Re-authenticate"})]}),j.jsxs("button",{type:"button",className:"dropdown-item",onClick:P,children:[j.jsx(Uy,{size:14}),j.jsx("span",{children:"Clear Auth"})]})]}),s.connected&&j.jsxs("button",{type:"button",className:"dropdown-item",onClick:ee,children:[j.jsx(Uy,{size:14}),j.jsx("span",{children:"Disconnect"})]}),j.jsx("div",{className:"dropdown-divider"}),j.jsxs("button",{type:"button",className:"dropdown-item",onClick:G,children:[j.jsx(dp,{size:14}),j.jsx("span",{children:"Edit Server"})]}),j.jsxs("button",{type:"button",className:"dropdown-item danger",onClick:X,children:[j.jsx(n1,{size:14}),j.jsx("span",{children:"Delete Server"})]})]})]})]}),A&&j.jsx(_x,{title:"Delete Server",message:`Delete "${s.name}"? This will remove all cached tools and disconnect the server.`,confirmText:"Delete",cancelText:"Cancel",onConfirm:q,onCancel:()=>w(!1),danger:!0})]})}),Ax=Z.memo(function(){const s=Ee(b=>b.selectedServerId),r=Ee(b=>b.tools),c=Ee(b=>b.selectedToolName),h=Ee(b=>b.setSelectedTool),p=Ee(b=>b.searchQuery),f=Ee(b=>b.setSearchQuery),d=Ee(b=>b.executingTools),{updateURL:l}=Op(),o=Xc(b=>b.getToolParameters),u=Z.useCallback(b=>{h(b),l({tool:b})},[h,l]),m=Z.useCallback(b=>{f(b),l({search:b||null},!0)},[f,l]),v=Z.useMemo(()=>s?r[s]||[]:[],[s,r]),_=Z.useMemo(()=>p?v.filter(b=>b.name.toLowerCase().includes(p.toLowerCase())||b.description.toLowerCase().includes(p.toLowerCase())):v,[v,p]);return s?v.length===0?j.jsx("div",{className:"tools-sidebar",children:j.jsx(yx,{})}):j.jsxs("div",{className:"tools-sidebar",children:[j.jsx("div",{className:"tools-search",children:j.jsx("input",{type:"text",className:"search-box",placeholder:`Search ${v.length} tools...`,value:p,onChange:b=>m(b.target.value)})}),j.jsx("div",{className:"tools-list",children:_.length===0?j.jsx("div",{className:"no-results",children:j.jsxs("p",{children:['No tools match "',p,'"']})}):_.map(b=>{const A=s?o(s,b.name):void 0,w=s?`${s}:${b.name}`:b.name,O=d.includes(w);return j.jsxs("div",{className:`tool-item ${c===b.name?"active":""} ${O?"executing":""}`,onClick:()=>u(b.name),children:[j.jsxs("div",{className:"tool-name",children:[O&&j.jsx("span",{className:"tool-pulse"}),b.name,A&&j.jsx("span",{className:"tool-has-params-dot",title:"Has saved parameters"})]}),j.jsx("div",{className:"tool-description",children:b.description})]},b.name)})})]}):j.jsx("div",{className:"tools-sidebar",children:j.jsx(ca,{icon:j.jsx(t1,{size:48}),title:"No server selected",description:"Select a server from the left to view its tools."})})}),I1="hoot-";function Sx(i,s){try{const r=localStorage.getItem(`${I1}${i}`);if(r===null)return s;try{return JSON.parse(r)}catch{return r}}catch(r){return console.warn(`Failed to read preference "${i}":`,r),s}}function wx(i,s){try{const r=typeof s=="string"?s:JSON.stringify(s);localStorage.setItem(`${I1}${i}`,r)}catch(r){console.error(`Failed to save preference "${i}":`,r)}}function Cx(){const[i,s]=Z.useState(()=>Sx("input-mode","form")),r=c=>{s(c),wx("input-mode",c)};return Z.useEffect(()=>{const c=h=>{if(h.key==="hoot-input-mode"&&h.newValue)try{const p=JSON.parse(h.newValue);s(p)}catch{}};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[]),{inputMode:i,setInputMode:r}}const Rx=Z.memo(function({content:s,label:r="Copy",size:c="md"}){const[h,p]=Z.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(s),p(!0),setTimeout(()=>{p(!1)},2e3)}catch(d){console.error("Failed to copy:",d),$n.error("Failed to copy","Clipboard access denied")}};return j.jsxs("button",{type:"button",className:`copy-btn copy-btn-${c}`,onClick:f,title:r,"aria-label":r,children:[h?j.jsx(Vc,{size:c==="sm"?14:16}):j.jsx(Kc,{size:c==="sm"?14:16}),c==="md"&&j.jsx("span",{children:h?"Copied!":"Copy"})]})});function Qh(i){let s=i.trim(),r=0;const c=5;for(;r<c;)try{const h=JSON.parse(s);if(typeof h=="string"&&(h.startsWith("{")||h.startsWith("["))){s=h,r++;continue}return h}catch{return s}return s}function xx(i){if(Array.isArray(i)){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&"type"in i[0]&&i[0].type==="text"&&"text"in i[0]){const s=i[0].text,r=Qh(s);return r}if(i.length>0&&i.every(s=>typeof s=="object"&&s!==null&&"type"in s&&"text"in s)){const s=i.map(r=>{const c=r.text;return Qh(c)});return s.length===1?s[0]:s}}return i}function Wh({value:i,indent:s}){const[r,c]=Z.useState(!1),h="  ".repeat(s);if(i===null)return j.jsx("span",{className:"json-null",children:"null"});if(typeof i=="boolean")return j.jsx("span",{className:"json-boolean",children:String(i)});if(typeof i=="number")return j.jsx("span",{className:"json-number",children:String(i)});if(typeof i=="string")return j.jsxs("span",{className:"json-string",children:['"',i,'"']});if(Array.isArray(i))return i.length===0?j.jsx("span",{className:"json-bracket",children:"[]"}):j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"json-collapse-toggle",onClick:()=>c(!r),title:r?"Expand":"Collapse",children:r?j.jsx(Dy,{size:12}):j.jsx($y,{size:12})}),j.jsx("span",{className:"json-bracket",children:"["}),!r&&j.jsxs(j.Fragment,{children:[j.jsx("span",{children:`
`}),i.map((p,f)=>j.jsxs("span",{children:[j.jsxs("span",{children:[h,"  "]}),j.jsx(Wh,{value:p,indent:s+1}),f<i.length-1&&j.jsx("span",{className:"json-punctuation",children:","}),j.jsx("span",{children:`
`})]},f)),j.jsx("span",{children:h})]}),r&&j.jsx("span",{className:"json-ellipsis",children:"..."}),j.jsx("span",{className:"json-bracket",children:"]"})]});if(typeof i=="object"){const p=Object.entries(i);return p.length===0?j.jsx("span",{className:"json-bracket",children:"{}"}):j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"json-collapse-toggle",onClick:()=>c(!r),title:r?"Expand":"Collapse",children:r?j.jsx(Dy,{size:12}):j.jsx($y,{size:12})}),j.jsx("span",{className:"json-bracket",children:"{"}),!r&&j.jsxs(j.Fragment,{children:[j.jsx("span",{children:`
`}),p.map(([f,d],l)=>j.jsxs("span",{children:[j.jsxs("span",{children:[h,"  "]}),j.jsxs("span",{className:"json-key",children:['"',f,'"']}),j.jsx("span",{className:"json-punctuation",children:": "}),j.jsx(Wh,{value:d,indent:s+1}),l<p.length-1&&j.jsx("span",{className:"json-punctuation",children:","}),j.jsx("span",{children:`
`})]},f)),j.jsx("span",{children:h})]}),r&&j.jsx("span",{className:"json-ellipsis",children:"..."}),j.jsx("span",{className:"json-bracket",children:"}"})]})}return j.jsx("span",{children:String(i)})}const Zc=Z.memo(function({content:s,className:r="",preserveQuotes:c=!1}){const h=Z.useMemo(()=>{let p=Qh(s);if(p=xx(p),typeof p=="string"){let f=p;return!c&&f.startsWith('"')&&f.endsWith('"')&&f.length>1&&(f=f.slice(1,-1)),j.jsx("span",{children:f})}return j.jsx(Wh,{value:p,indent:0})},[s,c]);return j.jsx("pre",{className:`json-viewer ${r}`,children:h})});function Ex(i){const s=[];let r=0;const c=[{regex:/"[^"\\]*(?:\\.[^"\\]*)*"(?=\s*:)/g,className:"json-key"},{regex:/"[^"\\]*(?:\\.[^"\\]*)*"/g,className:"json-string"},{regex:/\b(-?\d+\.?\d*([eE][+-]?\d+)?)\b/g,className:"json-number"},{regex:/\b(true|false)\b/g,className:"json-boolean"},{regex:/\bnull\b/g,className:"json-null"},{regex:/[{}[\]]/g,className:"json-bracket"},{regex:/[:,]/g,className:"json-punctuation"}];let h=0;const p=[];c.forEach(l=>{const o=new RegExp(l.regex.source,"g");let u;for(;(u=o.exec(i))!==null;)p.push({start:u.index,end:u.index+u[0].length,className:l.className})}),p.sort((l,o)=>l.start-o.start);const f=[];let d=-1;return p.forEach(l=>{l.start>=d&&(f.push(l),d=l.end)}),f.forEach(l=>{h<l.start&&s.push(j.jsx("span",{children:i.slice(h,l.start)},r++)),s.push(j.jsx("span",{className:l.className,children:i.slice(l.start,l.end)},r++)),h=l.end}),h<i.length&&s.push(j.jsx("span",{children:i.slice(h)},r++)),s}const Tx=Z.memo(function({value:s,onChange:r,placeholder:c,className:h=""}){const p=Z.useRef(null),f=Z.useRef(null),[d,l]=Z.useState(0),[o,u]=Z.useState(0),m=()=>{p.current&&(l(p.current.scrollTop),u(p.current.scrollLeft))};Z.useEffect(()=>{f.current&&(f.current.scrollTop=d,f.current.scrollLeft=o)},[d,o]);const v=s?Ex(s):null;return j.jsxs("div",{className:`json-editor-wrapper ${h}`,children:[j.jsx("div",{ref:f,className:"json-editor-highlight","aria-hidden":"true",children:j.jsx("pre",{children:v})}),j.jsx("textarea",{ref:p,className:"json-editor-input",value:s,onChange:_=>r(_.target.value),onScroll:m,placeholder:c,spellCheck:!1})]})}),dn=new Map,Ix=Z.memo(function(){const s=Ee(f=>f.selectedServerId),r=Ee(f=>f.selectedToolName),c=Ee(f=>f.tools),p=Z.useMemo(()=>s?c[s]||[]:[],[s,c]).find(f=>f.name===r);return p?j.jsx(Mx,{tool:p,serverId:s}):j.jsx(Hx,{})});function Hx(){return j.jsx("div",{className:"main-area",children:j.jsx(ca,{icon:j.jsx(fp,{size:48}),title:"No tool selected",description:"Select a tool from the sidebar to test its functionality and view results."})})}function Mx({tool:i,serverId:s}){const{inputMode:r,setInputMode:c}=Cx(),h=Ee(X=>X.setToolExecuting),p=`${s}:${i.name}`;dn.has(p)||dn.set(p,{result:null,resultTab:"response",elapsedTime:0,isExecuting:!1,abortController:null});const[,f]=Z.useState({}),d=dn.get(p),l=Z.useCallback(X=>{const q={...dn.get(p),...X};dn.set(p,q),f({})},[p]),[o,u]=Z.useState(!1),[m,v]=Z.useState(!0),_=Z.useRef(null),{execute:b}=cx(),A=Xc(X=>X.getToolParameters),w=Xc(X=>X.saveToolParameters),O=Xc(X=>X.recordToolExecution);Z.useEffect(()=>{_.current&&i.description?requestAnimationFrame(()=>{if(_.current){const X=_.current.scrollHeight>_.current.clientHeight;v(X)}}):v(!1)},[i.description]);const S=Z.useMemo(()=>{const X=i.inputSchema.properties||{},q={};return Object.entries(X).forEach(([U,I])=>{I.default!==void 0?q[U]=I.default:I.type==="string"?q[U]="":I.type==="number"||I.type==="integer"?q[U]=void 0:I.type==="boolean"?q[U]=!1:I.type==="array"?q[U]=[]:I.type==="object"&&(q[U]={})}),q},[i.inputSchema]),R=Z.useMemo(()=>{const X=A(s,i.name);return X?{...S,...X}:S},[s,i.name,S,A]),[E,H]=Z.useState(R),[M,x]=Z.useState(""),[P,$]=Z.useState("");Z.useEffect(()=>{const X=A(s,i.name),q=X?{...S,...X}:S;H(q),x(""),$(""),u(!1),f({})},[i.name,s,p,S,A,f]),Z.useEffect(()=>{if(Object.entries(E).some(([,q])=>!(q==null||q===""||typeof q=="boolean"&&q===!1||Array.isArray(q)&&q.length===0||typeof q=="object"&&!Array.isArray(q)&&Object.keys(q).length===0))){const q=setTimeout(()=>{w(s,i.name,E)},500);return()=>clearTimeout(q)}},[E,s,i.name,w]),Z.useEffect(()=>{r==="json"&&x(JSON.stringify(E,null,2))},[r,E]);const V=X=>{x(X),$("");try{const q=JSON.parse(X);H(q)}catch(q){$(q instanceof Error?q.message:"Invalid JSON")}},G=Z.useCallback(async()=>{try{if(r==="json"&&P){l({result:{success:!1,time:0,error:`Invalid JSON: ${P}`,timestamp:new Date},isExecuting:!1});return}const X=Object.fromEntries(Object.entries(E).filter(([ce,N])=>N!==void 0)),q=new AbortController,U=p,I=s,k=i.name;dn.set(U,{...dn.get(U),elapsedTime:0,isExecuting:!0,abortController:q,result:null}),f({}),h(I,k,!0);const B=Date.now(),ue=setInterval(()=>{const ce=dn.get(U);ce&&ce.isExecuting&&(dn.set(U,{...ce,elapsedTime:Date.now()-B}),p===U&&f({}))},10);try{const ce=await b(I,k,X);q.signal.aborted||(dn.set(U,{...dn.get(U),result:ce,isExecuting:!1,abortController:null}),p===U&&f({}),ce.success&&O(I,k))}catch(ce){const N={success:!1,time:Date.now()-B,error:ce instanceof Error?ce.message:"Execution failed",timestamp:new Date};dn.set(U,{...dn.get(U),result:N,isExecuting:!1,abortController:null}),p===U&&f({})}finally{clearInterval(ue),h(I,k,!1)}}catch(X){console.error("Execution error:",X),l({result:{success:!1,time:0,error:X instanceof Error?X.message:"Execution failed",timestamp:new Date},isExecuting:!1,abortController:null}),h(s,i.name,!1)}},[r,P,E,p,s,i.name,b,h,O,l,f]),ee=Z.useCallback(()=>{const X=dn.get(p);X.abortController&&(X.abortController.abort(),l({result:{success:!1,time:X.elapsedTime,error:"Execution cancelled by user",timestamp:new Date},isExecuting:!1,abortController:null}),h(s,i.name,!1))},[p,s,i.name,h,l]);return j.jsxs("div",{className:"main-area",children:[j.jsxs("div",{className:"main-header",children:[j.jsx("h2",{children:i.name}),j.jsxs("div",{className:"description-container",children:[j.jsx("p",{ref:_,className:`main-tool-description ${!o&&m?"collapsed":""}`,children:i.description}),m&&j.jsx("button",{type:"button",className:"description-toggle",onClick:()=>u(!o),children:o?"Show less":"+ Show more"})]})]}),j.jsxs("div",{className:"content-area",children:[j.jsxs("section",{className:"input-section",children:[j.jsx("div",{className:"section-title",children:"Input Parameters"}),j.jsxs("div",{className:"input-form-container",children:[j.jsx(Ci,{value:r,onChange:X=>c(X),options:[{value:"form",label:"Form"},{value:"json",label:"JSON"}]}),r==="form"?j.jsx(Nx,{schema:i.inputSchema,values:E,onChange:H}):j.jsxs(j.Fragment,{children:[j.jsx(Tx,{value:M,onChange:V,placeholder:"Enter JSON input..."}),P&&j.jsxs("div",{className:"json-error",children:[" JSON Error: ",P]})]}),j.jsx("button",{type:"button",className:`execute-btn ${d.isExecuting?"executing":""}`,onClick:d.isExecuting?ee:G,children:d.isExecuting?j.jsxs(j.Fragment,{children:[j.jsx("span",{children:"Executing"}),j.jsxs("span",{className:"execute-timer",children:[d.elapsedTime,"ms"]}),j.jsx("span",{className:"execute-cancel-hint",children:"(click to cancel)"})]}):"Execute Tool"})]})]}),d.result&&j.jsx(kx,{result:d.result,resultTab:d.resultTab,setResultTab:X=>l({resultTab:X}),toolName:i.name,input:E})]})]})}const Nx=Z.memo(function({schema:s,values:r,onChange:c}){const h=s.properties||{},p=s.required||[],f=(l,o,u)=>{let m=u;if(o.type==="number"||o.type==="integer")m=u===""?void 0:Number(u);else if(o.type==="boolean")m=u;else if(o.type==="array"||o.type==="object")try{m=u===""?o.type==="array"?[]:{}:JSON.parse(u)}catch{m=u}c({...r,[l]:m})},d=(l,o)=>{const u=r[l];return u==null?"":o.type==="array"||o.type==="object"?JSON.stringify(u):String(u)};return j.jsx("div",{className:"form-fields",children:Object.entries(h).map(([l,o])=>o.type==="boolean"?j.jsx("div",{className:"form-field",children:j.jsx(R1,{label:j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"param-name",title:o.description,children:l}),p.includes(l)&&j.jsx("span",{className:"required",children:"*"})]}),checked:!!r[l],onChange:u=>f(l,o,u.target.checked)})},l):o.type==="array"||o.type==="object"?j.jsx(C1,{label:j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"param-name",title:o.description,children:l}),p.includes(l)&&j.jsx("span",{className:"required",children:"*"}),j.jsxs("span",{className:"field-type",children:["(",o.type,")"]})]}),placeholder:o.description||`Enter JSON ${o.type}...`,value:d(l,o),onChange:u=>f(l,o,u.target.value),rows:3},l):j.jsx(Je,{label:j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"param-name",title:o.description,children:l}),p.includes(l)&&j.jsx("span",{className:"required",children:"*"}),(o.type==="number"||o.type==="integer")&&j.jsxs("span",{className:"field-type",children:["(",o.type,")"]})]}),type:o.type==="number"||o.type==="integer"?"number":"text",placeholder:o.description||`Enter ${l}...`,value:d(l,o),onChange:u=>f(l,o,u.target.value),step:o.type==="number"?"any":void 0},l))})});function kx({result:i,resultTab:s,setResultTab:r,toolName:c,input:h}){const p=Z.useMemo(()=>{switch(s){case"response":return!i.success&&i.error?i.error:JSON.stringify(i.data,null,2);case"raw":return JSON.stringify(i,null,2);case"request":return JSON.stringify({tool:c,input:h},null,2);default:return""}},[s,i,c,h]);return j.jsxs("section",{className:"result-section animate-fade-in",children:[j.jsxs("div",{className:`result-header ${i.success?"":"error"}`,children:[j.jsxs("div",{className:"result-header-left",children:[j.jsx("span",{className:`result-status ${i.success?"":"error"}`,children:i.success?" Success":" Error"}),j.jsxs("span",{className:"result-time",children:["(",i.time,"ms)"]})]}),j.jsx(Rx,{content:p,label:`Copy ${s}`,size:"sm"})]}),j.jsxs("div",{className:"result-tabs",children:[j.jsx("button",{className:`result-tab ${s==="response"?"active":""}`,onClick:()=>r("response"),children:"Response"}),j.jsx("button",{className:`result-tab ${s==="raw"?"active":""}`,onClick:()=>r("raw"),children:"Raw JSON"}),j.jsx("button",{className:`result-tab ${s==="request"?"active":""}`,onClick:()=>r("request"),children:"Request"})]}),j.jsx(Zc,{content:p,className:"result-content",preserveQuotes:s==="raw"})]})}function Px({onClose:i,onSave:s,currentApiKey:r}){const[c,h]=Z.useState(r||""),[p,f]=Z.useState("llm"),d=Ee(E=>E.toolFilterEnabled),l=Ee(E=>E.toolFilterConfig),o=Ee(E=>E.setToolFilterEnabled),u=Ee(E=>E.updateToolFilterConfig),[m,v]=Z.useState(d),[_,b]=Z.useState(l.topK.toString()),[A,w]=Z.useState(l.minScore.toString());Z.useEffect(()=>{const E=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{E?document.body.style.overflow=E:document.body.style.removeProperty("overflow")}},[]);const O=()=>{if(!c.trim()){alert("Please enter a valid Portkey API key");return}s(c.trim()),o(m),u({topK:parseInt(_),minScore:parseFloat(A)}),i()},S=[{value:"10",label:"Aggressive"},{value:"20",label:"Moderate"},{value:"30",label:"Balanced"},{value:"50",label:"Conservative"}],R=[{value:"0.20",label:"Relaxed"},{value:"0.30",label:"Standard"},{value:"0.40",label:"Strict"},{value:"0.50",label:"Very Strict"}];return j.jsx("div",{className:"modal-overlay",onClick:i,children:j.jsxs("div",{className:"modal llm-settings-modal",onClick:E=>E.stopPropagation(),children:[j.jsxs("div",{className:"modal-header",children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[j.jsx(dp,{size:24,style:{color:"var(--theme-accent-primary)"}}),j.jsx("h2",{style:{margin:0},children:"Settings"})]}),j.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"14px",fontWeight:400,marginTop:"4px",marginBottom:"24px"},children:"Configure Portkey API Key and Semantic Filtering"})]}),j.jsx("div",{className:"modal-body",children:j.jsx(E1,{tabs:[{value:"llm",label:"LLM Settings",icon:j.jsx(e1,{size:16})},{value:"filtering",label:"Tool Filtering",icon:j.jsx(xu,{size:16})}],value:p,onChange:f,children:E=>E==="llm"?j.jsxs("div",{className:"tab-content-wrapper",children:[j.jsx("div",{className:"form-section",children:j.jsx(w1,{label:"Portkey API Key",value:c,onChange:H=>h(H.target.value),placeholder:"sk-...",helperText:"Get your free API key at portkey.ai",autoFocus:!0,required:!0})}),j.jsx("div",{className:"info-section",children:j.jsxs("div",{className:"info-box",children:[j.jsx("div",{className:"info-box-header",children:" What is Portkey?"}),j.jsx("p",{children:"Portkey is an LLM gateway providing observability, caching, and reliability. Hoot uses it to connect to GPT-4o for the AI chat interface."}),j.jsxs("p",{style:{marginTop:"8px",fontSize:"12px"},children:[j.jsx("strong",{children:"Model:"})," GPT-4o ",j.jsx("strong",{children:"Storage:"})," Browser localStorage ",j.jsx("strong",{children:"Security:"})," Never leaves your machine"]})]})})]}):E==="filtering"?j.jsxs("div",{className:"tab-content-wrapper",children:[j.jsx("div",{className:"info-section",style:{marginBottom:"0",marginTop:0},children:j.jsxs("div",{className:"info-box",children:[j.jsx("div",{className:"info-box-header",children:" How It Works"}),j.jsx("p",{children:"Semantic filtering ranks tools by relevance using sentence embeddings. Only top-ranked tools are sent to the LLM, reducing token usage while maintaining accuracy."})]})}),j.jsxs("div",{className:"form-section",children:[j.jsx("div",{className:"form-group",children:j.jsx(x1,{label:"Enable Semantic Filtering",checked:m,onChange:H=>v(H.target.checked),helperText:"Automatically select relevant tools based on conversation context"})}),m&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"form-group",children:j.jsx(Ci,{label:"Filter Strength",options:S,value:_,onChange:b,helperText:"How many tools to include after filtering"})}),j.jsx("div",{className:"form-group",children:j.jsx(Ci,{label:"Match Sensitivity",options:R,value:A,onChange:w,helperText:"How closely tools must match your query"})})]})]}),!m&&j.jsx("div",{className:"info-section",children:j.jsxs("div",{className:"info-box warning-box",children:[j.jsx("div",{className:"info-box-header",children:" Warning"}),j.jsx("p",{children:"All tools will be sent to the LLM. May exceed OpenAI's 128 tool limit for large toolsets."})]})})]}):null})}),j.jsxs("div",{className:"modal-footer",children:[j.jsx(ft,{variant:"secondary",onClick:i,children:"Cancel"}),j.jsx(ft,{variant:"primary",onClick:O,disabled:!c.trim(),children:"Save Configuration"})]})]})})}var Hs={},_h={},Ms={},so={},n_;function Be(){if(n_)return so;n_=1,Object.defineProperty(so,"__esModule",{value:!0}),so.ApiResource=void 0;class i{constructor(r){this.client=r,this.post=r._post.bind(r),this.put=r._put.bind(r),this.getMethod=r._get.bind(r),this.deleteMethod=r._delete.bind(r)}}return so.ApiResource=i,so}var bh={},s_;function nn(){return s_||(s_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.AUDIO_FILE_DURATION_HEADER=i.GUARDRAILS_API=i.PROVIDERS_API=i.INTEGRATIONS_API=i.COLLECTIONS_API=i.LABELS_API=i.PROMPT_PARTIALS_API=i.PROMPTS_API=i.LOGS_API=i.EMBEDDINGS_API=i.FEEDBACK_API=i.PROMPT_API=i.TEXT_COMPLETE_API=i.CHAT_COMPLETE_API=i.OPEN_AI_API_KEY=i.PORTKEY_PROXY_ENV=i.PORTKEY_API_KEY_ENV=i.PORTKEY_GATEWAY_URL=i.LOCAL_BASE_URL=i.PORTKEY_BASE_URL=i.PORTKEY_HEADER_PREFIX=i.DEFAULT_TIMEOUT=i.DEFAULT_MAX_RETRIES=i.CUSTOM_HOST_CONNECTION_ERROR=i.LOCALHOST_CONNECTION_ERROR=i.INVALID_PORTKEY_MODE=i.MISSING_MODE_MESSAGE=i.MISSING_CONFIG_MESSAGE=i.MISSING_BASE_URL=i.MISSING_API_KEY_ERROR_MESSAGE=void 0,i.MISSING_API_KEY_ERROR_MESSAGE=`Portkey API Key Not Found
Resolution: 
1. Get your Portkey API key from https://app.portkey.ai/api-keys 
2. Pass it while instantiating the Portkey client with apiKey param, or set it as an environment variable with export PORTKEY_API_KEY=YOUR_API_KEY
`,i.MISSING_BASE_URL=`No Base url provided. Please provide a valid base url.
For example: https://api.portkey.ai
`,i.MISSING_CONFIG_MESSAGE="The 'config' parameter is not set. Please provide a valid Config object",i.MISSING_MODE_MESSAGE="The 'mode' parameter is not set. Please provide a valid mode literal.",i.INVALID_PORTKEY_MODE=`Argument of type '{}' cannot be assigned to parameter "mode" of type "ModesLiteral | Modes | None"
`,i.LOCALHOST_CONNECTION_ERROR="Could not instantiate the Portkey client. You can either add a valid 'apiKey' parameter (from https://app.portkey.ai/api-keys) or set the 'baseURL' parameter to your AI Gateway's instance's URL.",i.CUSTOM_HOST_CONNECTION_ERROR="We could not connect to the AI Gateway's instance. Please check the 'baseURL' parameter in the Portkey client.",i.DEFAULT_MAX_RETRIES=2,i.DEFAULT_TIMEOUT=60,i.PORTKEY_HEADER_PREFIX="x-portkey-",i.PORTKEY_BASE_URL="https://api.portkey.ai/v1",i.LOCAL_BASE_URL="http://localhost:8787/v1",i.PORTKEY_GATEWAY_URL=i.PORTKEY_BASE_URL,i.PORTKEY_API_KEY_ENV="PORTKEY_API_KEY",i.PORTKEY_PROXY_ENV="PORTKEY_PROXY",i.OPEN_AI_API_KEY="DUMMY-KEY",i.CHAT_COMPLETE_API="/chat/completions",i.TEXT_COMPLETE_API="/completions",i.PROMPT_API="/prompt/complete",i.FEEDBACK_API="/feedback",i.EMBEDDINGS_API="/embeddings",i.LOGS_API="/logs",i.PROMPTS_API="/prompts",i.PROMPT_PARTIALS_API="/prompts/partials",i.LABELS_API="/labels",i.COLLECTIONS_API="/collections",i.INTEGRATIONS_API="/integrations",i.PROVIDERS_API="/providers",i.GUARDRAILS_API="/guardrails",i.AUDIO_FILE_DURATION_HEADER="audio-file-duration"})(bh)),bh}var Ki={},Gt={},pt={},i_;function H1(){if(i_)return pt;i_=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.InternalServerError=pt.RateLimitError=pt.UnprocessableEntityError=pt.ConflictError=pt.NotFoundError=pt.PermissionDeniedError=pt.AuthenticationError=pt.BadRequestError=pt.APIConnectionTimeoutError=pt.APIConnectionError=pt.APIUserAbortError=pt.APIError=void 0;const i=ke();class s extends Error{constructor(b,A,w,O){super(s.makeMessage(A,w)),this.status=b,this.headers=O,this.error=A}static makeMessage(b,A){return b?.message?typeof b.message=="string"?b.message:JSON.stringify(b.message):b?JSON.stringify(b):A||"Unknown error occurred"}static generate(b,A,w,O){if(!b)return new c({cause:(0,i.castToError)(A)});const S=A;return b===400?new p(b,S,w,O):b===401?new f(b,S,w,O):b===403?new d(b,S,w,O):b===404?new l(b,S,w,O):b===409?new o(b,S,w,O):b===422?new u(b,S,w,O):b===429?new m(b,S,w,O):b>=500?new v(b,S,w,O):new s(b,S,w,O)}}pt.APIError=s;class r extends s{constructor({message:b}={}){super(void 0,void 0,b||"Request was aborted.",void 0),this.status=void 0}}pt.APIUserAbortError=r;class c extends s{constructor({message:b,cause:A}){const w=`Could not instantiate the Portkey client. 
    You can either add a valid 'apiKey' parameter (from https://app.portkey.ai/api-keys)
    or check the 'baseURL' parameter in the Portkey client,
    for your AI Gateway's instance's URL. 
    CAUSE: ${A}     
    MESSAGE: ${b}`;super(void 0,void 0,b||w,void 0),this.status=void 0,A&&(this.cause=A)}}pt.APIConnectionError=c;class h extends c{constructor({message:b}={}){super({message:b??"Request timed out."})}}pt.APIConnectionTimeoutError=h;class p extends s{constructor(){super(...arguments),this.status=400}}pt.BadRequestError=p;class f extends s{constructor(){super(...arguments),this.status=401}}pt.AuthenticationError=f;class d extends s{constructor(){super(...arguments),this.status=403}}pt.PermissionDeniedError=d;class l extends s{constructor(){super(...arguments),this.status=404}}pt.NotFoundError=l;class o extends s{constructor(){super(...arguments),this.status=409}}pt.ConflictError=o;class u extends s{constructor(){super(...arguments),this.status=422}}pt.UnprocessableEntityError=u;class m extends s{constructor(){super(...arguments),this.status=429}}pt.RateLimitError=m;class v extends s{}return pt.InternalServerError=v,pt}var r_;function M1(){if(r_)return Gt;r_=1;var i=Gt&&Gt.__awaiter||function(v,_,b,A){function w(O){return O instanceof b?O:new b(function(S){S(O)})}return new(b||(b=Promise))(function(O,S){function R(M){try{H(A.next(M))}catch(x){S(x)}}function E(M){try{H(A.throw(M))}catch(x){S(x)}}function H(M){M.done?O(M.value):w(M.value).then(R,E)}H((A=A.apply(v,_||[])).next())})},s=Gt&&Gt.__asyncValues||function(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=v[Symbol.asyncIterator],b;return _?_.call(v):(v=typeof __values=="function"?__values(v):v[Symbol.iterator](),b={},A("next"),A("throw"),A("return"),b[Symbol.asyncIterator]=function(){return this},b);function A(O){b[O]=v[O]&&function(S){return new Promise(function(R,E){S=v[O](S),w(R,E,S.done,S.value)})}}function w(O,S,R,E){Promise.resolve(E).then(function(H){O({value:H,done:R})},S)}},r=Gt&&Gt.__await||function(v){return this instanceof r?(this.v=v,this):new r(v)},c=Gt&&Gt.__asyncGenerator||function(v,_,b){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=b.apply(v,_||[]),w,O=[];return w={},R("next"),R("throw"),R("return",S),w[Symbol.asyncIterator]=function(){return this},w;function S($){return function(V){return Promise.resolve(V).then($,x)}}function R($,V){A[$]&&(w[$]=function(G){return new Promise(function(ee,X){O.push([$,G,ee,X])>1||E($,G)})},V&&(w[$]=V(w[$])))}function E($,V){try{H(A[$](V))}catch(G){P(O[0][3],G)}}function H($){$.value instanceof r?Promise.resolve($.value.v).then(M,x):P(O[0][2],$)}function M($){E("next",$)}function x($){E("throw",$)}function P($,V){$(V),O.shift(),O.length&&E(O[0][0],O[0][1])}};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Stream=Gt.createResponseHeaders=Gt.safeJSON=void 0;const h=H1(),p=v=>{try{return JSON.parse(v)}catch{return}};Gt.safeJSON=p;const f=v=>new Proxy(Object.fromEntries(v.entries()),{get(_,b){const A=b.toString();return _[A.toLowerCase()]||_[A]}});Gt.createResponseHeaders=f;class d{constructor(_){this.response=_,this.decoder=new l}iterMessages(){return c(this,arguments,function*(){var b,A,w,O;if(!this.response.body)throw new Error("Attempted to iterate over a response with no body");const S=new o,R=m(this.response.body);try{for(var E=!0,H=s(R),M;M=yield r(H.next()),b=M.done,!b;E=!0){O=M.value,E=!1;const x=O;for(const P of S.decode(x)){const $=this.decoder.decode(P);$&&(yield yield r($))}}}catch(x){A={error:x}}finally{try{!E&&!b&&(w=H.return)&&(yield r(w.call(H)))}finally{if(A)throw A.error}}for(const x of S.flush()){const P=this.decoder.decode(x);P&&(yield yield r(P))}})}[Symbol.asyncIterator](){return c(this,arguments,function*(){var b,A,w,O;try{try{for(var S=!0,R=s(this.iterMessages()),E;E=yield r(R.next()),b=E.done,!b;S=!0){O=E.value,S=!1;const H=O;if(!H.data.startsWith("[DONE]")){if(H.event===null)try{yield yield r(JSON.parse(H.data))}catch(M){throw console.error("Could not parse message into JSON:",H.data),console.error("From chunk:",H.raw),M}if(H.event!=="ping"&&H.event==="error"){let M;try{M=JSON.parse(H.data)}catch{throw console.error("Could not parse message into JSON:",H.data),console.error("From chunk:",H.raw),new h.APIError(void 0,void 0,"Unknown error",void 0)}throw new h.APIError(void 0,M,M.message,void 0)}}}}catch(H){A={error:H}}finally{try{!S&&!b&&(w=R.return)&&(yield r(w.call(R)))}finally{if(A)throw A.error}}}catch(H){if(H instanceof Error&&H.name==="AbortError")return yield r(void 0);throw H}})}}Gt.Stream=d;class l{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(_){if(_.endsWith("\r")&&(_=_.substring(0,_.length-1)),!_){if(!this.event&&!this.data.length)return null;const O={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],O}if(this.chunks.push(_),_.startsWith(":"))return null;let[b,A,w]=u(_,":");return w.startsWith(" ")&&(w=w.substring(1)),b==="event"?this.event=w:b==="data"&&this.data.push(w),null}}class o{constructor(){this.buffer=[],this.trailingCR=!1}decode(_){let b=this.decodeText(_);if(this.trailingCR&&(b="\r"+b,this.trailingCR=!1),b.endsWith("\r")&&(this.trailingCR=!0,b=b.slice(0,-1)),!b)return[];const A=o.NEWLINE_CHARS.has(b[b.length-1]||"");let w=b.split(o.NEWLINE_REGEXP);return w.length===1&&!A?(this.buffer.push(w[0]),[]):(this.buffer.length>0&&(w=[this.buffer.join("")+w[0],...w.slice(1)],this.buffer=[]),A||(this.buffer=[w.pop()||""]),w)}decodeText(_){var b;if(_==null)return"";if(typeof _=="string")return _;if(typeof Buffer<"u"){if(_ instanceof Buffer)return _.toString();if(_ instanceof Uint8Array)return Buffer.from(_).toString();throw new Error(`Unexpected: received non-Uint8Array (${_.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(_ instanceof Uint8Array||_ instanceof ArrayBuffer)return(b=this.textDecoder)!==null&&b!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(_);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${_.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const _=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,_}}o.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]),o.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function u(v,_){const b=v.indexOf(_);return b!==-1?[v.substring(0,b),_,v.substring(b+_.length)]:[v,"",""]}function m(v){if(v[Symbol.asyncIterator])return v;const _=v.getReader();return{next(){return i(this,void 0,void 0,function*(){try{const b=yield _.read();return b?.done&&_.releaseLock(),b}catch(b){throw _.releaseLock(),b}})},return(){return i(this,void 0,void 0,function*(){const b=_.cancel();return _.releaseLock(),yield b,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}return Gt}var Su={exports:{}},io={},Xn={},a_;function $e(){if(a_)return Xn;a_=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.__setModuleDefault=Xn.__createBinding=void 0,Xn.__classPrivateFieldSet=i,Xn.__classPrivateFieldGet=s,Xn.__exportStar=c,Xn.__importStar=f;function i(d,l,o,u,m){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?d!==l||!m:!l.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?m.call(d,o):m?m.value=o:l.set(d,o),o}function s(d,l,o,u){if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?d!==l||!u:!l.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?u:o==="a"?u.call(d):u?u.value:l.get(d)}var r=Object.create?function(d,l,o,u){u===void 0&&(u=o);var m=Object.getOwnPropertyDescriptor(l,o);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[o]}}),Object.defineProperty(d,u,m)}:function(d,l,o,u){u===void 0&&(u=o),d[u]=l[o]};Xn.__createBinding=r;function c(d,l){for(var o in d)o!=="default"&&!Object.prototype.hasOwnProperty.call(l,o)&&r(l,d,o)}var h=Object.create?function(d,l){Object.defineProperty(d,"default",{enumerable:!0,value:l})}:function(d,l){d.default=l};Xn.__setModuleDefault=h;var p=function(d){return p=Object.getOwnPropertyNames||function(l){var o=[];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[o.length]=u);return o},p(d)};function f(d){if(d&&d.__esModule)return d;var l={};if(d!=null)for(var o=p(d),u=0;u<o.length;u++)o[u]!=="default"&&r(l,d,o[u]);return h(l,d),l}return Xn}var Xr={},o_;function N1(){if(o_)return Xr;o_=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.uuid4=void 0;let i=function(){const{crypto:s}=globalThis;if(s?.randomUUID)return Xr.uuid4=s.randomUUID.bind(s),s.randomUUID();const r=new Uint8Array(1),c=s?()=>s.getRandomValues(r)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,h=>(+h^c()&15>>+h/4).toString(16))};return Xr.uuid4=i,Xr}var Oh={},Xe={},Jr={},c_;function Ap(){if(c_)return Jr;c_=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.castToError=void 0,Jr.isAbortError=i;function i(r){return typeof r=="object"&&r!==null&&("name"in r&&r.name==="AbortError"||"message"in r&&String(r.message).includes("FetchRequestCanceledException"))}const s=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null){try{if(Object.prototype.toString.call(r)==="[object Error]"){const c=new Error(r.message,r.cause?{cause:r.cause}:{});return r.stack&&(c.stack=r.stack),r.cause&&!c.cause&&(c.cause=r.cause),r.name&&(c.name=r.name),c}}catch{}try{return new Error(JSON.stringify(r))}catch{}}return new Error(r)};return Jr.castToError=s,Jr}var l_;function Ys(){if(l_)return Xe;l_=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.InvalidWebhookSignatureError=Xe.ContentFilterFinishReasonError=Xe.LengthFinishReasonError=Xe.InternalServerError=Xe.RateLimitError=Xe.UnprocessableEntityError=Xe.ConflictError=Xe.NotFoundError=Xe.PermissionDeniedError=Xe.AuthenticationError=Xe.BadRequestError=Xe.APIConnectionTimeoutError=Xe.APIConnectionError=Xe.APIUserAbortError=Xe.APIError=Xe.OpenAIError=void 0;const i=Ap();class s extends Error{}Xe.OpenAIError=s;class r extends s{constructor(S,R,E,H){super(`${r.makeMessage(S,R,E)}`),this.status=S,this.headers=H,this.requestID=H?.get("x-request-id"),this.error=R;const M=R;this.code=M?.code,this.param=M?.param,this.type=M?.type}static makeMessage(S,R,E){const H=R?.message?typeof R.message=="string"?R.message:JSON.stringify(R.message):R?JSON.stringify(R):E;return S&&H?`${S} ${H}`:S?`${S} status code (no body)`:H||"(no status code or body)"}static generate(S,R,E,H){if(!S||!H)return new h({message:E,cause:(0,i.castToError)(R)});const M=R?.error;return S===400?new f(S,M,E,H):S===401?new d(S,M,E,H):S===403?new l(S,M,E,H):S===404?new o(S,M,E,H):S===409?new u(S,M,E,H):S===422?new m(S,M,E,H):S===429?new v(S,M,E,H):S>=500?new _(S,M,E,H):new r(S,M,E,H)}}Xe.APIError=r;class c extends r{constructor({message:S}={}){super(void 0,void 0,S||"Request was aborted.",void 0)}}Xe.APIUserAbortError=c;class h extends r{constructor({message:S,cause:R}){super(void 0,void 0,S||"Connection error.",void 0),R&&(this.cause=R)}}Xe.APIConnectionError=h;class p extends h{constructor({message:S}={}){super({message:S??"Request timed out."})}}Xe.APIConnectionTimeoutError=p;class f extends r{}Xe.BadRequestError=f;class d extends r{}Xe.AuthenticationError=d;class l extends r{}Xe.PermissionDeniedError=l;class o extends r{}Xe.NotFoundError=o;class u extends r{}Xe.ConflictError=u;class m extends r{}Xe.UnprocessableEntityError=m;class v extends r{}Xe.RateLimitError=v;class _ extends r{}Xe.InternalServerError=_;class b extends s{constructor(){super("Could not parse response content as the length limit was reached")}}Xe.LengthFinishReasonError=b;class A extends s{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}Xe.ContentFilterFinishReasonError=A;class w extends Error{constructor(S){super(S)}}return Xe.InvalidWebhookSignatureError=w,Xe}var u_;function Ri(){return u_||(u_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.safeJSON=i.maybeCoerceBoolean=i.maybeCoerceFloat=i.maybeCoerceInteger=i.coerceBoolean=i.coerceFloat=i.coerceInteger=i.validatePositiveInteger=i.ensurePresent=i.isReadonlyArray=i.isArray=i.isAbsoluteURL=void 0,i.maybeObj=p,i.isEmptyObj=f,i.hasOwn=d,i.isObj=l;const s=Ys(),r=/^[a-z][a-z0-9+.-]*:/i,c=S=>r.test(S);i.isAbsoluteURL=c;let h=S=>(i.isArray=Array.isArray,(0,i.isArray)(S));i.isArray=h,i.isReadonlyArray=i.isArray;function p(S){return typeof S!="object"?{}:S??{}}function f(S){if(!S)return!0;for(const R in S)return!1;return!0}function d(S,R){return Object.prototype.hasOwnProperty.call(S,R)}function l(S){return S!=null&&typeof S=="object"&&!Array.isArray(S)}const o=S=>{if(S==null)throw new s.OpenAIError(`Expected a value to be given but received ${S} instead.`);return S};i.ensurePresent=o;const u=(S,R)=>{if(typeof R!="number"||!Number.isInteger(R))throw new s.OpenAIError(`${S} must be an integer`);if(R<0)throw new s.OpenAIError(`${S} must be a positive integer`);return R};i.validatePositiveInteger=u;const m=S=>{if(typeof S=="number")return Math.round(S);if(typeof S=="string")return parseInt(S,10);throw new s.OpenAIError(`Could not coerce ${S} (type: ${typeof S}) into a number`)};i.coerceInteger=m;const v=S=>{if(typeof S=="number")return S;if(typeof S=="string")return parseFloat(S);throw new s.OpenAIError(`Could not coerce ${S} (type: ${typeof S}) into a number`)};i.coerceFloat=v;const _=S=>typeof S=="boolean"?S:typeof S=="string"?S==="true":!!S;i.coerceBoolean=_;const b=S=>{if(S!=null)return(0,i.coerceInteger)(S)};i.maybeCoerceInteger=b;const A=S=>{if(S!=null)return(0,i.coerceFloat)(S)};i.maybeCoerceFloat=A;const w=S=>{if(S!=null)return(0,i.coerceBoolean)(S)};i.maybeCoerceBoolean=w;const O=S=>{try{return JSON.parse(S)}catch{return}};i.safeJSON=O})(Oh)),Oh}var ro={},d_;function rl(){if(d_)return ro;d_=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.sleep=void 0;const i=s=>new Promise(r=>setTimeout(r,s));return ro.sleep=i,ro}var Yi={},ao={},f_;function k1(){return f_||(f_=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.VERSION=void 0,ao.VERSION="6.3.0"),ao}var h_;function ep(){if(h_)return Yi;h_=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.getPlatformHeaders=Yi.isRunningInBrowser=void 0;const i=k1(),s=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";Yi.isRunningInBrowser=s;function r(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const c=()=>{const o=r();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":f(Deno.build.os),"X-Stainless-Arch":p(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":f(globalThis.process.platform??"unknown"),"X-Stainless-Arch":p(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const u=h();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function h(){if(typeof navigator>"u"||!navigator)return null;const o=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:u,pattern:m}of o){const v=m.exec(navigator.userAgent);if(v){const _=v[1]||0,b=v[2]||0,A=v[3]||0;return{browser:u,version:`${_}.${b}.${A}`}}}return null}const p=o=>o==="x32"?"x32":o==="x86_64"||o==="x64"?"x64":o==="arm"?"arm":o==="aarch64"||o==="arm64"?"arm64":o?`other:${o}`:"unknown",f=o=>(o=o.toLowerCase(),o.includes("ios")?"iOS":o==="android"?"Android":o==="darwin"?"MacOS":o==="win32"?"Windows":o==="freebsd"?"FreeBSD":o==="openbsd"?"OpenBSD":o==="linux"?"Linux":o?`Other:${o}`:"Unknown");let d;const l=()=>d??(d=c());return Yi.getPlatformHeaders=l,Yi}var bi={},p_;function Du(){if(p_)return bi;p_=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.getDefaultFetch=i,bi.makeReadableStream=s,bi.ReadableStreamFrom=r,bi.ReadableStreamToAsyncIterable=c,bi.CancelReadableStream=h;function i(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function s(...p){const f=globalThis.ReadableStream;if(typeof f>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new f(...p)}function r(p){let f=Symbol.asyncIterator in p?p[Symbol.asyncIterator]():p[Symbol.iterator]();return s({start(){},async pull(d){const{done:l,value:o}=await f.next();l?d.close():d.enqueue(o)},async cancel(){await f.return?.()}})}function c(p){if(p[Symbol.asyncIterator])return p;const f=p.getReader();return{async next(){try{const d=await f.read();return d?.done&&f.releaseLock(),d}catch(d){throw f.releaseLock(),d}},async return(){const d=f.cancel();return f.releaseLock(),await d,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function h(p){if(p===null||typeof p!="object")return;if(p[Symbol.asyncIterator]){await p[Symbol.asyncIterator]().return?.();return}const f=p.getReader(),d=f.cancel();f.releaseLock(),await d}return bi}var oo={},m_;function qx(){if(m_)return oo;m_=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.FallbackEncoder=void 0;const i=({headers:s,body:r})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(r)});return oo.FallbackEncoder=i,oo}var jh={},Ah={},g_;function Sp(){return g_||(g_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.RFC3986=i.RFC1738=i.formatters=i.default_formatter=i.default_format=void 0,i.default_format="RFC3986";const s=r=>String(r);i.default_formatter=s,i.formatters={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:i.default_formatter},i.RFC1738="RFC1738",i.RFC3986="RFC3986"})(Ah)),Ah}var wu={},Sh={},v_;function zx(){return v_||(v_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.encode=i.has=void 0,i.merge=d,i.assign_single_source=l,i.decode=o,i.compact=v,i.is_regexp=_,i.is_buffer=b,i.combine=A,i.maybe_map=w;const s=Sp(),r=Ri();let c=(O,S)=>(i.has=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),(0,i.has)(O,S));i.has=c;const h=(()=>{const O=[];for(let S=0;S<256;++S)O.push("%"+((S<16?"0":"")+S.toString(16)).toUpperCase());return O})();function p(O){for(;O.length>1;){const S=O.pop();if(!S)continue;const R=S.obj[S.prop];if((0,r.isArray)(R)){const E=[];for(let H=0;H<R.length;++H)typeof R[H]<"u"&&E.push(R[H]);S.obj[S.prop]=E}}}function f(O,S){const R=S&&S.plainObjects?Object.create(null):{};for(let E=0;E<O.length;++E)typeof O[E]<"u"&&(R[E]=O[E]);return R}function d(O,S,R={}){if(!S)return O;if(typeof S!="object"){if((0,r.isArray)(O))O.push(S);else if(O&&typeof O=="object")(R&&(R.plainObjects||R.allowPrototypes)||!(0,i.has)(Object.prototype,S))&&(O[S]=!0);else return[O,S];return O}if(!O||typeof O!="object")return[O].concat(S);let E=O;return(0,r.isArray)(O)&&!(0,r.isArray)(S)&&(E=f(O,R)),(0,r.isArray)(O)&&(0,r.isArray)(S)?(S.forEach(function(H,M){if((0,i.has)(O,M)){const x=O[M];x&&typeof x=="object"&&H&&typeof H=="object"?O[M]=d(x,H,R):O.push(H)}else O[M]=H}),O):Object.keys(S).reduce(function(H,M){const x=S[M];return(0,i.has)(H,M)?H[M]=d(H[M],x,R):H[M]=x,H},E)}function l(O,S){return Object.keys(S).reduce(function(R,E){return R[E]=S[E],R},O)}function o(O,S,R){const E=O.replace(/\+/g," ");if(R==="iso-8859-1")return E.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(E)}catch{return E}}const u=1024,m=(O,S,R,E,H)=>{if(O.length===0)return O;let M=O;if(typeof O=="symbol"?M=Symbol.prototype.toString.call(O):typeof O!="string"&&(M=String(O)),R==="iso-8859-1")return escape(M).replace(/%u[0-9a-f]{4}/gi,function(P){return"%26%23"+parseInt(P.slice(2),16)+"%3B"});let x="";for(let P=0;P<M.length;P+=u){const $=M.length>=u?M.slice(P,P+u):M,V=[];for(let G=0;G<$.length;++G){let ee=$.charCodeAt(G);if(ee===45||ee===46||ee===95||ee===126||ee>=48&&ee<=57||ee>=65&&ee<=90||ee>=97&&ee<=122||H===s.RFC1738&&(ee===40||ee===41)){V[V.length]=$.charAt(G);continue}if(ee<128){V[V.length]=h[ee];continue}if(ee<2048){V[V.length]=h[192|ee>>6]+h[128|ee&63];continue}if(ee<55296||ee>=57344){V[V.length]=h[224|ee>>12]+h[128|ee>>6&63]+h[128|ee&63];continue}G+=1,ee=65536+((ee&1023)<<10|$.charCodeAt(G)&1023),V[V.length]=h[240|ee>>18]+h[128|ee>>12&63]+h[128|ee>>6&63]+h[128|ee&63]}x+=V.join("")}return x};i.encode=m;function v(O){const S=[{obj:{o:O},prop:"o"}],R=[];for(let E=0;E<S.length;++E){const H=S[E],M=H.obj[H.prop],x=Object.keys(M);for(let P=0;P<x.length;++P){const $=x[P],V=M[$];typeof V=="object"&&V!==null&&R.indexOf(V)===-1&&(S.push({obj:M,prop:$}),R.push(V))}}return p(S),O}function _(O){return Object.prototype.toString.call(O)==="[object RegExp]"}function b(O){return!O||typeof O!="object"?!1:!!(O.constructor&&O.constructor.isBuffer&&O.constructor.isBuffer(O))}function A(O,S){return[].concat(O,S)}function w(O,S){if((0,r.isArray)(O)){const R=[];for(let E=0;E<O.length;E+=1)R.push(S(O[E]));return R}return S(O)}})(Sh)),Sh}var y_;function $x(){if(y_)return wu;y_=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.stringify=m;const i=zx(),s=Sp(),r=Ri(),c={brackets(v){return String(v)+"[]"},comma:"comma",indices(v,_){return String(v)+"["+_+"]"},repeat(v){return String(v)}},h=function(v,_){Array.prototype.push.apply(v,(0,r.isArray)(_)?_:[_])};let p;const f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:s.default_format,formatter:s.default_formatter,indices:!1,serializeDate(v){return(p??(p=Function.prototype.call.bind(Date.prototype.toISOString)))(v)},skipNulls:!1,strictNullHandling:!1};function d(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"}const l={};function o(v,_,b,A,w,O,S,R,E,H,M,x,P,$,V,G,ee,X){let q=v,U=X,I=0,k=!1;for(;(U=U.get(l))!==void 0&&!k;){const F=U.get(v);if(I+=1,typeof F<"u"){if(F===I)throw new RangeError("Cyclic object value");k=!0}typeof U.get(l)>"u"&&(I=0)}if(typeof H=="function"?q=H(_,q):q instanceof Date?q=P?.(q):b==="comma"&&(0,r.isArray)(q)&&(q=(0,i.maybe_map)(q,function(F){return F instanceof Date?P?.(F):F})),q===null){if(O)return E&&!G?E(_,f.encoder,ee,"key",$):_;q=""}if(d(q)||(0,i.is_buffer)(q)){if(E){const F=G?_:E(_,f.encoder,ee,"key",$);return[V?.(F)+"="+V?.(E(q,f.encoder,ee,"value",$))]}return[V?.(_)+"="+V?.(String(q))]}const B=[];if(typeof q>"u")return B;let ue;if(b==="comma"&&(0,r.isArray)(q))G&&E&&(q=(0,i.maybe_map)(q,E)),ue=[{value:q.length>0?q.join(",")||null:void 0}];else if((0,r.isArray)(H))ue=H;else{const F=Object.keys(q);ue=M?F.sort(M):F}const ce=R?String(_).replace(/\./g,"%2E"):String(_),N=A&&(0,r.isArray)(q)&&q.length===1?ce+"[]":ce;if(w&&(0,r.isArray)(q)&&q.length===0)return N+"[]";for(let F=0;F<ue.length;++F){const le=ue[F],de=typeof le=="object"&&typeof le.value<"u"?le.value:q[le];if(S&&de===null)continue;const re=x&&R?le.replace(/\./g,"%2E"):le,ve=(0,r.isArray)(q)?typeof b=="function"?b(N,re):N:N+(x?"."+re:"["+re+"]");X.set(v,I);const fe=new WeakMap;fe.set(l,X),h(B,o(de,ve,b,A,w,O,S,R,b==="comma"&&G&&(0,r.isArray)(q)?null:E,H,M,x,P,$,V,G,ee,fe))}return B}function u(v=f){if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");const _=v.charset||f.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let b=s.default_format;if(typeof v.format<"u"){if(!(0,i.has)(s.formatters,v.format))throw new TypeError("Unknown format option provided.");b=v.format}const A=s.formatters[b];let w=f.filter;(typeof v.filter=="function"||(0,r.isArray)(v.filter))&&(w=v.filter);let O;if(v.arrayFormat&&v.arrayFormat in c?O=v.arrayFormat:"indices"in v?O=v.indices?"indices":"repeat":O=f.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const S=typeof v.allowDots>"u"?v.encodeDotInKeys?!0:f.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:f.addQueryPrefix,allowDots:S,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:O,charset:_,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?f.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:f.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:f.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:f.encodeValuesOnly,filter:w,format:b,formatter:A,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:f.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:f.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:f.strictNullHandling}}function m(v,_={}){let b=v;const A=u(_);let w,O;typeof A.filter=="function"?(O=A.filter,b=O("",b)):(0,r.isArray)(A.filter)&&(O=A.filter,w=O);const S=[];if(typeof b!="object"||b===null)return"";const R=c[A.arrayFormat],E=R==="comma"&&A.commaRoundTrip;w||(w=Object.keys(b)),A.sort&&w.sort(A.sort);const H=new WeakMap;for(let P=0;P<w.length;++P){const $=w[P];A.skipNulls&&b[$]===null||h(S,o(b[$],$,R,E,A.allowEmptyArrays,A.strictNullHandling,A.skipNulls,A.encodeDotInKeys,A.encode?A.encoder:null,A.filter,A.sort,A.allowDots,A.serializeDate,A.format,A.formatter,A.encodeValuesOnly,A.charset,H))}const M=S.join(A.delimiter);let x=A.addQueryPrefix===!0?"?":"";return A.charsetSentinel&&(A.charset==="iso-8859-1"?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),M.length>0?x+M:""}return wu}var __;function Dx(){return __||(__=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.formats=i.stringify=void 0;const s=Sp(),r={formatters:s.formatters,RFC1738:s.RFC1738,RFC3986:s.RFC3986,default:s.default_format};i.formats=r;var c=$x();Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return c.stringify}})})(jh)),jh}var jn={},co={},Qr={},Wr={},ea={},b_;function wp(){if(b_)return ea;b_=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.concatBytes=i,ea.encodeUTF8=r,ea.decodeUTF8=h;function i(p){let f=0;for(const o of p)f+=o.length;const d=new Uint8Array(f);let l=0;for(const o of p)d.set(o,l),l+=o.length;return d}let s;function r(p){let f;return(s??(f=new globalThis.TextEncoder,s=f.encode.bind(f)))(p)}let c;function h(p){let f;return(c??(f=new globalThis.TextDecoder,c=f.decode.bind(f)))(p)}return ea}var O_;function Ux(){if(O_)return Wr;O_=1;var i,s;Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.LineDecoder=void 0,Wr.findDoubleNewlineIndex=f;const r=$e(),c=wp();class h{constructor(){i.set(this,void 0),s.set(this,void 0),r.__classPrivateFieldSet(this,i,new Uint8Array,"f"),r.__classPrivateFieldSet(this,s,null,"f")}decode(l){if(l==null)return[];const o=l instanceof ArrayBuffer?new Uint8Array(l):typeof l=="string"?(0,c.encodeUTF8)(l):l;r.__classPrivateFieldSet(this,i,(0,c.concatBytes)([r.__classPrivateFieldGet(this,i,"f"),o]),"f");const u=[];let m;for(;(m=p(r.__classPrivateFieldGet(this,i,"f"),r.__classPrivateFieldGet(this,s,"f")))!=null;){if(m.carriage&&r.__classPrivateFieldGet(this,s,"f")==null){r.__classPrivateFieldSet(this,s,m.index,"f");continue}if(r.__classPrivateFieldGet(this,s,"f")!=null&&(m.index!==r.__classPrivateFieldGet(this,s,"f")+1||m.carriage)){u.push((0,c.decodeUTF8)(r.__classPrivateFieldGet(this,i,"f").subarray(0,r.__classPrivateFieldGet(this,s,"f")-1))),r.__classPrivateFieldSet(this,i,r.__classPrivateFieldGet(this,i,"f").subarray(r.__classPrivateFieldGet(this,s,"f")),"f"),r.__classPrivateFieldSet(this,s,null,"f");continue}const v=r.__classPrivateFieldGet(this,s,"f")!==null?m.preceding-1:m.preceding,_=(0,c.decodeUTF8)(r.__classPrivateFieldGet(this,i,"f").subarray(0,v));u.push(_),r.__classPrivateFieldSet(this,i,r.__classPrivateFieldGet(this,i,"f").subarray(m.index),"f"),r.__classPrivateFieldSet(this,s,null,"f")}return u}flush(){return r.__classPrivateFieldGet(this,i,"f").length?this.decode(`
`):[]}}Wr.LineDecoder=h,i=new WeakMap,s=new WeakMap,h.NEWLINE_CHARS=new Set([`
`,"\r"]),h.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function p(d,l){for(let m=l??0;m<d.length;m++){if(d[m]===10)return{preceding:m,index:m+1,carriage:!1};if(d[m]===13)return{preceding:m,index:m+1,carriage:!0}}return null}function f(d){for(let u=0;u<d.length-1;u++){if(d[u]===10&&d[u+1]===10||d[u]===13&&d[u+1]===13)return u+2;if(d[u]===13&&d[u+1]===10&&u+3<d.length&&d[u+2]===13&&d[u+3]===10)return u+4}return-1}return Wr}var Oi={},j_;function Vu(){if(j_)return Oi;j_=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.formatRequestDetails=Oi.parseLogLevel=void 0,Oi.loggerFor=d;const i=Ri(),s={off:0,error:200,warn:300,info:400,debug:500},r=(o,u,m)=>{if(o){if((0,i.hasOwn)(s,o))return o;d(m).warn(`${u} was set to ${JSON.stringify(o)}, expected one of ${JSON.stringify(Object.keys(s))}`)}};Oi.parseLogLevel=r;function c(){}function h(o,u,m){return!u||s[o]>s[m]?c:u[o].bind(u)}const p={error:c,warn:c,info:c,debug:c};let f=new WeakMap;function d(o){const u=o.logger,m=o.logLevel??"off";if(!u)return p;const v=f.get(u);if(v&&v[0]===m)return v[1];const _={error:h("error",u,m),warn:h("warn",u,m),info:h("info",u,m),debug:h("debug",u,m)};return f.set(u,[m,_]),_}const l=o=>(o.options&&(o.options={...o.options},delete o.options.headers),o.headers&&(o.headers=Object.fromEntries((o.headers instanceof Headers?[...o.headers]:Object.entries(o.headers)).map(([u,m])=>[u,u.toLowerCase()==="authorization"||u.toLowerCase()==="cookie"||u.toLowerCase()==="set-cookie"?"***":m]))),"retryOfRequestLogID"in o&&(o.retryOfRequestLogID&&(o.retryOf=o.retryOfRequestLogID),delete o.retryOfRequestLogID),o);return Oi.formatRequestDetails=l,Oi}var A_;function P1(){if(A_)return Qr;A_=1;var i;Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Stream=void 0,Qr._iterSSEMessages=m;const s=$e(),r=Ys(),c=Du(),h=Ux(),p=Du(),f=Ap(),d=wp(),l=Vu(),o=Ys();class u{constructor(w,O,S){this.iterator=w,i.set(this,void 0),this.controller=O,s.__classPrivateFieldSet(this,i,S,"f")}static fromSSEResponse(w,O,S){let R=!1;const E=S?(0,l.loggerFor)(S):console;async function*H(){if(R)throw new r.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");R=!0;let M=!1;try{for await(const x of m(w,O))if(!M){if(x.data.startsWith("[DONE]")){M=!0;continue}if(x.event===null||!x.event.startsWith("thread.")){let P;try{P=JSON.parse(x.data)}catch($){throw E.error("Could not parse message into JSON:",x.data),E.error("From chunk:",x.raw),$}if(P&&P.error)throw new o.APIError(void 0,P.error,void 0,w.headers);yield P}else{let P;try{P=JSON.parse(x.data)}catch($){throw console.error("Could not parse message into JSON:",x.data),console.error("From chunk:",x.raw),$}if(x.event=="error")throw new o.APIError(void 0,P.error,P.message,void 0);yield{event:x.event,data:P}}}M=!0}catch(x){if((0,f.isAbortError)(x))return;throw x}finally{M||O.abort()}}return new u(H,O,S)}static fromReadableStream(w,O,S){let R=!1;async function*E(){const M=new h.LineDecoder,x=(0,p.ReadableStreamToAsyncIterable)(w);for await(const P of x)for(const $ of M.decode(P))yield $;for(const P of M.flush())yield P}async function*H(){if(R)throw new r.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");R=!0;let M=!1;try{for await(const x of E())M||x&&(yield JSON.parse(x));M=!0}catch(x){if((0,f.isAbortError)(x))return;throw x}finally{M||O.abort()}}return new u(H,O,S)}[(i=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const w=[],O=[],S=this.iterator(),R=E=>({next:()=>{if(E.length===0){const H=S.next();w.push(H),O.push(H)}return E.shift()}});return[new u(()=>R(w),this.controller,s.__classPrivateFieldGet(this,i,"f")),new u(()=>R(O),this.controller,s.__classPrivateFieldGet(this,i,"f"))]}toReadableStream(){const w=this;let O;return(0,c.makeReadableStream)({async start(){O=w[Symbol.asyncIterator]()},async pull(S){try{const{value:R,done:E}=await O.next();if(E)return S.close();const H=(0,d.encodeUTF8)(JSON.stringify(R)+`
`);S.enqueue(H)}catch(R){S.error(R)}},async cancel(){await O.return?.()}})}}Qr.Stream=u;async function*m(A,w){if(!A.body)throw w.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new r.OpenAIError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new r.OpenAIError("Attempted to iterate over a response with no body");const O=new _,S=new h.LineDecoder,R=(0,p.ReadableStreamToAsyncIterable)(A.body);for await(const E of v(R))for(const H of S.decode(E)){const M=O.decode(H);M&&(yield M)}for(const E of S.flush()){const H=O.decode(E);H&&(yield H)}}async function*v(A){let w=new Uint8Array;for await(const O of A){if(O==null)continue;const S=O instanceof ArrayBuffer?new Uint8Array(O):typeof O=="string"?(0,d.encodeUTF8)(O):O;let R=new Uint8Array(w.length+S.length);R.set(w),R.set(S,w.length),w=R;let E;for(;(E=(0,h.findDoubleNewlineIndex)(w))!==-1;)yield w.slice(0,E),w=w.slice(E)}w.length>0&&(yield w)}class _{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(w){if(w.endsWith("\r")&&(w=w.substring(0,w.length-1)),!w){if(!this.event&&!this.data.length)return null;const E={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],E}if(this.chunks.push(w),w.startsWith(":"))return null;let[O,S,R]=b(w,":");return R.startsWith(" ")&&(R=R.substring(1)),O==="event"?this.event=R:O==="data"&&this.data.push(R),null}}function b(A,w){const O=A.indexOf(w);return O!==-1?[A.substring(0,O),w,A.substring(O+w.length)]:[A,"",""]}return Qr}var S_;function q1(){if(S_)return co;S_=1,Object.defineProperty(co,"__esModule",{value:!0}),co.defaultParseResponse=r,co.addRequestID=c;const i=P1(),s=Vu();async function r(h,p){const{response:f,requestLogID:d,retryOfRequestLogID:l,startTime:o}=p,u=await(async()=>{if(p.options.stream)return(0,s.loggerFor)(h).debug("response",f.status,f.url,f.headers,f.body),p.options.__streamClass?p.options.__streamClass.fromSSEResponse(f,p.controller,h):i.Stream.fromSSEResponse(f,p.controller,h);if(f.status===204)return null;if(p.options.__binaryResponse)return f;const v=f.headers.get("content-type")?.split(";")[0]?.trim();if(v?.includes("application/json")||v?.endsWith("+json")){const A=await f.json();return c(A,f)}return await f.text()})();return(0,s.loggerFor)(h).debug(`[${d}] response parsed`,(0,s.formatRequestDetails)({retryOfRequestLogID:l,url:f.url,status:f.status,body:u,durationMs:Date.now()-o})),u}function c(h,p){return!h||typeof h!="object"||Array.isArray(h)?h:Object.defineProperty(h,"_request_id",{value:p.headers.get("x-request-id"),enumerable:!1})}return co}var lo={},w_;function Cp(){if(w_)return lo;w_=1;var i;Object.defineProperty(lo,"__esModule",{value:!0}),lo.APIPromise=void 0;const s=$e(),r=q1();class c extends Promise{constructor(p,f,d=r.defaultParseResponse){super(l=>{l(null)}),this.responsePromise=f,this.parseResponse=d,i.set(this,void 0),s.__classPrivateFieldSet(this,i,p,"f")}_thenUnwrap(p){return new c(s.__classPrivateFieldGet(this,i,"f"),this.responsePromise,async(f,d)=>(0,r.addRequestID)(p(await this.parseResponse(f,d),d),d.response))}asResponse(){return this.responsePromise.then(p=>p.response)}async withResponse(){const[p,f]=await Promise.all([this.parse(),this.asResponse()]);return{data:p,response:f,request_id:f.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(p=>this.parseResponse(s.__classPrivateFieldGet(this,i,"f"),p))),this.parsedPromise}then(p,f){return this.parse().then(p,f)}catch(p){return this.parse().catch(p)}finally(p){return this.parse().finally(p)}}return lo.APIPromise=c,i=new WeakMap,lo}var C_;function mt(){if(C_)return jn;C_=1;var i;Object.defineProperty(jn,"__esModule",{value:!0}),jn.ConversationCursorPage=jn.CursorPage=jn.Page=jn.PagePromise=jn.AbstractPage=void 0;const s=$e(),r=Ys(),c=q1(),h=Cp(),p=Ri();class f{constructor(v,_,b,A){i.set(this,void 0),s.__classPrivateFieldSet(this,i,v,"f"),this.options=A,this.response=_,this.body=b}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const v=this.nextPageRequestOptions();if(!v)throw new r.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await s.__classPrivateFieldGet(this,i,"f").requestAPIList(this.constructor,v)}async*iterPages(){let v=this;for(yield v;v.hasNextPage();)v=await v.getNextPage(),yield v}async*[(i=new WeakMap,Symbol.asyncIterator)](){for await(const v of this.iterPages())for(const _ of v.getPaginatedItems())yield _}}jn.AbstractPage=f;class d extends h.APIPromise{constructor(v,_,b){super(v,_,async(A,w)=>new b(A,w.response,await(0,c.defaultParseResponse)(A,w),w.options))}async*[Symbol.asyncIterator](){const v=await this;for await(const _ of v)yield _}}jn.PagePromise=d;class l extends f{constructor(v,_,b,A){super(v,_,b,A),this.data=b.data||[],this.object=b.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}jn.Page=l;class o extends f{constructor(v,_,b,A){super(v,_,b,A),this.data=b.data||[],this.has_more=b.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const v=this.getPaginatedItems(),_=v[v.length-1]?.id;return _?{...this.options,query:{...(0,p.maybeObj)(this.options.query),after:_}}:null}}jn.CursorPage=o;class u extends f{constructor(v,_,b,A){super(v,_,b,A),this.data=b.data||[],this.has_more=b.has_more||!1,this.last_id=b.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const v=this.last_id;return v?{...this.options,query:{...(0,p.maybeObj)(this.options.query),after:v}}:null}}return jn.ConversationCursorPage=u,jn}var wh={},Cu={},Ch={},R_;function fs(){return R_||(R_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.createForm=i.multipartFormRequestOptions=i.maybeMultipartFormRequestOptions=i.isAsyncIterable=i.checkFileSupport=void 0,i.makeFile=c,i.getName=h;const s=Du(),r=()=>{if(typeof File>"u"){const{process:A}=globalThis,w=typeof A?.versions?.node=="string"&&parseInt(A.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(w?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};i.checkFileSupport=r;function c(A,w,O){return(0,i.checkFileSupport)(),new File(A,w??"unknown_file",O)}function h(A){return(typeof A=="object"&&A!==null&&("name"in A&&A.name&&String(A.name)||"url"in A&&A.url&&String(A.url)||"filename"in A&&A.filename&&String(A.filename)||"path"in A&&A.path&&String(A.path))||"").split(/[\\/]/).pop()||void 0}const p=A=>A!=null&&typeof A=="object"&&typeof A[Symbol.asyncIterator]=="function";i.isAsyncIterable=p;const f=async(A,w)=>_(A.body)?{...A,body:await(0,i.createForm)(A.body,w)}:A;i.maybeMultipartFormRequestOptions=f;const d=async(A,w)=>({...A,body:await(0,i.createForm)(A.body,w)});i.multipartFormRequestOptions=d;const l=new WeakMap;function o(A){const w=typeof A=="function"?A:A.fetch,O=l.get(w);if(O)return O;const S=(async()=>{try{const R="Response"in w?w.Response:(await w("data:,")).constructor,E=new FormData;return E.toString()!==await new R(E).text()}catch{return!0}})();return l.set(w,S),S}const u=async(A,w)=>{if(!await o(w))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const O=new FormData;return await Promise.all(Object.entries(A||{}).map(([S,R])=>b(O,S,R))),O};i.createForm=u;const m=A=>A instanceof Blob&&"name"in A,v=A=>typeof A=="object"&&A!==null&&(A instanceof Response||(0,i.isAsyncIterable)(A)||m(A)),_=A=>{if(v(A))return!0;if(Array.isArray(A))return A.some(_);if(A&&typeof A=="object"){for(const w in A)if(_(A[w]))return!0}return!1},b=async(A,w,O)=>{if(O!==void 0){if(O==null)throw new TypeError(`Received null for "${w}"; to pass null in FormData, you must use the string 'null'`);if(typeof O=="string"||typeof O=="number"||typeof O=="boolean")A.append(w,String(O));else if(O instanceof Response)A.append(w,c([await O.blob()],h(O)));else if((0,i.isAsyncIterable)(O))A.append(w,c([await new Response((0,s.ReadableStreamFrom)(O)).blob()],h(O)));else if(m(O))A.append(w,O,h(O));else if(Array.isArray(O))await Promise.all(O.map(S=>b(A,w+"[]",S)));else if(typeof O=="object")await Promise.all(Object.entries(O).map(([S,R])=>b(A,`${w}[${S}]`,R)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${O} instead`)}}})(Ch)),Ch}var x_;function Bx(){if(x_)return Cu;x_=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.toFile=p;const i=fs(),s=fs(),r=l=>l!=null&&typeof l=="object"&&typeof l.size=="number"&&typeof l.type=="string"&&typeof l.text=="function"&&typeof l.slice=="function"&&typeof l.arrayBuffer=="function",c=l=>l!=null&&typeof l=="object"&&typeof l.name=="string"&&typeof l.lastModified=="number"&&r(l),h=l=>l!=null&&typeof l=="object"&&typeof l.url=="string"&&typeof l.blob=="function";async function p(l,o,u){if((0,s.checkFileSupport)(),l=await l,c(l))return l instanceof File?l:(0,i.makeFile)([await l.arrayBuffer()],l.name);if(h(l)){const v=await l.blob();return o||(o=new URL(l.url).pathname.split(/[\\/]/).pop()),(0,i.makeFile)(await f(v),o,u)}const m=await f(l);if(o||(o=(0,i.getName)(l)),!u?.type){const v=m.find(_=>typeof _=="object"&&"type"in _&&_.type);typeof v=="string"&&(u={...u,type:v})}return(0,i.makeFile)(m,o,u)}async function f(l){let o=[];if(typeof l=="string"||ArrayBuffer.isView(l)||l instanceof ArrayBuffer)o.push(l);else if(r(l))o.push(l instanceof Blob?l:await l.arrayBuffer());else if((0,i.isAsyncIterable)(l))for await(const u of l)o.push(...await f(u));else{const u=l?.constructor?.name;throw new Error(`Unexpected data type: ${typeof l}${u?`; constructor: ${u}`:""}${d(l)}`)}return o}function d(l){return typeof l!="object"||l===null?"":`; props: [${Object.getOwnPropertyNames(l).map(u=>`"${u}"`).join(", ")}]`}return Cu}var E_;function z1(){return E_||(E_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.toFile=void 0;var s=Bx();Object.defineProperty(i,"toFile",{enumerable:!0,get:function(){return s.toFile}})})(wh)),wh}var Rh={},xh={},uo={},fo={},T_;function Ce(){if(T_)return fo;T_=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.APIResource=void 0;class i{constructor(r){this._client=r}}return fo.APIResource=i,fo}var Eh={},ho={},Th={},I_;function tt(){return I_||(I_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.path=i.createPathTagFunction=void 0,i.encodeURIPath=r;const s=Ys();function r(p){return p.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const c=Object.freeze(Object.create(null)),h=(p=r)=>function(d,...l){if(d.length===1)return d[0];let o=!1;const u=[],m=d.reduce((A,w,O)=>{/[?#]/.test(w)&&(o=!0);const S=l[O];let R=(o?encodeURIComponent:p)(""+S);return O!==l.length&&(S==null||typeof S=="object"&&S.toString===Object.getPrototypeOf(Object.getPrototypeOf(S.hasOwnProperty??c)??c)?.toString)&&(R=S+"",u.push({start:A.length+w.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),A+w+(O===l.length?"":R)},""),v=m.split(/[?#]/,1)[0],_=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let b;for(;(b=_.exec(v))!==null;)u.push({start:b.index,length:b[0].length,error:`Value "${b[0]}" can't be safely passed as a path parameter`});if(u.sort((A,w)=>A.start-w.start),u.length>0){let A=0;const w=u.reduce((O,S)=>{const R=" ".repeat(S.start-A),E="^".repeat(S.length);return A=S.start+S.length,O+R+E},"");throw new s.OpenAIError(`Path parameters result in path with invalid segments:
${u.map(O=>O.error).join(`
`)}
${m}
${w}`)}return m};i.createPathTagFunction=h,i.path=(0,i.createPathTagFunction)(r)})(Th)),Th}var H_;function tp(){if(H_)return ho;H_=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.Messages=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{list(p,f={},d){return this._client.getAPIList((0,r.path)`/chat/completions/${p}/messages`,s.CursorPage,{query:f,...d})}}return ho.Messages=c,ho}var po={},mo={},Ih={},M_;function Gn(){return M_||(M_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),$e().__exportStar(Ys(),i)})(Ih)),Ih}var Jt={},N_;function Ku(){if(N_)return Jt;N_=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.isChatCompletionFunctionTool=s,Jt.makeParseableResponseFormat=r,Jt.makeParseableTextFormat=c,Jt.isAutoParsableResponseFormat=h,Jt.makeParseableTool=p,Jt.isAutoParsableTool=f,Jt.maybeParseChatCompletion=d,Jt.parseChatCompletion=l,Jt.shouldParseToolCall=m,Jt.hasAutoParseableInput=v,Jt.assertToolCallsAreChatCompletionFunctionToolCalls=_,Jt.validateInputTools=b;const i=Gn();function s(A){return A!==void 0&&"function"in A&&A.function!==void 0}function r(A,w){const O={...A};return Object.defineProperties(O,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:w,enumerable:!1}}),O}function c(A,w){const O={...A};return Object.defineProperties(O,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:w,enumerable:!1}}),O}function h(A){return A?.$brand==="auto-parseable-response-format"}function p(A,{parser:w,callback:O}){const S={...A};return Object.defineProperties(S,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:w,enumerable:!1},$callback:{value:O,enumerable:!1}}),S}function f(A){return A?.$brand==="auto-parseable-tool"}function d(A,w){return!w||!v(w)?{...A,choices:A.choices.map(O=>(_(O.message.tool_calls),{...O,message:{...O.message,parsed:null,...O.message.tool_calls?{tool_calls:O.message.tool_calls}:void 0}}))}:l(A,w)}function l(A,w){const O=A.choices.map(S=>{if(S.finish_reason==="length")throw new i.LengthFinishReasonError;if(S.finish_reason==="content_filter")throw new i.ContentFilterFinishReasonError;return _(S.message.tool_calls),{...S,message:{...S.message,...S.message.tool_calls?{tool_calls:S.message.tool_calls?.map(R=>u(w,R))??void 0}:void 0,parsed:S.message.content&&!S.message.refusal?o(w,S.message.content):null}}});return{...A,choices:O}}function o(A,w){return A.response_format?.type!=="json_schema"?null:A.response_format?.type==="json_schema"?"$parseRaw"in A.response_format?A.response_format.$parseRaw(w):JSON.parse(w):null}function u(A,w){const O=A.tools?.find(S=>s(S)&&S.function?.name===w.function.name);return{...w,function:{...w.function,parsed_arguments:f(O)?O.$parseRaw(w.function.arguments):O?.function.strict?JSON.parse(w.function.arguments):null}}}function m(A,w){if(!A||!("tools"in A)||!A.tools)return!1;const O=A.tools?.find(S=>s(S)&&S.function?.name===w.function.name);return s(O)&&(f(O)||O?.function.strict||!1)}function v(A){return h(A.response_format)?!0:A.tools?.some(w=>f(w)||w.type==="function"&&w.function.strict===!0)??!1}function _(A){for(const w of A||[])if(w.type!=="function")throw new i.OpenAIError(`Currently only \`function\` tool calls are supported; Received \`${w.type}\``)}function b(A){for(const w of A??[]){if(w.type!=="function")throw new i.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${w.type}\``);if(w.function.strict!==!0)throw new i.OpenAIError(`The \`${w.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}return Jt}var ji={},k_;function $1(){if(k_)return ji;k_=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.isToolMessage=ji.isAssistantMessage=void 0,ji.isPresent=r;const i=c=>c?.role==="assistant";ji.isAssistantMessage=i;const s=c=>c?.role==="tool";ji.isToolMessage=s;function r(c){return c!=null}return ji}var go={},P_;function Rp(){if(P_)return go;P_=1;var i,s,r,c,h,p,f,d,l,o,u,m,v;Object.defineProperty(go,"__esModule",{value:!0}),go.EventStream=void 0;const _=$e(),b=Gn();let A=class{constructor(){i.add(this),this.controller=new AbortController,s.set(this,void 0),r.set(this,()=>{}),c.set(this,()=>{}),h.set(this,void 0),p.set(this,()=>{}),f.set(this,()=>{}),d.set(this,{}),l.set(this,!1),o.set(this,!1),u.set(this,!1),m.set(this,!1),_.__classPrivateFieldSet(this,s,new Promise((O,S)=>{_.__classPrivateFieldSet(this,r,O,"f"),_.__classPrivateFieldSet(this,c,S,"f")}),"f"),_.__classPrivateFieldSet(this,h,new Promise((O,S)=>{_.__classPrivateFieldSet(this,p,O,"f"),_.__classPrivateFieldSet(this,f,S,"f")}),"f"),_.__classPrivateFieldGet(this,s,"f").catch(()=>{}),_.__classPrivateFieldGet(this,h,"f").catch(()=>{})}_run(O){setTimeout(()=>{O().then(()=>{this._emitFinal(),this._emit("end")},_.__classPrivateFieldGet(this,i,"m",v).bind(this))},0)}_connected(){this.ended||(_.__classPrivateFieldGet(this,r,"f").call(this),this._emit("connect"))}get ended(){return _.__classPrivateFieldGet(this,l,"f")}get errored(){return _.__classPrivateFieldGet(this,o,"f")}get aborted(){return _.__classPrivateFieldGet(this,u,"f")}abort(){this.controller.abort()}on(O,S){return(_.__classPrivateFieldGet(this,d,"f")[O]||(_.__classPrivateFieldGet(this,d,"f")[O]=[])).push({listener:S}),this}off(O,S){const R=_.__classPrivateFieldGet(this,d,"f")[O];if(!R)return this;const E=R.findIndex(H=>H.listener===S);return E>=0&&R.splice(E,1),this}once(O,S){return(_.__classPrivateFieldGet(this,d,"f")[O]||(_.__classPrivateFieldGet(this,d,"f")[O]=[])).push({listener:S,once:!0}),this}emitted(O){return new Promise((S,R)=>{_.__classPrivateFieldSet(this,m,!0,"f"),O!=="error"&&this.once("error",R),this.once(O,S)})}async done(){_.__classPrivateFieldSet(this,m,!0,"f"),await _.__classPrivateFieldGet(this,h,"f")}_emit(O,...S){if(_.__classPrivateFieldGet(this,l,"f"))return;O==="end"&&(_.__classPrivateFieldSet(this,l,!0,"f"),_.__classPrivateFieldGet(this,p,"f").call(this));const R=_.__classPrivateFieldGet(this,d,"f")[O];if(R&&(_.__classPrivateFieldGet(this,d,"f")[O]=R.filter(E=>!E.once),R.forEach(({listener:E})=>E(...S))),O==="abort"){const E=S[0];!_.__classPrivateFieldGet(this,m,"f")&&!R?.length&&Promise.reject(E),_.__classPrivateFieldGet(this,c,"f").call(this,E),_.__classPrivateFieldGet(this,f,"f").call(this,E),this._emit("end");return}if(O==="error"){const E=S[0];!_.__classPrivateFieldGet(this,m,"f")&&!R?.length&&Promise.reject(E),_.__classPrivateFieldGet(this,c,"f").call(this,E),_.__classPrivateFieldGet(this,f,"f").call(this,E),this._emit("end")}}_emitFinal(){}};return go.EventStream=A,s=new WeakMap,r=new WeakMap,c=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,d=new WeakMap,l=new WeakMap,o=new WeakMap,u=new WeakMap,m=new WeakMap,i=new WeakSet,v=function(O){if(_.__classPrivateFieldSet(this,o,!0,"f"),O instanceof Error&&O.name==="AbortError"&&(O=new b.APIUserAbortError),O instanceof b.APIUserAbortError)return _.__classPrivateFieldSet(this,u,!0,"f"),this._emit("abort",O);if(O instanceof b.OpenAIError)return this._emit("error",O);if(O instanceof Error){const S=new b.OpenAIError(O.message);return S.cause=O,this._emit("error",S)}return this._emit("error",new b.OpenAIError(String(O)))},go}var ta={},q_;function D1(){if(q_)return ta;q_=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.ParsingToolFunction=void 0,ta.isRunnableFunctionWithParse=i;function i(r){return typeof r.parse=="function"}class s{constructor(c){this.type="function",this.function=c}}return ta.ParsingToolFunction=s,ta}var z_;function U1(){if(z_)return mo;z_=1;var i,s,r,c,h,p,f,d;Object.defineProperty(mo,"__esModule",{value:!0}),mo.AbstractChatCompletionRunner=void 0;const l=$e(),o=Gn(),u=Ku(),m=$1(),v=Rp(),_=D1(),b=10;let A=class extends v.EventStream{constructor(){super(...arguments),i.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(O){this._chatCompletions.push(O),this._emit("chatCompletion",O);const S=O.choices[0]?.message;return S&&this._addMessage(S),O}_addMessage(O,S=!0){if("content"in O||(O.content=null),this.messages.push(O),S){if(this._emit("message",O),(0,m.isToolMessage)(O)&&O.content)this._emit("functionToolCallResult",O.content);else if((0,m.isAssistantMessage)(O)&&O.tool_calls)for(const R of O.tool_calls)R.type==="function"&&this._emit("functionToolCall",R.function)}}async finalChatCompletion(){await this.done();const O=this._chatCompletions[this._chatCompletions.length-1];if(!O)throw new o.OpenAIError("stream ended without producing a ChatCompletion");return O}async finalContent(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",s).call(this)}async finalMessage(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",r).call(this)}async finalFunctionToolCall(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",c).call(this)}async finalFunctionToolCallResult(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",h).call(this)}async totalUsage(){return await this.done(),l.__classPrivateFieldGet(this,i,"m",p).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const O=this._chatCompletions[this._chatCompletions.length-1];O&&this._emit("finalChatCompletion",O);const S=l.__classPrivateFieldGet(this,i,"m",r).call(this);S&&this._emit("finalMessage",S);const R=l.__classPrivateFieldGet(this,i,"m",s).call(this);R&&this._emit("finalContent",R);const E=l.__classPrivateFieldGet(this,i,"m",c).call(this);E&&this._emit("finalFunctionToolCall",E);const H=l.__classPrivateFieldGet(this,i,"m",h).call(this);H!=null&&this._emit("finalFunctionToolCallResult",H),this._chatCompletions.some(M=>M.usage)&&this._emit("totalUsage",l.__classPrivateFieldGet(this,i,"m",p).call(this))}async _createChatCompletion(O,S,R){const E=R?.signal;E&&(E.aborted&&this.controller.abort(),E.addEventListener("abort",()=>this.controller.abort())),l.__classPrivateFieldGet(this,i,"m",f).call(this,S);const H=await O.chat.completions.create({...S,stream:!1},{...R,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,u.parseChatCompletion)(H,S))}async _runChatCompletion(O,S,R){for(const E of S.messages)this._addMessage(E,!1);return await this._createChatCompletion(O,S,R)}async _runTools(O,S,R){const E="tool",{tool_choice:H="auto",stream:M,...x}=S,P=typeof H!="string"&&H.type==="function"&&H?.function?.name,{maxChatCompletions:$=b}=R||{},V=S.tools.map(X=>{if((0,u.isAutoParsableTool)(X)){if(!X.$callback)throw new o.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:X.$callback,name:X.function.name,description:X.function.description||"",parameters:X.function.parameters,parse:X.$parseRaw,strict:!0}}}return X}),G={};for(const X of V)X.type==="function"&&(G[X.function.name||X.function.function.name]=X.function);const ee="tools"in S?V.map(X=>X.type==="function"?{type:"function",function:{name:X.function.name||X.function.function.name,parameters:X.function.parameters,description:X.function.description,strict:X.function.strict}}:X):void 0;for(const X of S.messages)this._addMessage(X,!1);for(let X=0;X<$;++X){const U=(await this._createChatCompletion(O,{...x,tool_choice:H,tools:ee,messages:[...this.messages]},R)).choices[0]?.message;if(!U)throw new o.OpenAIError("missing message in ChatCompletion response");if(!U.tool_calls?.length)return;for(const I of U.tool_calls){if(I.type!=="function")continue;const k=I.id,{name:B,arguments:ue}=I.function,ce=G[B];if(ce){if(P&&P!==B){const de=`Invalid tool_call: ${JSON.stringify(B)}. ${JSON.stringify(P)} requested. Please try again`;this._addMessage({role:E,tool_call_id:k,content:de});continue}}else{const de=`Invalid tool_call: ${JSON.stringify(B)}. Available options are: ${Object.keys(G).map(re=>JSON.stringify(re)).join(", ")}. Please try again`;this._addMessage({role:E,tool_call_id:k,content:de});continue}let N;try{N=(0,_.isRunnableFunctionWithParse)(ce)?await ce.parse(ue):ue}catch(de){const re=de instanceof Error?de.message:String(de);this._addMessage({role:E,tool_call_id:k,content:re});continue}const F=await ce.function(N,this),le=l.__classPrivateFieldGet(this,i,"m",d).call(this,F);if(this._addMessage({role:E,tool_call_id:k,content:le}),P)return}}}};return mo.AbstractChatCompletionRunner=A,i=new WeakSet,s=function(){return l.__classPrivateFieldGet(this,i,"m",r).call(this).content??null},r=function(){let O=this.messages.length;for(;O-- >0;){const S=this.messages[O];if((0,m.isAssistantMessage)(S))return{...S,content:S.content??null,refusal:S.refusal??null}}throw new o.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},c=function(){for(let O=this.messages.length-1;O>=0;O--){const S=this.messages[O];if((0,m.isAssistantMessage)(S)&&S?.tool_calls?.length)return S.tool_calls.filter(R=>R.type==="function").at(-1)?.function}},h=function(){for(let O=this.messages.length-1;O>=0;O--){const S=this.messages[O];if((0,m.isToolMessage)(S)&&S.content!=null&&typeof S.content=="string"&&this.messages.some(R=>R.role==="assistant"&&R.tool_calls?.some(E=>E.type==="function"&&E.id===S.tool_call_id)))return S.content}},p=function(){const O={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:S}of this._chatCompletions)S&&(O.completion_tokens+=S.completion_tokens,O.prompt_tokens+=S.prompt_tokens,O.total_tokens+=S.total_tokens);return O},f=function(O){if(O.n!=null&&O.n>1)throw new o.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},d=function(O){return typeof O=="string"?O:O===void 0?"undefined":JSON.stringify(O)},mo}var $_;function D_(){if($_)return po;$_=1,Object.defineProperty(po,"__esModule",{value:!0}),po.ChatCompletionRunner=void 0;const i=U1(),s=$1();let r=class B1 extends i.AbstractChatCompletionRunner{static runTools(h,p,f){const d=new B1,l={...f,headers:{...f?.headers,"X-Stainless-Helper-Method":"runTools"}};return d._run(()=>d._runTools(h,p,l)),d}_addMessage(h,p=!0){super._addMessage(h,p),(0,s.isAssistantMessage)(h)&&h.content&&this._emit("content",h.content)}};return po.ChatCompletionRunner=r,po}var vo={},yo={},Ns={},U_;function Lx(){if(U_)return Ns;U_=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.MalformedJSON=Ns.PartialJSON=Ns.partialParse=void 0;const i=1,s=2,r=4,c=8,h=16,p=32,f=64,d=128,l=256,o=d|l,u=h|p|o|f,m=i|s|u,v=r|c,_=m|v,b={STR:i,NUM:s,ARR:r,OBJ:c,NULL:h,BOOL:p,NAN:f,INFINITY:d,MINUS_INFINITY:l,INF:o,SPECIAL:u,ATOM:m,COLLECTION:v,ALL:_};class A extends Error{}Ns.PartialJSON=A;class w extends Error{}Ns.MalformedJSON=w;function O(E,H=b.ALL){if(typeof E!="string")throw new TypeError(`expecting str, got ${typeof E}`);if(!E.trim())throw new Error(`${E} is empty`);return S(E.trim(),H)}const S=(E,H)=>{const M=E.length;let x=0;const P=I=>{throw new A(`${I} at position ${x}`)},$=I=>{throw new w(`${I} at position ${x}`)},V=()=>(U(),x>=M&&P("Unexpected end of input"),E[x]==='"'?G():E[x]==="{"?ee():E[x]==="["?X():E.substring(x,x+4)==="null"||b.NULL&H&&M-x<4&&"null".startsWith(E.substring(x))?(x+=4,null):E.substring(x,x+4)==="true"||b.BOOL&H&&M-x<4&&"true".startsWith(E.substring(x))?(x+=4,!0):E.substring(x,x+5)==="false"||b.BOOL&H&&M-x<5&&"false".startsWith(E.substring(x))?(x+=5,!1):E.substring(x,x+8)==="Infinity"||b.INFINITY&H&&M-x<8&&"Infinity".startsWith(E.substring(x))?(x+=8,1/0):E.substring(x,x+9)==="-Infinity"||b.MINUS_INFINITY&H&&1<M-x&&M-x<9&&"-Infinity".startsWith(E.substring(x))?(x+=9,-1/0):E.substring(x,x+3)==="NaN"||b.NAN&H&&M-x<3&&"NaN".startsWith(E.substring(x))?(x+=3,NaN):q()),G=()=>{const I=x;let k=!1;for(x++;x<M&&(E[x]!=='"'||k&&E[x-1]==="\\");)k=E[x]==="\\"?!k:!1,x++;if(E.charAt(x)=='"')try{return JSON.parse(E.substring(I,++x-Number(k)))}catch(B){$(String(B))}else if(b.STR&H)try{return JSON.parse(E.substring(I,x-Number(k))+'"')}catch{return JSON.parse(E.substring(I,E.lastIndexOf("\\"))+'"')}P("Unterminated string literal")},ee=()=>{x++,U();const I={};try{for(;E[x]!=="}";){if(U(),x>=M&&b.OBJ&H)return I;const k=G();U(),x++;try{const B=V();Object.defineProperty(I,k,{value:B,writable:!0,enumerable:!0,configurable:!0})}catch(B){if(b.OBJ&H)return I;throw B}U(),E[x]===","&&x++}}catch{if(b.OBJ&H)return I;P("Expected '}' at end of object")}return x++,I},X=()=>{x++;const I=[];try{for(;E[x]!=="]";)I.push(V()),U(),E[x]===","&&x++}catch{if(b.ARR&H)return I;P("Expected ']' at end of array")}return x++,I},q=()=>{if(x===0){E==="-"&&b.NUM&H&&P("Not sure what '-' is");try{return JSON.parse(E)}catch(k){if(b.NUM&H)try{return E[E.length-1]==="."?JSON.parse(E.substring(0,E.lastIndexOf("."))):JSON.parse(E.substring(0,E.lastIndexOf("e")))}catch{}$(String(k))}}const I=x;for(E[x]==="-"&&x++;E[x]&&!",]}".includes(E[x]);)x++;x==M&&!(b.NUM&H)&&P("Unterminated number literal");try{return JSON.parse(E.substring(I,x))}catch{E.substring(I,x)==="-"&&b.NUM&H&&P("Not sure what '-' is");try{return JSON.parse(E.substring(I,E.lastIndexOf("e")))}catch(B){$(String(B))}}},U=()=>{for(;x<M&&` 
\r	`.includes(E[x]);)x++};return V()},R=E=>O(E,b.ALL^b.NUM);return Ns.partialParse=R,Ns}var Hh={},B_;function L1(){return B_||(B_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),$e().__exportStar(P1(),i)})(Hh)),Hh}var L_;function sp(){if(L_)return yo;L_=1;var i,s,r,c,h,p,f,d,l,o,u,m;Object.defineProperty(yo,"__esModule",{value:!0}),yo.ChatCompletionStream=void 0;const v=$e(),_=Lx(),b=Gn(),A=Ku(),w=L1(),O=U1();let S=class np extends O.AbstractChatCompletionRunner{constructor(x){super(),i.add(this),s.set(this,void 0),r.set(this,void 0),c.set(this,void 0),v.__classPrivateFieldSet(this,s,x,"f"),v.__classPrivateFieldSet(this,r,[],"f")}get currentChatCompletionSnapshot(){return v.__classPrivateFieldGet(this,c,"f")}static fromReadableStream(x){const P=new np(null);return P._run(()=>P._fromReadableStream(x)),P}static createChatCompletion(x,P,$){const V=new np(P);return V._run(()=>V._runChatCompletion(x,{...P,stream:!0},{...$,headers:{...$?.headers,"X-Stainless-Helper-Method":"stream"}})),V}async _createChatCompletion(x,P,$){super._createChatCompletion;const V=$?.signal;V&&(V.aborted&&this.controller.abort(),V.addEventListener("abort",()=>this.controller.abort())),v.__classPrivateFieldGet(this,i,"m",h).call(this);const G=await x.chat.completions.create({...P,stream:!0},{...$,signal:this.controller.signal});this._connected();for await(const ee of G)v.__classPrivateFieldGet(this,i,"m",f).call(this,ee);if(G.controller.signal?.aborted)throw new b.APIUserAbortError;return this._addChatCompletion(v.__classPrivateFieldGet(this,i,"m",o).call(this))}async _fromReadableStream(x,P){const $=P?.signal;$&&($.aborted&&this.controller.abort(),$.addEventListener("abort",()=>this.controller.abort())),v.__classPrivateFieldGet(this,i,"m",h).call(this),this._connected();const V=w.Stream.fromReadableStream(x,this.controller);let G;for await(const ee of V)G&&G!==ee.id&&this._addChatCompletion(v.__classPrivateFieldGet(this,i,"m",o).call(this)),v.__classPrivateFieldGet(this,i,"m",f).call(this,ee),G=ee.id;if(V.controller.signal?.aborted)throw new b.APIUserAbortError;return this._addChatCompletion(v.__classPrivateFieldGet(this,i,"m",o).call(this))}[(s=new WeakMap,r=new WeakMap,c=new WeakMap,i=new WeakSet,h=function(){this.ended||v.__classPrivateFieldSet(this,c,void 0,"f")},p=function(P){let $=v.__classPrivateFieldGet(this,r,"f")[P.index];return $||($={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},v.__classPrivateFieldGet(this,r,"f")[P.index]=$,$)},f=function(P){if(this.ended)return;const $=v.__classPrivateFieldGet(this,i,"m",m).call(this,P);this._emit("chunk",P,$);for(const V of P.choices){const G=$.choices[V.index];V.delta.content!=null&&G.message?.role==="assistant"&&G.message?.content&&(this._emit("content",V.delta.content,G.message.content),this._emit("content.delta",{delta:V.delta.content,snapshot:G.message.content,parsed:G.message.parsed})),V.delta.refusal!=null&&G.message?.role==="assistant"&&G.message?.refusal&&this._emit("refusal.delta",{delta:V.delta.refusal,snapshot:G.message.refusal}),V.logprobs?.content!=null&&G.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:V.logprobs?.content,snapshot:G.logprobs?.content??[]}),V.logprobs?.refusal!=null&&G.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:V.logprobs?.refusal,snapshot:G.logprobs?.refusal??[]});const ee=v.__classPrivateFieldGet(this,i,"m",p).call(this,G);G.finish_reason&&(v.__classPrivateFieldGet(this,i,"m",l).call(this,G),ee.current_tool_call_index!=null&&v.__classPrivateFieldGet(this,i,"m",d).call(this,G,ee.current_tool_call_index));for(const X of V.delta.tool_calls??[])ee.current_tool_call_index!==X.index&&(v.__classPrivateFieldGet(this,i,"m",l).call(this,G),ee.current_tool_call_index!=null&&v.__classPrivateFieldGet(this,i,"m",d).call(this,G,ee.current_tool_call_index)),ee.current_tool_call_index=X.index;for(const X of V.delta.tool_calls??[]){const q=G.message.tool_calls?.[X.index];q?.type&&(q?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:q.function?.name,index:X.index,arguments:q.function.arguments,parsed_arguments:q.function.parsed_arguments,arguments_delta:X.function?.arguments??""}):(q?.type,void 0))}}},d=function(P,$){if(v.__classPrivateFieldGet(this,i,"m",p).call(this,P).done_tool_calls.has($))return;const G=P.message.tool_calls?.[$];if(!G)throw new Error("no tool call snapshot");if(!G.type)throw new Error("tool call snapshot missing `type`");if(G.type==="function"){const ee=v.__classPrivateFieldGet(this,s,"f")?.tools?.find(X=>(0,A.isChatCompletionFunctionTool)(X)&&X.function.name===G.function.name);this._emit("tool_calls.function.arguments.done",{name:G.function.name,index:$,arguments:G.function.arguments,parsed_arguments:(0,A.isAutoParsableTool)(ee)?ee.$parseRaw(G.function.arguments):ee?.function.strict?JSON.parse(G.function.arguments):null})}else G.type},l=function(P){const $=v.__classPrivateFieldGet(this,i,"m",p).call(this,P);if(P.message.content&&!$.content_done){$.content_done=!0;const V=v.__classPrivateFieldGet(this,i,"m",u).call(this);this._emit("content.done",{content:P.message.content,parsed:V?V.$parseRaw(P.message.content):null})}P.message.refusal&&!$.refusal_done&&($.refusal_done=!0,this._emit("refusal.done",{refusal:P.message.refusal})),P.logprobs?.content&&!$.logprobs_content_done&&($.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:P.logprobs.content})),P.logprobs?.refusal&&!$.logprobs_refusal_done&&($.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:P.logprobs.refusal}))},o=function(){if(this.ended)throw new b.OpenAIError("stream has ended, this shouldn't happen");const P=v.__classPrivateFieldGet(this,c,"f");if(!P)throw new b.OpenAIError("request ended without sending any chunks");return v.__classPrivateFieldSet(this,c,void 0,"f"),v.__classPrivateFieldSet(this,r,[],"f"),R(P,v.__classPrivateFieldGet(this,s,"f"))},u=function(){const P=v.__classPrivateFieldGet(this,s,"f")?.response_format;return(0,A.isAutoParsableResponseFormat)(P)?P:null},m=function(P){var $,V,G,ee;let X=v.__classPrivateFieldGet(this,c,"f");const{choices:q,...U}=P;X?Object.assign(X,U):X=v.__classPrivateFieldSet(this,c,{...U,choices:[]},"f");for(const{delta:I,finish_reason:k,index:B,logprobs:ue=null,...ce}of P.choices){let N=X.choices[B];if(N||(N=X.choices[B]={finish_reason:k,index:B,message:{},logprobs:ue,...ce}),ue)if(!N.logprobs)N.logprobs=Object.assign({},ue);else{const{content:te,refusal:ne,..._e}=ue;Object.assign(N.logprobs,_e),te&&(($=N.logprobs).content??($.content=[]),N.logprobs.content.push(...te)),ne&&((V=N.logprobs).refusal??(V.refusal=[]),N.logprobs.refusal.push(...ne))}if(k&&(N.finish_reason=k,v.__classPrivateFieldGet(this,s,"f")&&(0,A.hasAutoParseableInput)(v.__classPrivateFieldGet(this,s,"f")))){if(k==="length")throw new b.LengthFinishReasonError;if(k==="content_filter")throw new b.ContentFilterFinishReasonError}if(Object.assign(N,ce),!I)continue;const{content:F,refusal:le,function_call:de,role:re,tool_calls:ve,...fe}=I;if(Object.assign(N.message,fe),le&&(N.message.refusal=(N.message.refusal||"")+le),re&&(N.message.role=re),de&&(N.message.function_call?(de.name&&(N.message.function_call.name=de.name),de.arguments&&((G=N.message.function_call).arguments??(G.arguments=""),N.message.function_call.arguments+=de.arguments)):N.message.function_call=de),F&&(N.message.content=(N.message.content||"")+F,!N.message.refusal&&v.__classPrivateFieldGet(this,i,"m",u).call(this)&&(N.message.parsed=(0,_.partialParse)(N.message.content))),ve){N.message.tool_calls||(N.message.tool_calls=[]);for(const{index:te,id:ne,type:_e,function:W,...pe}of ve){const ge=(ee=N.message.tool_calls)[te]??(ee[te]={});Object.assign(ge,pe),ne&&(ge.id=ne),_e&&(ge.type=_e),W&&(ge.function??(ge.function={name:W.name??"",arguments:""})),W?.name&&(ge.function.name=W.name),W?.arguments&&(ge.function.arguments+=W.arguments,(0,A.shouldParseToolCall)(v.__classPrivateFieldGet(this,s,"f"),ge)&&(ge.function.parsed_arguments=(0,_.partialParse)(ge.function.arguments)))}}}return X},Symbol.asyncIterator)](){const x=[],P=[];let $=!1;return this.on("chunk",V=>{const G=P.shift();G?G.resolve(V):x.push(V)}),this.on("end",()=>{$=!0;for(const V of P)V.resolve(void 0);P.length=0}),this.on("abort",V=>{$=!0;for(const G of P)G.reject(V);P.length=0}),this.on("error",V=>{$=!0;for(const G of P)G.reject(V);P.length=0}),{next:async()=>x.length?{value:x.shift(),done:!1}:$?{value:void 0,done:!0}:new Promise((G,ee)=>P.push({resolve:G,reject:ee})).then(G=>G?{value:G,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new w.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};yo.ChatCompletionStream=S;function R(M,x){const{id:P,choices:$,created:V,model:G,system_fingerprint:ee,...X}=M,q={...X,id:P,choices:$.map(({message:U,finish_reason:I,index:k,logprobs:B,...ue})=>{if(!I)throw new b.OpenAIError(`missing finish_reason for choice ${k}`);const{content:ce=null,function_call:N,tool_calls:F,...le}=U,de=U.role;if(!de)throw new b.OpenAIError(`missing role for choice ${k}`);if(N){const{arguments:re,name:ve}=N;if(re==null)throw new b.OpenAIError(`missing function_call.arguments for choice ${k}`);if(!ve)throw new b.OpenAIError(`missing function_call.name for choice ${k}`);return{...ue,message:{content:ce,function_call:{arguments:re,name:ve},role:de,refusal:U.refusal??null},finish_reason:I,index:k,logprobs:B}}return F?{...ue,index:k,finish_reason:I,logprobs:B,message:{...le,role:de,content:ce,refusal:U.refusal??null,tool_calls:F.map((re,ve)=>{const{function:fe,type:te,id:ne,..._e}=re,{arguments:W,name:pe,...ge}=fe||{};if(ne==null)throw new b.OpenAIError(`missing choices[${k}].tool_calls[${ve}].id
${E(M)}`);if(te==null)throw new b.OpenAIError(`missing choices[${k}].tool_calls[${ve}].type
${E(M)}`);if(pe==null)throw new b.OpenAIError(`missing choices[${k}].tool_calls[${ve}].function.name
${E(M)}`);if(W==null)throw new b.OpenAIError(`missing choices[${k}].tool_calls[${ve}].function.arguments
${E(M)}`);return{..._e,id:ne,type:te,function:{...ge,name:pe,arguments:W}}})}}:{...ue,message:{...le,content:ce,role:de,refusal:U.refusal??null},finish_reason:I,index:k,logprobs:B}}),created:V,model:G,object:"chat.completion",...ee?{system_fingerprint:ee}:{}};return(0,A.maybeParseChatCompletion)(q,x)}function E(M){return JSON.stringify(M)}function H(M){}return yo}var F_;function G_(){if(F_)return vo;F_=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.ChatCompletionStreamingRunner=void 0;const i=sp();let s=class ip extends i.ChatCompletionStream{static fromReadableStream(c){const h=new ip(null);return h._run(()=>h._fromReadableStream(c)),h}static runTools(c,h,p){const f=new ip(h),d={...p,headers:{...p?.headers,"X-Stainless-Helper-Method":"runTools"}};return f._run(()=>f._runTools(c,h,d)),f}};return vo.ChatCompletionStreamingRunner=s,vo}var V_;function Uu(){return V_||(V_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.ChatCompletionRunner=i.ChatCompletionStream=i.ParsingToolFunction=i.ChatCompletionStreamingRunner=i.Completions=void 0;const s=$e(),r=Ce(),c=s.__importStar(tp()),h=tp(),p=mt(),f=tt(),d=D_(),l=G_(),o=sp(),u=Ku();class m extends r.APIResource{constructor(){super(...arguments),this.messages=new c.Messages(this._client)}create(O,S){return this._client.post("/chat/completions",{body:O,...S,stream:O.stream??!1})}retrieve(O,S){return this._client.get((0,f.path)`/chat/completions/${O}`,S)}update(O,S,R){return this._client.post((0,f.path)`/chat/completions/${O}`,{body:S,...R})}list(O={},S){return this._client.getAPIList("/chat/completions",p.CursorPage,{query:O,...S})}delete(O,S){return this._client.delete((0,f.path)`/chat/completions/${O}`,S)}parse(O,S){return(0,u.validateInputTools)(O.tools),this._client.chat.completions.create(O,{...S,headers:{...S?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(R=>(0,u.parseChatCompletion)(R,O))}runTools(O,S){return O.stream?l.ChatCompletionStreamingRunner.runTools(this._client,O,S):d.ChatCompletionRunner.runTools(this._client,O,S)}stream(O,S){return o.ChatCompletionStream.createChatCompletion(this._client,O,S)}}i.Completions=m;var v=G_();Object.defineProperty(i,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return v.ChatCompletionStreamingRunner}});var _=D1();Object.defineProperty(i,"ParsingToolFunction",{enumerable:!0,get:function(){return _.ParsingToolFunction}});var b=sp();Object.defineProperty(i,"ChatCompletionStream",{enumerable:!0,get:function(){return b.ChatCompletionStream}});var A=D_();Object.defineProperty(i,"ChatCompletionRunner",{enumerable:!0,get:function(){return A.ChatCompletionRunner}}),m.Messages=h.Messages})(Eh)),Eh}var K_;function F1(){if(K_)return uo;K_=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.Chat=void 0;const i=$e(),s=Ce(),r=i.__importStar(Uu()),c=Uu();class h extends s.APIResource{constructor(){super(...arguments),this.completions=new r.Completions(this._client)}}return uo.Chat=h,h.Completions=c.Completions,uo}var Mh={},Y_;function Fx(){return Y_||(Y_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Messages=i.Completions=void 0;const s=$e();var r=Uu();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return r.Completions}}),s.__exportStar(Uu(),i);var c=tp();Object.defineProperty(i,"Messages",{enumerable:!0,get:function(){return c.Messages}})})(Mh)),Mh}var Z_;function Gx(){return Z_||(Z_=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Completions=i.Chat=void 0;var s=F1();Object.defineProperty(i,"Chat",{enumerable:!0,get:function(){return s.Chat}});var r=Fx();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return r.Completions}})})(xh)),xh}var Nh={},X_;function Vx(){return X_||(X_=1,Object.defineProperty(Nh,"__esModule",{value:!0})),Nh}var _o={},bo={},Zi={},J_;function _t(){if(J_)return Zi;J_=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.isEmptyHeaders=Zi.buildHeaders=void 0;const i=Ri(),s=Symbol("brand.privateNullableHeaders");function*r(p){if(!p)return;if(s in p){const{values:l,nulls:o}=p;yield*l.entries();for(const u of o)yield[u,null];return}let f=!1,d;p instanceof Headers?d=p.entries():(0,i.isReadonlyArray)(p)?d=p:(f=!0,d=Object.entries(p??{}));for(let l of d){const o=l[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=(0,i.isReadonlyArray)(l[1])?l[1]:[l[1]];let m=!1;for(const v of u)v!==void 0&&(f&&!m&&(m=!0,yield[o,null]),yield[o,v])}}const c=p=>{const f=new Headers,d=new Set;for(const l of p){const o=new Set;for(const[u,m]of r(l)){const v=u.toLowerCase();o.has(v)||(f.delete(u),o.add(v)),m===null?(f.delete(u),d.add(v)):(f.append(u,m),d.delete(v))}}return{[s]:!0,values:f,nulls:d}};Zi.buildHeaders=c;const h=p=>{for(const f of r(p))return!1;return!0};return Zi.isEmptyHeaders=h,Zi}var Q_;function W_(){if(Q_)return bo;Q_=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.Speech=void 0;const i=Ce(),s=_t();class r extends i.APIResource{create(h,p){return this._client.post("/audio/speech",{body:h,...p,headers:(0,s.buildHeaders)([{Accept:"application/octet-stream"},p?.headers]),__binaryResponse:!0})}}return bo.Speech=r,bo}var Oo={},eb;function tb(){if(eb)return Oo;eb=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.Transcriptions=void 0;const i=Ce(),s=fs();class r extends i.APIResource{create(h,p){return this._client.post("/audio/transcriptions",(0,s.multipartFormRequestOptions)({body:h,...p,stream:h.stream??!1,__metadata:{model:h.model}},this._client))}}return Oo.Transcriptions=r,Oo}var jo={},nb;function sb(){if(nb)return jo;nb=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.Translations=void 0;const i=Ce(),s=fs();class r extends i.APIResource{create(h,p){return this._client.post("/audio/translations",(0,s.multipartFormRequestOptions)({body:h,...p,__metadata:{model:h.model}},this._client))}}return jo.Translations=r,jo}var ib;function G1(){if(ib)return _o;ib=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.Audio=void 0;const i=$e(),s=Ce(),r=i.__importStar(W_()),c=W_(),h=i.__importStar(tb()),p=tb(),f=i.__importStar(sb()),d=sb();class l extends s.APIResource{constructor(){super(...arguments),this.transcriptions=new h.Transcriptions(this._client),this.translations=new f.Translations(this._client),this.speech=new r.Speech(this._client)}}return _o.Audio=l,l.Transcriptions=p.Transcriptions,l.Translations=d.Translations,l.Speech=c.Speech,_o}var Ao={},rb;function V1(){if(rb)return Ao;rb=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.Batches=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{create(p,f){return this._client.post("/batches",{body:p,...f})}retrieve(p,f){return this._client.get((0,r.path)`/batches/${p}`,f)}list(p={},f){return this._client.getAPIList("/batches",s.CursorPage,{query:p,...f})}cancel(p,f){return this._client.post((0,r.path)`/batches/${p}/cancel`,f)}}return Ao.Batches=c,Ao}var So={},wo={},ab;function ob(){if(ab)return wo;ab=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.Assistants=void 0;const i=Ce(),s=mt(),r=_t(),c=tt();class h extends i.APIResource{create(f,d){return this._client.post("/assistants",{body:f,...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}retrieve(f,d){return this._client.get((0,c.path)`/assistants/${f}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}update(f,d,l){return this._client.post((0,c.path)`/assistants/${f}`,{body:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}list(f={},d){return this._client.getAPIList("/assistants",s.CursorPage,{query:f,...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}delete(f,d){return this._client.delete((0,c.path)`/assistants/${f}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},d?.headers])})}}return wo.Assistants=h,wo}var Co={},Ro={},cb;function lb(){if(cb)return Ro;cb=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.Sessions=void 0;const i=Ce(),s=_t();class r extends i.APIResource{create(h,p){return this._client.post("/realtime/sessions",{body:h,...p,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},p?.headers])})}}return Ro.Sessions=r,Ro}var xo={},ub;function db(){if(ub)return xo;ub=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.TranscriptionSessions=void 0;const i=Ce(),s=_t();class r extends i.APIResource{create(h,p){return this._client.post("/realtime/transcription_sessions",{body:h,...p,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},p?.headers])})}}return xo.TranscriptionSessions=r,xo}var fb;function hb(){if(fb)return Co;fb=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.Realtime=void 0;const i=$e(),s=Ce(),r=i.__importStar(lb()),c=lb(),h=i.__importStar(db()),p=db();class f extends s.APIResource{constructor(){super(...arguments),this.sessions=new r.Sessions(this._client),this.transcriptionSessions=new h.TranscriptionSessions(this._client)}}return Co.Realtime=f,f.Sessions=c.Sessions,f.TranscriptionSessions=p.TranscriptionSessions,Co}var Eo={},To={},pb;function mb(){if(pb)return To;pb=1,Object.defineProperty(To,"__esModule",{value:!0}),To.Sessions=void 0;const i=Ce(),s=_t(),r=tt();class c extends i.APIResource{create(p,f){return this._client.post("/chatkit/sessions",{body:p,...f,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},f?.headers])})}cancel(p,f){return this._client.post((0,r.path)`/chatkit/sessions/${p}/cancel`,{...f,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},f?.headers])})}}return To.Sessions=c,To}var Io={},gb;function vb(){if(gb)return Io;gb=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.Threads=void 0;const i=Ce(),s=mt(),r=_t(),c=tt();class h extends i.APIResource{retrieve(f,d){return this._client.get((0,c.path)`/chatkit/threads/${f}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},d?.headers])})}list(f={},d){return this._client.getAPIList("/chatkit/threads",s.ConversationCursorPage,{query:f,...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},d?.headers])})}delete(f,d){return this._client.delete((0,c.path)`/chatkit/threads/${f}`,{...d,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},d?.headers])})}listItems(f,d={},l){return this._client.getAPIList((0,c.path)`/chatkit/threads/${f}/items`,s.ConversationCursorPage,{query:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},l?.headers])})}}return Io.Threads=h,Io}var yb;function _b(){if(yb)return Eo;yb=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.ChatKit=void 0;const i=$e(),s=Ce(),r=i.__importStar(mb()),c=mb(),h=i.__importStar(vb()),p=vb(),f=_t(),d=fs();class l extends s.APIResource{constructor(){super(...arguments),this.sessions=new r.Sessions(this._client),this.threads=new h.Threads(this._client)}uploadFile(u,m){return this._client.post("/chatkit/files",(0,d.maybeMultipartFormRequestOptions)({body:u,...m,headers:(0,f.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},m?.headers])},this._client))}}return Eo.ChatKit=l,l.Sessions=c.Sessions,l.Threads=p.Threads,Eo}var Ho={},Mo={},bb;function Ob(){if(bb)return Mo;bb=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.Messages=void 0;const i=Ce(),s=mt(),r=_t(),c=tt();class h extends i.APIResource{create(f,d,l){return this._client.post((0,c.path)`/threads/${f}/messages`,{body:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}retrieve(f,d,l){const{thread_id:o}=d;return this._client.get((0,c.path)`/threads/${o}/messages/${f}`,{...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}update(f,d,l){const{thread_id:o,...u}=d;return this._client.post((0,c.path)`/threads/${o}/messages/${f}`,{body:u,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}list(f,d={},l){return this._client.getAPIList((0,c.path)`/threads/${f}/messages`,s.CursorPage,{query:d,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}delete(f,d,l){const{thread_id:o}=d;return this._client.delete((0,c.path)`/threads/${o}/messages/${f}`,{...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}}return Mo.Messages=h,Mo}var No={},ko={},jb;function Ab(){if(jb)return ko;jb=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.Steps=void 0;const i=Ce(),s=mt(),r=_t(),c=tt();class h extends i.APIResource{retrieve(f,d,l){const{thread_id:o,run_id:u,...m}=d;return this._client.get((0,c.path)`/threads/${o}/runs/${u}/steps/${f}`,{query:m,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}list(f,d,l){const{thread_id:o,...u}=d;return this._client.getAPIList((0,c.path)`/threads/${o}/runs/${f}/steps`,s.CursorPage,{query:u,...l,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},l?.headers])})}}return ko.Steps=h,ko}var Po={},kh={},ks={},Sb;function Kx(){if(Sb)return ks;Sb=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.toFloat32Array=ks.fromBase64=ks.toBase64=void 0;const i=Ys(),s=wp(),r=p=>{if(!p)return"";if(typeof globalThis.Buffer<"u")return globalThis.Buffer.from(p).toString("base64");if(typeof p=="string"&&(p=(0,s.encodeUTF8)(p)),typeof btoa<"u")return btoa(String.fromCharCode.apply(null,p));throw new i.OpenAIError("Cannot generate base64 string; Expected `Buffer` or `btoa` to be defined")};ks.toBase64=r;const c=p=>{if(typeof globalThis.Buffer<"u"){const f=globalThis.Buffer.from(p,"base64");return new Uint8Array(f.buffer,f.byteOffset,f.byteLength)}if(typeof atob<"u"){const f=atob(p),d=new Uint8Array(f.length);for(let l=0;l<f.length;l++)d[l]=f.charCodeAt(l);return d}throw new i.OpenAIError("Cannot decode base64 string; Expected `Buffer` or `atob` to be defined")};ks.fromBase64=c;const h=p=>{if(typeof Buffer<"u"){const f=Buffer.from(p,"base64");return Array.from(new Float32Array(f.buffer,f.byteOffset,f.length/Float32Array.BYTES_PER_ELEMENT))}else{const f=atob(p),d=f.length,l=new Uint8Array(d);for(let o=0;o<d;o++)l[o]=f.charCodeAt(o);return Array.from(new Float32Array(l.buffer))}};return ks.toFloat32Array=h,ks}var qo={},wb;function K1(){if(wb)return qo;wb=1;var i={};Object.defineProperty(qo,"__esModule",{value:!0}),qo.readEnv=void 0;const s=r=>{if(typeof globalThis.process<"u")return i?.[r]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(r)?.trim()};return qo.readEnv=s,qo}var Cb;function Yu(){return Cb||(Cb=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0});const s=$e();s.__exportStar(Ri(),i),s.__exportStar(Kx(),i),s.__exportStar(K1(),i),s.__exportStar(Vu(),i),s.__exportStar(N1(),i),s.__exportStar(rl(),i)})(kh)),kh}var Rb;function Y1(){if(Rb)return Po;Rb=1;var i,s,r,c,h,p,f,d,l,o,u,m,v,_,b,A,w,O,S,R,E,H,M;Object.defineProperty(Po,"__esModule",{value:!0}),Po.AssistantStream=void 0;const x=$e(),P=L1(),$=Gn(),V=Rp(),G=Yu();let ee=class extends V.EventStream{constructor(){super(...arguments),i.add(this),r.set(this,[]),c.set(this,{}),h.set(this,{}),p.set(this,void 0),f.set(this,void 0),d.set(this,void 0),l.set(this,void 0),o.set(this,void 0),u.set(this,void 0),m.set(this,void 0),v.set(this,void 0),_.set(this,void 0)}[(r=new WeakMap,c=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,d=new WeakMap,l=new WeakMap,o=new WeakMap,u=new WeakMap,m=new WeakMap,v=new WeakMap,_=new WeakMap,i=new WeakSet,Symbol.asyncIterator)](){const q=[],U=[];let I=!1;return this.on("event",k=>{const B=U.shift();B?B.resolve(k):q.push(k)}),this.on("end",()=>{I=!0;for(const k of U)k.resolve(void 0);U.length=0}),this.on("abort",k=>{I=!0;for(const B of U)B.reject(k);U.length=0}),this.on("error",k=>{I=!0;for(const B of U)B.reject(k);U.length=0}),{next:async()=>q.length?{value:q.shift(),done:!1}:I?{value:void 0,done:!0}:new Promise((B,ue)=>U.push({resolve:B,reject:ue})).then(B=>B?{value:B,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(q){const U=new s;return U._run(()=>U._fromReadableStream(q)),U}async _fromReadableStream(q,U){const I=U?.signal;I&&(I.aborted&&this.controller.abort(),I.addEventListener("abort",()=>this.controller.abort())),this._connected();const k=P.Stream.fromReadableStream(q,this.controller);for await(const B of k)x.__classPrivateFieldGet(this,i,"m",b).call(this,B);if(k.controller.signal?.aborted)throw new $.APIUserAbortError;return this._addRun(x.__classPrivateFieldGet(this,i,"m",A).call(this))}toReadableStream(){return new P.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(q,U,I,k){const B=new s;return B._run(()=>B._runToolAssistantStream(q,U,I,{...k,headers:{...k?.headers,"X-Stainless-Helper-Method":"stream"}})),B}async _createToolAssistantStream(q,U,I,k){const B=k?.signal;B&&(B.aborted&&this.controller.abort(),B.addEventListener("abort",()=>this.controller.abort()));const ue={...I,stream:!0},ce=await q.submitToolOutputs(U,ue,{...k,signal:this.controller.signal});this._connected();for await(const N of ce)x.__classPrivateFieldGet(this,i,"m",b).call(this,N);if(ce.controller.signal?.aborted)throw new $.APIUserAbortError;return this._addRun(x.__classPrivateFieldGet(this,i,"m",A).call(this))}static createThreadAssistantStream(q,U,I){const k=new s;return k._run(()=>k._threadAssistantStream(q,U,{...I,headers:{...I?.headers,"X-Stainless-Helper-Method":"stream"}})),k}static createAssistantStream(q,U,I,k){const B=new s;return B._run(()=>B._runAssistantStream(q,U,I,{...k,headers:{...k?.headers,"X-Stainless-Helper-Method":"stream"}})),B}currentEvent(){return x.__classPrivateFieldGet(this,m,"f")}currentRun(){return x.__classPrivateFieldGet(this,v,"f")}currentMessageSnapshot(){return x.__classPrivateFieldGet(this,p,"f")}currentRunStepSnapshot(){return x.__classPrivateFieldGet(this,_,"f")}async finalRunSteps(){return await this.done(),Object.values(x.__classPrivateFieldGet(this,c,"f"))}async finalMessages(){return await this.done(),Object.values(x.__classPrivateFieldGet(this,h,"f"))}async finalRun(){if(await this.done(),!x.__classPrivateFieldGet(this,f,"f"))throw Error("Final run was not received.");return x.__classPrivateFieldGet(this,f,"f")}async _createThreadAssistantStream(q,U,I){const k=I?.signal;k&&(k.aborted&&this.controller.abort(),k.addEventListener("abort",()=>this.controller.abort()));const B={...U,stream:!0},ue=await q.createAndRun(B,{...I,signal:this.controller.signal});this._connected();for await(const ce of ue)x.__classPrivateFieldGet(this,i,"m",b).call(this,ce);if(ue.controller.signal?.aborted)throw new $.APIUserAbortError;return this._addRun(x.__classPrivateFieldGet(this,i,"m",A).call(this))}async _createAssistantStream(q,U,I,k){const B=k?.signal;B&&(B.aborted&&this.controller.abort(),B.addEventListener("abort",()=>this.controller.abort()));const ue={...I,stream:!0},ce=await q.create(U,ue,{...k,signal:this.controller.signal});this._connected();for await(const N of ce)x.__classPrivateFieldGet(this,i,"m",b).call(this,N);if(ce.controller.signal?.aborted)throw new $.APIUserAbortError;return this._addRun(x.__classPrivateFieldGet(this,i,"m",A).call(this))}static accumulateDelta(q,U){for(const[I,k]of Object.entries(U)){if(!q.hasOwnProperty(I)){q[I]=k;continue}let B=q[I];if(B==null){q[I]=k;continue}if(I==="index"||I==="type"){q[I]=k;continue}if(typeof B=="string"&&typeof k=="string")B+=k;else if(typeof B=="number"&&typeof k=="number")B+=k;else if((0,G.isObj)(B)&&(0,G.isObj)(k))B=this.accumulateDelta(B,k);else if(Array.isArray(B)&&Array.isArray(k)){if(B.every(ue=>typeof ue=="string"||typeof ue=="number")){B.push(...k);continue}for(const ue of k){if(!(0,G.isObj)(ue))throw new Error(`Expected array delta entry to be an object but got: ${ue}`);const ce=ue.index;if(ce==null)throw console.error(ue),new Error("Expected array delta entry to have an `index` property");if(typeof ce!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${ce}`);const N=B[ce];N==null?B.push(ue):B[ce]=this.accumulateDelta(N,ue)}continue}else throw Error(`Unhandled record type: ${I}, deltaValue: ${k}, accValue: ${B}`);q[I]=B}return q}_addRun(q){return q}async _threadAssistantStream(q,U,I){return await this._createThreadAssistantStream(U,q,I)}async _runAssistantStream(q,U,I,k){return await this._createAssistantStream(U,q,I,k)}async _runToolAssistantStream(q,U,I,k){return await this._createToolAssistantStream(U,q,I,k)}};return Po.AssistantStream=ee,s=ee,b=function(q){if(!this.ended)switch(x.__classPrivateFieldSet(this,m,q,"f"),x.__classPrivateFieldGet(this,i,"m",S).call(this,q),q.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":x.__classPrivateFieldGet(this,i,"m",M).call(this,q);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":x.__classPrivateFieldGet(this,i,"m",O).call(this,q);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":x.__classPrivateFieldGet(this,i,"m",w).call(this,q);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},A=function(){if(this.ended)throw new $.OpenAIError("stream has ended, this shouldn't happen");if(!x.__classPrivateFieldGet(this,f,"f"))throw Error("Final run has not been received");return x.__classPrivateFieldGet(this,f,"f")},w=function(q){const[U,I]=x.__classPrivateFieldGet(this,i,"m",E).call(this,q,x.__classPrivateFieldGet(this,p,"f"));x.__classPrivateFieldSet(this,p,U,"f"),x.__classPrivateFieldGet(this,h,"f")[U.id]=U;for(const k of I){const B=U.content[k.index];B?.type=="text"&&this._emit("textCreated",B.text)}switch(q.event){case"thread.message.created":this._emit("messageCreated",q.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",q.data.delta,U),q.data.delta.content)for(const k of q.data.delta.content){if(k.type=="text"&&k.text){let B=k.text,ue=U.content[k.index];if(ue&&ue.type=="text")this._emit("textDelta",B,ue.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(k.index!=x.__classPrivateFieldGet(this,d,"f")){if(x.__classPrivateFieldGet(this,l,"f"))switch(x.__classPrivateFieldGet(this,l,"f").type){case"text":this._emit("textDone",x.__classPrivateFieldGet(this,l,"f").text,x.__classPrivateFieldGet(this,p,"f"));break;case"image_file":this._emit("imageFileDone",x.__classPrivateFieldGet(this,l,"f").image_file,x.__classPrivateFieldGet(this,p,"f"));break}x.__classPrivateFieldSet(this,d,k.index,"f")}x.__classPrivateFieldSet(this,l,U.content[k.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(x.__classPrivateFieldGet(this,d,"f")!==void 0){const k=q.data.content[x.__classPrivateFieldGet(this,d,"f")];if(k)switch(k.type){case"image_file":this._emit("imageFileDone",k.image_file,x.__classPrivateFieldGet(this,p,"f"));break;case"text":this._emit("textDone",k.text,x.__classPrivateFieldGet(this,p,"f"));break}}x.__classPrivateFieldGet(this,p,"f")&&this._emit("messageDone",q.data),x.__classPrivateFieldSet(this,p,void 0,"f")}},O=function(q){const U=x.__classPrivateFieldGet(this,i,"m",R).call(this,q);switch(x.__classPrivateFieldSet(this,_,U,"f"),q.event){case"thread.run.step.created":this._emit("runStepCreated",q.data);break;case"thread.run.step.delta":const I=q.data.delta;if(I.step_details&&I.step_details.type=="tool_calls"&&I.step_details.tool_calls&&U.step_details.type=="tool_calls")for(const B of I.step_details.tool_calls)B.index==x.__classPrivateFieldGet(this,o,"f")?this._emit("toolCallDelta",B,U.step_details.tool_calls[B.index]):(x.__classPrivateFieldGet(this,u,"f")&&this._emit("toolCallDone",x.__classPrivateFieldGet(this,u,"f")),x.__classPrivateFieldSet(this,o,B.index,"f"),x.__classPrivateFieldSet(this,u,U.step_details.tool_calls[B.index],"f"),x.__classPrivateFieldGet(this,u,"f")&&this._emit("toolCallCreated",x.__classPrivateFieldGet(this,u,"f")));this._emit("runStepDelta",q.data.delta,U);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":x.__classPrivateFieldSet(this,_,void 0,"f"),q.data.step_details.type=="tool_calls"&&x.__classPrivateFieldGet(this,u,"f")&&(this._emit("toolCallDone",x.__classPrivateFieldGet(this,u,"f")),x.__classPrivateFieldSet(this,u,void 0,"f")),this._emit("runStepDone",q.data,U);break}},S=function(q){x.__classPrivateFieldGet(this,r,"f").push(q),this._emit("event",q)},R=function(q){switch(q.event){case"thread.run.step.created":return x.__classPrivateFieldGet(this,c,"f")[q.data.id]=q.data,q.data;case"thread.run.step.delta":let U=x.__classPrivateFieldGet(this,c,"f")[q.data.id];if(!U)throw Error("Received a RunStepDelta before creation of a snapshot");let I=q.data;if(I.delta){const k=s.accumulateDelta(U,I.delta);x.__classPrivateFieldGet(this,c,"f")[q.data.id]=k}return x.__classPrivateFieldGet(this,c,"f")[q.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":x.__classPrivateFieldGet(this,c,"f")[q.data.id]=q.data;break}if(x.__classPrivateFieldGet(this,c,"f")[q.data.id])return x.__classPrivateFieldGet(this,c,"f")[q.data.id];throw new Error("No snapshot available")},E=function(q,U){let I=[];switch(q.event){case"thread.message.created":return[q.data,I];case"thread.message.delta":if(!U)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let k=q.data;if(k.delta.content)for(const B of k.delta.content)if(B.index in U.content){let ue=U.content[B.index];U.content[B.index]=x.__classPrivateFieldGet(this,i,"m",H).call(this,B,ue)}else U.content[B.index]=B,I.push(B);return[U,I];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(U)return[U,I];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},H=function(q,U){return s.accumulateDelta(U,q)},M=function(q){switch(x.__classPrivateFieldSet(this,v,q.data,"f"),q.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":x.__classPrivateFieldSet(this,f,q.data,"f"),x.__classPrivateFieldGet(this,u,"f")&&(this._emit("toolCallDone",x.__classPrivateFieldGet(this,u,"f")),x.__classPrivateFieldSet(this,u,void 0,"f"));break}},Po}var xb;function Eb(){if(xb)return No;xb=1,Object.defineProperty(No,"__esModule",{value:!0}),No.Runs=void 0;const i=$e(),s=Ce(),r=i.__importStar(Ab()),c=Ab(),h=mt(),p=_t(),f=Y1(),d=rl(),l=tt();class o extends s.APIResource{constructor(){super(...arguments),this.steps=new r.Steps(this._client)}create(m,v,_){const{include:b,...A}=v;return this._client.post((0,l.path)`/threads/${m}/runs`,{query:{include:b},body:A,..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers]),stream:v.stream??!1})}retrieve(m,v,_){const{thread_id:b}=v;return this._client.get((0,l.path)`/threads/${b}/runs/${m}`,{..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}update(m,v,_){const{thread_id:b,...A}=v;return this._client.post((0,l.path)`/threads/${b}/runs/${m}`,{body:A,..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}list(m,v={},_){return this._client.getAPIList((0,l.path)`/threads/${m}/runs`,h.CursorPage,{query:v,..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}cancel(m,v,_){const{thread_id:b}=v;return this._client.post((0,l.path)`/threads/${b}/runs/${m}/cancel`,{..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}async createAndPoll(m,v,_){const b=await this.create(m,v,_);return await this.poll(b.id,{thread_id:m},_)}createAndStream(m,v,_){return f.AssistantStream.createAssistantStream(m,this._client.beta.threads.runs,v,_)}async poll(m,v,_){const b=(0,p.buildHeaders)([_?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":_?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:A,response:w}=await this.retrieve(m,v,{..._,headers:{..._?.headers,...b}}).withResponse();switch(A.status){case"queued":case"in_progress":case"cancelling":let O=5e3;if(_?.pollIntervalMs)O=_.pollIntervalMs;else{const S=w.headers.get("openai-poll-after-ms");if(S){const R=parseInt(S);isNaN(R)||(O=R)}}await(0,d.sleep)(O);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return A}}}stream(m,v,_){return f.AssistantStream.createAssistantStream(m,this._client.beta.threads.runs,v,_)}submitToolOutputs(m,v,_){const{thread_id:b,...A}=v;return this._client.post((0,l.path)`/threads/${b}/runs/${m}/submit_tool_outputs`,{body:A,..._,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers]),stream:v.stream??!1})}async submitToolOutputsAndPoll(m,v,_){const b=await this.submitToolOutputs(m,v,_);return await this.poll(b.id,v,_)}submitToolOutputsStream(m,v,_){return f.AssistantStream.createToolAssistantStream(m,this._client.beta.threads.runs,v,_)}}return No.Runs=o,o.Steps=c.Steps,No}var Tb;function Ib(){if(Tb)return Ho;Tb=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.Threads=void 0;const i=$e(),s=Ce(),r=i.__importStar(Ob()),c=Ob(),h=i.__importStar(Eb()),p=Eb(),f=_t(),d=Y1(),l=tt();class o extends s.APIResource{constructor(){super(...arguments),this.runs=new h.Runs(this._client),this.messages=new r.Messages(this._client)}create(m={},v){return this._client.post("/threads",{body:m,...v,headers:(0,f.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}retrieve(m,v){return this._client.get((0,l.path)`/threads/${m}`,{...v,headers:(0,f.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}update(m,v,_){return this._client.post((0,l.path)`/threads/${m}`,{body:v,..._,headers:(0,f.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}delete(m,v){return this._client.delete((0,l.path)`/threads/${m}`,{...v,headers:(0,f.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}createAndRun(m,v){return this._client.post("/threads/runs",{body:m,...v,headers:(0,f.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers]),stream:m.stream??!1})}async createAndRunPoll(m,v){const _=await this.createAndRun(m,v);return await this.runs.poll(_.id,{thread_id:_.thread_id},v)}createAndRunStream(m,v){return d.AssistantStream.createThreadAssistantStream(m,this._client.beta.threads,v)}}return Ho.Threads=o,o.Runs=p.Runs,o.Messages=c.Messages,Ho}var Hb;function Z1(){if(Hb)return So;Hb=1,Object.defineProperty(So,"__esModule",{value:!0}),So.Beta=void 0;const i=$e(),s=Ce(),r=i.__importStar(ob()),c=ob(),h=i.__importStar(hb()),p=hb(),f=i.__importStar(_b()),d=_b(),l=i.__importStar(Ib()),o=Ib();class u extends s.APIResource{constructor(){super(...arguments),this.realtime=new h.Realtime(this._client),this.chatkit=new f.ChatKit(this._client),this.assistants=new r.Assistants(this._client),this.threads=new l.Threads(this._client)}}return So.Beta=u,u.Realtime=p.Realtime,u.ChatKit=d.ChatKit,u.Assistants=c.Assistants,u.Threads=o.Threads,So}var zo={},Mb;function X1(){if(Mb)return zo;Mb=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.Completions=void 0;const i=Ce();class s extends i.APIResource{create(c,h){return this._client.post("/completions",{body:c,...h,stream:c.stream??!1})}}return zo.Completions=s,zo}var $o={},Do={},Uo={},Nb;function kb(){if(Nb)return Uo;Nb=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.Content=void 0;const i=Ce(),s=_t(),r=tt();class c extends i.APIResource{retrieve(p,f,d){const{container_id:l}=f;return this._client.get((0,r.path)`/containers/${l}/files/${p}/content`,{...d,headers:(0,s.buildHeaders)([{Accept:"application/binary"},d?.headers]),__binaryResponse:!0})}}return Uo.Content=c,Uo}var Pb;function qb(){if(Pb)return Do;Pb=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.Files=void 0;const i=$e(),s=Ce(),r=i.__importStar(kb()),c=kb(),h=mt(),p=_t(),f=fs(),d=tt();class l extends s.APIResource{constructor(){super(...arguments),this.content=new r.Content(this._client)}create(u,m,v){return this._client.post((0,d.path)`/containers/${u}/files`,(0,f.multipartFormRequestOptions)({body:m,...v},this._client))}retrieve(u,m,v){const{container_id:_}=m;return this._client.get((0,d.path)`/containers/${_}/files/${u}`,v)}list(u,m={},v){return this._client.getAPIList((0,d.path)`/containers/${u}/files`,h.CursorPage,{query:m,...v})}delete(u,m,v){const{container_id:_}=m;return this._client.delete((0,d.path)`/containers/${_}/files/${u}`,{...v,headers:(0,p.buildHeaders)([{Accept:"*/*"},v?.headers])})}}return Do.Files=l,l.Content=c.Content,Do}var zb;function J1(){if(zb)return $o;zb=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.Containers=void 0;const i=$e(),s=Ce(),r=i.__importStar(qb()),c=qb(),h=mt(),p=_t(),f=tt();class d extends s.APIResource{constructor(){super(...arguments),this.files=new r.Files(this._client)}create(o,u){return this._client.post("/containers",{body:o,...u})}retrieve(o,u){return this._client.get((0,f.path)`/containers/${o}`,u)}list(o={},u){return this._client.getAPIList("/containers",h.CursorPage,{query:o,...u})}delete(o,u){return this._client.delete((0,f.path)`/containers/${o}`,{...u,headers:(0,p.buildHeaders)([{Accept:"*/*"},u?.headers])})}}return $o.Containers=d,d.Files=c.Files,$o}var Bo={},Lo={},$b;function Db(){if($b)return Lo;$b=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.Items=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{create(p,f,d){const{include:l,...o}=f;return this._client.post((0,r.path)`/conversations/${p}/items`,{query:{include:l},body:o,...d})}retrieve(p,f,d){const{conversation_id:l,...o}=f;return this._client.get((0,r.path)`/conversations/${l}/items/${p}`,{query:o,...d})}list(p,f={},d){return this._client.getAPIList((0,r.path)`/conversations/${p}/items`,s.ConversationCursorPage,{query:f,...d})}delete(p,f,d){const{conversation_id:l}=f;return this._client.delete((0,r.path)`/conversations/${l}/items/${p}`,d)}}return Lo.Items=c,Lo}var Ub;function Q1(){if(Ub)return Bo;Ub=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.Conversations=void 0;const i=$e(),s=Ce(),r=i.__importStar(Db()),c=Db(),h=tt();class p extends s.APIResource{constructor(){super(...arguments),this.items=new r.Items(this._client)}create(d={},l){return this._client.post("/conversations",{body:d,...l})}retrieve(d,l){return this._client.get((0,h.path)`/conversations/${d}`,l)}update(d,l,o){return this._client.post((0,h.path)`/conversations/${d}`,{body:l,...o})}delete(d,l){return this._client.delete((0,h.path)`/conversations/${d}`,l)}}return Bo.Conversations=p,p.Items=c.Items,Bo}var Fo={},Bb;function W1(){if(Bb)return Fo;Bb=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.Embeddings=void 0;const i=Ce(),s=Yu();class r extends i.APIResource{create(h,p){const f=!!h.encoding_format;let d=f?h.encoding_format:"base64";f&&(0,s.loggerFor)(this._client).debug("embeddings/user defined encoding_format:",h.encoding_format);const l=this._client.post("/embeddings",{body:{...h,encoding_format:d},...p});return f?l:((0,s.loggerFor)(this._client).debug("embeddings/decoding base64 embeddings from base64"),l._thenUnwrap(o=>(o&&o.data&&o.data.forEach(u=>{const m=u.embedding;u.embedding=(0,s.toFloat32Array)(m)}),o)))}}return Fo.Embeddings=r,Fo}var Go={},Vo={},Ko={},Lb;function Fb(){if(Lb)return Ko;Lb=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.OutputItems=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{retrieve(p,f,d){const{eval_id:l,run_id:o}=f;return this._client.get((0,r.path)`/evals/${l}/runs/${o}/output_items/${p}`,d)}list(p,f,d){const{eval_id:l,...o}=f;return this._client.getAPIList((0,r.path)`/evals/${l}/runs/${p}/output_items`,s.CursorPage,{query:o,...d})}}return Ko.OutputItems=c,Ko}var Gb;function Vb(){if(Gb)return Vo;Gb=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.Runs=void 0;const i=$e(),s=Ce(),r=i.__importStar(Fb()),c=Fb(),h=mt(),p=tt();class f extends s.APIResource{constructor(){super(...arguments),this.outputItems=new r.OutputItems(this._client)}create(l,o,u){return this._client.post((0,p.path)`/evals/${l}/runs`,{body:o,...u})}retrieve(l,o,u){const{eval_id:m}=o;return this._client.get((0,p.path)`/evals/${m}/runs/${l}`,u)}list(l,o={},u){return this._client.getAPIList((0,p.path)`/evals/${l}/runs`,h.CursorPage,{query:o,...u})}delete(l,o,u){const{eval_id:m}=o;return this._client.delete((0,p.path)`/evals/${m}/runs/${l}`,u)}cancel(l,o,u){const{eval_id:m}=o;return this._client.post((0,p.path)`/evals/${m}/runs/${l}`,u)}}return Vo.Runs=f,f.OutputItems=c.OutputItems,Vo}var Kb;function ej(){if(Kb)return Go;Kb=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.Evals=void 0;const i=$e(),s=Ce(),r=i.__importStar(Vb()),c=Vb(),h=mt(),p=tt();class f extends s.APIResource{constructor(){super(...arguments),this.runs=new r.Runs(this._client)}create(l,o){return this._client.post("/evals",{body:l,...o})}retrieve(l,o){return this._client.get((0,p.path)`/evals/${l}`,o)}update(l,o,u){return this._client.post((0,p.path)`/evals/${l}`,{body:o,...u})}list(l={},o){return this._client.getAPIList("/evals",h.CursorPage,{query:l,...o})}delete(l,o){return this._client.delete((0,p.path)`/evals/${l}`,o)}}return Go.Evals=f,f.Runs=c.Runs,Go}var Yo={},Yb;function tj(){if(Yb)return Yo;Yb=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.Files=void 0;const i=Ce(),s=mt(),r=_t(),c=rl(),h=Gn(),p=fs(),f=tt();class d extends i.APIResource{create(o,u){return this._client.post("/files",(0,p.multipartFormRequestOptions)({body:o,...u},this._client))}retrieve(o,u){return this._client.get((0,f.path)`/files/${o}`,u)}list(o={},u){return this._client.getAPIList("/files",s.CursorPage,{query:o,...u})}delete(o,u){return this._client.delete((0,f.path)`/files/${o}`,u)}content(o,u){return this._client.get((0,f.path)`/files/${o}/content`,{...u,headers:(0,r.buildHeaders)([{Accept:"application/binary"},u?.headers]),__binaryResponse:!0})}async waitForProcessing(o,{pollInterval:u=5e3,maxWait:m=1800*1e3}={}){const v=new Set(["processed","error","deleted"]),_=Date.now();let b=await this.retrieve(o);for(;!b.status||!v.has(b.status);)if(await(0,c.sleep)(u),b=await this.retrieve(o),Date.now()-_>m)throw new h.APIConnectionTimeoutError({message:`Giving up on waiting for file ${o} to finish processing after ${m} milliseconds.`});return b}}return Yo.Files=d,Yo}var Zo={},Xo={},Zb;function Xb(){if(Zb)return Xo;Zb=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.Methods=void 0;const i=Ce();class s extends i.APIResource{}return Xo.Methods=s,Xo}var Jo={},Qo={},Jb;function Qb(){if(Jb)return Qo;Jb=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.Graders=void 0;const i=Ce();class s extends i.APIResource{run(c,h){return this._client.post("/fine_tuning/alpha/graders/run",{body:c,...h})}validate(c,h){return this._client.post("/fine_tuning/alpha/graders/validate",{body:c,...h})}}return Qo.Graders=s,Qo}var Wb;function e0(){if(Wb)return Jo;Wb=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.Alpha=void 0;const i=$e(),s=Ce(),r=i.__importStar(Qb()),c=Qb();class h extends s.APIResource{constructor(){super(...arguments),this.graders=new r.Graders(this._client)}}return Jo.Alpha=h,h.Graders=c.Graders,Jo}var Wo={},ec={},t0;function n0(){if(t0)return ec;t0=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Permissions=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{create(p,f,d){return this._client.getAPIList((0,r.path)`/fine_tuning/checkpoints/${p}/permissions`,s.Page,{body:f,method:"post",...d})}retrieve(p,f={},d){return this._client.get((0,r.path)`/fine_tuning/checkpoints/${p}/permissions`,{query:f,...d})}delete(p,f,d){const{fine_tuned_model_checkpoint:l}=f;return this._client.delete((0,r.path)`/fine_tuning/checkpoints/${l}/permissions/${p}`,d)}}return ec.Permissions=c,ec}var s0;function i0(){if(s0)return Wo;s0=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.Checkpoints=void 0;const i=$e(),s=Ce(),r=i.__importStar(n0()),c=n0();class h extends s.APIResource{constructor(){super(...arguments),this.permissions=new r.Permissions(this._client)}}return Wo.Checkpoints=h,h.Permissions=c.Permissions,Wo}var tc={},nc={},r0;function a0(){if(r0)return nc;r0=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Checkpoints=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{list(p,f={},d){return this._client.getAPIList((0,r.path)`/fine_tuning/jobs/${p}/checkpoints`,s.CursorPage,{query:f,...d})}}return nc.Checkpoints=c,nc}var o0;function c0(){if(o0)return tc;o0=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.Jobs=void 0;const i=$e(),s=Ce(),r=i.__importStar(a0()),c=a0(),h=mt(),p=tt();class f extends s.APIResource{constructor(){super(...arguments),this.checkpoints=new r.Checkpoints(this._client)}create(l,o){return this._client.post("/fine_tuning/jobs",{body:l,...o})}retrieve(l,o){return this._client.get((0,p.path)`/fine_tuning/jobs/${l}`,o)}list(l={},o){return this._client.getAPIList("/fine_tuning/jobs",h.CursorPage,{query:l,...o})}cancel(l,o){return this._client.post((0,p.path)`/fine_tuning/jobs/${l}/cancel`,o)}listEvents(l,o={},u){return this._client.getAPIList((0,p.path)`/fine_tuning/jobs/${l}/events`,h.CursorPage,{query:o,...u})}pause(l,o){return this._client.post((0,p.path)`/fine_tuning/jobs/${l}/pause`,o)}resume(l,o){return this._client.post((0,p.path)`/fine_tuning/jobs/${l}/resume`,o)}}return tc.Jobs=f,f.Checkpoints=c.Checkpoints,tc}var l0;function nj(){if(l0)return Zo;l0=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.FineTuning=void 0;const i=$e(),s=Ce(),r=i.__importStar(Xb()),c=Xb(),h=i.__importStar(e0()),p=e0(),f=i.__importStar(i0()),d=i0(),l=i.__importStar(c0()),o=c0();class u extends s.APIResource{constructor(){super(...arguments),this.methods=new r.Methods(this._client),this.jobs=new l.Jobs(this._client),this.checkpoints=new f.Checkpoints(this._client),this.alpha=new h.Alpha(this._client)}}return Zo.FineTuning=u,u.Methods=c.Methods,u.Jobs=o.Jobs,u.Checkpoints=d.Checkpoints,u.Alpha=p.Alpha,Zo}var sc={},ic={},u0;function d0(){if(u0)return ic;u0=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.GraderModels=void 0;const i=Ce();class s extends i.APIResource{}return ic.GraderModels=s,ic}var f0;function sj(){if(f0)return sc;f0=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Graders=void 0;const i=$e(),s=Ce(),r=i.__importStar(d0()),c=d0();class h extends s.APIResource{constructor(){super(...arguments),this.graderModels=new r.GraderModels(this._client)}}return sc.Graders=h,h.GraderModels=c.GraderModels,sc}var rc={},h0;function ij(){if(h0)return rc;h0=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.Images=void 0;const i=Ce(),s=fs();class r extends i.APIResource{createVariation(h,p){return this._client.post("/images/variations",(0,s.multipartFormRequestOptions)({body:h,...p},this._client))}edit(h,p){return this._client.post("/images/edits",(0,s.multipartFormRequestOptions)({body:h,...p,stream:h.stream??!1},this._client))}generate(h,p){return this._client.post("/images/generations",{body:h,...p,stream:h.stream??!1})}}return rc.Images=r,rc}var ac={},p0;function rj(){if(p0)return ac;p0=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.Models=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{retrieve(p,f){return this._client.get((0,r.path)`/models/${p}`,f)}list(p){return this._client.getAPIList("/models",s.Page,p)}delete(p,f){return this._client.delete((0,r.path)`/models/${p}`,f)}}return ac.Models=c,ac}var oc={},m0;function aj(){if(m0)return oc;m0=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.Moderations=void 0;const i=Ce();class s extends i.APIResource{create(c,h){return this._client.post("/moderations",{body:c,...h})}}return oc.Moderations=s,oc}var cc={},lc={},g0;function v0(){if(g0)return lc;g0=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.Calls=void 0;const i=Ce(),s=_t(),r=tt();class c extends i.APIResource{accept(p,f,d){return this._client.post((0,r.path)`/realtime/calls/${p}/accept`,{body:f,...d,headers:(0,s.buildHeaders)([{Accept:"*/*"},d?.headers])})}hangup(p,f){return this._client.post((0,r.path)`/realtime/calls/${p}/hangup`,{...f,headers:(0,s.buildHeaders)([{Accept:"*/*"},f?.headers])})}refer(p,f,d){return this._client.post((0,r.path)`/realtime/calls/${p}/refer`,{body:f,...d,headers:(0,s.buildHeaders)([{Accept:"*/*"},d?.headers])})}reject(p,f={},d){return this._client.post((0,r.path)`/realtime/calls/${p}/reject`,{body:f,...d,headers:(0,s.buildHeaders)([{Accept:"*/*"},d?.headers])})}}return lc.Calls=c,lc}var uc={},y0;function _0(){if(y0)return uc;y0=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.ClientSecrets=void 0;const i=Ce();class s extends i.APIResource{create(c,h){return this._client.post("/realtime/client_secrets",{body:c,...h})}}return uc.ClientSecrets=s,uc}var b0;function oj(){if(b0)return cc;b0=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.Realtime=void 0;const i=$e(),s=Ce(),r=i.__importStar(v0()),c=v0(),h=i.__importStar(_0()),p=_0();class f extends s.APIResource{constructor(){super(...arguments),this.clientSecrets=new h.ClientSecrets(this._client),this.calls=new r.Calls(this._client)}}return cc.Realtime=f,f.ClientSecrets=p.ClientSecrets,f.Calls=c.Calls,cc}var dc={},Jn={},O0;function cj(){if(O0)return Jn;O0=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.maybeParseResponse=r,Jn.parseResponse=c,Jn.hasAutoParseableInput=p,Jn.makeParseableResponseTool=f,Jn.isAutoParsableTool=d,Jn.shouldParseToolCall=u,Jn.validateInputTools=m,Jn.addOutputText=v;const i=Gn(),s=Ku();function r(_,b){return!b||!p(b)?{..._,output_parsed:null,output:_.output.map(A=>A.type==="function_call"?{...A,parsed_arguments:null}:A.type==="message"?{...A,content:A.content.map(w=>({...w,parsed:null}))}:A)}:c(_,b)}function c(_,b){const A=_.output.map(O=>{if(O.type==="function_call")return{...O,parsed_arguments:o(b,O)};if(O.type==="message"){const S=O.content.map(R=>R.type==="output_text"?{...R,parsed:h(b,R.text)}:R);return{...O,content:S}}return O}),w=Object.assign({},_,{output:A});return Object.getOwnPropertyDescriptor(_,"output_text")||v(w),Object.defineProperty(w,"output_parsed",{enumerable:!0,get(){for(const O of w.output)if(O.type==="message"){for(const S of O.content)if(S.type==="output_text"&&S.parsed!==null)return S.parsed}return null}}),w}function h(_,b){return _.text?.format?.type!=="json_schema"?null:"$parseRaw"in _.text?.format?(_.text?.format).$parseRaw(b):JSON.parse(b)}function p(_){return!!(0,s.isAutoParsableResponseFormat)(_.text?.format)}function f(_,{parser:b,callback:A}){const w={..._};return Object.defineProperties(w,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:b,enumerable:!1},$callback:{value:A,enumerable:!1}}),w}function d(_){return _?.$brand==="auto-parseable-tool"}function l(_,b){return _.find(A=>A.type==="function"&&A.name===b)}function o(_,b){const A=l(_.tools??[],b.name);return{...b,...b,parsed_arguments:d(A)?A.$parseRaw(b.arguments):A?.strict?JSON.parse(b.arguments):null}}function u(_,b){if(!_)return!1;const A=l(_.tools??[],b.name);return d(A)||A?.strict||!1}function m(_){for(const b of _??[]){if(b.type!=="function")throw new i.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${b.type}\``);if(b.function.strict!==!0)throw new i.OpenAIError(`The \`${b.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}function v(_){const b=[];for(const A of _.output)if(A.type==="message")for(const w of A.content)w.type==="output_text"&&b.push(w.text);_.output_text=b.join("")}return Jn}var fc={},j0;function Yx(){if(j0)return fc;j0=1;var i,s,r,c,h,p,f,d;Object.defineProperty(fc,"__esModule",{value:!0}),fc.ResponseStream=void 0;const l=$e(),o=Gn(),u=Rp(),m=cj();let v=class lj extends u.EventStream{constructor(A){super(),i.add(this),s.set(this,void 0),r.set(this,void 0),c.set(this,void 0),l.__classPrivateFieldSet(this,s,A,"f")}static createResponse(A,w,O){const S=new lj(w);return S._run(()=>S._createOrRetrieveResponse(A,w,{...O,headers:{...O?.headers,"X-Stainless-Helper-Method":"stream"}})),S}async _createOrRetrieveResponse(A,w,O){const S=O?.signal;S&&(S.aborted&&this.controller.abort(),S.addEventListener("abort",()=>this.controller.abort())),l.__classPrivateFieldGet(this,i,"m",h).call(this);let R,E=null;"response_id"in w?(R=await A.responses.retrieve(w.response_id,{stream:!0},{...O,signal:this.controller.signal,stream:!0}),E=w.starting_after??null):R=await A.responses.create({...w,stream:!0},{...O,signal:this.controller.signal}),this._connected();for await(const H of R)l.__classPrivateFieldGet(this,i,"m",p).call(this,H,E);if(R.controller.signal?.aborted)throw new o.APIUserAbortError;return l.__classPrivateFieldGet(this,i,"m",f).call(this)}[(s=new WeakMap,r=new WeakMap,c=new WeakMap,i=new WeakSet,h=function(){this.ended||l.__classPrivateFieldSet(this,r,void 0,"f")},p=function(w,O){if(this.ended)return;const S=(E,H)=>{(O==null||H.sequence_number>O)&&this._emit(E,H)},R=l.__classPrivateFieldGet(this,i,"m",d).call(this,w);switch(S("event",w),w.type){case"response.output_text.delta":{const E=R.output[w.output_index];if(!E)throw new o.OpenAIError(`missing output at index ${w.output_index}`);if(E.type==="message"){const H=E.content[w.content_index];if(!H)throw new o.OpenAIError(`missing content at index ${w.content_index}`);if(H.type!=="output_text")throw new o.OpenAIError(`expected content to be 'output_text', got ${H.type}`);S("response.output_text.delta",{...w,snapshot:H.text})}break}case"response.function_call_arguments.delta":{const E=R.output[w.output_index];if(!E)throw new o.OpenAIError(`missing output at index ${w.output_index}`);E.type==="function_call"&&S("response.function_call_arguments.delta",{...w,snapshot:E.arguments});break}default:S(w.type,w);break}},f=function(){if(this.ended)throw new o.OpenAIError("stream has ended, this shouldn't happen");const w=l.__classPrivateFieldGet(this,r,"f");if(!w)throw new o.OpenAIError("request ended without sending any events");l.__classPrivateFieldSet(this,r,void 0,"f");const O=_(w,l.__classPrivateFieldGet(this,s,"f"));return l.__classPrivateFieldSet(this,c,O,"f"),O},d=function(w){let O=l.__classPrivateFieldGet(this,r,"f");if(!O){if(w.type!=="response.created")throw new o.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${w.type}`);return O=l.__classPrivateFieldSet(this,r,w.response,"f"),O}switch(w.type){case"response.output_item.added":{O.output.push(w.item);break}case"response.content_part.added":{const S=O.output[w.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${w.output_index}`);const R=S.type,E=w.part;R==="message"&&E.type!=="reasoning_text"?S.content.push(E):R==="reasoning"&&E.type==="reasoning_text"&&(S.content||(S.content=[]),S.content.push(E));break}case"response.output_text.delta":{const S=O.output[w.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${w.output_index}`);if(S.type==="message"){const R=S.content[w.content_index];if(!R)throw new o.OpenAIError(`missing content at index ${w.content_index}`);if(R.type!=="output_text")throw new o.OpenAIError(`expected content to be 'output_text', got ${R.type}`);R.text+=w.delta}break}case"response.function_call_arguments.delta":{const S=O.output[w.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${w.output_index}`);S.type==="function_call"&&(S.arguments+=w.delta);break}case"response.reasoning_text.delta":{const S=O.output[w.output_index];if(!S)throw new o.OpenAIError(`missing output at index ${w.output_index}`);if(S.type==="reasoning"){const R=S.content?.[w.content_index];if(!R)throw new o.OpenAIError(`missing content at index ${w.content_index}`);if(R.type!=="reasoning_text")throw new o.OpenAIError(`expected content to be 'reasoning_text', got ${R.type}`);R.text+=w.delta}break}case"response.completed":{l.__classPrivateFieldSet(this,r,w.response,"f");break}}return O},Symbol.asyncIterator)](){const A=[],w=[];let O=!1;return this.on("event",S=>{const R=w.shift();R?R.resolve(S):A.push(S)}),this.on("end",()=>{O=!0;for(const S of w)S.resolve(void 0);w.length=0}),this.on("abort",S=>{O=!0;for(const R of w)R.reject(S);w.length=0}),this.on("error",S=>{O=!0;for(const R of w)R.reject(S);w.length=0}),{next:async()=>A.length?{value:A.shift(),done:!1}:O?{value:void 0,done:!0}:new Promise((R,E)=>w.push({resolve:R,reject:E})).then(R=>R?{value:R,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const A=l.__classPrivateFieldGet(this,c,"f");if(!A)throw new o.OpenAIError("stream ended without producing a ChatCompletion");return A}};fc.ResponseStream=v;function _(b,A){return(0,m.maybeParseResponse)(b,A)}return fc}var hc={},A0;function S0(){if(A0)return hc;A0=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.InputItems=void 0;const i=Ce(),s=mt(),r=tt();class c extends i.APIResource{list(p,f={},d){return this._client.getAPIList((0,r.path)`/responses/${p}/input_items`,s.CursorPage,{query:f,...d})}}return hc.InputItems=c,hc}var w0;function uj(){if(w0)return dc;w0=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.Responses=void 0;const i=$e(),s=cj(),r=Yx(),c=Ce(),h=i.__importStar(S0()),p=S0(),f=_t(),d=tt();class l extends c.APIResource{constructor(){super(...arguments),this.inputItems=new h.InputItems(this._client)}create(u,m){return this._client.post("/responses",{body:u,...m,stream:u.stream??!1})._thenUnwrap(v=>("object"in v&&v.object==="response"&&(0,s.addOutputText)(v),v))}retrieve(u,m={},v){return this._client.get((0,d.path)`/responses/${u}`,{query:m,...v,stream:m?.stream??!1})._thenUnwrap(_=>("object"in _&&_.object==="response"&&(0,s.addOutputText)(_),_))}delete(u,m){return this._client.delete((0,d.path)`/responses/${u}`,{...m,headers:(0,f.buildHeaders)([{Accept:"*/*"},m?.headers])})}parse(u,m){return this._client.responses.create(u,m)._thenUnwrap(v=>(0,s.parseResponse)(v,u))}stream(u,m){return r.ResponseStream.createResponse(this._client,u,m)}cancel(u,m){return this._client.post((0,d.path)`/responses/${u}/cancel`,m)}}return dc.Responses=l,l.InputItems=p.InputItems,dc}var pc={},mc={},C0;function R0(){if(C0)return mc;C0=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.Parts=void 0;const i=Ce(),s=fs(),r=tt();class c extends i.APIResource{create(p,f,d){return this._client.post((0,r.path)`/uploads/${p}/parts`,(0,s.multipartFormRequestOptions)({body:f,...d},this._client))}}return mc.Parts=c,mc}var x0;function dj(){if(x0)return pc;x0=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.Uploads=void 0;const i=$e(),s=Ce(),r=i.__importStar(R0()),c=R0(),h=tt();class p extends s.APIResource{constructor(){super(...arguments),this.parts=new r.Parts(this._client)}create(d,l){return this._client.post("/uploads",{body:d,...l})}cancel(d,l){return this._client.post((0,h.path)`/uploads/${d}/cancel`,l)}complete(d,l,o){return this._client.post((0,h.path)`/uploads/${d}/complete`,{body:l,...o})}}return pc.Uploads=p,p.Parts=c.Parts,pc}var gc={},vc={},yc={},E0;function Zx(){if(E0)return yc;E0=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.allSettledWithThrow=void 0;const i=async s=>{const r=await Promise.allSettled(s),c=r.filter(p=>p.status==="rejected");if(c.length){for(const p of c)console.error(p.reason);throw new Error(`${c.length} promise(s) failed - see the above errors`)}const h=[];for(const p of r)p.status==="fulfilled"&&h.push(p.value);return h};return yc.allSettledWithThrow=i,yc}var T0;function I0(){if(T0)return vc;T0=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.FileBatches=void 0;const i=Ce(),s=mt(),r=_t(),c=rl(),h=Zx(),p=tt();class f extends i.APIResource{create(l,o,u){return this._client.post((0,p.path)`/vector_stores/${l}/file_batches`,{body:o,...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}retrieve(l,o,u){const{vector_store_id:m}=o;return this._client.get((0,p.path)`/vector_stores/${m}/file_batches/${l}`,{...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}cancel(l,o,u){const{vector_store_id:m}=o;return this._client.post((0,p.path)`/vector_stores/${m}/file_batches/${l}/cancel`,{...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}async createAndPoll(l,o,u){const m=await this.create(l,o);return await this.poll(l,m.id,u)}listFiles(l,o,u){const{vector_store_id:m,...v}=o;return this._client.getAPIList((0,p.path)`/vector_stores/${m}/file_batches/${l}/files`,s.CursorPage,{query:v,...u,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},u?.headers])})}async poll(l,o,u){const m=(0,r.buildHeaders)([u?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":u?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:v,response:_}=await this.retrieve(o,{vector_store_id:l},{...u,headers:m}).withResponse();switch(v.status){case"in_progress":let b=5e3;if(u?.pollIntervalMs)b=u.pollIntervalMs;else{const A=_.headers.get("openai-poll-after-ms");if(A){const w=parseInt(A);isNaN(w)||(b=w)}}await(0,c.sleep)(b);break;case"failed":case"cancelled":case"completed":return v}}}async uploadAndPoll(l,{files:o,fileIds:u=[]},m){if(o==null||o.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const v=m?.maxConcurrency??5,_=Math.min(v,o.length),b=this._client,A=o.values(),w=[...u];async function O(R){for(let E of R){const H=await b.files.create({file:E,purpose:"assistants"},m);w.push(H.id)}}const S=Array(_).fill(A).map(O);return await(0,h.allSettledWithThrow)(S),await this.createAndPoll(l,{file_ids:w})}}return vc.FileBatches=f,vc}var _c={},H0;function M0(){if(H0)return _c;H0=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.Files=void 0;const i=Ce(),s=mt(),r=_t(),c=Yu(),h=tt();class p extends i.APIResource{create(d,l,o){return this._client.post((0,h.path)`/vector_stores/${d}/files`,{body:l,...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(d,l,o){const{vector_store_id:u}=l;return this._client.get((0,h.path)`/vector_stores/${u}/files/${d}`,{...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(d,l,o){const{vector_store_id:u,...m}=l;return this._client.post((0,h.path)`/vector_stores/${u}/files/${d}`,{body:m,...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(d,l={},o){return this._client.getAPIList((0,h.path)`/vector_stores/${d}/files`,s.CursorPage,{query:l,...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(d,l,o){const{vector_store_id:u}=l;return this._client.delete((0,h.path)`/vector_stores/${u}/files/${d}`,{...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(d,l,o){const u=await this.create(d,l,o);return await this.poll(d,u.id,o)}async poll(d,l,o){const u=(0,r.buildHeaders)([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const m=await this.retrieve(l,{vector_store_id:d},{...o,headers:u}).withResponse(),v=m.data;switch(v.status){case"in_progress":let _=5e3;if(o?.pollIntervalMs)_=o.pollIntervalMs;else{const b=m.response.headers.get("openai-poll-after-ms");if(b){const A=parseInt(b);isNaN(A)||(_=A)}}await(0,c.sleep)(_);break;case"failed":case"completed":return v}}}async upload(d,l,o){const u=await this._client.files.create({file:l,purpose:"assistants"},o);return this.create(d,{file_id:u.id},o)}async uploadAndPoll(d,l,o){const u=await this.upload(d,l,o);return await this.poll(d,u.id,o)}content(d,l,o){const{vector_store_id:u}=l;return this._client.getAPIList((0,h.path)`/vector_stores/${u}/files/${d}/content`,s.Page,{...o,headers:(0,r.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}return _c.Files=p,_c}var N0;function fj(){if(N0)return gc;N0=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.VectorStores=void 0;const i=$e(),s=Ce(),r=i.__importStar(I0()),c=I0(),h=i.__importStar(M0()),p=M0(),f=mt(),d=_t(),l=tt();class o extends s.APIResource{constructor(){super(...arguments),this.files=new h.Files(this._client),this.fileBatches=new r.FileBatches(this._client)}create(m,v){return this._client.post("/vector_stores",{body:m,...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}retrieve(m,v){return this._client.get((0,l.path)`/vector_stores/${m}`,{...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}update(m,v,_){return this._client.post((0,l.path)`/vector_stores/${m}`,{body:v,..._,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}list(m={},v){return this._client.getAPIList("/vector_stores",f.CursorPage,{query:m,...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}delete(m,v){return this._client.delete((0,l.path)`/vector_stores/${m}`,{...v,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},v?.headers])})}search(m,v,_){return this._client.getAPIList((0,l.path)`/vector_stores/${m}/search`,f.Page,{body:v,method:"post",..._,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},_?.headers])})}}return gc.VectorStores=o,o.Files=p.Files,o.FileBatches=c.FileBatches,gc}var bc={},k0;function hj(){if(k0)return bc;k0=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.Videos=void 0;const i=Ce(),s=mt(),r=_t(),c=fs(),h=tt();class p extends i.APIResource{create(d,l){return this._client.post("/videos",(0,c.maybeMultipartFormRequestOptions)({body:d,...l},this._client))}retrieve(d,l){return this._client.get((0,h.path)`/videos/${d}`,l)}list(d={},l){return this._client.getAPIList("/videos",s.ConversationCursorPage,{query:d,...l})}delete(d,l){return this._client.delete((0,h.path)`/videos/${d}`,l)}downloadContent(d,l={},o){return this._client.get((0,h.path)`/videos/${d}/content`,{query:l,...o,headers:(0,r.buildHeaders)([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}remix(d,l,o){return this._client.post((0,h.path)`/videos/${d}/remix`,(0,c.maybeMultipartFormRequestOptions)({body:l,...o},this._client))}}return bc.Videos=p,bc}var Oc={},P0;function pj(){if(P0)return Oc;P0=1;var i,s,r;Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.Webhooks=void 0;const c=$e(),h=Gn(),p=Ce(),f=_t();class d extends p.APIResource{constructor(){super(...arguments),i.add(this)}async unwrap(o,u,m=this._client.webhookSecret,v=300){return await this.verifySignature(o,u,m,v),JSON.parse(o)}async verifySignature(o,u,m=this._client.webhookSecret,v=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");c.__classPrivateFieldGet(this,i,"m",s).call(this,m);const _=(0,f.buildHeaders)([u]).values,b=c.__classPrivateFieldGet(this,i,"m",r).call(this,_,"webhook-signature"),A=c.__classPrivateFieldGet(this,i,"m",r).call(this,_,"webhook-timestamp"),w=c.__classPrivateFieldGet(this,i,"m",r).call(this,_,"webhook-id"),O=parseInt(A,10);if(isNaN(O))throw new h.InvalidWebhookSignatureError("Invalid webhook timestamp format");const S=Math.floor(Date.now()/1e3);if(S-O>v)throw new h.InvalidWebhookSignatureError("Webhook timestamp is too old");if(O>S+v)throw new h.InvalidWebhookSignatureError("Webhook timestamp is too new");const R=b.split(" ").map(x=>x.startsWith("v1,")?x.substring(3):x),E=m.startsWith("whsec_")?Buffer.from(m.replace("whsec_",""),"base64"):Buffer.from(m,"utf-8"),H=w?`${w}.${A}.${o}`:`${A}.${o}`,M=await crypto.subtle.importKey("raw",E,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const x of R)try{const P=Buffer.from(x,"base64");if(await crypto.subtle.verify("HMAC",M,P,new TextEncoder().encode(H)))return}catch{continue}throw new h.InvalidWebhookSignatureError("The given webhook signature does not match the expected signature")}}return Oc.Webhooks=d,i=new WeakSet,s=function(o){if(typeof o!="string"||o.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},r=function(o,u){if(!o)throw new Error("Headers are required");const m=o.get(u);if(m==null)throw new Error(`Missing required header: ${u}`);return m},Oc}var q0;function Xx(){return q0||(q0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Webhooks=i.Videos=i.VectorStores=i.Uploads=i.Responses=i.Realtime=i.Moderations=i.Models=i.Images=i.Graders=i.FineTuning=i.Files=i.Evals=i.Embeddings=i.Conversations=i.Containers=i.Completions=i.Beta=i.Batches=i.Audio=void 0;const s=$e();s.__exportStar(Gx(),i),s.__exportStar(Vx(),i);var r=G1();Object.defineProperty(i,"Audio",{enumerable:!0,get:function(){return r.Audio}});var c=V1();Object.defineProperty(i,"Batches",{enumerable:!0,get:function(){return c.Batches}});var h=Z1();Object.defineProperty(i,"Beta",{enumerable:!0,get:function(){return h.Beta}});var p=X1();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return p.Completions}});var f=J1();Object.defineProperty(i,"Containers",{enumerable:!0,get:function(){return f.Containers}});var d=Q1();Object.defineProperty(i,"Conversations",{enumerable:!0,get:function(){return d.Conversations}});var l=W1();Object.defineProperty(i,"Embeddings",{enumerable:!0,get:function(){return l.Embeddings}});var o=ej();Object.defineProperty(i,"Evals",{enumerable:!0,get:function(){return o.Evals}});var u=tj();Object.defineProperty(i,"Files",{enumerable:!0,get:function(){return u.Files}});var m=nj();Object.defineProperty(i,"FineTuning",{enumerable:!0,get:function(){return m.FineTuning}});var v=sj();Object.defineProperty(i,"Graders",{enumerable:!0,get:function(){return v.Graders}});var _=ij();Object.defineProperty(i,"Images",{enumerable:!0,get:function(){return _.Images}});var b=rj();Object.defineProperty(i,"Models",{enumerable:!0,get:function(){return b.Models}});var A=aj();Object.defineProperty(i,"Moderations",{enumerable:!0,get:function(){return A.Moderations}});var w=oj();Object.defineProperty(i,"Realtime",{enumerable:!0,get:function(){return w.Realtime}});var O=uj();Object.defineProperty(i,"Responses",{enumerable:!0,get:function(){return O.Responses}});var S=dj();Object.defineProperty(i,"Uploads",{enumerable:!0,get:function(){return S.Uploads}});var R=fj();Object.defineProperty(i,"VectorStores",{enumerable:!0,get:function(){return R.VectorStores}});var E=hj();Object.defineProperty(i,"Videos",{enumerable:!0,get:function(){return E.Videos}});var H=pj();Object.defineProperty(i,"Webhooks",{enumerable:!0,get:function(){return H.Webhooks}})})(Rh)),Rh}var z0;function rp(){if(z0)return io;z0=1;var i,s,r,c;Object.defineProperty(io,"__esModule",{value:!0}),io.OpenAI=void 0;const h=$e(),p=N1(),f=Ri(),d=rl(),l=Ap(),o=ep(),u=h.__importStar(Du()),m=h.__importStar(qx()),v=h.__importStar(Dx()),_=k1(),b=h.__importStar(Ys()),A=h.__importStar(mt()),w=h.__importStar(z1()),O=h.__importStar(Xx()),S=Cp(),R=V1(),E=X1(),H=W1(),M=tj(),x=ij(),P=rj(),$=aj(),V=hj(),G=pj(),ee=G1(),X=Z1(),q=F1(),U=J1(),I=Q1(),k=ej(),B=nj(),ue=sj(),ce=oj(),N=uj(),F=dj(),le=fj(),de=ep(),re=_t(),ve=K1(),fe=Vu(),te=Ri();class ne{constructor({baseURL:W=(0,ve.readEnv)("OPENAI_BASE_URL"),apiKey:pe=(0,ve.readEnv)("OPENAI_API_KEY"),organization:ge=(0,ve.readEnv)("OPENAI_ORG_ID")??null,project:Re=(0,ve.readEnv)("OPENAI_PROJECT_ID")??null,webhookSecret:Ue=(0,ve.readEnv)("OPENAI_WEBHOOK_SECRET")??null,...nt}={}){if(i.add(this),r.set(this,void 0),this.completions=new O.Completions(this),this.chat=new O.Chat(this),this.embeddings=new O.Embeddings(this),this.files=new O.Files(this),this.images=new O.Images(this),this.audio=new O.Audio(this),this.moderations=new O.Moderations(this),this.models=new O.Models(this),this.fineTuning=new O.FineTuning(this),this.graders=new O.Graders(this),this.vectorStores=new O.VectorStores(this),this.webhooks=new O.Webhooks(this),this.beta=new O.Beta(this),this.batches=new O.Batches(this),this.uploads=new O.Uploads(this),this.responses=new O.Responses(this),this.realtime=new O.Realtime(this),this.conversations=new O.Conversations(this),this.evals=new O.Evals(this),this.containers=new O.Containers(this),this.videos=new O.Videos(this),pe===void 0)throw new b.OpenAIError("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const Le={apiKey:pe,organization:ge,project:Re,webhookSecret:Ue,...nt,baseURL:W||"https://api.openai.com/v1"};if(!Le.dangerouslyAllowBrowser&&(0,de.isRunningInBrowser)())throw new b.OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=Le.baseURL,this.timeout=Le.timeout??s.DEFAULT_TIMEOUT,this.logger=Le.logger??console;const bt="warn";this.logLevel=bt,this.logLevel=(0,fe.parseLogLevel)(Le.logLevel,"ClientOptions.logLevel",this)??(0,fe.parseLogLevel)((0,ve.readEnv)("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??bt,this.fetchOptions=Le.fetchOptions,this.maxRetries=Le.maxRetries??2,this.fetch=Le.fetch??u.getDefaultFetch(),h.__classPrivateFieldSet(this,r,m.FallbackEncoder,"f"),this._options=Le,this.apiKey=typeof pe=="string"?pe:"Missing Key",this.organization=ge,this.project=Re,this.webhookSecret=Ue}withOptions(W){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...W})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:W,nulls:pe}){}async authHeaders(W){return(0,re.buildHeaders)([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(W){return v.stringify(W,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${_.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,p.uuid4)()}`}makeStatusError(W,pe,ge,Re){return b.APIError.generate(W,pe,ge,Re)}async _callApiKey(){const W=this._options.apiKey;if(typeof W!="function")return!1;let pe;try{pe=await W()}catch(ge){throw ge instanceof b.OpenAIError?ge:new b.OpenAIError(`Failed to get token from 'apiKey' function: ${ge.message}`,{cause:ge})}if(typeof pe!="string"||!pe)throw new b.OpenAIError(`Expected 'apiKey' function argument to return a string but it returned ${pe}`);return this.apiKey=pe,!0}buildURL(W,pe,ge){const Re=!h.__classPrivateFieldGet(this,i,"m",c).call(this)&&ge||this.baseURL,Ue=(0,f.isAbsoluteURL)(W)?new URL(W):new URL(Re+(Re.endsWith("/")&&W.startsWith("/")?W.slice(1):W)),nt=this.defaultQuery();return(0,te.isEmptyObj)(nt)||(pe={...nt,...pe}),typeof pe=="object"&&pe&&!Array.isArray(pe)&&(Ue.search=this.stringifyQuery(pe)),Ue.toString()}async prepareOptions(W){await this._callApiKey()}async prepareRequest(W,{url:pe,options:ge}){}get(W,pe){return this.methodRequest("get",W,pe)}post(W,pe){return this.methodRequest("post",W,pe)}patch(W,pe){return this.methodRequest("patch",W,pe)}put(W,pe){return this.methodRequest("put",W,pe)}delete(W,pe){return this.methodRequest("delete",W,pe)}methodRequest(W,pe,ge){return this.request(Promise.resolve(ge).then(Re=>({method:W,path:pe,...Re})))}request(W,pe=null){return new S.APIPromise(this,this.makeRequest(W,pe,void 0))}async makeRequest(W,pe,ge){const Re=await W,Ue=Re.maxRetries??this.maxRetries;pe==null&&(pe=Ue),await this.prepareOptions(Re);const{req:nt,url:Le,timeout:bt}=await this.buildRequest(Re,{retryCount:Ue-pe});await this.prepareRequest(nt,{url:Le,options:Re});const it="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),jt=ge===void 0?"":`, retryOf: ${ge}`,Ot=Date.now();if((0,fe.loggerFor)(this).debug(`[${it}] sending request`,(0,fe.formatRequestDetails)({retryOfRequestLogID:ge,method:Re.method,url:Le,options:Re,headers:nt.headers})),Re.signal?.aborted)throw new b.APIUserAbortError;const Vn=new AbortController,rt=await this.fetchWithTimeout(Le,nt,bt,Vn).catch(l.castToError),Mt=Date.now();if(rt instanceof globalThis.Error){const Rn=`retrying, ${pe} attempts remaining`;if(Re.signal?.aborted)throw new b.APIUserAbortError;const Zt=(0,l.isAbortError)(rt)||/timed? ?out/i.test(String(rt)+("cause"in rt?String(rt.cause):""));if(pe)return(0,fe.loggerFor)(this).info(`[${it}] connection ${Zt?"timed out":"failed"} - ${Rn}`),(0,fe.loggerFor)(this).debug(`[${it}] connection ${Zt?"timed out":"failed"} (${Rn})`,(0,fe.formatRequestDetails)({retryOfRequestLogID:ge,url:Le,durationMs:Mt-Ot,message:rt.message})),this.retryRequest(Re,pe,ge??it);throw(0,fe.loggerFor)(this).info(`[${it}] connection ${Zt?"timed out":"failed"} - error; no more retries left`),(0,fe.loggerFor)(this).debug(`[${it}] connection ${Zt?"timed out":"failed"} (error; no more retries left)`,(0,fe.formatRequestDetails)({retryOfRequestLogID:ge,url:Le,durationMs:Mt-Ot,message:rt.message})),Zt?new b.APIConnectionTimeoutError:new b.APIConnectionError({cause:rt})}const Ju=[...rt.headers.entries()].filter(([Rn])=>Rn==="x-request-id").map(([Rn,Zt])=>", "+Rn+": "+JSON.stringify(Zt)).join(""),ur=`[${it}${jt}${Ju}] ${nt.method} ${Le} ${rt.ok?"succeeded":"failed"} with status ${rt.status} in ${Mt-Ot}ms`;if(!rt.ok){const Rn=await this.shouldRetry(rt);if(pe&&Rn){const rs=`retrying, ${pe} attempts remaining`;return await u.CancelReadableStream(rt.body),(0,fe.loggerFor)(this).info(`${ur} - ${rs}`),(0,fe.loggerFor)(this).debug(`[${it}] response error (${rs})`,(0,fe.formatRequestDetails)({retryOfRequestLogID:ge,url:rt.url,status:rt.status,headers:rt.headers,durationMs:Mt-Ot})),this.retryRequest(Re,pe,ge??it,rt.headers)}const Zt=Rn?"error; no more retries left":"error; not retryable";(0,fe.loggerFor)(this).info(`${ur} - ${Zt}`);const al=await rt.text().catch(rs=>(0,l.castToError)(rs).message),la=(0,f.safeJSON)(al),ol=la?void 0:al;throw(0,fe.loggerFor)(this).debug(`[${it}] response error (${Zt})`,(0,fe.formatRequestDetails)({retryOfRequestLogID:ge,url:rt.url,status:rt.status,headers:rt.headers,message:ol,durationMs:Date.now()-Ot})),this.makeStatusError(rt.status,la,ol,rt.headers)}return(0,fe.loggerFor)(this).info(ur),(0,fe.loggerFor)(this).debug(`[${it}] response start`,(0,fe.formatRequestDetails)({retryOfRequestLogID:ge,url:rt.url,status:rt.status,headers:rt.headers,durationMs:Mt-Ot})),{response:rt,options:Re,controller:Vn,requestLogID:it,retryOfRequestLogID:ge,startTime:Ot}}getAPIList(W,pe,ge){return this.requestAPIList(pe,{method:"get",path:W,...ge})}requestAPIList(W,pe){const ge=this.makeRequest(pe,null,void 0);return new A.PagePromise(this,ge,W)}async fetchWithTimeout(W,pe,ge,Re){const{signal:Ue,method:nt,...Le}=pe||{};Ue&&Ue.addEventListener("abort",()=>Re.abort());const bt=setTimeout(()=>Re.abort(),ge),it=globalThis.ReadableStream&&Le.body instanceof globalThis.ReadableStream||typeof Le.body=="object"&&Le.body!==null&&Symbol.asyncIterator in Le.body,jt={signal:Re.signal,...it?{duplex:"half"}:{},method:"GET",...Le};nt&&(jt.method=nt.toUpperCase());try{return await this.fetch.call(void 0,W,jt)}finally{clearTimeout(bt)}}async shouldRetry(W){const pe=W.headers.get("x-should-retry");return pe==="true"?!0:pe==="false"?!1:W.status===408||W.status===409||W.status===429||W.status>=500}async retryRequest(W,pe,ge,Re){let Ue;const nt=Re?.get("retry-after-ms");if(nt){const bt=parseFloat(nt);Number.isNaN(bt)||(Ue=bt)}const Le=Re?.get("retry-after");if(Le&&!Ue){const bt=parseFloat(Le);Number.isNaN(bt)?Ue=Date.parse(Le)-Date.now():Ue=bt*1e3}if(!(Ue&&0<=Ue&&Ue<60*1e3)){const bt=W.maxRetries??this.maxRetries;Ue=this.calculateDefaultRetryTimeoutMillis(pe,bt)}return await(0,d.sleep)(Ue),this.makeRequest(W,pe-1,ge)}calculateDefaultRetryTimeoutMillis(W,pe){const Ue=pe-W,nt=Math.min(.5*Math.pow(2,Ue),8),Le=1-Math.random()*.25;return nt*Le*1e3}async buildRequest(W,{retryCount:pe=0}={}){const ge={...W},{method:Re,path:Ue,query:nt,defaultBaseURL:Le}=ge,bt=this.buildURL(Ue,nt,Le);"timeout"in ge&&(0,f.validatePositiveInteger)("timeout",ge.timeout),ge.timeout=ge.timeout??this.timeout;const{bodyHeaders:it,body:jt}=this.buildBody({options:ge}),Ot=await this.buildHeaders({options:W,method:Re,bodyHeaders:it,retryCount:pe});return{req:{method:Re,headers:Ot,...ge.signal&&{signal:ge.signal},...globalThis.ReadableStream&&jt instanceof globalThis.ReadableStream&&{duplex:"half"},...jt&&{body:jt},...this.fetchOptions??{},...ge.fetchOptions??{}},url:bt,timeout:ge.timeout}}async buildHeaders({options:W,method:pe,bodyHeaders:ge,retryCount:Re}){let Ue={};this.idempotencyHeader&&pe!=="get"&&(W.idempotencyKey||(W.idempotencyKey=this.defaultIdempotencyKey()),Ue[this.idempotencyHeader]=W.idempotencyKey);const nt=(0,re.buildHeaders)([Ue,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(Re),...W.timeout?{"X-Stainless-Timeout":String(Math.trunc(W.timeout/1e3))}:{},...(0,o.getPlatformHeaders)(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(W),this._options.defaultHeaders,ge,W.headers]);return this.validateHeaders(nt),nt.values}buildBody({options:{body:W,headers:pe}}){if(!W)return{bodyHeaders:void 0,body:void 0};const ge=(0,re.buildHeaders)([pe]);return ArrayBuffer.isView(W)||W instanceof ArrayBuffer||W instanceof DataView||typeof W=="string"&&ge.values.has("content-type")||globalThis.Blob&&W instanceof globalThis.Blob||W instanceof FormData||W instanceof URLSearchParams||globalThis.ReadableStream&&W instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:W}:typeof W=="object"&&(Symbol.asyncIterator in W||Symbol.iterator in W&&"next"in W&&typeof W.next=="function")?{bodyHeaders:void 0,body:u.ReadableStreamFrom(W)}:h.__classPrivateFieldGet(this,r,"f").call(this,{body:W,headers:ge})}}return io.OpenAI=ne,s=ne,r=new WeakMap,i=new WeakSet,c=function(){return this.baseURL!=="https://api.openai.com/v1"},ne.OpenAI=s,ne.DEFAULT_TIMEOUT=6e5,ne.OpenAIError=b.OpenAIError,ne.APIError=b.APIError,ne.APIConnectionError=b.APIConnectionError,ne.APIConnectionTimeoutError=b.APIConnectionTimeoutError,ne.APIUserAbortError=b.APIUserAbortError,ne.NotFoundError=b.NotFoundError,ne.ConflictError=b.ConflictError,ne.RateLimitError=b.RateLimitError,ne.BadRequestError=b.BadRequestError,ne.AuthenticationError=b.AuthenticationError,ne.InternalServerError=b.InternalServerError,ne.PermissionDeniedError=b.PermissionDeniedError,ne.UnprocessableEntityError=b.UnprocessableEntityError,ne.InvalidWebhookSignatureError=b.InvalidWebhookSignatureError,ne.toFile=w.toFile,ne.Completions=E.Completions,ne.Chat=q.Chat,ne.Embeddings=H.Embeddings,ne.Files=M.Files,ne.Images=x.Images,ne.Audio=ee.Audio,ne.Moderations=$.Moderations,ne.Models=P.Models,ne.FineTuning=B.FineTuning,ne.Graders=ue.Graders,ne.VectorStores=le.VectorStores,ne.Webhooks=G.Webhooks,ne.Beta=X.Beta,ne.Batches=R.Batches,ne.Uploads=F.Uploads,ne.Responses=N.Responses,ne.Realtime=ce.Realtime,ne.Conversations=I.Conversations,ne.Evals=k.Evals,ne.Containers=U.Containers,ne.Videos=V.Videos,io}var jc={},$0;function Jx(){if($0)return jc;$0=1;var i={};Object.defineProperty(jc,"__esModule",{value:!0}),jc.AzureOpenAI=void 0;const s=$e(),r=_t(),c=s.__importStar(Gn()),h=Yu(),p=rp();class f extends p.OpenAI{constructor({baseURL:o=(0,h.readEnv)("OPENAI_BASE_URL"),apiKey:u=(0,h.readEnv)("AZURE_OPENAI_API_KEY"),apiVersion:m=(0,h.readEnv)("OPENAI_API_VERSION"),endpoint:v,deployment:_,azureADTokenProvider:b,dangerouslyAllowBrowser:A,...w}={}){if(!m)throw new c.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if(typeof b=="function"&&(A=!0),!b&&!u)throw new c.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(b&&u)throw new c.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(w.defaultQuery={...w.defaultQuery,"api-version":m},o){if(v)throw new c.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(v||(v=i.AZURE_OPENAI_ENDPOINT),!v)throw new c.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");o=`${v}/openai`}super({apiKey:b??u,baseURL:o,...w,...A!==void 0?{dangerouslyAllowBrowser:A}:{}}),this.apiVersion="",this.apiVersion=m,this.deploymentName=_}async buildRequest(o,u={}){if(d.has(o.path)&&o.method==="post"&&o.body!==void 0){if(!(0,h.isObj)(o.body))throw new Error("Expected request body to be an object");const m=this.deploymentName||o.body.model||o.__metadata?.model;m!==void 0&&!this.baseURL.includes("/deployments")&&(o.path=`/deployments/${m}${o.path}`)}return super.buildRequest(o,u)}async authHeaders(o){return typeof this._options.apiKey=="string"?(0,r.buildHeaders)([{"api-key":this.apiKey}]):super.authHeaders(o)}}jc.AzureOpenAI=f;const d=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"]);return jc}var D0;function Zu(){return D0||(D0=1,(function(i,s){s=i.exports=function(...o){return new s.default(...o)},Object.defineProperty(s,"__esModule",{value:!0}),s.AzureOpenAI=s.InvalidWebhookSignatureError=s.UnprocessableEntityError=s.PermissionDeniedError=s.InternalServerError=s.AuthenticationError=s.BadRequestError=s.RateLimitError=s.ConflictError=s.NotFoundError=s.APIUserAbortError=s.APIConnectionTimeoutError=s.APIConnectionError=s.APIError=s.OpenAIError=s.PagePromise=s.OpenAI=s.APIPromise=s.toFile=s.default=void 0;var r=rp();Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.OpenAI}});var c=z1();Object.defineProperty(s,"toFile",{enumerable:!0,get:function(){return c.toFile}});var h=Cp();Object.defineProperty(s,"APIPromise",{enumerable:!0,get:function(){return h.APIPromise}});var p=rp();Object.defineProperty(s,"OpenAI",{enumerable:!0,get:function(){return p.OpenAI}});var f=mt();Object.defineProperty(s,"PagePromise",{enumerable:!0,get:function(){return f.PagePromise}});var d=Ys();Object.defineProperty(s,"OpenAIError",{enumerable:!0,get:function(){return d.OpenAIError}}),Object.defineProperty(s,"APIError",{enumerable:!0,get:function(){return d.APIError}}),Object.defineProperty(s,"APIConnectionError",{enumerable:!0,get:function(){return d.APIConnectionError}}),Object.defineProperty(s,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return d.APIConnectionTimeoutError}}),Object.defineProperty(s,"APIUserAbortError",{enumerable:!0,get:function(){return d.APIUserAbortError}}),Object.defineProperty(s,"NotFoundError",{enumerable:!0,get:function(){return d.NotFoundError}}),Object.defineProperty(s,"ConflictError",{enumerable:!0,get:function(){return d.ConflictError}}),Object.defineProperty(s,"RateLimitError",{enumerable:!0,get:function(){return d.RateLimitError}}),Object.defineProperty(s,"BadRequestError",{enumerable:!0,get:function(){return d.BadRequestError}}),Object.defineProperty(s,"AuthenticationError",{enumerable:!0,get:function(){return d.AuthenticationError}}),Object.defineProperty(s,"InternalServerError",{enumerable:!0,get:function(){return d.InternalServerError}}),Object.defineProperty(s,"PermissionDeniedError",{enumerable:!0,get:function(){return d.PermissionDeniedError}}),Object.defineProperty(s,"UnprocessableEntityError",{enumerable:!0,get:function(){return d.UnprocessableEntityError}}),Object.defineProperty(s,"InvalidWebhookSignatureError",{enumerable:!0,get:function(){return d.InvalidWebhookSignatureError}});var l=Jx();Object.defineProperty(s,"AzureOpenAI",{enumerable:!0,get:function(){return l.AzureOpenAI}})})(Su,Su.exports)),Su.exports}var Ps={};const Qx={},Wx=Object.freeze(Object.defineProperty({__proto__:null,default:Qx},Symbol.toStringTag,{value:"Module"})),U0=kS(Wx);var B0;function Xu(){if(B0)return Ps;B0=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.isFsModuleAvailable=Ps.isRunningInBrowser=Ps.getBrowserInfo=void 0;function i(){if(typeof navigator>"u"||!navigator)return null;const c=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:h,pattern:p}of c){const f=p.exec(navigator.userAgent);if(f){const d=f[1]||0,l=f[2]||0,o=f[3]||0;return{browser:h,version:`${d}.${l}.${o}`}}}return null}Ps.getBrowserInfo=i;const s=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";Ps.isRunningInBrowser=s;const r=()=>{try{return!0}catch{return!1}};return Ps.isFsModuleAvailable=r,Ps}var L0;function ke(){return L0||(L0=1,(function(i){var s={},r=Ki&&Ki.__awaiter||function(M,x,P,$){function V(G){return G instanceof P?G:new P(function(ee){ee(G)})}return new(P||(P=Promise))(function(G,ee){function X(I){try{U($.next(I))}catch(k){ee(k)}}function q(I){try{U($.throw(I))}catch(k){ee(k)}}function U(I){I.done?G(I.value):V(I.value).then(X,q)}U(($=$.apply(M,x||[])).next())})},c=Ki&&Ki.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(i,"__esModule",{value:!0}),i.setApiKey=i.setBaseURL=i.toQueryParams=i.initOpenAIClient=i.defaultHeadersBuilder=i.portkeyHeaders=i.finalResponse=i.parseBody=i.overrideConfig=i.getPortkeyHeader=i.isEmpty=i.castToError=i.readEnv=i.getPlatformProperties=void 0;const h=nn(),p=M1(),f=c(Zu()),d=Xu(),l=()=>{if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{[`${h.PORTKEY_HEADER_PREFIX}runtime`]:"node",[`${h.PORTKEY_HEADER_PREFIX}runtime-version`]:process.version};const M=(0,d.getBrowserInfo)();return M?{[`${h.PORTKEY_HEADER_PREFIX}runtime`]:`browser: ${M.browser}`,[`${h.PORTKEY_HEADER_PREFIX}runtime-version`]:M.version}:{}};i.getPlatformProperties=l;const o=M=>{var x,P;if(typeof process<"u")return(P=(x=s)===null||x===void 0?void 0:x[M])!==null&&P!==void 0?P:void 0};i.readEnv=o;const u=M=>M instanceof Error?M:new Error(M);i.castToError=u;const m=M=>!!(M==null||typeof M=="string"&&M.trim().length===0||Array.isArray(M)&&M.length===0||typeof M=="object"&&Object.keys(M).length===0);i.isEmpty=m;const v=M=>`${h.PORTKEY_HEADER_PREFIX}${M}`;i.getPortkeyHeader=v;const _=(M,x)=>(0,i.isEmpty)(x)?M:x;i.overrideConfig=_;const b=M=>{if((0,i.isEmpty)(M))return{};const x={};for(let P in M){const $=M[P];P=P.replace("ID","Id").replace(/[A-Z]/g,V=>`_${V.toLowerCase()}`),x[P]=$}return x};i.parseBody=b;function A(M){var x;const P=w(M.response.headers);return Object.assign(Object.assign({},((x=M.data)===null||x===void 0?void 0:x.body)||M.data),{getHeaders:()=>P})}i.finalResponse=A;function w(M){const x=(0,p.createResponseHeaders)(M),P=h.PORTKEY_HEADER_PREFIX,$=Object.entries(x).filter(([V,G])=>V.startsWith(P)).map(([V,G])=>[V.replace(P,""),G]);return Object.fromEntries($)}i.portkeyHeaders=w;function O(M){const x=M.customHeaders,P=M.portkeyHeaders;return Object.prototype.hasOwnProperty.call(x,"authorization")&&!x.authorization.startsWith("Bearer")&&(M.customHeaders.authorization="Bearer "+M.customHeaders.authorization),Object.assign(Object.assign({},x),P)}i.defaultHeadersBuilder=O;function S(M){var x;return new f.default({apiKey:M.apiKey||(0,i.readEnv)("OPENAI_API_KEY")||h.OPEN_AI_API_KEY,baseURL:M.baseURL,defaultHeaders:O(M),maxRetries:0,dangerouslyAllowBrowser:(x=M.dangerouslyAllowBrowser)!==null&&x!==void 0?x:!1,fetch:(P,$)=>r(this,void 0,void 0,function*(){var V,G;const ee=Object.assign(Object.assign({},$),$?.body&&typeof((V=$.body)===null||V===void 0?void 0:V.pipe)=="function"&&{duplex:"half"});if(ee.body&&((G=ee.body.constructor)===null||G===void 0?void 0:G.name)==="FormData"){if(ee.headers instanceof Headers)ee.headers.delete("Content-Type");else if(ee.headers&&"Content-Type"in ee.headers&&typeof ee.headers=="object"){const U=ee.headers;delete U["Content-Type"]}}let X=!1,q;try{q=yield fetch(P,ee)}catch{X=!0}if(X||q&&!q.ok&&M._shouldRetry(q))return yield fetch(P,ee);if(q)return q;throw(0,i.castToError)(q)})})}i.initOpenAIClient=S;function R(M){if(!M)return"";const x=Object.entries(M).filter(([,P])=>P!=null).map(([P,$])=>`${P}=${$}`).join("&");return x?`?${x}`:""}i.toQueryParams=R;function E(M,x){return M||(x?h.PORTKEY_BASE_URL:h.LOCAL_BASE_URL)}i.setBaseURL=E;function H(M,x){if(x)return x;if(M===h.PORTKEY_BASE_URL&&!x)throw(0,i.castToError)(h.MISSING_API_KEY_ERROR_MESSAGE)}i.setApiKey=H})(Ki)),Ki}var Ac={},F0;function De(){if(F0)return Ac;F0=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.createHeaders=void 0;const i=ke(),s=r=>{const c={};let h=[];r.forwardHeaders&&(h=r.forwardHeaders.map(p=>p.replace("ID","Id").replace(/[A-Z]/g,f=>`-${f.toLowerCase()}`)));for(let p in r){let f=r[p];if(!(0,i.isEmpty)(f)){if(p.toLocaleLowerCase()==="authorization"){c[p.toLowerCase()]=f||"";continue}typeof f=="boolean"&&(f=f.toString()),p==="forwardHeaders"&&(f=f.join(",")),p=p.replace("ID","Id").replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`),!(0,i.isEmpty)(f)&&typeof f=="object"&&(f=JSON.stringify(f)),h&&h.includes(p)?c[p]=f||"":c[(0,i.getPortkeyHeader)(p)]=f||""}}return c};return Ac.createHeaders=s,Ac}var G0;function eE(){if(G0)return Ms;G0=1;var i=Ms&&Ms.__awaiter||function(l,o,u,m){function v(_){return _ instanceof u?_:new u(function(b){b(_)})}return new(u||(u=Promise))(function(_,b){function A(S){try{O(m.next(S))}catch(R){b(R)}}function w(S){try{O(m.throw(S))}catch(R){b(R)}}function O(S){S.done?_(S.value):v(S.value).then(A,w)}O((m=m.apply(l,o||[])).next())})};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.ChatCompletionsMessages=Ms.Chat=void 0;const s=Be(),r=nn(),c=ke(),h=De();class p extends s.ApiResource{constructor(){super(...arguments),this.completions=new f(this.client)}}Ms.Chat=p;class f extends s.ApiResource{constructor(){super(...arguments),this.messages=new d(this.client)}create(o,u,m){var v;const _=o;if(u){const A=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const b=(v=o.stream)!==null&&v!==void 0?v:!1;return this.post(r.CHAT_COMPLETE_API,Object.assign(Object.assign({body:_},m),{stream:b}))}retrieve(o,u,m){if(u){const v=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},u),{config:v})))}return this.getMethod(`${r.CHAT_COMPLETE_API}/${o}`,Object.assign({},m))}update(o,u,m,v){const _=u;if(m){const b=(0,c.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},m),{config:b})))}return this.post(`${r.CHAT_COMPLETE_API}/${o}`,Object.assign({body:_},v))}list(o,u,m){if(u){const v=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},u),{config:v})))}return this.getMethod(`${r.CHAT_COMPLETE_API}`,Object.assign(Object.assign({},m),o))}delete(o,u,m){if(u){const v=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},u),{config:v})))}return this.deleteMethod(`${r.CHAT_COMPLETE_API}/${o}`,Object.assign({},m))}parse(o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return yield(0,c.initOpenAIClient)(this.client).responses.parse(o,m)})}stream(o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return yield(0,c.initOpenAIClient)(this.client).chat.completions.stream(o,m)})}runTools(o,u,m){if(u){const b=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return(0,c.initOpenAIClient)(this.client).chat.completions.runTools(o,m)}}class d extends s.ApiResource{list(o,u,m,v){if(m){const _=(0,c.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},m),{config:_})))}return this.getMethod(`${r.CHAT_COMPLETE_API}/${o}/messages`,Object.assign(Object.assign({},v),u))}}return Ms.ChatCompletionsMessages=d,Ms}var Sc={},V0;function tE(){if(V0)return Sc;V0=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.Completions=void 0;const i=Be(),s=nn(),r=ke(),c=De();class h extends i.ApiResource{create(f,d,l){var o;const u=f;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const m=(o=f.stream)!==null&&o!==void 0?o:!1;return this.client.responseHeaders,this.post(s.TEXT_COMPLETE_API,Object.assign(Object.assign({body:u},l),{stream:m}))}}return Sc.Completions=h,Sc}var wc={},K0;function nE(){if(K0)return wc;K0=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.Feedback=void 0;const i=Be(),s=nn(),r=ke(),c=De();class h extends i.ApiResource{create(f,d,l){const o=f;if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return this.post(s.FEEDBACK_API,Object.assign({body:o},l))}update(f,d,l){const o=f,u=f.feedbackID;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}return this.put(s.FEEDBACK_API+"/"+u,Object.assign({body:o},l))}}return wc.Feedback=h,wc}var Qt={},Y0;function sE(){if(Y0)return Qt;Y0=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.PromptCompletions=Qt.PromptPartialsVersions=Qt.Partials=Qt.PromptVersions=Qt.Prompt=Qt.Generations=void 0;const i=nn(),s=Be(),r=ke(),c=De();class h extends s.ApiResource{create(m,v){console.warn("This API has been deprecated. Please use the Prompt API for the saved prompt.");const b={variables:m.variables};return this.post(`/v1/prompts/${m.promptID}/generate`,Object.assign({body:b},v))}}Qt.Generations=h;class p extends s.ApiResource{constructor(m){super(m),this.completions=new o(m),this.versions=new f(m),this.partials=new d(m)}render(m,v,_){const b=m,A=m.promptID;if(v){const O=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:O})))}return this.post(`/prompts/${A}/render`,Object.assign({body:b},_))}create(m,v,_){const b=m;if(v){const w=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:w})))}return this.post(i.PROMPTS_API,Object.assign({body:b},_))}list(m,v,_){const b=m?(0,r.toQueryParams)(m):"";if(v){const w=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:w})))}return this.getMethod(`${i.PROMPTS_API}${b}`,Object.assign({},_))}retrieve(m,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.getMethod(`${i.PROMPTS_API}/${m}`,Object.assign({},_))}update(m,v,_,b){const A=v;if(_){const O=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:O})))}return this.put(`${i.PROMPTS_API}/${m}`,Object.assign({body:A},b))}delete(m,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.deleteMethod(`${i.PROMPTS_API}/${m}`,Object.assign({},_))}publish(m,v,_,b){if(_){const w=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:w})))}return this.put(`${i.PROMPTS_API}/${m}/makeDefault`,Object.assign({body:v},b))}}Qt.Prompt=p;class f extends s.ApiResource{list(m,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.getMethod(`${i.PROMPTS_API}/${m}/versions`,Object.assign({},_))}retrieve(m,v,_,b){if(_){const w=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:w})))}return this.getMethod(`${i.PROMPTS_API}/${m}/versions/${v}`,Object.assign({},b))}update(m,v,_,b,A){if(b){const O=(0,r.overrideConfig)(this.client.config,b.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},b),{config:O})))}return this.put(`${i.PROMPTS_API}/${m}/versions/${v}`,Object.assign({body:_},A))}}Qt.PromptVersions=f;class d extends s.ApiResource{constructor(m){super(m),this.versions=new l(m)}create(m,v,_){const b=m;if(v){const w=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:w})))}return this.post(`${i.PROMPT_PARTIALS_API}`,Object.assign({body:b},_))}list(m,v,_){const b=m?(0,r.toQueryParams)(m):"";if(v){const w=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:w})))}return this.getMethod(`${i.PROMPT_PARTIALS_API}${b}`,Object.assign({},_))}retrieve(m,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.getMethod(`${i.PROMPT_PARTIALS_API}/${m}`,Object.assign({},_))}update(m,v,_,b){if(_){const w=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:w})))}return this.put(`${i.PROMPT_PARTIALS_API}/${m}`,Object.assign({body:v},b))}delete(m,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.deleteMethod(`${i.PROMPT_PARTIALS_API}/${m}`,Object.assign({},_))}publish(m,v,_,b){if(_){const w=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:w})))}return this.put(`${i.PROMPT_PARTIALS_API}/${m}/makeDefault`,Object.assign({body:v},b))}}Qt.Partials=d;class l extends s.ApiResource{list(m,v,_){if(v){const A=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:A})))}return this.getMethod(`${i.PROMPT_PARTIALS_API}/${m}/versions`,Object.assign({},_))}}Qt.PromptPartialsVersions=l;class o extends s.ApiResource{create(m,v,_){var b;if(v){const R=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:R})))}const A=m.promptID,w=m,O=(b=m.stream)!==null&&b!==void 0?b:!1;return delete w.promptID,w.stream=O,this.post(`/prompts/${A}/completions`,Object.assign(Object.assign({body:w},_),{stream:O}))}}return Qt.PromptCompletions=o,Qt}var Cc={},Z0;function iE(){if(Z0)return Cc;Z0=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.postMethod=void 0;const i=Be(),s=ke(),r=De();let c=class extends i.ApiResource{create(p,f,d,l){const o=f;if(d){const m=(0,s.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return this.post(p,Object.assign({body:o},l))}};return Cc.postMethod=c,Cc}var Rc={},X0;function rE(){if(X0)return Rc;X0=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.getMethod=void 0;const i=Be(),s=ke(),r=De();let c=class extends i.ApiResource{create(p,f,d){if(f){const o=(0,s.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},f),{config:o})))}return this.getMethod(p,Object.assign({},d))}};return Rc.getMethod=c,Rc}var xc={},J0;function aE(){if(J0)return xc;J0=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.deleteMethod=void 0;const i=Be(),s=ke(),r=De();let c=class extends i.ApiResource{create(p,f,d){if(f){const o=(0,s.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},f),{config:o})))}return this.deleteMethod(p,Object.assign({},d))}};return xc.deleteMethod=c,xc}var Ec={},Q0;function oE(){if(Q0)return Ec;Q0=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.putMethod=void 0;const i=Be(),s=ke(),r=De();let c=class extends i.ApiResource{create(p,f,d,l){const o=f;if(d){const m=(0,s.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return this.put(p,Object.assign({body:o},l))}};return Ec.putMethod=c,Ec}var Tc={},W0;function cE(){if(W0)return Tc;W0=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.Embeddings=void 0;const i=Be(),s=nn(),r=ke(),c=De();class h extends i.ApiResource{create(f,d,l){const o=f;if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return this.post(s.EMBEDDINGS_API,Object.assign({body:o},l))}}return Tc.Embeddings=h,Tc}var Xi={},eO;function lE(){if(eO)return Xi;eO=1;var i=Xi&&Xi.__awaiter||function(p,f,d,l){function o(u){return u instanceof d?u:new d(function(m){m(u)})}return new(d||(d=Promise))(function(u,m){function v(A){try{b(l.next(A))}catch(w){m(w)}}function _(A){try{b(l.throw(A))}catch(w){m(w)}}function b(A){A.done?u(A.value):o(A.value).then(v,_)}b((l=l.apply(p,f||[])).next())})};Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Images=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{generate(f,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}const o=(0,r.initOpenAIClient)(this.client);return f.stream?o.images.generate(f,l):o.images.generate(f,l).withResponse().then(m=>(0,r.finalResponse)(m))}edit(f,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}const o=(0,r.initOpenAIClient)(this.client);return f.stream?o.images.edit(f,l):o.images.edit(f,l).withResponse().then(m=>(0,r.finalResponse)(m))}createVariation(f,d,l){return i(this,void 0,void 0,function*(){const o=f;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).images.createVariation(o,l).withResponse();return(0,r.finalResponse)(m)})}}return Xi.Images=h,Xi}var Ji={},tO;function uE(){if(tO)return Ji;tO=1;var i=Ji&&Ji.__awaiter||function(p,f,d,l){function o(u){return u instanceof d?u:new d(function(m){m(u)})}return new(d||(d=Promise))(function(u,m){function v(A){try{b(l.next(A))}catch(w){m(w)}}function _(A){try{b(l.throw(A))}catch(w){m(w)}}function b(A){A.done?u(A.value):o(A.value).then(v,_)}b((l=l.apply(p,f||[])).next())})};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.Assistants=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{create(f,d,l){return i(this,void 0,void 0,function*(){const o=f;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).beta.assistants.create(o,l).withResponse();return(0,r.finalResponse)(m)})}list(f,d,l){return i(this,void 0,void 0,function*(){const o=f;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).beta.assistants.list(o,l).withResponse();return(0,r.finalResponse)(m)})}retrieve(f,d,l){return i(this,void 0,void 0,function*(){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}const u=yield(0,r.initOpenAIClient)(this.client).beta.assistants.retrieve(f,l).withResponse();return(0,r.finalResponse)(u)})}update(f,d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).beta.assistants.update(f,u,o).withResponse();return(0,r.finalResponse)(v)})}delete(f,d,l){return i(this,void 0,void 0,function*(){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}const u=yield(0,r.initOpenAIClient)(this.client).beta.assistants.delete(f,l).withResponse();return(0,r.finalResponse)(u)})}}return Ji.Assistants=h,Ji}var An={},nO;function dE(){if(nO)return An;nO=1;var i=An&&An.__awaiter||function(l,o,u,m){function v(_){return _ instanceof u?_:new u(function(b){b(_)})}return new(u||(u=Promise))(function(_,b){function A(S){try{O(m.next(S))}catch(R){b(R)}}function w(S){try{O(m.throw(S))}catch(R){b(R)}}function O(S){S.done?_(S.value):v(S.value).then(A,w)}O((m=m.apply(l,o||[])).next())})};Object.defineProperty(An,"__esModule",{value:!0}),An.Steps=An.Runs=An.Messages=An.Threads=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{constructor(o){super(o),this.messages=new p(o),this.runs=new f(o)}create(o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).beta.threads.create(v,m).withResponse();return(0,r.finalResponse)(b)})}retrieve(o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.threads.retrieve(o,m).withResponse();return(0,r.finalResponse)(_)})}update(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.update(o,_,v).withResponse();return(0,r.finalResponse)(A)})}delete(o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.threads.delete(o,m).withResponse();return(0,r.finalResponse)(_)})}createAndRun(o,u,m){return i(this,void 0,void 0,function*(){const v=o,{stream:_}=v;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const b=(0,r.initOpenAIClient)(this.client);if(_===!0)return yield b.beta.threads.createAndRunStream(v,m);{const A=yield b.beta.threads.createAndRun(v,m).withResponse();return(0,r.finalResponse)(A)}})}createAndRunPoll(o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.createAndRunPoll(v,m)})}createAndRunStream(o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.createAndRunStream(v,m)})}}An.Threads=h;class p extends s.ApiResource{create(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.create(o,_,v).withResponse();return(0,r.finalResponse)(A)})}list(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.list(o,_,v).withResponse();return(0,r.finalResponse)(A)})}retrieve(o,{thread_id:u},m,v){return i(this,void 0,void 0,function*(){if(m){const A=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.retrieve(o,{thread_id:u},v).withResponse();return(0,r.finalResponse)(b)})}update(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.update(o,_,v).withResponse();return(0,r.finalResponse)(A)})}delete(o,{thread_id:u},m,v){return i(this,void 0,void 0,function*(){if(m){const A=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).beta.threads.messages.delete(o,{thread_id:u},v).withResponse();return(0,r.finalResponse)(b)})}}An.Messages=p;class f extends s.ApiResource{constructor(o){super(o),this.steps=new d(o)}create(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u,{stream:b}=_;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}const A=(0,r.initOpenAIClient)(this.client);if(b===!0)return yield A.beta.threads.runs.stream(o,_,v);{const w=yield A.beta.threads.runs.create(o,_,v).withResponse();return(0,r.finalResponse)(w)}})}list(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.list(o,_,v).withResponse();return(0,r.finalResponse)(A)})}retrieve(o,{thread_id:u},m,v){return i(this,void 0,void 0,function*(){if(m){const A=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.retrieve(o,{thread_id:u},v).withResponse();return(0,r.finalResponse)(b)})}update(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.update(o,_,v).withResponse();return(0,r.finalResponse)(A)})}submitToolOutputs(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.submitToolOutputs(o,_,v).withResponse();return(0,r.finalResponse)(A)})}submitToolOutputsAndPoll(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.submitToolOutputsAndPoll(o,_,v)})}submitToolOutputsStream(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.submitToolOutputsStream(o,_,v)})}cancel(o,{thread_id:u},m,v){return i(this,void 0,void 0,function*(){if(m){const O=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:O})))}const _=(0,r.initOpenAIClient)(this.client),A=Object.assign({body:{}},v),w=yield _.beta.threads.runs.cancel(o,{thread_id:u},A).withResponse();return(0,r.finalResponse)(w)})}createAndPoll(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.createAndPoll(o,_,v)})}createAndStream(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.createAndStream(o,_,v)})}poll(o,{thread_id:u},m,v){return i(this,void 0,void 0,function*(){if(m){const A=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.poll(o,{thread_id:u},v)})}stream(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}return yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.stream(o,_,v)})}}An.Runs=f;class d extends s.ApiResource{list(o,u,m,v){return i(this,void 0,void 0,function*(){const _=u;if(m){const w=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:w})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.steps.list(o,_,v).withResponse();return(0,r.finalResponse)(A)})}retrieve(o,{thread_id:u,run_id:m},v,_){return i(this,void 0,void 0,function*(){if(v){const w=(0,r.overrideConfig)(this.client.config,v.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},v),{config:w})))}const A=yield(0,r.initOpenAIClient)(this.client).beta.threads.runs.steps.retrieve(o,{thread_id:u,run_id:m},_).withResponse();return(0,r.finalResponse)(A)})}}return An.Steps=d,An}var Qi={},sO;function fE(){if(sO)return Qi;sO=1;var i=Qi&&Qi.__awaiter||function(p,f,d,l){function o(u){return u instanceof d?u:new d(function(m){m(u)})}return new(d||(d=Promise))(function(u,m){function v(A){try{b(l.next(A))}catch(w){m(w)}}function _(A){try{b(l.throw(A))}catch(w){m(w)}}function b(A){A.done?u(A.value):o(A.value).then(v,_)}b((l=l.apply(p,f||[])).next())})};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.MainFiles=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{create(f,d,l){return i(this,void 0,void 0,function*(){const o=f;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).files.create(o,l).withResponse();return(0,r.finalResponse)(m)})}list(f,d,l){return i(this,void 0,void 0,function*(){const o=f;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).files.list(o,l).withResponse();return(0,r.finalResponse)(m)})}retrieve(f,d,l){return i(this,void 0,void 0,function*(){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}const u=yield(0,r.initOpenAIClient)(this.client).files.retrieve(f,l).withResponse();return(0,r.finalResponse)(u)})}delete(f,d,l){return i(this,void 0,void 0,function*(){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}const u=yield(0,r.initOpenAIClient)(this.client).files.delete(f,l).withResponse();return(0,r.finalResponse)(u)})}content(f,d,l){return i(this,void 0,void 0,function*(){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}const u=yield(0,r.initOpenAIClient)(this.client).files.content(f,l).withResponse();return(0,r.finalResponse)(u)})}retrieveContent(f,d,l){return i(this,void 0,void 0,function*(){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}const u=yield(0,r.initOpenAIClient)(this.client).files.content(f,l).withResponse();return(0,r.finalResponse)(u)})}waitForProcessing(f,d,l){return i(this,void 0,void 0,function*(){const o=d;if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return yield(0,r.initOpenAIClient)(this.client).files.waitForProcessing(f,Object.assign(Object.assign({},o.pollInterval!==void 0&&{pollInterval:o.pollInterval}),o.maxWait!==void 0&&{maxWait:o.maxWait}))})}}return Qi.MainFiles=h,Qi}var Wi={},iO;function hE(){if(iO)return Wi;iO=1;var i=Wi&&Wi.__awaiter||function(p,f,d,l){function o(u){return u instanceof d?u:new d(function(m){m(u)})}return new(d||(d=Promise))(function(u,m){function v(A){try{b(l.next(A))}catch(w){m(w)}}function _(A){try{b(l.throw(A))}catch(w){m(w)}}function b(A){A.done?u(A.value):o(A.value).then(v,_)}b((l=l.apply(p,f||[])).next())})};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.Models=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{list(f,d){return i(this,void 0,void 0,function*(){if(f){const u=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},f),{config:u})))}const o=yield(0,r.initOpenAIClient)(this.client).models.list(d).withResponse();return(0,r.finalResponse)(o)})}retrieve(f,d,l){return i(this,void 0,void 0,function*(){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}const u=yield(0,r.initOpenAIClient)(this.client).models.retrieve(f,l).withResponse();return(0,r.finalResponse)(u)})}delete(f,d,l){return i(this,void 0,void 0,function*(){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}const u=yield(0,r.initOpenAIClient)(this.client).models.delete(f,l).withResponse();return(0,r.finalResponse)(u)})}}return Wi.Models=h,Wi}var Sn={},rO;function pE(){if(rO)return Sn;rO=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.Member=Sn.Workspaces=Sn.Invites=Sn.Users=Sn.Admin=void 0;const i=Be(),s=De(),r=ke();class c extends i.ApiResource{constructor(o){super(o),this.users=new h(o),this.workspaces=new f(o)}}Sn.Admin=c;class h extends i.ApiResource{constructor(){super(...arguments),this.invites=new p(this.client)}retrieve(o,u,m){const _=o.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/users/${_}`,Object.assign({},m))}list(o,u,m){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const _=(0,r.toQueryParams)(v);return this.getMethod(`/admin/users${_}`,Object.assign({},m))}update(o,u,m){const v=o,_=v.userId;return delete v.userId,u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.put(`/admin/users/${_}`,Object.assign({body:v},m))}delete(o,u,m){const v=o,_=v.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/users/${_}`,Object.assign({body:v},m))}}Sn.Users=h;class p extends i.ApiResource{create(o,u,m){const v=o;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post("/admin/users/invites",Object.assign({body:v},m))}retrieve(o,u,m){const _=o.inviteId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/users/invites/${_}`,Object.assign({},m))}list(o,u,m){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const _=v?(0,r.toQueryParams)(v):"";return this.getMethod(`/admin/users/invites${_}`,Object.assign({},m))}delete(o,u,m){const v=o,_=v.inviteId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/users/invites/${_}`,Object.assign({body:v},m))}resend(o,u,m){const _=o.inviteId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post(`/admin/users/invites/${_}/resend`,Object.assign({},m))}}Sn.Invites=p;class f extends i.ApiResource{constructor(){super(...arguments),this.users=new d(this.client)}create(o,u,m){const v=o;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post("/admin/workspaces",Object.assign({body:v},m))}retrieve(o,u,m){const _=o.workspaceId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/workspaces/${_}`,Object.assign({},m))}list(o,u,m){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const _=(0,r.toQueryParams)(v);return this.getMethod(`/admin/workspaces${_}`,Object.assign({},m))}update(o,u,m){const v=o,_=v.workspaceId;return delete v.workspaceId,u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.put(`/admin/workspaces/${_}`,Object.assign({body:v},m))}delete(o,u,m){const v=o,_=v.workspaceId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/workspaces/${_}`,Object.assign({body:v},m))}}Sn.Workspaces=f;class d extends i.ApiResource{create(o,u,m){const v=o,_=v.workspaceId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.post(`/admin/workspaces/${_}/users`,Object.assign({body:v},m))}retrieve(o,u,m){const v=o,_=v.workspaceId,b=v.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.getMethod(`/admin/workspaces/${_}/users/${b}`,Object.assign({},m))}list(o,u,m){const v=o,_=v.workspaceId;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u))));const b=(0,r.toQueryParams)(v);return this.getMethod(`/admin/workspaces/${_}/users${b}`,Object.assign({},m))}delete(o,u,m){const v=o,_=v.workspaceId,b=v.userId;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.deleteMethod(`/admin/workspaces/${_}/users/${b}`,Object.assign({body:v},m))}update(o,u,m){const v=o,_=v.workspaceId,b=v.userId;return delete v.workspaceId,u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},u)))),this.put(`/admin/workspaces/${_}/users/${b}`,Object.assign({body:v},m))}}return Sn.Member=d,Sn}var Ic={},aO;function mE(){if(aO)return Ic;aO=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.Configs=void 0;const i=Be(),s=De(),r=ke();class c extends i.ApiResource{constructor(p){super(p)}create(p,f,d){const l=p;return f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f)))),this.post("/configs",Object.assign({body:l},d))}retrieve(p,f,d){const o=p.slug;return f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f)))),this.getMethod(`/configs/${o}`,Object.assign({},d))}update(p,f,d){const l=p,o=l.slug;return f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f)))),this.put(`/configs/${o}`,Object.assign({body:l},d))}list(p,f,d){const l=p,o=(0,r.toQueryParams)(l);return f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f)))),this.getMethod(`/configs${o}`,Object.assign({},d))}delete(p,f,d){const l=p;let o="";return l.id?(o=l.id,console.warn('You are using "id" to delete a config. This will be deprecated in the future. Please use "slug" instead.')):l.slug&&(o=l.slug),f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f)))),this.deleteMethod(`/configs/${o}`,Object.assign({},d))}}return Ic.Configs=c,Ic}var er={},oO;function gE(){if(oO)return er;oO=1;var i=er&&er.__awaiter||function(p,f,d,l){function o(u){return u instanceof d?u:new d(function(m){m(u)})}return new(d||(d=Promise))(function(u,m){function v(A){try{b(l.next(A))}catch(w){m(w)}}function _(A){try{b(l.throw(A))}catch(w){m(w)}}function b(A){A.done?u(A.value):o(A.value).then(v,_)}b((l=l.apply(p,f||[])).next())})};Object.defineProperty(er,"__esModule",{value:!0}),er.Batches=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{create(f,d,l){return i(this,void 0,void 0,function*(){const o=f;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).batches.create(o,l).withResponse();return(0,r.finalResponse)(m)})}retrieve(f,d,l){return i(this,void 0,void 0,function*(){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}const u=yield(0,r.initOpenAIClient)(this.client).batches.retrieve(f,l).withResponse();return(0,r.finalResponse)(u)})}list(f,d,l){return i(this,void 0,void 0,function*(){const o=f;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).batches.list(o,l).withResponse();return(0,r.finalResponse)(m)})}cancel(f,d,l){return i(this,void 0,void 0,function*(){if(d){const _=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:_})))}const o=(0,r.initOpenAIClient)(this.client),m=Object.assign({body:{}},l),v=yield o.batches.cancel(f,m).withResponse();return(0,r.finalResponse)(v)})}output(f,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.getMethod(`/batches/${f}/output`,l)}}return er.Batches=h,er}var tr={},cO;function vE(){if(cO)return tr;cO=1;var i=tr&&tr.__rest||function(p,f){var d={};for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&f.indexOf(l)<0&&(d[l]=p[l]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(p);o<l.length;o++)f.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(p,l[o])&&(d[l[o]]=p[l[o]]);return d};Object.defineProperty(tr,"__esModule",{value:!0}),tr.VirtualKeys=void 0;const s=Be(),r=De(),c=ke();class h extends s.ApiResource{create(f,d,l){return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.post("/virtual-keys",Object.assign({body:f},l))}list(f,d,l){const o=f;d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d))));const u=(0,c.toQueryParams)(o);return this.getMethod(`/virtual-keys${u}`,Object.assign({},l))}retrieve(f,d,l){const{slug:o}=f;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.getMethod(`/virtual-keys/${o}`,Object.assign({},l))}update(f,d,l){const{slug:o}=f,u=i(f,["slug"]);return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.put(`/virtual-keys/${o}`,Object.assign({body:u},l))}delete(f,d,l){const{slug:o}=f;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},d)))),this.deleteMethod(`/virtual-keys/${o}`,Object.assign({},l))}}return tr.VirtualKeys=h,tr}var kt={},lO;function yE(){if(lO)return kt;lO=1;var i=kt&&kt.__awaiter||function(m,v,_,b){function A(w){return w instanceof _?w:new _(function(O){O(w)})}return new(_||(_=Promise))(function(w,O){function S(H){try{E(b.next(H))}catch(M){O(M)}}function R(H){try{E(b.throw(H))}catch(M){O(M)}}function E(H){H.done?w(H.value):A(H.value).then(S,R)}E((b=b.apply(m,v||[])).next())})};Object.defineProperty(kt,"__esModule",{value:!0}),kt.Permissions=kt.FineTuningCheckpoints=kt.Grader=kt.Alpha=kt.Checkpoints=kt.Jobs=kt.FineTuning=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{constructor(v){super(v),this.jobs=new p(v),this.checkpoints=new o(v),this.alpha=new d(v)}}kt.FineTuning=h;class p extends s.ApiResource{constructor(v){super(v),this.checkpoints=new f(v)}create(v,_,b){return i(this,void 0,void 0,function*(){const A=v;if(_){const S=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:S})))}const O=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.create(A,b).withResponse();return(0,r.finalResponse)(O)})}retrieve(v,_,b){return i(this,void 0,void 0,function*(){if(_){const O=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:O})))}const w=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.retrieve(v,b).withResponse();return(0,r.finalResponse)(w)})}list(v,_,b){return i(this,void 0,void 0,function*(){const A=v;if(_){const S=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:S})))}const O=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.list(A,b).withResponse();return(0,r.finalResponse)(O)})}cancel(v,_,b){return i(this,void 0,void 0,function*(){if(_){const R=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:R})))}const A=(0,r.initOpenAIClient)(this.client),O=Object.assign({body:{}},b),S=yield A.fineTuning.jobs.cancel(v,O).withResponse();return(0,r.finalResponse)(S)})}listEvents(v,_,b,A){return i(this,void 0,void 0,function*(){const w=_;if(b){const R=(0,r.overrideConfig)(this.client.config,b.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},b),{config:R})))}const S=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.listEvents(v,w,A).withResponse();return(0,r.finalResponse)(S)})}}kt.Jobs=p;class f extends s.ApiResource{list(v,_,b,A){return i(this,void 0,void 0,function*(){const w=_;if(b){const R=(0,r.overrideConfig)(this.client.config,b.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},b),{config:R})))}const S=yield(0,r.initOpenAIClient)(this.client).fineTuning.jobs.checkpoints.list(v,w,A).withResponse();return(0,r.finalResponse)(S)})}}kt.Checkpoints=f;class d extends s.ApiResource{constructor(v){super(v),this.grader=new l(v)}}kt.Alpha=d;class l extends s.ApiResource{run(v,_,b){return i(this,void 0,void 0,function*(){if(_){const O=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:O})))}const w=yield(0,r.initOpenAIClient)(this.client).fineTuning.alpha.graders.run(v,b).withResponse();return(0,r.finalResponse)(w)})}validate(v,_,b){return i(this,void 0,void 0,function*(){if(_){const O=(0,r.overrideConfig)(this.client.config,_.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},_),{config:O})))}const w=yield(0,r.initOpenAIClient)(this.client).fineTuning.alpha.graders.validate(v,b).withResponse();return(0,r.finalResponse)(w)})}}kt.Grader=l;class o extends s.ApiResource{constructor(v){super(v),this.permissions=new u(v)}}kt.FineTuningCheckpoints=o;class u extends s.ApiResource{create(v,_,b,A){return i(this,void 0,void 0,function*(){if(b){const S=(0,r.overrideConfig)(this.client.config,b.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},b),{config:S})))}const O=yield(0,r.initOpenAIClient)(this.client).fineTuning.checkpoints.permissions.create(v,_,A).withResponse();return(0,r.finalResponse)(O)})}retrieve(v,_,b,A){return i(this,void 0,void 0,function*(){if(b){const S=(0,r.overrideConfig)(this.client.config,b.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},b),{config:S})))}const O=yield(0,r.initOpenAIClient)(this.client).fineTuning.checkpoints.permissions.retrieve(v,_,A).withResponse();return(0,r.finalResponse)(O)})}delete(v,{fine_tuned_model_checkpoint:_},b,A){return i(this,void 0,void 0,function*(){if(b){const S=(0,r.overrideConfig)(this.client.config,b.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},b),{config:S})))}const O=yield(0,r.initOpenAIClient)(this.client).fineTuning.checkpoints.permissions.delete(v,{fine_tuned_model_checkpoint:_},A).withResponse();return(0,r.finalResponse)(O)})}}return kt.Permissions=u,kt}var nr={},uO;function _E(){if(uO)return nr;uO=1;var i=nr&&nr.__awaiter||function(p,f,d,l){function o(u){return u instanceof d?u:new d(function(m){m(u)})}return new(d||(d=Promise))(function(u,m){function v(A){try{b(l.next(A))}catch(w){m(w)}}function _(A){try{b(l.throw(A))}catch(w){m(w)}}function b(A){A.done?u(A.value):o(A.value).then(v,_)}b((l=l.apply(p,f||[])).next())})};Object.defineProperty(nr,"__esModule",{value:!0}),nr.Moderations=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{create(f,d,l){return i(this,void 0,void 0,function*(){const o=f;if(d){const v=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).moderations.create(o,l).withResponse();return(0,r.finalResponse)(m)})}}return nr.Moderations=h,nr}var Wt={},na={},dO;function bE(){if(dO)return na;dO=1;var i=na&&na.__awaiter||function(O,S,R,E){function H(M){return M instanceof R?M:new R(function(x){x(M)})}return new(R||(R=Promise))(function(M,x){function P(G){try{V(E.next(G))}catch(ee){x(ee)}}function $(G){try{V(E.throw(G))}catch(ee){x(ee)}}function V(G){G.done?M(G.value):H(G.value).then(P,$)}V((E=E.apply(O,S||[])).next())})};Object.defineProperty(na,"__esModule",{value:!0});const r=(0,Xu().isFsModuleAvailable)();let c,h,p,f,d;if(r)try{c=U0;const{promisify:O}=U0;h=O(c.open),p=O(c.read),f=O(c.stat),d=O(c.close)}catch{console.warn("File system operations not available in this environment")}function l(O){var S;return i(this,void 0,void 0,function*(){if(!r||!c)return null;try{const R=(S=O.split(".").pop())===null||S===void 0?void 0:S.toLowerCase(),H=(yield f(O)).size;switch(R){case"wav":return u(O);case"mp3":return m(O,H);case"mpga":return v(O,H);case"flac":return _(O);case"ogg":return b(O,H);case"mp4":case"m4a":return A(O);default:return null}}catch{return null}})}function o(O,S,R){return i(this,void 0,void 0,function*(){const E=yield h(O,"r"),H=Buffer.alloc(R);try{const{bytesRead:M}=yield p(E,H,0,R,S);return M<R?H.slice(0,M):H}finally{yield d(E)}})}function u(O){return i(this,void 0,void 0,function*(){try{const S=yield o(O,0,44);if(S.length<44)return null;const R=S.readUInt32LE(24),E=S.readUInt32LE(40),H=S.readUInt16LE(34),M=S.readUInt16LE(22),x=E/(R*M*(H/8));return Math.round(x*1e3).toString()}catch{return null}})}function m(O,S){return i(this,void 0,void 0,function*(){try{const R=yield o(O,0,Math.min(10240,S));if(R.length<128)return null;for(let E=0;E<R.length-4;E++)if(R[E]===255&&(R[E+1]&224)===224){const H=R[E+2]>>4&15,M=R[E+2]>>2&3,x=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320],P=[44100,48e3,32e3];if(H>=x.length||M>=P.length)continue;const $=Number(x[H]),V=Number(P[M]);if(!$||!V)continue;return(S*8/($*1e3)*1e3).toFixed(0)}}catch{}return null})}function v(O,S){var R,E;return i(this,void 0,void 0,function*(){try{const H=yield o(O,0,Math.min(10240,S));if(H.length<128)return null;for(let M=0;M<H.length-4;M++)if(H[M]===255&&(H[M+1]&240)===240){const x=H[M+2]>>4&15,P=H[M+2]>>2&3,$=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,0],V=[[44100,48e3,32e3,0],[22050,24e3,16e3,0],[11025,12e3,8e3,0]],G=H[M+1]>>3&3,ee=G===3?0:G===2?1:2;if(x===0||x>=$.length||P>=3||ee>=V.length||P>=((R=V[ee])===null||R===void 0?void 0:R.length))continue;const X=Number($[x]),q=Number((E=V[ee])===null||E===void 0?void 0:E[P]);if(!X||!q)continue;return(S*8/(X*1e3)*1e3).toFixed(0)}}catch{}return null})}function _(O){return i(this,void 0,void 0,function*(){try{if((yield o(O,0,4)).toString()!=="fLaC")return null;const R=yield o(O,4,102400);let E=0,H=!1,M=!1,x=0,P=0;for(;!H&&E<R.length&&!(E+4>R.length);){H=(R[E]&128)===128;const G=R[E]&127,ee=R.readUInt32BE(E)&16777215;if(E+=4,G===0&&E+18<=R.length){P=R[E+10]<<12|R[E+11]<<4|(R[E+12]&240)>>4,x=(R[E+13]&15)<<32|R[E+14]<<24|R[E+15]<<16|R[E+16]<<8|R[E+17],M=!0;break}E+=ee}if(!M||P===0)return null;const $=x/P;return Math.round($*1e3).toString()}catch{return null}})}function b(O,S){return i(this,void 0,void 0,function*(){try{if((yield o(O,0,4)).toString()!=="OggS")return null;const E=yield o(O,0,Math.min(1e4,S)),H=Math.min(10240,S),M=yield o(O,Math.max(0,S-H),H);let x=0,P=0;for(;P<E.length-7;){if(P+7<=E.length&&E.slice(P,P+7).toString()==="vorbis"&&P+16<E.length){x=E.readUInt32LE(P+12);break}P++}if(x===0)return null;let $=0;for(P=0;P<M.length-27;)if(P+4<=M.length&&M.slice(P,P+4).toString()==="OggS")if(P+14<M.length){const ee=Number(M.readBigInt64LE(P+6));if(ee>$&&($=ee),P+27>=M.length)break;const X=M[P+26];let U=27+X;for(let I=0;I<X&&P+27+I<M.length;I++)U+=M[P+27+I];P+=U}else break;else P++;if($===0)return null;const V=$/x;return Math.round(V*1e3).toString()}catch{return null}})}function A(O){return i(this,void 0,void 0,function*(){try{const S=yield h(O,"r");try{return yield w(S,O,0)}finally{yield d(S)}}catch{return null}})}function w(O,S,R){return i(this,void 0,void 0,function*(){try{const H=Buffer.alloc(8),{bytesRead:M}=yield p(O,H,0,8,R);if(M<8)return null;const x=H.readUInt32BE(0);if(x<8)return null;const P=H.slice(4,8).toString();if(P==="moov"){const $=yield o(S,R,x);for(let V=8;V<$.length-8;V++)if(V+4<=$.length&&$.slice(V,V+4).toString()==="mvhd"){if(V+5>=$.length)break;const G=$[V+4];let ee,X;if(G===0){if(V+24>=$.length)break;ee=$.readUInt32BE(V+16),X=$.readUInt32BE(V+20)}else{if(V+36>=$.length)break;ee=$.readUInt32BE(V+24);const q=$.readUInt32BE(V+28),U=$.readUInt32BE(V+32);X=q*Math.pow(2,32)+U}if(ee>0){const q=X/ee;return Math.round(q*1e3).toString()}}}else if(["trak","mdia","minf","stbl"].includes(P))return w(O,S,R+8);if(x>0)return w(O,S,R+x)}catch{return null}return null})}return na.default=l,na}var fO;function OE(){if(fO)return Wt;fO=1;var i=Wt&&Wt.__awaiter||function(v,_,b,A){function w(O){return O instanceof b?O:new b(function(S){S(O)})}return new(b||(b=Promise))(function(O,S){function R(M){try{H(A.next(M))}catch(x){S(x)}}function E(M){try{H(A.throw(M))}catch(x){S(x)}}function H(M){M.done?O(M.value):w(M.value).then(R,E)}H((A=A.apply(v,_||[])).next())})},s=Wt&&Wt.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.speech=Wt.translations=Wt.transcriptions=Wt.Audio=void 0;const r=Be(),c=ke(),h=De(),p=nn(),f=s(bE()),d=Xu();class l extends r.ApiResource{constructor(_){super(_),this.transcriptions=new o(_),this.translations=new u(_),this.speech=new m(_)}}Wt.Audio=l;class o extends r.ApiResource{create(_,b,A){var w;return i(this,void 0,void 0,function*(){const O=(w=_.file)===null||w===void 0?void 0:w.path;if(O&&this.client.calculateAudioDuration&&(0,d.isFsModuleAvailable)()){const E=yield(0,f.default)(O);E&&(b=Object.assign(Object.assign({},b),{[p.AUDIO_FILE_DURATION_HEADER]:E}))}if(b){const E=(0,c.overrideConfig)(this.client.config,b.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},b),{config:E})))}return(0,c.initOpenAIClient)(this.client).audio.transcriptions.create(_,A)})}}Wt.transcriptions=o;class u extends r.ApiResource{create(_,b,A){var w;return i(this,void 0,void 0,function*(){const O=_,S=(w=O.file)===null||w===void 0?void 0:w.path;if(S&&this.client.calculateAudioDuration&&(0,d.isFsModuleAvailable)()){const H=yield(0,f.default)(S);H&&(b=Object.assign(Object.assign({},b),{[p.AUDIO_FILE_DURATION_HEADER]:H}))}if(b){const H=(0,c.overrideConfig)(this.client.config,b.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},b),{config:H})))}const E=yield(0,c.initOpenAIClient)(this.client).audio.translations.create(O,A).withResponse();return(0,c.finalResponse)(E)})}}Wt.translations=u;class m extends r.ApiResource{create(_,b,A){return i(this,void 0,void 0,function*(){const w=_;if(b){const R=(0,c.overrideConfig)(this.client.config,b.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,h.createHeaders)(Object.assign(Object.assign({},b),{config:R})))}return yield(0,c.initOpenAIClient)(this.client).audio.speech.create(w,A)})}}return Wt.speech=m,Wt}var Qn={},hO;function jE(){if(hO)return Qn;hO=1;var i=Qn&&Qn.__awaiter||function(d,l,o,u){function m(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function b(O){try{w(u.next(O))}catch(S){_(S)}}function A(O){try{w(u.throw(O))}catch(S){_(S)}}function w(O){O.done?v(O.value):m(O.value).then(b,A)}w((u=u.apply(d,l||[])).next())})};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.FileBatches=Qn.Files=Qn.VectorStores=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{constructor(l){super(l),this.files=new p(l),this.fileBatches=new f(l)}create(l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.create(m,u).withResponse();return(0,r.finalResponse)(_)})}retrieve(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).vectorStores.retrieve(l,u).withResponse();return(0,r.finalResponse)(v)})}update(l,o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).vectorStores.update(l,v,m).withResponse();return(0,r.finalResponse)(b)})}list(l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.list(m,u).withResponse();return(0,r.finalResponse)(_)})}delete(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).vectorStores.delete(l,u).withResponse();return(0,r.finalResponse)(v)})}}Qn.VectorStores=h;class p extends s.ApiResource{create(l,o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.create(l,v,m).withResponse();return(0,r.finalResponse)(b)})}retrieve(l,{vector_store_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.retrieve(l,{vector_store_id:o},m).withResponse();return(0,r.finalResponse)(_)})}list(l,o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.list(l,v,m).withResponse();return(0,r.finalResponse)(b)})}delete(l,{vector_store_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.files.delete(l,{vector_store_id:o},m).withResponse();return(0,r.finalResponse)(_)})}createAndPoll(l,o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.createAndPoll(l,v,m)})}poll(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.poll(l,o,m)})}upload(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.upload(l,o,m)})}uploadAndPoll(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.files.uploadAndPoll(l,o,m)})}}Qn.Files=p;class f extends s.ApiResource{create(l,o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.create(l,v,m).withResponse();return(0,r.finalResponse)(b)})}retrieve(l,{vector_store_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.retrieve(l,{vector_store_id:o},m).withResponse();return(0,r.finalResponse)(_)})}cancel(l,{vector_store_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const w=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:w})))}const v=(0,r.initOpenAIClient)(this.client),b=Object.assign({body:{}},m),A=yield v.vectorStores.fileBatches.cancel(l,{vector_store_id:o},b).withResponse();return(0,r.finalResponse)(A)})}createAndPoll(l,o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.createAndPoll(l,v,m)})}listFiles(l,o,u,m){return i(this,void 0,void 0,function*(){const v=o;if(u){const A=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.listFiles(l,v,m).withResponse();return(0,r.finalResponse)(b)})}poll(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.poll(l,o,m)})}uploadAndPoll(l,{files:o,fileIds:u=[]},m,v){return i(this,void 0,void 0,function*(){if(m){const A=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:A})))}return yield(0,r.initOpenAIClient)(this.client).vectorStores.fileBatches.uploadAndPoll(l,{files:o,fileIds:u},v)})}}return Qn.FileBatches=f,Qn}var qs={},pO;function AE(){if(pO)return qs;pO=1;var i=qs&&qs.__awaiter||function(f,d,l,o){function u(m){return m instanceof l?m:new l(function(v){v(m)})}return new(l||(l=Promise))(function(m,v){function _(w){try{A(o.next(w))}catch(O){v(O)}}function b(w){try{A(o.throw(w))}catch(O){v(O)}}function A(w){w.done?m(w.value):u(w.value).then(_,b)}A((o=o.apply(f,d||[])).next())})};Object.defineProperty(qs,"__esModule",{value:!0}),qs.Parts=qs.Uploads=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{constructor(d){super(d),this.parts=new p(d)}create(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).uploads.create(u,o).withResponse();return(0,r.finalResponse)(v)})}cancel(d,l,o){return i(this,void 0,void 0,function*(){if(l){const b=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:b})))}const u=(0,r.initOpenAIClient)(this.client),v=Object.assign({body:{}},o),_=yield u.uploads.cancel(d,v).withResponse();return(0,r.finalResponse)(_)})}complete(d,l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).uploads.complete(d,m,u).withResponse();return(0,r.finalResponse)(_)})}}qs.Uploads=h;class p extends s.ApiResource{create(d,l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).uploads.parts.create(d,m,u).withResponse();return(0,r.finalResponse)(_)})}}return qs.Parts=p,qs}var Hc={},mO;function SE(){if(mO)return Hc;mO=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.ApiKeys=void 0;const i=Be(),s=De(),r=ke();class c extends i.ApiResource{create(p,f,d){const l=p,o=l.type,u=l["sub-type"];return f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f)))),this.post(`/api-keys/${o}/${u}`,Object.assign({body:l},d))}retrieve(p,f,d){const o=p.id;return f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f)))),this.getMethod(`/api-keys/${o}`,Object.assign({},d))}update(p,f,d){const l=p,o=l.id;return f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f)))),this.put(`/api-keys/${o}`,Object.assign({body:l},d))}list(p,f,d){const l=p;f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f))));const o=(0,r.toQueryParams)(l);return this.getMethod(`/api-keys${o}`,Object.assign({},d))}delete(p,f,d){const l=p,o=l.id;return f&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},f)))),this.deleteMethod(`/api-keys/${o}`,Object.assign({body:l},d))}}return Hc.ApiKeys=c,Hc}var zs={},gO;function wE(){if(gO)return zs;gO=1;var i=zs&&zs.__rest||function(d,l){var o={};for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&l.indexOf(u)<0&&(o[u]=d[u]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,u=Object.getOwnPropertySymbols(d);m<u.length;m++)l.indexOf(u[m])<0&&Object.prototype.propertyIsEnumerable.call(d,u[m])&&(o[u[m]]=d[u[m]]);return o};Object.defineProperty(zs,"__esModule",{value:!0}),zs.Exports=zs.Logs=void 0;const s=Be(),r=De(),c=ke(),h=nn();class p extends s.ApiResource{constructor(l){super(l),this.exports=new f(l)}create(l,o,u){const m=l;if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return this.post(h.LOGS_API,Object.assign({body:m},u))}}zs.Logs=p;class f extends s.ApiResource{create(l,o,u){const{workspaceId:m,requestedData:v}=l,_=i(l,["workspaceId","requestedData"]),b=Object.assign(Object.assign({},_),{workspace_id:m,requested_data:v});return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.post("/logs/exports",Object.assign({body:b},u))}retrieve(l,o,u){const v=l.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.getMethod(`/logs/exports/${v}`,Object.assign({},u))}list(l,o,u){const{workspaceId:m}=l,v=i(l,["workspaceId"]),_=Object.assign(Object.assign({},v),{workspace_id:m}),b=(0,c.toQueryParams)(_);return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.getMethod(`/logs/exports${b}`,Object.assign({},u))}update(l,o,u){const{workspaceId:m,requestedData:v}=l,_=i(l,["workspaceId","requestedData"]),b=Object.assign(Object.assign({},_),{workspace_id:m,requested_data:v}),A=b.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.put(`/logs/exports/${A}`,Object.assign({body:b},u))}start(l,o,u){const m=l,v=m.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.post(`/logs/exports/${v}/start`,Object.assign({body:m},u))}cancel(l,o,u){const m=l,v=m.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.post(`/logs/exports/${v}/cancel`,Object.assign({body:m},u))}download(l,o,u){const m=l,v=m.exportId;return o&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign({},o)))),this.getMethod(`/logs/exports/${v}/download`,Object.assign({body:m},u))}}return zs.Exports=f,zs}var Wn={},vO;function CE(){if(vO)return Wn;vO=1;var i=Wn&&Wn.__awaiter||function(d,l,o,u){function m(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function b(O){try{w(u.next(O))}catch(S){_(S)}}function A(O){try{w(u.throw(O))}catch(S){_(S)}}function w(O){O.done?v(O.value):m(O.value).then(b,A)}w((u=u.apply(d,l||[])).next())})};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.TranscriptionSessions=Wn.Sessions=Wn.Realtime=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{constructor(l){super(l),this.sessions=new p(l),this.transcriptionSessions=new f(l)}}Wn.Realtime=h;class p extends s.ApiResource{create(l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.realtime.sessions.create(m,u).withResponse();return(0,r.finalResponse)(_)})}}Wn.Sessions=p;class f extends s.ApiResource{create(l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).beta.realtime.transcriptionSessions.create(m,u).withResponse();return(0,r.finalResponse)(_)})}}return Wn.TranscriptionSessions=f,Wn}var $s={},yO;function RE(){if(yO)return $s;yO=1;var i=$s&&$s.__awaiter||function(f,d,l,o){function u(m){return m instanceof l?m:new l(function(v){v(m)})}return new(l||(l=Promise))(function(m,v){function _(w){try{A(o.next(w))}catch(O){v(O)}}function b(w){try{A(o.throw(w))}catch(O){v(O)}}function A(w){w.done?m(w.value):u(w.value).then(_,b)}A((o=o.apply(f,d||[])).next())})};Object.defineProperty($s,"__esModule",{value:!0}),$s.InputItems=$s.Responses=void 0;const s=Be(),r=De(),c=ke();class h extends s.ApiResource{constructor(d){super(d),this.inputItems=new p(d)}create(d,l,o){if(l){const v=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return(0,c.initOpenAIClient)(this.client).responses.create(d,o)}retrieve(d,l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,c.initOpenAIClient)(this.client).responses.retrieve(d,m,u).withResponse();return(0,c.finalResponse)(_)})}delete(d,l,o){return i(this,void 0,void 0,function*(){if(l){const v=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const m=yield(0,c.initOpenAIClient)(this.client).responses.delete(d,o).withResponse();return(0,c.finalResponse)(m)})}parse(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).responses.parse(u,o)})}stream(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).responses.stream(u,o)})}cancel(d,l,o){return i(this,void 0,void 0,function*(){if(l){const b=(0,c.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},l),{config:b})))}const u=(0,c.initOpenAIClient)(this.client),v=Object.assign({body:{}},o),_=yield u.responses.cancel(d,v).withResponse();return(0,c.finalResponse)(_)})}}$s.Responses=h;class p extends s.ApiResource{list(d,l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,c.initOpenAIClient)(this.client).responses.inputItems.list(d,m,u).withResponse();return(0,c.finalResponse)(_)})}}return $s.InputItems=p,$s}var Mc={},_O;function xE(){if(_O)return Mc;_O=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.Labels=void 0;const i=nn(),s=Be(),r=ke(),c=De();class h extends s.ApiResource{create(f,d,l){const o=f;if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return this.post(`${i.LABELS_API}`,Object.assign({body:o},l))}list(f,d,l){const o=f?(0,r.toQueryParams)(f):"";if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return this.getMethod(`${i.LABELS_API}${o}`,Object.assign({},l))}retrieve(f,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.getMethod(`${i.LABELS_API}/${f}`,Object.assign({},l))}update(f,d,l,o){const u=d;if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return this.put(`${i.LABELS_API}/${f}`,Object.assign({body:u},o))}delete(f,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.deleteMethod(`${i.LABELS_API}/${f}`,Object.assign({},l))}}return Mc.Labels=h,Mc}var Nc={},bO;function EE(){if(bO)return Nc;bO=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.Collections=void 0;const i=nn(),s=Be(),r=ke(),c=De();class h extends s.ApiResource{create(f,d,l){const o=f;if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return this.post(`${i.COLLECTIONS_API}`,Object.assign({body:o},l))}list(f,d,l){const o=f?(0,r.toQueryParams)(f):"";if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return this.getMethod(`${i.COLLECTIONS_API}${o}`,Object.assign({},l))}retrieve(f,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.getMethod(`${i.COLLECTIONS_API}/${f}`,Object.assign({},l))}update(f,d,l,o){if(l){const m=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:m})))}return this.put(`${i.COLLECTIONS_API}/${f}`,Object.assign({body:d},o))}delete(f,d,l){if(d){const u=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},d),{config:u})))}return this.deleteMethod(`${i.COLLECTIONS_API}/${f}`,Object.assign({},l))}}return Nc.Collections=h,Nc}var es={},OO;function TE(){if(OO)return es;OO=1;var i=es&&es.__awaiter||function(d,l,o,u){function m(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function b(O){try{w(u.next(O))}catch(S){_(S)}}function A(O){try{w(u.throw(O))}catch(S){_(S)}}function w(O){O.done?v(O.value):m(O.value).then(b,A)}w((u=u.apply(d,l||[])).next())})};Object.defineProperty(es,"__esModule",{value:!0}),es.OutputItems=es.EvalsRuns=es.Evals=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{constructor(l){super(l),this.runs=new p(l)}create(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return yield(0,r.initOpenAIClient)(this.client).evals.create(l,u)})}retrieve(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).evals.retrieve(l,u).withResponse();return(0,r.finalResponse)(v)})}update(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.update(l,o,m).withResponse();return(0,r.finalResponse)(_)})}list(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).evals.list(l,u).withResponse();return(0,r.finalResponse)(v)})}delete(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).evals.delete(l,u).withResponse();return(0,r.finalResponse)(v)})}}es.Evals=h;class p extends s.ApiResource{constructor(l){super(l),this.outputItems=new f(l)}create(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.create(l,o,m).withResponse();return(0,r.finalResponse)(_)})}retrieve(l,{eval_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.retrieve(l,{eval_id:o},m).withResponse();return(0,r.finalResponse)(_)})}list(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.list(l,o,m).withResponse();return(0,r.finalResponse)(_)})}delete(l,{eval_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.delete(l,{eval_id:o},m).withResponse();return(0,r.finalResponse)(_)})}cancel(l,{eval_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const w=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:w})))}const v=(0,r.initOpenAIClient)(this.client),b=Object.assign({body:{}},m),A=yield v.evals.runs.cancel(l,{eval_id:o},b).withResponse();return(0,r.finalResponse)(A)})}}es.EvalsRuns=p;class f extends s.ApiResource{retrieve(l,{eval_id:o,run_id:u},m,v){return i(this,void 0,void 0,function*(){if(m){const A=(0,r.overrideConfig)(this.client.config,m.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},m),{config:A})))}const b=yield(0,r.initOpenAIClient)(this.client).evals.runs.outputItems.retrieve(l,{eval_id:o,run_id:u},v).withResponse();return(0,r.finalResponse)(b)})}list(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).evals.runs.outputItems.list(l,o,m).withResponse();return(0,r.finalResponse)(_)})}}return es.OutputItems=f,es}var ts={},jO;function IE(){if(jO)return ts;jO=1;var i=ts&&ts.__awaiter||function(d,l,o,u){function m(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function b(O){try{w(u.next(O))}catch(S){_(S)}}function A(O){try{w(u.throw(O))}catch(S){_(S)}}function w(O){O.done?v(O.value):m(O.value).then(b,A)}w((u=u.apply(d,l||[])).next())})};Object.defineProperty(ts,"__esModule",{value:!0}),ts.Content=ts.ContainersFiles=ts.Containers=void 0;const s=Be(),r=De(),c=ke();class h extends s.ApiResource{constructor(l){super(l),this.files=new p(l)}create(l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.create(m,u).withResponse();return(0,c.finalResponse)(_)})}retrieve(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,c.initOpenAIClient)(this.client).containers.retrieve(l,u).withResponse();return(0,c.finalResponse)(v)})}list(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,c.initOpenAIClient)(this.client).containers.list(l,u).withResponse();return(0,c.finalResponse)(v)})}delete(l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,c.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,c.initOpenAIClient)(this.client).containers.delete(l,u).withResponse();return(0,c.finalResponse)(v)})}}ts.Containers=h;class p extends s.ApiResource{constructor(l){super(l),this.content=new f(l)}create(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.create(l,o,m).withResponse();return(0,c.finalResponse)(_)})}retrieve(l,{container_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.retrieve(l,{container_id:o},m).withResponse();return(0,c.finalResponse)(_)})}list(l,o,u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.list(l,o,m).withResponse();return(0,c.finalResponse)(_)})}delete(l,{container_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}const _=yield(0,c.initOpenAIClient)(this.client).containers.files.delete(l,{container_id:o},m).withResponse();return(0,c.finalResponse)(_)})}}ts.ContainersFiles=p;class f extends s.ApiResource{retrieve(l,{container_id:o},u,m){return i(this,void 0,void 0,function*(){if(u){const b=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return yield(yield(0,c.initOpenAIClient)(this.client).containers.files.content.retrieve(l,{container_id:o},m)).text()})}}return ts.Content=f,ts}var ns={},AO;function HE(){if(AO)return ns;AO=1;var i=ns&&ns.__rest||function(l,o){var u={};for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&o.indexOf(m)<0&&(u[m]=l[m]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,m=Object.getOwnPropertySymbols(l);v<m.length;v++)o.indexOf(m[v])<0&&Object.prototype.propertyIsEnumerable.call(l,m[v])&&(u[m[v]]=l[m[v]]);return u};Object.defineProperty(ns,"__esModule",{value:!0}),ns.Models=ns.Workspaces=ns.Integrations=void 0;const s=nn(),r=Be(),c=De(),h=ke();class p extends r.ApiResource{constructor(o){super(o),this.workspaces=new f(o),this.models=new d(o)}create(o,u,m){const v=o;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.post(`${s.INTEGRATIONS_API}`,Object.assign({body:v},m))}list(o,u,m){const v=o;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u))));const _=(0,h.toQueryParams)(v);return this.getMethod(`${s.INTEGRATIONS_API}${_}`,Object.assign({},m))}retrieve(o,u,m){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.getMethod(`${s.INTEGRATIONS_API}/${_}`,Object.assign({},m))}update(o,u,m){const{slug:v}=o,_=i(o,["slug"]);return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.put(`${s.INTEGRATIONS_API}/${v}`,Object.assign({body:_},m))}delete(o,u,m){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.deleteMethod(`${s.INTEGRATIONS_API}/${_}`,Object.assign({},m))}}ns.Integrations=p;class f extends r.ApiResource{constructor(o){super(o)}update(o,u,m){const{slug:v}=o,_=i(o,["slug"]);return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.put(`${s.INTEGRATIONS_API}/${v}/workspaces`,Object.assign({body:_},m))}list(o,u,m){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.getMethod(`${s.INTEGRATIONS_API}/${_}/workspaces`,Object.assign({},m))}}ns.Workspaces=f;class d extends r.ApiResource{constructor(o){super(o)}update(o,u,m){const{slug:v}=o,_=i(o,["slug"]);return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.put(`${s.INTEGRATIONS_API}/${v}/models`,Object.assign({body:_},m))}list(o,u,m){const _=o.slug;return u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u)))),this.getMethod(`${s.INTEGRATIONS_API}/${_}/models`,Object.assign({},m))}delete(o,u,m){const v=o,_=v.slug,b=v.slugs;u&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},u))));const A=b?`?slugs=${b}`:"";return this.deleteMethod(`${s.INTEGRATIONS_API}/${_}/models${A}`,Object.assign({},m))}}return ns.Models=d,ns}var sr={},SO;function ME(){if(SO)return sr;SO=1;var i=sr&&sr.__rest||function(f,d){var l={};for(var o in f)Object.prototype.hasOwnProperty.call(f,o)&&d.indexOf(o)<0&&(l[o]=f[o]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(f);u<o.length;u++)d.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(f,o[u])&&(l[o[u]]=f[o[u]]);return l};Object.defineProperty(sr,"__esModule",{value:!0}),sr.Providers=void 0;const s=nn(),r=Be(),c=De(),h=ke();class p extends r.ApiResource{list(d,l,o){const u=d;l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l))));const m=u?(0,h.toQueryParams)(u):"";return this.getMethod(`${s.PROVIDERS_API}${m}`,Object.assign({},o))}create(d,l,o){const u=d;return l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l)))),this.post(s.PROVIDERS_API,Object.assign({body:u},o))}retrieve(d,l,o){const{slug:u}=d,m=i(d,["slug"]);l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l))));const v=(0,h.toQueryParams)(m);return this.getMethod(`${s.PROVIDERS_API}/${u}${v}`,Object.assign({},o))}update(d,l,o){const{slug:u}=d,m=i(d,["slug"]);return l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l)))),this.put(`${s.PROVIDERS_API}/${u}`,Object.assign({body:m},o))}delete(d,l,o){const{slug:u}=d,m=i(d,["slug"]);l&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign({},l))));const v=(0,h.toQueryParams)(m);return this.deleteMethod(`${s.PROVIDERS_API}/${u}${v}`,Object.assign({},o))}}return sr.Providers=p,sr}var ir={},wO;function NE(){if(wO)return ir;wO=1;var i=ir&&ir.__awaiter||function(p,f,d,l){function o(u){return u instanceof d?u:new d(function(m){m(u)})}return new(d||(d=Promise))(function(u,m){function v(A){try{b(l.next(A))}catch(w){m(w)}}function _(A){try{b(l.throw(A))}catch(w){m(w)}}function b(A){A.done?u(A.value):o(A.value).then(v,_)}b((l=l.apply(p,f||[])).next())})};Object.defineProperty(ir,"__esModule",{value:!0}),ir.Webhooks=void 0;const s=Be(),r=De(),c=ke();class h extends s.ApiResource{constructor(f){super(f)}unwarp(f,d,l,o=300,u){return i(this,void 0,void 0,function*(){if(u){const _=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).webhooks.unwrap(f,d,l,o)})}verifySignature(f,d,l,o=300,u){return i(this,void 0,void 0,function*(){if(u){const _=(0,c.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,r.createHeaders)(Object.assign(Object.assign({},u),{config:_})))}return yield(0,c.initOpenAIClient)(this.client).webhooks.verifySignature(f,d,l,o)})}}return ir.Webhooks=h,ir}var ss={},CO;function kE(){if(CO)return ss;CO=1;var i=ss&&ss.__awaiter||function(d,l,o,u){function m(v){return v instanceof o?v:new o(function(_){_(v)})}return new(o||(o=Promise))(function(v,_){function b(O){try{w(u.next(O))}catch(S){_(S)}}function A(O){try{w(u.throw(O))}catch(S){_(S)}}function w(O){O.done?v(O.value):m(O.value).then(b,A)}w((u=u.apply(d,l||[])).next())})};Object.defineProperty(ss,"__esModule",{value:!0}),ss.Calls=ss.ClientSecrets=ss.MainRealtime=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{constructor(l){super(l),this.clientSecrets=new p(l),this.calls=new f(l)}}ss.MainRealtime=h;class p extends s.ApiResource{constructor(l){super(l)}create(l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).realtime.clientSecrets.create(m,u).withResponse();return(0,r.finalResponse)(_)})}}ss.ClientSecrets=p;class f extends s.ApiResource{constructor(l){super(l)}accept(l,o,u,m){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.accept(l,o,m)}hangup(l,o,u){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.hangup(l,u)}refer(l,o,u,m){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.refer(l,o,m)}reject(l,o={},u,m){if(u){const b=(0,r.overrideConfig)(this.client.config,u.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},u),{config:b})))}return(0,r.initOpenAIClient)(this.client).realtime.calls.reject(l,o,m)}}return ss.Calls=f,ss}var Ds={},RO;function PE(){if(RO)return Ds;RO=1;var i=Ds&&Ds.__awaiter||function(f,d,l,o){function u(m){return m instanceof l?m:new l(function(v){v(m)})}return new(l||(l=Promise))(function(m,v){function _(w){try{A(o.next(w))}catch(O){v(O)}}function b(w){try{A(o.throw(w))}catch(O){v(O)}}function A(w){w.done?m(w.value):u(w.value).then(_,b)}A((o=o.apply(f,d||[])).next())})};Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.Items=Ds.Conversations=void 0;const s=Be(),r=ke(),c=De();class h extends s.ApiResource{constructor(d){super(d),this.items=new p(d)}create(d,l,o){return i(this,void 0,void 0,function*(){const u=d;if(l){const _=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.create(u,o).withResponse();return(0,r.finalResponse)(v)})}retrieve(d,l,o){return i(this,void 0,void 0,function*(){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).conversations.retrieve(d,o).withResponse();return(0,r.finalResponse)(m)})}update(d,l,o,u){return i(this,void 0,void 0,function*(){const m=l;if(o){const b=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:b})))}const _=yield(0,r.initOpenAIClient)(this.client).conversations.update(d,m,u).withResponse();return(0,r.finalResponse)(_)})}delete(d,l,o){return i(this,void 0,void 0,function*(){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const m=yield(0,r.initOpenAIClient)(this.client).conversations.delete(d,o).withResponse();return(0,r.finalResponse)(m)})}}Ds.Conversations=h;class p extends s.ApiResource{create(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.create(d,l,u).withResponse();return(0,r.finalResponse)(v)})}retrieve(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.retrieve(d,l,u).withResponse();return(0,r.finalResponse)(v)})}list(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.list(d,l,u).withResponse();return(0,r.finalResponse)(v)})}delete(d,l,o,u){return i(this,void 0,void 0,function*(){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,c.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}const v=yield(0,r.initOpenAIClient)(this.client).conversations.items.delete(d,l,u).withResponse();return(0,r.finalResponse)(v)})}}return Ds.Items=p,Ds}var kc={},xO;function qE(){if(xO)return kc;xO=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.Videos=void 0;const i=Be(),s=De(),r=ke();class c extends i.ApiResource{constructor(p){super(p)}create(p,f,d){if(f){const u=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},f),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.create(p,d)}retrieve(p,f,d){if(f){const u=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},f),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.retrieve(p,d)}list(p={},f,d){if(f){const u=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},f),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.list(p,d)}delete(p,f,d){if(f){const u=(0,r.overrideConfig)(this.client.config,f.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},f),{config:u})))}return(0,r.initOpenAIClient)(this.client).videos.delete(p,d)}downloadContent(p,f={},d,l){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return(0,r.initOpenAIClient)(this.client).videos.downloadContent(p,f,l)}remix(p,f,d,l){if(d){const m=(0,r.overrideConfig)(this.client.config,d.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},d),{config:m})))}return(0,r.initOpenAIClient)(this.client).videos.remix(p,f,l)}}return kc.Videos=c,kc}var Us={},EO;function zE(){if(EO)return Us;EO=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.ChatKitThreads=Us.ChatKitSessions=Us.ChatKit=void 0;const i=Be(),s=De(),r=ke();class c extends i.ApiResource{constructor(d){super(d),this.sessions=new h(d),this.threads=new p(d)}uploadFile(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return(0,r.initOpenAIClient)(this.client).beta.chatkit.uploadFile(d,o)}}Us.ChatKit=c;class h extends i.ApiResource{create(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const m=(0,r.initOpenAIClient)(this.client).beta.chatkit.sessions.create(d,o).withResponse();return(0,r.finalResponse)(m)}cancel(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const m=(0,r.initOpenAIClient)(this.client).beta.chatkit.sessions.cancel(d,o).withResponse();return(0,r.finalResponse)(m)}}Us.ChatKitSessions=h;class p extends i.ApiResource{retrieve(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const m=(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.retrieve(d,o).withResponse();return(0,r.finalResponse)(m)}list(d={},l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}return(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.list(d,o)}delete(d,l,o){if(l){const v=(0,r.overrideConfig)(this.client.config,l.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},l),{config:v})))}const m=(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.delete(d,o).withResponse();return(0,r.finalResponse)(m)}listItems(d,l={},o,u){if(o){const _=(0,r.overrideConfig)(this.client.config,o.config);this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign(Object.assign({},o),{config:_})))}return(0,r.initOpenAIClient)(this.client).beta.chatkit.threads.listItems(d,l,u)}}return Us.ChatKitThreads=p,Us}var Pc={},TO;function $E(){if(TO)return Pc;TO=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.Guardrails=void 0;const i=Be(),s=De(),r=ke(),c=nn();class h extends i.ApiResource{create(f,d,l){const o=f;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.post(c.GUARDRAILS_API,Object.assign({body:o},l))}list(f,d,l){const o=f;d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d))));const u=o?(0,r.toQueryParams)(o):"";return this.getMethod(`${c.GUARDRAILS_API}${u}`,Object.assign({},l))}retrieve(f,d,l){const u=f.guardrail_id;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.getMethod(`${c.GUARDRAILS_API}/${u}`,Object.assign({},l))}update(f,d,l){const o=f,u=o.guardrail_id;return delete o.guardrail_id,d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.put(`${c.GUARDRAILS_API}/${u}`,Object.assign({body:o},l))}delete(f,d,l){const o=f,u=o.guardrail_id;return d&&(this.client.customHeaders=Object.assign(Object.assign({},this.client.customHeaders),(0,s.createHeaders)(Object.assign({},d)))),this.deleteMethod(`${c.GUARDRAILS_API}/${u}`,Object.assign({body:o},l))}}return Pc.Guardrails=h,Pc}var IO;function xp(){return IO||(IO=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Guardrails=i.ChatKit=i.Videos=i.Conversations=i.MainRealtime=i.Webhooks=i.Providers=i.Integrations=i.Containers=i.Evals=i.Collections=i.Labels=i.Responses=i.Realtime=i.Logs=i.ApiKeys=i.Uploads=i.VectorStores=i.Audio=i.Moderations=i.FineTuning=i.VirtualKeys=i.Batches=i.Configs=i.Admin=i.Models=i.MainFiles=i.Threads=i.Assistants=i.Images=i.Embeddings=i.putMethod=i.deleteMethod=i.getMethod=i.postMethod=i.Prompt=i.Generations=i.Feedback=i.createHeaders=i.Completions=i.Chat=void 0;var s=eE();Object.defineProperty(i,"Chat",{enumerable:!0,get:function(){return s.Chat}});var r=tE();Object.defineProperty(i,"Completions",{enumerable:!0,get:function(){return r.Completions}});var c=De();Object.defineProperty(i,"createHeaders",{enumerable:!0,get:function(){return c.createHeaders}});var h=nE();Object.defineProperty(i,"Feedback",{enumerable:!0,get:function(){return h.Feedback}});var p=sE();Object.defineProperty(i,"Generations",{enumerable:!0,get:function(){return p.Generations}}),Object.defineProperty(i,"Prompt",{enumerable:!0,get:function(){return p.Prompt}});var f=iE();Object.defineProperty(i,"postMethod",{enumerable:!0,get:function(){return f.postMethod}});var d=rE();Object.defineProperty(i,"getMethod",{enumerable:!0,get:function(){return d.getMethod}});var l=aE();Object.defineProperty(i,"deleteMethod",{enumerable:!0,get:function(){return l.deleteMethod}});var o=oE();Object.defineProperty(i,"putMethod",{enumerable:!0,get:function(){return o.putMethod}});var u=cE();Object.defineProperty(i,"Embeddings",{enumerable:!0,get:function(){return u.Embeddings}});var m=lE();Object.defineProperty(i,"Images",{enumerable:!0,get:function(){return m.Images}});var v=uE();Object.defineProperty(i,"Assistants",{enumerable:!0,get:function(){return v.Assistants}});var _=dE();Object.defineProperty(i,"Threads",{enumerable:!0,get:function(){return _.Threads}});var b=fE();Object.defineProperty(i,"MainFiles",{enumerable:!0,get:function(){return b.MainFiles}});var A=hE();Object.defineProperty(i,"Models",{enumerable:!0,get:function(){return A.Models}});var w=pE();Object.defineProperty(i,"Admin",{enumerable:!0,get:function(){return w.Admin}});var O=mE();Object.defineProperty(i,"Configs",{enumerable:!0,get:function(){return O.Configs}});var S=gE();Object.defineProperty(i,"Batches",{enumerable:!0,get:function(){return S.Batches}});var R=vE();Object.defineProperty(i,"VirtualKeys",{enumerable:!0,get:function(){return R.VirtualKeys}});var E=yE();Object.defineProperty(i,"FineTuning",{enumerable:!0,get:function(){return E.FineTuning}});var H=_E();Object.defineProperty(i,"Moderations",{enumerable:!0,get:function(){return H.Moderations}});var M=OE();Object.defineProperty(i,"Audio",{enumerable:!0,get:function(){return M.Audio}});var x=jE();Object.defineProperty(i,"VectorStores",{enumerable:!0,get:function(){return x.VectorStores}});var P=AE();Object.defineProperty(i,"Uploads",{enumerable:!0,get:function(){return P.Uploads}});var $=SE();Object.defineProperty(i,"ApiKeys",{enumerable:!0,get:function(){return $.ApiKeys}});var V=wE();Object.defineProperty(i,"Logs",{enumerable:!0,get:function(){return V.Logs}});var G=CE();Object.defineProperty(i,"Realtime",{enumerable:!0,get:function(){return G.Realtime}});var ee=RE();Object.defineProperty(i,"Responses",{enumerable:!0,get:function(){return ee.Responses}});var X=xE();Object.defineProperty(i,"Labels",{enumerable:!0,get:function(){return X.Labels}});var q=EE();Object.defineProperty(i,"Collections",{enumerable:!0,get:function(){return q.Collections}});var U=TE();Object.defineProperty(i,"Evals",{enumerable:!0,get:function(){return U.Evals}});var I=IE();Object.defineProperty(i,"Containers",{enumerable:!0,get:function(){return I.Containers}});var k=HE();Object.defineProperty(i,"Integrations",{enumerable:!0,get:function(){return k.Integrations}});var B=ME();Object.defineProperty(i,"Providers",{enumerable:!0,get:function(){return B.Providers}});var ue=NE();Object.defineProperty(i,"Webhooks",{enumerable:!0,get:function(){return ue.Webhooks}});var ce=kE();Object.defineProperty(i,"MainRealtime",{enumerable:!0,get:function(){return ce.MainRealtime}});var N=PE();Object.defineProperty(i,"Conversations",{enumerable:!0,get:function(){return N.Conversations}});var F=qE();Object.defineProperty(i,"Videos",{enumerable:!0,get:function(){return F.Videos}});var le=zE();Object.defineProperty(i,"ChatKit",{enumerable:!0,get:function(){return le.ChatKit}});var de=$E();Object.defineProperty(i,"Guardrails",{enumerable:!0,get:function(){return de.Guardrails}})})(_h)),_h}var wn={},Cn={},Ru={exports:{}},HO;function DE(){if(HO)return Ru.exports;HO=1,Ru.exports=i,Ru.exports.HttpsAgent=i;function i(){}return Ru.exports}var qc={},MO;function UE(){return MO||(MO=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.VERSION=void 0,qc.VERSION="3.0.1"),qc}var NO;function BE(){if(NO)return Cn;NO=1;var i=Cn&&Cn.__awaiter||function(w,O,S,R){function E(H){return H instanceof S?H:new S(function(M){M(H)})}return new(S||(S=Promise))(function(H,M){function x(V){try{$(R.next(V))}catch(G){M(G)}}function P(V){try{$(R.throw(V))}catch(G){M(G)}}function $(V){V.done?H(V.value):E(V.value).then(x,P)}$((R=R.apply(w,O||[])).next())})},s=Cn&&Cn.__rest||function(w,O){var S={};for(var R in w)Object.prototype.hasOwnProperty.call(w,R)&&O.indexOf(R)<0&&(S[R]=w[R]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,R=Object.getOwnPropertySymbols(w);E<R.length;E++)O.indexOf(R[E])<0&&Object.prototype.propertyIsEnumerable.call(w,R[E])&&(S[R[E]]=w[R[E]]);return S},r=Cn&&Cn.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.ApiClient=Cn.APIPromise=void 0;const c=r(DE()),h=xp(),p=nn(),f=H1(),d=M1(),l=ke(),o=UE(),u=new c.default({keepAlive:!0,timeout:300*1e3});function m(){if(typeof window<"u"&&window.fetch)return window.fetch.bind(window);if(typeof dh<"u"&&dh.fetch)return dh.fetch;if(typeof fetch<"u")return fetch.bind(globalThis);throw new Error("Fetch is not available in this environment")}function v(w){return i(this,void 0,void 0,function*(){const{response:O}=w;if(w.options.stream)return new d.Stream(O);const S=O.headers.get("content-type");if(S?.includes("application/json")){const E=_(w);return Object.assign(Object.assign({},yield O.json()),{getHeaders:()=>E})}return yield O.text()})}function _(w){const{responseHeaders:O}=w,S=(0,d.createResponseHeaders)(O),R=p.PORTKEY_HEADER_PREFIX,E=Object.entries(S).filter(([H,M])=>H.startsWith(R)).map(([H,M])=>[H.replace(R,""),M]);return Object.fromEntries(E)}class b extends Promise{constructor(O,S=v){super(R=>{R(null)}),this.responsePromise=O,this.parseResponse=S}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(O,S){return this.parse().then(O,S)}catch(O){return this.parse().catch(O)}finally(O){return this.parse().finally(O)}}Cn.APIPromise=b;class A{constructor(O){var{apiKey:S,baseURL:R,config:E,virtualKey:H,traceID:M,metadata:x,provider:P,Authorization:$,cacheForceRefresh:V,debug:G,customHost:ee,openaiProject:X,openaiOrganization:q,awsSecretAccessKey:U,awsAccessKeyId:I,awsSessionToken:k,awsRegion:B,vertexProjectId:ue,vertexRegion:ce,workersAiAccountId:N,azureResourceName:F,azureDeploymentId:le,azureApiVersion:de,azureEndpointName:re,huggingfaceBaseUrl:ve,forwardHeaders:fe,cacheNamespace:te,requestTimeout:ne,strictOpenAiCompliance:_e=!1,anthropicBeta:W,anthropicVersion:pe,mistralFimCompletion:ge,dangerouslyAllowBrowser:Re,vertexStorageBucketName:Ue,providerFileName:nt,providerModel:Le,awsS3Bucket:bt,awsS3ObjectKey:it,awsBedrockModel:jt,fireworksAccountId:Ot}=O,Vn=s(O,["apiKey","baseURL","config","virtualKey","traceID","metadata","provider","Authorization","cacheForceRefresh","debug","customHost","openaiProject","openaiOrganization","awsSecretAccessKey","awsAccessKeyId","awsSessionToken","awsRegion","vertexProjectId","vertexRegion","workersAiAccountId","azureResourceName","azureDeploymentId","azureApiVersion","azureEndpointName","huggingfaceBaseUrl","forwardHeaders","cacheNamespace","requestTimeout","strictOpenAiCompliance","anthropicBeta","anthropicVersion","mistralFimCompletion","dangerouslyAllowBrowser","vertexStorageBucketName","providerFileName","providerModel","awsS3Bucket","awsS3ObjectKey","awsBedrockModel","fireworksAccountId"]);this.maxRetries=1,this.apiKey=S??"",this.baseURL=R??"",this.customHeaders=(0,h.createHeaders)(Object.assign({apiKey:S,config:E,virtualKey:H,traceID:M,metadata:x,provider:P,Authorization:$,cacheForceRefresh:V,debug:G,customHost:ee,cacheNamespace:te,openaiProject:X,openaiOrganization:q,awsSecretAccessKey:U,awsAccessKeyId:I,awsSessionToken:k,awsRegion:B,vertexProjectId:ue,vertexRegion:ce,workersAiAccountId:N,azureResourceName:F,azureDeploymentId:le,azureApiVersion:de,azureEndpointName:re,huggingfaceBaseUrl:ve,forwardHeaders:fe,requestTimeout:ne,strictOpenAiCompliance:_e,anthropicVersion:pe,mistralFimCompletion:ge,anthropicBeta:W,dangerouslyAllowBrowser:Re,vertexStorageBucketName:Ue,providerFileName:nt,providerModel:Le,awsS3Bucket:bt,awsS3ObjectKey:it,awsBedrockModel:jt,fireworksAccountId:Ot},Vn)),this.portkeyHeaders=this.defaultHeaders(),this.fetch=m(),this.responseHeaders={}}defaultHeaders(){return Object.assign({"Content-Type":"application/json",[`${p.PORTKEY_HEADER_PREFIX}package-version`]:`portkey-${o.VERSION}`},(0,l.getPlatformProperties)())}_post(O,S){return this.methodRequest("post",O,S)}_put(O,S){return this.methodRequest("put",O,S)}_get(O,S){return this.methodRequest("get",O,S)}_delete(O,S){return this.methodRequest("delete",O,S)}generateError(O,S,R,E){return f.APIError.generate(O,S,R,E)}_shouldRetry(O){const S=O.status,R=O.headers.get("x-portkey-trace-id"),E=O.headers.get("x-portkey-request-id"),H=O.headers.get("x-portkey-gateway-exception");return!(S<500||R||E||H)}request(O,S=0){var R;return i(this,void 0,void 0,function*(){const{req:E,url:H}=this.buildRequest(O),M=yield this.fetch(H,E).catch(l.castToError);if(M instanceof Error){if(!((R=O.signal)===null||R===void 0)&&R.aborted)throw new f.APIUserAbortError;if(S<this.maxRetries)return this.request(O,S+1);throw M.name==="AbortError"?new f.APIConnectionTimeoutError({message:`${M.message} 
 STACK: ${M.stack}`}):new f.APIConnectionError({cause:M})}if(this.responseHeaders=(0,d.createResponseHeaders)(M.headers),!M.ok){if(S<this.maxRetries&&this._shouldRetry(M))return this.request(O,S+1);const x=yield M.text().catch(()=>"Unknown"),P=(0,d.safeJSON)(x),$=P?void 0:x;throw this.generateError(M.status,P,$,this.responseHeaders)}return{response:M,options:O,responseHeaders:M.headers}})}buildRequest(O){const S=new URL(this.baseURL+O.path),{method:R,body:E,extraHeaders:H}=O,M=Object.assign(Object.assign(Object.assign({},this.defaultHeaders()),this.customHeaders),H),P=Object.assign({method:R,headers:M},typeof window>"u"?{agent:u}:{});return R!=="get"&&E!==void 0&&(P.body=JSON.stringify((0,l.parseBody)(E))),{req:P,url:S.toString()}}methodRequest(O,S,R){return new b(this.request(Object.assign({method:O,path:S},R)))}}return Cn.ApiClient=A,Cn}var kO;function LE(){if(kO)return wn;kO=1;var i=wn&&wn.__createBinding||(Object.create?(function(o,u,m,v){v===void 0&&(v=m);var _=Object.getOwnPropertyDescriptor(u,m);(!_||("get"in _?!u.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return u[m]}}),Object.defineProperty(o,v,_)}):(function(o,u,m,v){v===void 0&&(v=m),o[v]=u[m]})),s=wn&&wn.__setModuleDefault||(Object.create?(function(o,u){Object.defineProperty(o,"default",{enumerable:!0,value:u})}):function(o,u){o.default=u}),r=wn&&wn.__importStar||function(o){if(o&&o.__esModule)return o;var u={};if(o!=null)for(var m in o)m!=="default"&&Object.prototype.hasOwnProperty.call(o,m)&&i(u,o,m);return s(u,o),u},c=wn&&wn.__rest||function(o,u){var m={};for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&u.indexOf(v)<0&&(m[v]=o[v]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,v=Object.getOwnPropertySymbols(o);_<v.length;_++)u.indexOf(v[_])<0&&Object.prototype.propertyIsEnumerable.call(o,v[_])&&(m[v[_]]=o[v[_]]);return m};Object.defineProperty(wn,"__esModule",{value:!0}),wn.Portkey=void 0;const h=r(xp()),p=BE(),f=Xu(),d=ke();class l extends p.ApiClient{constructor(u){var m,v,{apiKey:_=(m=(0,d.readEnv)("PORTKEY_API_KEY"))!==null&&m!==void 0?m:null,baseURL:b=(v=(0,d.readEnv)("PORTKEY_BASE_URL"))!==null&&v!==void 0?v:null,config:A,virtualKey:w,provider:O,traceID:S,metadata:R,Authorization:E,cacheForceRefresh:H,debug:M,customHost:x,openaiProject:P,openaiOrganization:$,awsSecretAccessKey:V,awsAccessKeyId:G,awsSessionToken:ee,awsRegion:X,vertexProjectId:q,vertexRegion:U,workersAiAccountId:I,azureResourceName:k,azureDeploymentId:B,azureApiVersion:ue,azureEndpointName:ce,huggingfaceBaseUrl:N,forwardHeaders:F,cacheNamespace:le,requestTimeout:de,strictOpenAiCompliance:re,anthropicBeta:ve,anthropicVersion:fe,mistralFimCompletion:te,dangerouslyAllowBrowser:ne,vertexStorageBucketName:_e,providerFileName:W,providerModel:pe,awsS3Bucket:ge,awsS3ObjectKey:Re,awsBedrockModel:Ue,fireworksAccountId:nt,calculateAudioDuration:Le}=u,bt=c(u,["apiKey","baseURL","config","virtualKey","provider","traceID","metadata","Authorization","cacheForceRefresh","debug","customHost","openaiProject","openaiOrganization","awsSecretAccessKey","awsAccessKeyId","awsSessionToken","awsRegion","vertexProjectId","vertexRegion","workersAiAccountId","azureResourceName","azureDeploymentId","azureApiVersion","azureEndpointName","huggingfaceBaseUrl","forwardHeaders","cacheNamespace","requestTimeout","strictOpenAiCompliance","anthropicBeta","anthropicVersion","mistralFimCompletion","dangerouslyAllowBrowser","vertexStorageBucketName","providerFileName","providerModel","awsS3Bucket","awsS3ObjectKey","awsBedrockModel","fireworksAccountId","calculateAudioDuration"]);if((0,f.isRunningInBrowser)()&&!ne)throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Portkey({ ..., dangerouslyAllowBrowser: true, ... });`);super(Object.assign({apiKey:_,baseURL:b,config:A,virtualKey:w,provider:O,traceID:S,metadata:R,Authorization:E,cacheForceRefresh:H,debug:M,customHost:x,cacheNamespace:le,openaiProject:P,openaiOrganization:$,awsSecretAccessKey:V,awsAccessKeyId:G,awsSessionToken:ee,awsRegion:X,vertexProjectId:q,vertexRegion:U,workersAiAccountId:I,azureResourceName:k,azureDeploymentId:B,azureApiVersion:ue,azureEndpointName:ce,huggingfaceBaseUrl:N,forwardHeaders:F,requestTimeout:de,strictOpenAiCompliance:re,anthropicBeta:ve,anthropicVersion:fe,mistralFimCompletion:te,dangerouslyAllowBrowser:ne,vertexStorageBucketName:_e,providerFileName:W,providerModel:pe,awsS3Bucket:ge,awsS3ObjectKey:Re,awsBedrockModel:Ue,fireworksAccountId:nt},bt)),this.completions=new h.Completions(this),this.chat=new h.Chat(this),this.embeddings=new h.Embeddings(this),this.files=new h.MainFiles(this),this.images=new h.Images(this),this.models=new h.Models(this),this.generations=new h.Generations(this),this.prompts=new h.Prompt(this),this.labels=new h.Labels(this),this.collections=new h.Collections(this),this.feedback=new h.Feedback(this),this.batches=new h.Batches(this),this.fineTuning=new h.FineTuning(this),this.vectorStores=new h.VectorStores(this),this.moderations=new h.Moderations(this),this.audio=new h.Audio(this),this.uploads=new h.Uploads(this),this.responses=new h.Responses(this),this.evals=new h.Evals(this),this.containers=new h.Containers(this),this.webhooks=new h.Webhooks(this),this.admin=new h.Admin(this),this.virtualKeys=new h.VirtualKeys(this),this.apiKeys=new h.ApiKeys(this),this.configs=new h.Configs(this),this.logs=new h.Logs(this),this.integrations=new h.Integrations(this),this.providers=new h.Providers(this),this.realtime=new h.MainRealtime(this),this.conversations=new h.Conversations(this),this.videos=new h.Videos(this),this.guardrails=new h.Guardrails(this),this.beta={assistants:new h.Assistants(this),threads:new h.Threads(this),realtime:new h.Realtime(this),chatkit:new h.ChatKit(this)},this.post=(it,jt,Ot,Vn)=>new h.postMethod(this).create(it,jt,Ot,Vn),this.get=(it,jt,Ot)=>new h.getMethod(this).create(it,jt,Ot),this.delete=(it,jt,Ot)=>new h.deleteMethod(this).create(it,jt,Ot),this.put=(it,jt,Ot,Vn)=>new h.putMethod(this).create(it,jt,Ot,Vn),this.baseURL=(0,d.setBaseURL)(b,_),this.apiKey=(0,d.setApiKey)(this.baseURL,_),this.virtualKey=w||null,this.config=A||null,this.provider=O,this.traceID=S,this.metadata=R,this.cacheForceRefresh=H,this.debug=M,this.customHost=x,this.cacheNamespace=le,this.openaiProject=P,this.openaiOrganization=$,this.awsSecretAccessKey=V,this.awsAccessKeyId=G,this.awsSessionToken=ee,this.awsRegion=X,this.vertexProjectId=q,this.vertexRegion=U,this.workersAiAccountId=I,this.azureResourceName=k,this.azureDeploymentId=B,this.azureApiVersion=ue,this.azureEndpointName=ce,this.huggingfaceBaseUrl=N,this.forwardHeaders=F,this.requestTimeout=de,this.strictOpenAiCompliance=re,this.anthropicBeta=ve,this.anthropicVersion=fe,this.mistralFimCompletion=te,this.dangerouslyAllowBrowser=ne??!1,this.vertexStorageBucketName=_e,this.providerFileName=W,this.providerModel=pe,this.awsS3Bucket=ge,this.awsS3ObjectKey=Re,this.awsBedrockModel=Ue,this.fireworksAccountId=nt,this.calculateAudioDuration=Le??!0}}return wn.Portkey=l,wn}var Ph={},zc={},$c={},qh,PO;function FE(){return PO||(PO=1,qh=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),qh}var Bs={},Dc={},qO;function GE(){if(qO)return Dc;qO=1;var i;Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.EventEmitter=void 0;const s=$e();let r=class{constructor(){i.set(this,{})}on(h,p){return(s.__classPrivateFieldGet(this,i,"f")[h]||(s.__classPrivateFieldGet(this,i,"f")[h]=[])).push({listener:p}),this}off(h,p){const f=s.__classPrivateFieldGet(this,i,"f")[h];if(!f)return this;const d=f.findIndex(l=>l.listener===p);return d>=0&&f.splice(d,1),this}once(h,p){return(s.__classPrivateFieldGet(this,i,"f")[h]||(s.__classPrivateFieldGet(this,i,"f")[h]=[])).push({listener:p,once:!0}),this}emitted(h){return new Promise((p,f)=>{this.once(h,p)})}_emit(h,...p){const f=s.__classPrivateFieldGet(this,i,"f")[h];f&&(s.__classPrivateFieldGet(this,i,"f")[h]=f.filter(d=>!d.once),f.forEach(({listener:d})=>d(...p)))}_hasListener(h){const p=s.__classPrivateFieldGet(this,i,"f")[h];return p&&p.length>0}};return Dc.EventEmitter=r,i=new WeakMap,Dc}var zO;function mj(){if(zO)return Bs;zO=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.OpenAIRealtimeEmitter=Bs.OpenAIRealtimeError=void 0,Bs.isAzure=p,Bs.buildRealtimeURL=f;const i=GE(),s=Gn(),r=Zu();class c extends s.OpenAIError{constructor(l,o){super(l),this.error=o?.error,this.event_id=o?.event_id}}Bs.OpenAIRealtimeError=c;class h extends i.EventEmitter{_onError(l,o,u){if(o=l?.error?`${l.error.message} code=${l.error.code} param=${l.error.param} type=${l.error.type} event_id=${l.error.event_id}`:o??"unknown error",!this._hasListener("error")){const v=new c(o+"\n\nTo resolve these unhandled rejection errors you should bind an `error` callback, e.g. `rt.on('error', (error) => ...)` ",l);v.cause=u,Promise.reject(v);return}const m=new c(o,l);m.cause=u,this._emit("error",m)}}Bs.OpenAIRealtimeEmitter=h;function p(d){return d instanceof r.AzureOpenAI}function f(d,l){const o="/realtime",u=d.baseURL,m=new URL(u+(u.endsWith("/")?o.slice(1):o));return m.protocol="wss",p(d)?(m.searchParams.set("api-version",d.apiVersion),m.searchParams.set("deployment",l)):m.searchParams.set("model",l),m}return Bs}var $O;function VE(){if($O)return $c;$O=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.OpenAIRealtimeWS=void 0;const s=$e().__importStar(FE()),r=Zu(),c=mj();class h extends c.OpenAIRealtimeEmitter{constructor(f,d){if(super(),d??(d=new r.OpenAI),typeof d?._options?.apiKey=="function"&&!f.__resolvedApiKey)throw new Error(["Cannot open Realtime WebSocket with a function-based apiKey.","Use the .create() method so that the key is resolved before connecting:","await OpenAIRealtimeWS.create(client, { model })"].join(`
`));this.url=(0,c.buildRealtimeURL)(d,f.model),this.socket=new s.WebSocket(this.url,{...f.options,headers:{...f.options?.headers,...(0,c.isAzure)(d)&&!f.__resolvedApiKey?{}:{Authorization:`Bearer ${d.apiKey}`},"OpenAI-Beta":"realtime=v1"}}),this.socket.on("message",o=>{const u=(()=>{try{return JSON.parse(o.toString())}catch(m){return this._onError(null,"could not parse websocket event",m),null}})();u&&(this._emit("event",u),u.type==="error"?this._onError(u):this._emit(u.type,u))}),this.socket.on("error",o=>{this._onError(null,o.message,o)})}static async create(f,d){return new h({...d,__resolvedApiKey:await f._callApiKey()},f)}static async azure(f,d={}){const l=await f._callApiKey(),o=d.deploymentName??f.deploymentName;if(!o)throw new Error("No deployment name provided");return new h({model:o,options:{...d.options,headers:{...d.options?.headers,...l?{}:{"api-key":f.apiKey}}},__resolvedApiKey:l},f)}send(f){try{this.socket.send(JSON.stringify(f))}catch(d){this._onError(null,"could not send data",d)}}close(f){try{this.socket.close(f?.code??1e3,f?.reason??"OK")}catch(d){this._onError(null,"could not close the connection",d)}}}return $c.OpenAIRealtimeWS=h,$c}var DO;function KE(){if(DO)return zc;DO=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.PortkeyAIRealtimeWS=void 0;const i=VE();class s extends i.OpenAIRealtimeWS{constructor(c,h){var p;const f=Object.assign(Object.assign({},c.options),{headers:Object.assign(Object.assign({},((p=c.options)===null||p===void 0?void 0:p.headers)||{}),h.customHeaders)});super(Object.assign(Object.assign({},c),{options:f}),h)}}return zc.PortkeyAIRealtimeWS=s,zc}var UO;function YE(){return UO||(UO=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.PortkeyAIRealtimeWS=void 0;var s=KE();Object.defineProperty(i,"PortkeyAIRealtimeWS",{enumerable:!0,get:function(){return s.PortkeyAIRealtimeWS}})})(Ph)),Ph}var Uc={},Bc={},BO;function ZE(){if(BO)return Bc;BO=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.OpenAIRealtimeWebSocket=void 0;const i=Zu(),s=Gn(),r=mj(),c=ep();class h extends r.OpenAIRealtimeEmitter{constructor(f,d){super();const l=typeof d?._options?.apiKey=="function",o=f.dangerouslyAllowBrowser??d?._options?.dangerouslyAllowBrowser??(d?.apiKey?.startsWith("ek_")?!0:null);if(!o&&(0,c.isRunningInBrowser)())throw new s.OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.

You can avoid this error by creating an ephemeral session token:
https://platform.openai.com/docs/api-reference/realtime-sessions
`);if(d??(d=new i.OpenAI({dangerouslyAllowBrowser:o})),l&&!f?.__resolvedApiKey)throw new Error(["Cannot open Realtime WebSocket with a function-based apiKey.","Use the .create() method so that the key is resolved before connecting:","await OpenAIRealtimeWebSocket.create(client, { model })"].join(`
`));this.url=(0,r.buildRealtimeURL)(d,f.model),f.onURL?.(this.url),this.socket=new WebSocket(this.url.toString(),["realtime",...(0,r.isAzure)(d)?[]:[`openai-insecure-api-key.${d.apiKey}`],"openai-beta.realtime-v1"]),this.socket.addEventListener("message",u=>{const m=(()=>{try{return JSON.parse(u.data.toString())}catch(v){return this._onError(null,"could not parse websocket event",v),null}})();m&&(this._emit("event",m),m.type==="error"?this._onError(m):this._emit(m.type,m))}),this.socket.addEventListener("error",u=>{this._onError(null,u.message,null)}),(0,r.isAzure)(d)&&(this.url.searchParams.get("Authorization")!==null?this.url.searchParams.set("Authorization","<REDACTED>"):this.url.searchParams.set("api-key","<REDACTED>"))}static async create(f,d){return new h({...d,__resolvedApiKey:await f._callApiKey()},f)}static async azure(f,d={}){const l=await f._callApiKey();function o(v){l?v.searchParams.set("Authorization",`Bearer ${f.apiKey}`):v.searchParams.set("api-key",f.apiKey)}const u=d.deploymentName??f.deploymentName;if(!u)throw new Error("No deployment name provided");const{dangerouslyAllowBrowser:m}=d;return new h({model:u,onURL:o,...m?{dangerouslyAllowBrowser:m}:{},__resolvedApiKey:l},f)}send(f){try{this.socket.send(JSON.stringify(f))}catch(d){this._onError(null,"could not send data",d)}}close(f){try{this.socket.close(f?.code??1e3,f?.reason??"OK")}catch(d){this._onError(null,"could not close the connection",d)}}}return Bc.OpenAIRealtimeWebSocket=h,Bc}var LO;function XE(){if(LO)return Uc;LO=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.PorkteyRealtimeWebSocket=void 0;const i=ZE();class s extends i.OpenAIRealtimeWebSocket{constructor(c,h){super(Object.assign({},c),h)}}return Uc.PorkteyRealtimeWebSocket=s,Uc}var is={},zh={},FO;function JE(){return FO||(FO=1,Object.defineProperty(zh,"__esModule",{value:!0})),zh}var GO;function QE(){if(GO)return is;GO=1;var i=is&&is.__createBinding||(Object.create?(function(c,h,p,f){f===void 0&&(f=p);var d=Object.getOwnPropertyDescriptor(h,p);(!d||("get"in d?!h.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(c,f,d)}):(function(c,h,p,f){f===void 0&&(f=p),c[f]=h[p]})),s=is&&is.__setModuleDefault||(Object.create?(function(c,h){Object.defineProperty(c,"default",{enumerable:!0,value:h})}):function(c,h){c.default=h}),r=is&&is.__importStar||function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var p in c)p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)&&i(h,c,p);return s(h,c),h};return Object.defineProperty(is,"__esModule",{value:!0}),is.ChatCompletionTypes=void 0,is.ChatCompletionTypes=r(JE()),is}var VO;function WE(){return VO||(VO=1,(function(i){var s=Hs&&Hs.__createBinding||(Object.create?(function(o,u,m,v){v===void 0&&(v=m);var _=Object.getOwnPropertyDescriptor(u,m);(!_||("get"in _?!u.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return u[m]}}),Object.defineProperty(o,v,_)}):(function(o,u,m,v){v===void 0&&(v=m),o[v]=u[m]})),r=Hs&&Hs.__setModuleDefault||(Object.create?(function(o,u){Object.defineProperty(o,"default",{enumerable:!0,value:u})}):function(o,u){o.default=u}),c=Hs&&Hs.__importStar||function(o){if(o&&o.__esModule)return o;var u={};if(o!=null)for(var m in o)m!=="default"&&Object.prototype.hasOwnProperty.call(o,m)&&s(u,o,m);return r(u,o),u};Object.defineProperty(i,"__esModule",{value:!0}),i.types=i.PorkteyRealtimeWebSocket=i.PortkeyAIRealtimeWS=i.createHeaders=i.PORTKEY_GATEWAY_URL=i.Portkey=void 0;const h=c(xp()),p=c(LE()),f=c(nn()),d=YE();Object.defineProperty(i,"PortkeyAIRealtimeWS",{enumerable:!0,get:function(){return d.PortkeyAIRealtimeWS}});const l=XE();Object.defineProperty(i,"PorkteyRealtimeWebSocket",{enumerable:!0,get:function(){return l.PorkteyRealtimeWebSocket}}),i.Portkey=p.Portkey,i.PORTKEY_GATEWAY_URL=f.PORTKEY_GATEWAY_URL,i.createHeaders=h.createHeaders,i.types=c(QE()),i.default=i.Portkey})(Hs)),Hs}var eT=WE();const KO=lp(eT);class tT{client;config;constructor(s){this.config=s,this.client=new KO({apiKey:s.apiKey,provider:"openai",dangerouslyAllowBrowser:!0})}async createChatCompletion(s){try{return await this.client.chat.completions.create({model:"gpt-4o",messages:s.messages,tools:s.tools,temperature:s.temperature??.7,max_tokens:s.max_tokens??2e3,stream:s.stream??!1})}catch(r){throw console.error("Portkey API error:",r),r}}async*createChatCompletionStream(s){try{const r=await this.client.chat.completions.create({model:"gpt-4o",messages:s.messages,tools:s.tools,temperature:s.temperature??.7,max_tokens:s.max_tokens??2e3,stream:!0});for await(const c of r)yield c}catch(r){throw console.error("Portkey streaming error:",r),r}}updateConfig(s){this.config={...this.config,...s},this.client=new KO({apiKey:this.config.apiKey,provider:"openai",dangerouslyAllowBrowser:!0})}}let YO=null;function $h(i){return i&&(YO=new tT(i)),YO}function nT(i){return{type:"function",function:{name:i.name,description:i.description||`Call the ${i.name} tool`,parameters:{type:"object",properties:i.inputSchema.properties||{},required:i.inputSchema.required||[]}}}}function sT(i){return i.map(s=>({type:"function",function:{name:s.toolName,description:s.tool.description||`Call the ${s.toolName} tool`,parameters:{type:"object",properties:s.tool.inputSchema?.properties||{},required:s.tool.inputSchema?.required||[]}}}))}function iT(i){const s=[];for(const r of Object.values(i))for(const c of r)s.push(nT(c));return s}function rT(i,s){for(const[r,c]of Object.entries(s))if(c.some(h=>h.name===i))return r;return null}const Ep="http://localhost:8008";let Lc=null;async function aT(){if(Lc)return Lc;const i=await fetch(`${Ep}/auth/token`,{method:"GET",credentials:"include"});if(!i.ok)throw new Error("Failed to retrieve session token");if(Lc=(await i.json()).token,!Lc)throw new Error("Session token is null");return Lc}async function gj(i,s={}){const r=await aT(),c=new Headers(s.headers);return c.set("x-hoot-token",r),c.set("Content-Type","application/json"),fetch(i,{...s,headers:c})}let Jc=!1,ap=null;async function oT(i,s){try{console.log("[ToolFilter] Initializing on backend...");const r=i.filter(d=>d.connected);if(r.length===0)return console.log("[ToolFilter] No connected servers, skipping initialization"),Jc=!1,{success:!1,error:"No connected servers"};const c=r.map(d=>({id:d.id,name:d.name,tools:s[d.id]||[]})),h=c.reduce((d,l)=>d+l.tools.length,0);console.log(`[ToolFilter] Sending ${c.length} servers with ${h} tools to backend`);const p=await gj(`${Ep}/mcp/tool-filter/initialize`,{method:"POST",body:JSON.stringify({servers:c})}),f=await p.json();if(!p.ok||!f.success)throw new Error(f.error||"Backend initialization failed");return Jc=!0,ap=null,console.log("[ToolFilter] Backend initialization complete"),{success:!0}}catch(r){return console.error("[ToolFilter] Backend initialization failed:",r),Jc=!1,ap=r,{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async function cT(i,s){if(!Jc)return console.warn("[ToolFilter] Filter not initialized on backend"),null;try{const r=await gj(`${Ep}/mcp/tool-filter/filter`,{method:"POST",body:JSON.stringify({messages:i,options:s})}),c=await r.json();if(!r.ok||!c.success)throw new Error(c.error||"Backend filtering failed");return console.log(`[ToolFilter] Backend filtered to ${c.tools.length} tools in ${c.metrics.totalTime.toFixed(2)}ms`),{tools:c.tools,metrics:c.metrics}}catch(r){return console.error("[ToolFilter] Backend filtering failed:",r),null}}function lT(){Jc=!1,ap=null,console.log("[ToolFilter] Filter reset")}function uT(){const i=Ee(m=>m.servers),s=Ee(m=>m.tools),r=Ee(m=>m.toolFilterEnabled),c=Ee(m=>m.toolFilterReady),h=Ee(m=>m.setToolFilterReady),p=Z.useRef(""),f=Z.useRef(""),d=Z.useRef(!1),l=Z.useRef(null),o=i.filter(m=>m.connected).map(m=>m.id).sort().join(","),u=Object.keys(s).sort().map(m=>`${m}:${s[m].length}`).join(",");return Z.useEffect(()=>{if(!r){h(!1);return}const m=o!==p.current,v=u!==f.current;if(!m&&!v)return;l.current&&(clearTimeout(l.current),l.current=null),p.current=o,f.current=u;const _=i.filter(S=>S.connected);if(_.length===0){console.log("[useToolFilter] No connected servers, skipping initialization"),h(!1);return}const b=Object.values(s).flat().length;if(b===0){console.log("[useToolFilter] No tools available, skipping initialization"),h(!1);return}console.log("[useToolFilter] Scheduling filter initialization in 500ms...");const A=[..._],w={...s},O=b;l.current=setTimeout(()=>{if(d.current){console.log("[useToolFilter] Initialization already in progress");return}d.current=!0,console.log("[useToolFilter] Initializing filter with",{servers:A.length,tools:O}),lT(),oT(A,w).then(S=>{S.success?(console.log("[useToolFilter] Filter initialized successfully"),h(!0)):(console.warn("[useToolFilter] Filter initialization failed:",S.error),h(!1))}).catch(S=>{console.error("[useToolFilter] Filter initialization error:",S),h(!1)}).finally(()=>{d.current=!1})},500)},[o,u,r,h]),{isReady:c,isEnabled:r}}const op="hoot-portkey-api-key",cp="hoot-chat-messages",dT=()=>{const i=!!localStorage.getItem(op),s=localStorage.getItem(cp);if(s)try{const r=JSON.parse(s);if(Array.isArray(r)&&r.length>0)return r}catch(r){console.warn("Failed to parse saved messages:",r)}return[{role:"assistant",content:i?" Hi! I'm connected to GPT-4o and can use your MCP tools. What would you like to do?":" Hi! Please configure your Portkey API key in settings to get started."}]};function fT(){const[i,s]=Z.useState(dT()),[r,c]=Z.useState(""),[h,p]=Z.useState(!1),[f,d]=Z.useState(null),[l,o]=Z.useState(!1),[u,m]=Z.useState(null),[v,_]=Z.useState(()=>localStorage.getItem(op)||""),[b,A]=Z.useState(null),w=Z.useRef(null),O=Ee(I=>I.servers),S=Ee(I=>I.tools),R=Ee(I=>I.toolFilterEnabled),E=Ee(I=>I.toolFilterConfig),{isReady:H}=uT(),M=O.filter(I=>I.connected),x=Object.values(S).flat(),P=!!v;Z.useEffect(()=>{v&&($h({apiKey:v}),s(I=>I.length===1&&I[0].role==="assistant"&&I[0].content.includes("Please configure your Portkey API key")?[{role:"assistant",content:" Hi! I'm connected to GPT-4o and can use your MCP tools. What would you like to do?"}]:I))},[v]);const $=()=>{w.current?.scrollIntoView({behavior:"smooth"})};Z.useEffect(()=>{$()},[i]),Z.useEffect(()=>{localStorage.setItem(cp,JSON.stringify(i))},[i]);const V=I=>{_(I),localStorage.setItem(op,I),$h({apiKey:I}),s([{role:"assistant",content:" Great! I'm now connected to GPT-4o. I can use your MCP tools. What would you like to do?"}])},G=()=>{confirm("Are you sure you want to clear the chat history? This cannot be undone.")&&(s([{role:"assistant",content:" Hi! I'm connected to GPT-4o and can use your MCP tools. What would you like to do?"}]),d(null),localStorage.removeItem(cp))},ee=async I=>{const k=Object.values(S).flat().length;if(R&&H&&k>0)try{const ce=await cT(I,E);if(ce){const N=sT(ce.tools),F=new Map;for(const fe of ce.tools)for(const[te,ne]of Object.entries(S))if(ne.some(_e=>_e.name===fe.toolName)){const _e=O.find(W=>W.id===te);_e&&F.set(te,{serverId:te,serverName:_e.name});break}const le=Array.from(F.values()).map(async({serverId:fe})=>{const te=O.find(ne=>ne.id===fe);if(te?.url){const ne=te.auth?.oauthServerMetadata?.logo_uri,_e=await a1(te.url,ne);return{serverId:fe,faviconUrl:_e}}return{serverId:fe,faviconUrl:null}}),de=await Promise.all(le),re=new Map(de.map(({serverId:fe,faviconUrl:te})=>[fe,te])),ve=ce.tools.map(fe=>{let te="Unknown",ne;for(const[_e,W]of Object.entries(S))if(W.some(pe=>pe.name===fe.toolName)){const pe=O.find(ge=>ge.id===_e);pe&&(te=pe.name,ne=re.get(_e)||void 0);break}return{toolName:fe.toolName,serverName:te,serverIcon:ne}});return A({toolsUsed:ce.tools.length,toolsTotal:k,lastFilterTime:ce.metrics.totalTime}),console.log(`[Chat] Using ${ce.tools.length}/${k} filtered tools (${ce.metrics.totalTime.toFixed(1)}ms)`),{tools:N,metrics:{toolsUsed:ce.tools.length,toolsTotal:k,filterTime:ce.metrics.totalTime,toolDetails:ve}}}}catch(ce){console.warn("[Chat] Filtering failed, falling back to all tools:",ce)}const B=iT(S),ue=B.slice(0,120);return A({toolsUsed:ue.length,toolsTotal:k,lastFilterTime:0}),B.length>120&&console.warn(`[Chat] Tool count (${B.length}) exceeds OpenAI limit (128), using first 120 tools`),{tools:ue,metrics:null}},X=async()=>{if(!r.trim()||h)return;if(!P){alert("Please configure your Portkey API key in settings first."),o(!0);return}if(M.length===0){alert("Please connect to at least one MCP server in the Test Tools tab first.");return}if(x.length===0){alert("No tools available yet. Please wait for servers to load their tools.");return}const I={role:"user",content:r};s(k=>[...k,I]),c(""),p(!0);try{const k=$h();if(!k)throw new Error("Portkey client not initialized");const B=i.filter(F=>F.role==="user"||F.role==="assistant"||F.role==="system"&&!F.filterMetrics).map(F=>({role:F.role,content:F.content}));B.length===0&&B.unshift({role:"system",content:`You are Hoot's AI assistant. Hoot is a web-based MCP (Model Context Protocol) client that connects to multiple servers, giving you access to a wide range of tools and services.

Your available tools are intelligently filtered using semantic similarity to show only the most relevant options for the current conversation. When you need to accomplish a task, use the provided tools effectively.

Be helpful, clear about what actions you're taking, and explain tool results in a natural way.`}),B.push({role:"user",content:r});const ue=10;let ce=B,N=0;for(;N<ue;){N++,console.log(`[Chat] LLM call iteration ${N}`);const{tools:F,metrics:le}=await ee(ce),de={model:"gpt-4o",messages:ce,tools:F.length>0?F:void 0},re=await k.createChatCompletion({messages:ce,tools:F.length>0?F:void 0}),fe=re.choices[0].message;if(fe.tool_calls&&fe.tool_calls.length>0){s(ne=>[...ne,...le?[{role:"system",content:"",filterMetrics:le}]:[],{role:"assistant",content:fe.content||"I need to use some tools to help with that.",apiRequest:de,apiResponse:re}]);const te=[];for(const ne of fe.tool_calls){const _e=ne.function.name,W=ne.function.arguments;s(ge=>[...ge,{role:"tool",content:`Calling tool: ${_e}`,toolCall:{id:ne.id,name:_e,arguments:W},apiRequest:{function:_e,arguments:W}}]);const pe=rT(_e,S);if(!pe){const ge=`Tool ${_e} not found on any connected server`;te.push({toolCall:ne,result:null,error:ge}),s(Re=>[...Re,{role:"tool",content:`Error: ${ge}`,toolResult:{id:ne.id,name:_e,result:JSON.stringify({error:ge})}}]);continue}try{const ge=await ia.executeTool(pe,_e,JSON.parse(W));te.push({toolCall:ne,result:ge,error:void 0}),s(Re=>[...Re,{role:"tool",content:`Tool result: ${_e}`,toolResult:{id:ne.id,name:_e,result:JSON.stringify(ge,null,2)},apiResponse:ge}])}catch(ge){const Re=ge.message||"Tool execution failed";te.push({toolCall:ne,result:null,error:Re}),s(Ue=>[...Ue,{role:"tool",content:`Error: ${Re}`,toolResult:{id:ne.id,name:_e,result:JSON.stringify({error:Re})}}])}}ce=[...ce,{role:"assistant",content:fe.content||null,tool_calls:fe.tool_calls},...te.map(ne=>({role:"tool",content:ne.error?JSON.stringify({error:ne.error}):JSON.stringify(ne.result),tool_call_id:ne.toolCall.id}))];continue}else{s(te=>[...te,...le?[{role:"system",content:"",filterMetrics:le}]:[],{role:"assistant",content:fe.content||"I apologize, I could not generate a response.",apiRequest:de,apiResponse:re}]);break}}N>=ue&&s(F=>[...F,{role:"system",content:" Reached maximum tool execution depth. The conversation may be incomplete."}])}catch(k){console.error("Error in LLM conversation:",k),s(B=>[...B,{role:"assistant",content:` Error: ${k.message||"Failed to process your request"}`}])}finally{p(!1)}},q=f!==null?i[f]:null,U=(I,k)=>{const B=typeof I=="string"?I:JSON.stringify(I,null,2);navigator.clipboard.writeText(B),m(k),setTimeout(()=>m(null),2e3)};return j.jsxs("div",{className:"hybrid-interface",children:[j.jsxs("div",{className:"chat-info-bar",children:[j.jsxs("div",{className:"chat-info-left",children:[j.jsxs("span",{className:"info-item",children:[j.jsx(Eu,{size:14}),j.jsxs("span",{children:[M.length," server",M.length!==1?"s":""]})]}),j.jsx("span",{className:"info-divider",children:""}),j.jsxs("span",{className:"info-item",children:[j.jsx(Vi,{size:14}),b?j.jsxs("span",{title:`Semantic filtering ${R&&H?"active":"disabled"}`,children:[b.toolsUsed,"/",b.toolsTotal," tools",R&&H&&b.lastFilterTime>0&&j.jsxs("span",{style:{opacity:.7,fontSize:"0.85em"},children:[" ","(",b.lastFilterTime.toFixed(0),"ms)"]})]}):j.jsxs("span",{children:[x.length," tool",x.length!==1?"s":""]})]}),R&&H&&b&&j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"info-divider",children:""}),j.jsxs("span",{className:"info-item",title:"Semantic filtering is active",children:[j.jsx(xu,{size:14,style:{color:"#10b981"}}),j.jsx("span",{style:{color:"#10b981"},children:"Filtered"})]})]}),R&&!H&&x.length>0&&j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"info-divider",children:""}),j.jsxs("span",{className:"info-item",title:"Filter is initializing...",children:[j.jsx(xu,{size:14,style:{color:"#f59e0b"}}),j.jsx("span",{style:{color:"#f59e0b"},children:"Initializing..."})]})]})]}),j.jsxs("button",{className:`info-settings-button ${P?"":"needs-setup"}`,onClick:()=>o(!0),title:P?"API Settings":"Configure API Key",children:[j.jsx(dp,{size:14}),!P&&j.jsx("span",{className:"setup-indicator",children:"Setup Required"})]}),i.length>1&&j.jsxs("button",{className:"info-settings-button",onClick:G,title:"Clear chat history",children:[j.jsx(n1,{size:14}),"Clear Chat"]})]}),j.jsxs("div",{className:"hybrid-content",children:[j.jsxs("div",{className:"chat-pane full-width",children:[j.jsxs("div",{className:"chat-messages-hybrid",children:[i.map((I,k)=>j.jsx("div",{className:`chat-message-hybrid chat-message-${I.role} ${k===f?"selected":""} ${I.apiRequest||I.apiResponse?"has-api-data":""}`,onClick:()=>I.apiRequest||I.apiResponse?d(k):null,children:I.role==="system"&&I.filterMetrics?j.jsxs("div",{className:"filter-metrics-detailed",children:[j.jsxs("div",{className:"filter-metrics-header",children:[j.jsx(xu,{size:14}),j.jsxs("span",{children:["Filtered ",j.jsx("strong",{children:I.filterMetrics.toolsUsed})," of ",I.filterMetrics.toolsTotal," tools"]}),I.filterMetrics.filterTime>0&&j.jsxs("span",{className:"filter-time",children:["  ",I.filterMetrics.filterTime.toFixed(0),"ms"]})]}),I.filterMetrics.toolDetails&&I.filterMetrics.toolDetails.length>0&&(()=>{const B=I.filterMetrics.toolDetails.reduce((ue,ce)=>(ue[ce.serverName]||(ue[ce.serverName]={serverName:ce.serverName,serverIcon:ce.serverIcon,tools:[]}),ue[ce.serverName].tools.push(ce.toolName),ue),{});return j.jsx("div",{className:"filter-servers-list",children:Object.values(B).map((ue,ce)=>j.jsxs("div",{className:"filter-server-group",children:[ue.serverIcon&&j.jsx("img",{src:ue.serverIcon,alt:"",className:"filter-server-favicon"}),!ue.serverIcon&&j.jsx("div",{className:"filter-server-favicon-placeholder",children:j.jsx(Vi,{size:10})}),j.jsx("span",{className:"filter-server-name",children:ue.serverName}),j.jsxs("span",{className:"filter-server-count",children:["(",ue.tools.length,"):"]}),j.jsx("div",{className:"filter-server-tools",children:ue.tools.map((N,F)=>j.jsx("span",{className:"filter-server-tool",children:N},F))})]},ce))})})()]}):j.jsxs(j.Fragment,{children:[I.role==="user"&&j.jsx("div",{className:"message-avatar-hybrid user",children:"You"}),I.role==="assistant"&&j.jsx("div",{className:"message-avatar-hybrid assistant",children:j.jsx(Eu,{size:14})}),I.role==="tool"&&j.jsx("div",{className:"message-avatar-hybrid tool",children:j.jsx(Vi,{size:14})}),j.jsxs("div",{className:"message-content-hybrid",children:[j.jsx("div",{className:"message-text-hybrid",children:I.content}),(I.apiRequest||I.apiResponse)&&j.jsxs("div",{className:"api-indicator",children:[j.jsx(Vi,{size:12}),"Click to view API details"]})]})]})},k)),h&&j.jsxs("div",{className:"chat-message-hybrid chat-message-assistant",children:[j.jsx("div",{className:"message-avatar-hybrid assistant",children:j.jsx(Eu,{size:14})}),j.jsx("div",{className:"message-content-hybrid",children:j.jsxs("div",{className:"typing-indicator-hybrid",children:[j.jsx("span",{}),j.jsx("span",{}),j.jsx("span",{})]})})]}),j.jsx("div",{ref:w})]}),j.jsx("div",{className:"chat-input-container-hybrid",children:j.jsxs("div",{className:"chat-input-wrapper-hybrid",children:[j.jsx("textarea",{className:"chat-input-hybrid",value:r,onChange:I=>c(I.target.value),onKeyPress:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),X())},placeholder:P?"Ask me anything about your MCP tools...":"Configure API key in settings first...",rows:1,disabled:h||!P}),j.jsx("button",{className:"chat-send-button-hybrid",onClick:X,disabled:!r.trim()||h||!P,children:j.jsx(Mw,{size:16})})]})})]}),f!==null&&q&&j.jsxs("div",{className:"api-pane",children:[j.jsxs("div",{className:"api-pane-header",children:[j.jsx(Vi,{size:16}),j.jsx("span",{children:"Live API Calls"}),j.jsx("button",{className:"api-close-button",onClick:()=>d(null),title:"Close API viewer",children:""})]}),j.jsx("div",{className:"api-pane-content",children:q?j.jsxs(j.Fragment,{children:[q.apiRequest&&j.jsxs("div",{className:"api-block",children:[j.jsxs("div",{className:"api-block-header request",children:[j.jsx("span",{children:" Request"}),j.jsx("button",{className:"api-copy-button",onClick:()=>U(q.apiRequest,"request"),title:"Copy JSON",children:u==="request"?j.jsx(Vc,{size:14}):j.jsx(Kc,{size:14})})]}),j.jsx(Zc,{content:JSON.stringify(q.apiRequest),className:"api-json-viewer"})]}),q.apiResponse&&j.jsxs("div",{className:"api-block",children:[j.jsxs("div",{className:"api-block-header response",children:[j.jsx("span",{children:" Response"}),j.jsx("button",{className:"api-copy-button",onClick:()=>U(q.apiResponse,"response"),title:"Copy JSON",children:u==="response"?j.jsx(Vc,{size:14}):j.jsx(Kc,{size:14})})]}),j.jsx(Zc,{content:JSON.stringify(q.apiResponse),className:"api-json-viewer"})]}),q.toolCall&&j.jsxs("div",{className:"api-block",children:[j.jsxs("div",{className:"api-block-header tool-call",children:[j.jsxs("span",{children:[" Tool Call: ",q.toolCall.name]}),j.jsx("button",{className:"api-copy-button",onClick:()=>U(q.toolCall.arguments,"toolcall"),title:"Copy JSON",children:u==="toolcall"?j.jsx(Vc,{size:14}):j.jsx(Kc,{size:14})})]}),j.jsx(Zc,{content:q.toolCall.arguments,className:"api-json-viewer"})]}),q.toolResult&&j.jsxs("div",{className:"api-block",children:[j.jsxs("div",{className:"api-block-header tool-result",children:[j.jsxs("span",{children:[" Tool Result: ",q.toolResult.name]}),j.jsx("button",{className:"api-copy-button",onClick:()=>U(q.toolResult.result,"toolresult"),title:"Copy JSON",children:u==="toolresult"?j.jsx(Vc,{size:14}):j.jsx(Kc,{size:14})})]}),j.jsx(Zc,{content:q.toolResult.result,className:"api-json-viewer"})]}),!q.apiRequest&&!q.apiResponse&&!q.toolCall&&!q.toolResult&&j.jsxs("div",{className:"api-empty",children:[j.jsx(Vi,{size:32}),j.jsx("p",{children:"No API data for this message"})]})]}):j.jsxs("div",{className:"api-empty",children:[j.jsx(Vi,{size:32}),j.jsx("p",{children:"Click on a message to see API details"}),j.jsx("span",{className:"api-hint",children:"Messages with API data have a blue indicator"})]})})]})]}),l&&j.jsx(Px,{onClose:()=>o(!1),onSave:V,currentApiKey:v})]})}const hT=Z.memo(function({server:s,mode:r,onSubmit:c,isSubmitting:h,error:p}){const[f,d]=Z.useState(s.name),[l,o]=Z.useState(s.transport),[u,m]=Z.useState(s.command||""),[v,_]=Z.useState(s.url||""),[b,A]=Z.useState(""),w=s.auth?.type==="oauth"&&s.auth&&"client_id"in s.auth&&!!s.auth.client_id,[O,S]=Z.useState(w?"oauth_client_credentials":s.auth?.type||"none"),[R,E]=Z.useState(s.auth?.type==="headers"&&s.auth.headers?Object.entries(s.auth.headers).map(([re,ve])=>({key:re,value:ve})):[{key:"",value:""}]),[H,M]=Z.useState(s.auth?.type==="oauth"&&s.auth&&"client_id"in s.auth&&s.auth.client_id||""),[x,P]=Z.useState(""),[$,V]=Z.useState(s.auth?.type==="oauth"&&s.auth&&"token_url"in s.auth&&s.auth.token_url||""),[G,ee]=Z.useState(!1),[X,q]=Z.useState(s.auth?.type==="oauth"&&s.auth?.additionalHeaders?Object.entries(s.auth.additionalHeaders).map(([re,ve])=>({key:re,value:ve})):[{key:"",value:""}]),[U,I]=Z.useState(s.auth?.type==="oauth"&&s.auth?.customOAuthMetadata?.authorization_endpoint||""),[k,B]=Z.useState(s.auth?.type==="oauth"&&s.auth?.customOAuthMetadata?.token_endpoint||""),[ue,ce]=Z.useState(s.auth?.type==="oauth"&&s.auth?.customOAuthMetadata?.client_id||""),[N,F]=Z.useState(!1);Z.useEffect(()=>{O==="headers"&&R.length===0&&E([{key:"",value:""}])},[O,R.length]);const le=async()=>{if(!(!v.trim()||!v.startsWith("http"))&&O==="none"&&!(l!=="sse"&&l!=="http")){F(!0);try{(await r1(v,l)).requiresOAuth&&(console.log(" OAuth detected for URL:",v),S("oauth"),$n.info("OAuth Required","This server requires OAuth authentication"))}catch(re){console.error("OAuth discovery error:",re)}finally{F(!1)}}},de=async()=>{if(A(""),!f.trim()){A("Server name is required");return}if(l==="stdio"&&!u.trim()){A("Command is required for stdio transport");return}if((l==="sse"||l==="http")&&!v.trim()){A("URL is required for SSE/HTTP transport");return}if(O==="headers"&&R.filter(te=>te.key.trim()&&te.value.trim()).length===0){A("At least one header with key and value is required for header-based auth");return}if(O==="oauth_client_credentials"&&(!H.trim()||!x.trim())){A("Client ID and Client Secret are required for OAuth Client Credentials");return}let re;if(O!=="none"&&(re={type:O==="oauth_client_credentials"?"oauth":O},O==="headers"?re.headers=R.filter(fe=>fe.key.trim()&&fe.value.trim()).reduce((fe,te)=>({...fe,[te.key.trim()]:te.value.trim()}),{}):O==="oauth_client_credentials"&&(re.client_id=H.trim(),re.client_secret=x.trim(),$.trim()&&(re.token_url=$.trim())),O==="oauth"||O==="oauth_client_credentials")){const fe=X.filter(te=>te.key.trim()&&te.value.trim());fe.length>0&&(re.additionalHeaders=fe.reduce((te,ne)=>({...te,[ne.key.trim()]:ne.value.trim()}),{})),(U.trim()||k.trim()||ue.trim())&&(re.customOAuthMetadata={},U.trim()&&(re.customOAuthMetadata.authorization_endpoint=U.trim()),k.trim()&&(re.customOAuthMetadata.token_endpoint=k.trim()),ue.trim()&&(re.customOAuthMetadata.client_id=ue.trim()))}const ve={name:f.trim(),transport:l,...l==="stdio"?{command:u.trim(),url:void 0}:{url:v.trim(),command:void 0},auth:re};await c(ve)};return j.jsxs(j.Fragment,{children:[(b||p)&&j.jsx("div",{className:"error-message",children:b||p}),l==="stdio"?j.jsx(Je,{label:"Command",placeholder:"node server.js",value:u,onChange:re=>m(re.target.value)}):j.jsxs("div",{style:{position:"relative"},children:[j.jsx(Je,{label:"URL",placeholder:"https://example.com/mcp",value:v,onChange:re=>_(re.target.value),onBlur:le}),N&&j.jsx("div",{style:{position:"absolute",right:"12px",top:"38px",display:"flex",alignItems:"center",gap:"8px"},children:j.jsx(jp,{size:"sm"})})]}),j.jsx("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid var(--border-color)"}}),j.jsx(Je,{label:"Server Name",placeholder:"My MCP Server",value:f,onChange:re=>d(re.target.value)}),j.jsx(Ci,{label:"Transport",value:l,onChange:re=>o(re),options:[{value:"http",label:"HTTP"},{value:"sse",label:"SSE"},{value:"stdio",label:"stdio (coming soon)",disabled:!0}]}),j.jsx(Ci,{label:"Authentication",value:O,onChange:re=>S(re),options:[{value:"none",label:"None"},{value:"headers",label:"Headers"},{value:"oauth",label:"OAuth Auto"},{value:"oauth_client_credentials",label:"OAuth Client"}]}),O==="headers"&&j.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)"},children:[j.jsx("label",{className:"form-label",children:"Headers"}),R.map((re,ve)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx(Je,{placeholder:"Header Name (e.g., X-API-Key)",value:re.key,onChange:fe=>{const te=[...R];te[ve].key=fe.target.value,E(te)}}),j.jsx(Je,{type:"password",placeholder:"Header Value",value:re.value,onChange:fe=>{const te=[...R];te[ve].value=fe.target.value,E(te)}}),R.length>1&&j.jsx(ft,{variant:"ghost",size:"sm",type:"button",onClick:()=>E(R.filter((fe,te)=>te!==ve)),children:""})]},ve)),j.jsx(ft,{variant:"outline",size:"sm",type:"button",onClick:()=>E([...R,{key:"",value:""}]),style:{width:"100%",marginTop:"8px"},children:"+ Add Header"})]}),O==="oauth"&&j.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)"},children:[j.jsx("div",{className:"info-message",style:{fontSize:"13px",opacity:.8},children:"Hoot will automatically handle the OAuth flow with PKCE when you connect."}),j.jsxs("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid rgba(92, 207, 230, 0.2)"},children:[j.jsxs(ft,{variant:"ghost",size:"sm",type:"button",onClick:()=>ee(!G),style:{padding:0,display:"flex",alignItems:"center",gap:"6px",marginBottom:G?"16px":0},children:[j.jsx("span",{style:{transform:G?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),"Advanced OAuth Settings"]}),G&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsxs("div",{style:{marginBottom:"20px"},children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"8px"},children:["Additional Headers",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(sent with OAuth requests)"})]}),X.map((re,ve)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx(Je,{placeholder:"Header Name (e.g., X-API-Version)",value:re.key,onChange:fe=>{const te=[...X];te[ve].key=fe.target.value,q(te)}}),j.jsx(Je,{placeholder:"Header Value",value:re.value,onChange:fe=>{const te=[...X];te[ve].value=fe.target.value,q(te)}}),X.length>1&&j.jsx(ft,{variant:"ghost",size:"sm",type:"button",onClick:()=>q(X.filter((fe,te)=>te!==ve)),children:""})]},ve)),j.jsx(ft,{variant:"outline",size:"sm",type:"button",onClick:()=>q([...X,{key:"",value:""}]),style:{width:"100%",marginTop:"8px"},children:"+ Add Header"})]}),j.jsxs("div",{children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"12px"},children:["Custom OAuth Endpoints",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(overrides auto-discovery)"})]}),j.jsx(Je,{placeholder:"Authorization Endpoint (optional)",value:U,onChange:re=>I(re.target.value)}),j.jsx(Je,{placeholder:"Token Endpoint (optional)",value:k,onChange:re=>B(re.target.value)}),j.jsx(Je,{placeholder:"Custom Client ID (optional)",value:ue,onChange:re=>ce(re.target.value)})]})]})]})]}),O==="oauth_client_credentials"&&j.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)",display:"flex",flexDirection:"column",gap:"16px"},children:[j.jsx(Je,{label:"Client ID",placeholder:"your-client-id",value:H,onChange:re=>M(re.target.value)}),j.jsx(Je,{label:"Client Secret",type:"password",placeholder:"your-client-secret",value:x,onChange:re=>P(re.target.value)}),j.jsx(Je,{label:"Token URL (Optional)",placeholder:"https://api.example.com/oauth/token",value:$,onChange:re=>V(re.target.value)})]}),j.jsx("div",{style:{marginTop:"32px",paddingBottom:"8px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:j.jsx(ft,{variant:"primary",onClick:de,disabled:h,children:h?"Connecting...":r==="add"?"Add Server":"Save & Reconnect"})})]})}),pT=Z.memo(function({onClose:s}){console.log(" AddServerModal rendered"),Z.useEffect(()=>{const H=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=H}},[]);const[r,c]=Z.useState(""),[h,p]=Z.useState(""),[f,d]=Z.useState("idle"),[l,o]=Z.useState(null),u=Ee(H=>H.addServer),{connect:m}=oa(),[v,_]=Z.useState(!1),[b,A]=Z.useState(""),[w,O]=Z.useState([{id:"connect",label:"Finding your server",status:"pending"},{id:"transport",label:"Checking how to connect",status:"pending"},{id:"metadata",label:"Getting server details",status:"pending"},{id:"auth",label:"Checking if login is needed",status:"pending"}]),S=(H,M,x)=>{O(P=>P.map($=>$.id===H?{...$,status:M,message:x}:$))},R=async()=>{if(p(""),!r.trim()){p("Server URL is required");return}try{new URL(r.trim())}catch{p("Please enter a valid URL (e.g., http://localhost:3000)");return}d("detecting"),O([{id:"connect",label:"Finding your server",status:"active"},{id:"transport",label:"Checking how to connect",status:"pending"},{id:"metadata",label:"Getting server details",status:"pending"},{id:"auth",label:"Checking if login is needed",status:"pending"}]);try{await new Promise($=>setTimeout($,400));const H=await Jw(r.trim());if(!H.success){S("connect","error",H.error||"Connection failed"),d("error"),p(H.error||"Could not connect to server");return}S("connect","complete"),S("transport","active"),await new Promise($=>setTimeout($,300)),S("transport","complete",H.transport?.toUpperCase()),S("metadata","active"),await new Promise($=>setTimeout($,300));const M=H.serverInfo?.name||"Unknown Server";S("metadata","complete",M),S("auth","active"),await new Promise($=>setTimeout($,300));let x="None Required";H.requiresClientCredentials?x="Client Credentials Required":H.requiresOAuth?x="OAuth Required":H.requiresHeaderAuth&&(x="Custom Auth Required"),S("auth","complete",x),d("success");const P={id:`server-${Date.now()}`,name:M,url:r.trim(),transport:H.transport||"http"};H.requiresOAuth?P.auth={type:"oauth"}:H.requiresHeaderAuth?P.auth={type:"headers",headers:{}}:P.auth={type:"none"},o(P),await new Promise($=>setTimeout($,600)),d("configuring")}catch(H){console.error("Detection error:",H),d("error"),p(H instanceof Error?H.message:"Failed to detect server configuration")}},E=async H=>{_(!0),A("");try{const M=`server-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,x={id:M,name:H.name,transport:H.transport,connected:!1,url:H.url,command:H.command,auth:H.auth};if(u(x),H.auth?.type==="oauth"&&sessionStorage.setItem("oauth_server_id",M),await m(x))s();else{const $=Ee.getState().servers.find(V=>V.id===M);$?.error?A($.error):console.log(" OAuth redirect initiated")}}catch(M){const x=M instanceof Error?M.message:"Failed to connect. Check settings and try again.";A(x)}finally{_(!1)}};return j.jsx("div",{className:"modal-overlay",onClick:s,children:j.jsxs("div",{className:"modal",onClick:H=>H.stopPropagation(),style:{maxWidth:f==="configuring"?"600px":"560px"},children:[j.jsxs("div",{className:"modal-header",children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[j.jsx("span",{style:{fontSize:"28px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),j.jsx("h2",{style:{margin:0},children:f==="configuring"?"Configure Server":"Add MCP Server"})]}),f!=="configuring"&&j.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"14px",fontWeight:400,marginTop:"4px",marginBottom:"24px"},children:"Enter your server URL and we'll figure out the rest"})]}),j.jsx("div",{className:"modal-body",children:f==="configuring"&&l?j.jsx(hT,{server:l,mode:"add",onSubmit:E,isSubmitting:v,error:b}):j.jsxs(j.Fragment,{children:[j.jsx(Je,{label:"Server URL",placeholder:"http://localhost:3000/mcp",value:r,onChange:H=>c(H.target.value),onKeyDown:H=>{H.key==="Enter"&&f==="idle"&&R()},disabled:f==="detecting",autoFocus:!0}),f==="detecting"&&j.jsx("div",{style:{marginTop:"24px"},children:w.map(H=>j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",marginBottom:"8px",background:H.status==="active"||H.status==="complete"?"rgba(92, 207, 230, 0.1)":"rgba(31, 36, 48, 0.6)",borderRadius:"8px",border:`1px solid ${H.status==="active"?"rgba(92, 207, 230, 0.3)":H.status==="complete"?"rgba(34, 197, 94, 0.3)":H.status==="error"?"rgba(239, 68, 68, 0.3)":"rgba(92, 207, 230, 0.1)"}`,transition:"all 0.3s ease"},children:[j.jsxs("div",{style:{width:"20px",height:"20px",flexShrink:0},children:[H.status==="active"&&j.jsx("div",{className:"spinner-small"}),H.status==="complete"&&j.jsx("span",{style:{color:"var(--green-500)",fontSize:"16px"},children:""}),H.status==="error"&&j.jsx("span",{style:{color:"var(--red-500)",fontSize:"16px"},children:""}),H.status==="pending"&&j.jsx("span",{style:{color:"var(--text-tertiary)",fontSize:"16px"},children:""})]}),j.jsxs("div",{style:{flex:1},children:[j.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:"var(--text-white)"},children:H.label}),H.message&&j.jsx("div",{style:{fontSize:"12px",color:H.status==="error"?"var(--red-500)":"var(--text-secondary)",marginTop:"2px"},children:H.message})]})]},H.id))}),f==="success"&&j.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"8px",textAlign:"center"},children:[j.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),j.jsx("div",{style:{color:"var(--green-500)",fontWeight:600,marginBottom:"4px"},children:"Detection Complete!"}),j.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:"Opening configuration..."})]}),h&&j.jsx("div",{className:"error-message",style:{marginTop:"16px"},children:h})]})}),f!=="configuring"&&j.jsxs("div",{className:"modal-footer",children:[j.jsx(ft,{variant:"secondary",onClick:s,disabled:f==="detecting",children:"Cancel"}),f==="idle"||f==="error"?j.jsx(ft,{variant:"primary",onClick:R,disabled:!r.trim(),children:"Detect Server"}):null]})]})})}),mT=Z.memo(function({mode:s="edit",server:r,onClose:c}){const[h,p]=Z.useState(r.name),[f,d]=Z.useState(r.transport),[l,o]=Z.useState(r.command||""),[u,m]=Z.useState(r.url||""),[v,_]=Z.useState(""),b=r.auth?.type==="oauth"&&r.auth&&"client_id"in r.auth&&!!r.auth.client_id,[A,w]=Z.useState(b?"oauth_client_credentials":r.auth?.type||"none"),[O,S]=Z.useState(r.auth?.type==="headers"&&r.auth.headers?Object.entries(r.auth.headers).map(([te,ne])=>({key:te,value:ne})):[{key:"",value:""}]),[R,E]=Z.useState(r.auth?.type==="oauth"&&r.auth&&"client_id"in r.auth&&r.auth.client_id||""),[H,M]=Z.useState(""),[x,P]=Z.useState(r.auth?.type==="oauth"&&r.auth&&"token_url"in r.auth&&r.auth.token_url||""),[$,V]=Z.useState(!1),[G,ee]=Z.useState(r.auth?.type==="oauth"&&r.auth?.additionalHeaders?Object.entries(r.auth.additionalHeaders).map(([te,ne])=>({key:te,value:ne})):[{key:"",value:""}]),[X,q]=Z.useState(r.auth?.type==="oauth"&&r.auth?.customOAuthMetadata?.authorization_endpoint||""),[U,I]=Z.useState(r.auth?.type==="oauth"&&r.auth?.customOAuthMetadata?.token_endpoint||""),[k,B]=Z.useState(r.auth?.type==="oauth"&&r.auth?.customOAuthMetadata?.client_id||""),[ue,ce]=Z.useState(!1);Z.useEffect(()=>{A==="headers"&&O.length===0&&S([{key:"",value:""}])},[A,O.length]);const N=async()=>{if(!(!u.trim()||!u.startsWith("http"))&&A==="none"&&!(f!=="sse"&&f!=="http")){ce(!0);try{(await r1(u,f)).requiresOAuth&&(console.log(" OAuth detected for URL:",u),w("oauth"),$n.info("OAuth Required","This server requires OAuth authentication"))}catch(te){console.error("OAuth discovery error:",te)}finally{ce(!1)}}},F=Ee(te=>te.updateServer),le=Ee(te=>te.addServer),{connect:de,disconnect:re,isConnecting:ve}=oa(),fe=async()=>{if(_(""),!h.trim()){_("Server name is required");return}if(f==="stdio"&&!l.trim()){_("Command is required for stdio transport");return}if((f==="sse"||f==="http")&&!u.trim()){_("URL is required for SSE/HTTP transport");return}if(A==="headers"&&O.filter(_e=>_e.key.trim()&&_e.value.trim()).length===0){_("At least one header with key and value is required for header-based auth");return}if(A==="oauth_client_credentials"&&(!R.trim()||!H.trim())){_("Client ID and Client Secret are required for OAuth Client Credentials");return}let te;if(A!=="none"&&(te={type:A==="oauth_client_credentials"?"oauth":A},A==="headers"?te.headers=O.filter(ne=>ne.key.trim()&&ne.value.trim()).reduce((ne,_e)=>({...ne,[_e.key.trim()]:_e.value.trim()}),{}):A==="oauth_client_credentials"&&(te.client_id=R.trim(),te.client_secret=H.trim(),x.trim()&&(te.token_url=x.trim())),A==="oauth"||A==="oauth_client_credentials")){const ne=G.filter(_e=>_e.key.trim()&&_e.value.trim());ne.length>0&&(te.additionalHeaders=ne.reduce((_e,W)=>({..._e,[W.key.trim()]:W.value.trim()}),{})),(X.trim()||U.trim()||k.trim())&&(te.customOAuthMetadata={},X.trim()&&(te.customOAuthMetadata.authorization_endpoint=X.trim()),U.trim()&&(te.customOAuthMetadata.token_endpoint=U.trim()),k.trim()&&(te.customOAuthMetadata.client_id=k.trim()))}if(s==="edit"&&r.connected&&await re(r.id),s==="add"){const ne=`server-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,_e={id:ne,name:h.trim(),transport:f,connected:!1,...f==="stdio"?{command:l.trim()}:{url:u.trim()},auth:te};le(_e),te?.type==="oauth"&&sessionStorage.setItem("oauth_server_id",ne);try{if(await de(_e))c();else{const pe=Ee.getState().servers.find(ge=>ge.id===ne);pe?.error?_(pe.error):console.log(" OAuth redirect initiated")}}catch(W){const pe=W instanceof Error?W.message:"Failed to connect. Check settings and try again.";_(pe)}}else{const ne={name:h.trim(),transport:f,...f==="stdio"?{command:l.trim(),url:void 0}:{url:u.trim(),command:void 0},auth:te};F(r.id,ne);const _e=Ee.getState().servers.find(W=>W.id===r.id);if(_e){_e.auth?.type==="oauth"&&sessionStorage.setItem("oauth_server_id",_e.id);try{if(await de(_e))c();else{const pe=Ee.getState().servers.find(ge=>ge.id===r.id);pe?.error?_(pe.error):console.log(" OAuth redirect initiated")}}catch(W){const pe=W instanceof Error?W.message:"Failed to connect with new configuration. Check settings and try again.";_(pe)}}}};return j.jsx("div",{className:"modal-overlay",onClick:c,children:j.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),children:[j.jsx("div",{className:"modal-header",children:j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[j.jsx("span",{style:{fontSize:"28px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),j.jsx("h2",{style:{margin:0},children:s==="add"?"Configure Server":"Edit Server"})]})}),j.jsxs("div",{className:"modal-body",children:[v&&j.jsx("div",{className:"error-message",children:v}),f==="stdio"?j.jsx(Je,{label:"Command",placeholder:"node server.js",value:l,onChange:te=>o(te.target.value),autoFocus:!0}):j.jsxs("div",{style:{position:"relative"},children:[j.jsx(Je,{label:"URL",placeholder:"http://localhost:3000",value:u,onChange:te=>m(te.target.value),onBlur:N,autoFocus:!0}),ue&&j.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",pointerEvents:"none"},children:j.jsx(jp,{size:"sm"})})]}),j.jsx(Je,{label:"Server Name",placeholder:"My MCP Server",value:h,onChange:te=>p(te.target.value)}),j.jsx(Ci,{label:"Transport",value:f,onChange:te=>d(te),options:[{value:"http",label:"HTTP"},{value:"sse",label:"SSE"},{value:"stdio",label:"stdio (desktop only)",disabled:!0}],helperText:f==="stdio"?"stdio transport requires a desktop app. Use SSE or HTTP for browser testing.":void 0}),j.jsx("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid var(--border-color)"},children:j.jsx(Ci,{label:"Authentication",value:A,onChange:te=>w(te),options:[{value:"none",label:"None"},{value:"headers",label:"Headers"},{value:"oauth",label:"OAuth Auto"},{value:"oauth_client_credentials",label:"OAuth Client"}]})}),A==="headers"&&j.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)"},children:[j.jsx("label",{className:"form-label",children:"Headers"}),O.map((te,ne)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx(Je,{placeholder:"Header Name (e.g., X-API-Key)",value:te.key,onChange:_e=>{const W=[...O];W[ne].key=_e.target.value,S(W)}}),j.jsx(Je,{type:"password",placeholder:"Header Value",value:te.value,onChange:_e=>{const W=[...O];W[ne].value=_e.target.value,S(W)}}),O.length>1&&j.jsx(ft,{variant:"ghost",size:"sm",onClick:()=>S(O.filter((_e,W)=>W!==ne)),children:""})]},ne)),j.jsx(ft,{variant:"outline",size:"sm",onClick:()=>S([...O,{key:"",value:""}]),style:{width:"100%",marginTop:"8px"},children:"+ Add Header"})]}),A==="oauth"&&j.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)"},children:[j.jsx("div",{className:"info-message",style:{fontSize:"13px",opacity:.8},children:"Hoot will automatically handle the OAuth flow with PKCE when you connect."}),j.jsxs("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid rgba(92, 207, 230, 0.2)"},children:[j.jsxs(ft,{variant:"ghost",size:"sm",onClick:()=>V(!$),style:{padding:0,display:"flex",alignItems:"center",gap:"6px",marginBottom:$?"16px":0},children:[j.jsx("span",{style:{transform:$?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),"Advanced OAuth Settings"]}),$&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsxs("div",{style:{marginBottom:"20px"},children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"8px"},children:["Additional Headers",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(sent with OAuth requests)"})]}),G.map((te,ne)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx(Je,{placeholder:"Header Name (e.g., X-API-Version)",value:te.key,onChange:_e=>{const W=[...G];W[ne].key=_e.target.value,ee(W)}}),j.jsx(Je,{placeholder:"Header Value",value:te.value,onChange:_e=>{const W=[...G];W[ne].value=_e.target.value,ee(W)}}),G.length>1&&j.jsx(ft,{variant:"ghost",size:"sm",onClick:()=>ee(G.filter((_e,W)=>W!==ne)),children:""})]},ne)),j.jsx(ft,{variant:"outline",size:"sm",onClick:()=>ee([...G,{key:"",value:""}]),style:{width:"100%"},children:"+ Add Header"})]}),j.jsxs("div",{children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"12px"},children:["Custom OAuth Endpoints",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(overrides auto-discovery)"})]}),j.jsx(Je,{placeholder:"Authorization Endpoint (optional)",value:X,onChange:te=>q(te.target.value)}),j.jsx(Je,{placeholder:"Token Endpoint (optional)",value:U,onChange:te=>I(te.target.value)}),j.jsx(Je,{placeholder:"Custom Client ID (optional)",value:k,onChange:te=>B(te.target.value)})]})]})]})]}),A==="oauth_client_credentials"&&j.jsxs("div",{style:{marginTop:"16px",padding:"16px",paddingLeft:"16px",borderLeft:"2px solid var(--theme-accent-tertiary)",background:"color-mix(in srgb, var(--theme-accent-tertiary) 3%, transparent)",borderRadius:"var(--radius-sm)",display:"flex",flexDirection:"column",gap:"16px"},children:[j.jsx(Je,{label:"Client ID",placeholder:"your-client-id",value:R,onChange:te=>E(te.target.value)}),j.jsx(Je,{label:"Client Secret",type:"password",placeholder:"your-client-secret",value:H,onChange:te=>M(te.target.value)}),j.jsx(Je,{label:"Token URL (Optional)",placeholder:"https://api.example.com/oauth/token",value:x,onChange:te=>P(te.target.value)}),j.jsxs("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid rgba(92, 207, 230, 0.2)"},children:[j.jsxs(ft,{variant:"ghost",size:"sm",onClick:()=>V(!$),style:{padding:0,display:"flex",alignItems:"center",gap:"6px",marginBottom:$?"16px":0},children:[j.jsx("span",{style:{transform:$?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),"Advanced Settings"]}),$&&j.jsxs("div",{style:{marginTop:"16px"},children:[j.jsxs("div",{style:{marginBottom:"20px"},children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"8px"},children:["Additional Headers",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(sent with OAuth requests)"})]}),G.map((te,ne)=>j.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[j.jsx(Je,{placeholder:"Header Name (e.g., X-API-Version)",value:te.key,onChange:_e=>{const W=[...G];W[ne].key=_e.target.value,ee(W)}}),j.jsx(Je,{placeholder:"Header Value",value:te.value,onChange:_e=>{const W=[...G];W[ne].value=_e.target.value,ee(W)}}),G.length>1&&j.jsx(ft,{variant:"ghost",size:"sm",onClick:()=>ee(G.filter((_e,W)=>W!==ne)),children:""})]},ne)),j.jsx(ft,{variant:"outline",size:"sm",onClick:()=>ee([...G,{key:"",value:""}]),style:{width:"100%",marginTop:"8px"},children:"+ Add Header"})]}),j.jsxs("div",{children:[j.jsxs("label",{className:"form-label",style:{marginBottom:"12px"},children:["Custom OAuth Endpoints",j.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",fontWeight:400,color:"var(--text-tertiary)",textTransform:"none",letterSpacing:0},children:"(overrides auto-discovery)"})]}),j.jsx(Je,{placeholder:"Authorization Endpoint (optional)",value:X,onChange:te=>q(te.target.value)}),j.jsx(Je,{placeholder:"Token Endpoint (optional)",value:U,onChange:te=>I(te.target.value)}),j.jsx(Je,{placeholder:"Custom Client ID (optional)",value:k,onChange:te=>B(te.target.value)})]})]})]})]})]}),j.jsxs("div",{className:"modal-footer",children:[j.jsx(ft,{variant:"secondary",onClick:c,disabled:ve,children:"Cancel"}),j.jsx(ft,{variant:"primary",onClick:fe,disabled:ve,children:ve?"Connecting...":s==="add"?"Add Server":"Save & Reconnect"})]})]})})});function gT(){const[i,s]=Z.useState("processing"),[r,c]=Z.useState("Processing authorization..."),{connect:h}=oa(),p=Ee(l=>l.servers),f=Z.useRef(!1);Z.useEffect(()=>{if(f.current){console.log("OAuth callback already executed, skipping duplicate");return}f.current=!0,d()},[]);const d=async()=>{try{sessionStorage.removeItem("oauth_last_redirect");const l=new URLSearchParams(window.location.search),o=l.get("code"),u=l.get("state"),m=l.get("error"),v=l.get("error_description");let _="/test",b="",A=null;if(u)try{const R=JSON.parse(atob(u));R.return&&(_=R.return.path||"/test",b=R.return.search||"",A=R.return.serverId)}catch(R){console.warn("Failed to parse OAuth state, using defaults:",R)}if(m){const E={access_denied:"Authorization was cancelled or denied. You can try again if you change your mind.",invalid_request:"Invalid OAuth request. The server may have incorrect OAuth configuration.",unauthorized_client:"This client is not authorized. Please check the server's OAuth client ID configuration.",unsupported_response_type:"OAuth configuration error. The server may not support the required response type.",invalid_scope:"The requested permissions are invalid or not available.",server_error:"The authorization server encountered an error. Please try again later.",temporarily_unavailable:"The authorization server is temporarily unavailable. Please try again in a few moments."}[m]||v||`OAuth error: ${m}`;throw new Error(E)}if(!o)throw new Error("No authorization code was received from the OAuth provider. This may indicate a configuration issue with the server.");if(A||(A=sessionStorage.getItem("oauth_server_id")||sessionStorage.getItem("oauth_pending_server")),!A)throw new Error("OAuth session expired. Please return to Hoot and try connecting again.");console.log(` OAuth callback: Looking for server ID: ${A}`),console.log(" OAuth callback: Available servers:",p.map(R=>({id:R.id,name:R.name})));const w=p.find(R=>R.id===A);if(!w)throw new Error(`Server not found. It may have been deleted while you were authorizing. (Looking for ID: ${A})`);c(`Exchanging authorization code for ${w.name}...`);let O=!1,S=null;try{O=await h(w,o)}catch(R){S=R instanceof Error?R:new Error("Connection failed"),console.log("Connection error during OAuth callback:",S)}if(O)s("success"),c(` Successfully authorized ${w.name}!`);else if(c(`Waiting for ${w.name} to complete connection...`),await new Promise(H=>setTimeout(H,1500)),Ee.getState().servers.find(H=>H.id===A)?.connected)s("success"),c(` Successfully authorized ${w.name}!`);else{const H=S?.message||"Failed to complete OAuth connection. The token exchange may have failed. Please try reconnecting.";throw new Error(H)}try{const R=await sC(A);if(R&&R.name){console.log(` Updating server name from "${w.name}" to "${R.name}"`);const E=Ee.getState().updateServer;E(A,{name:R.name,...R.version&&{}})}}catch(R){console.log("Could not fetch server info after OAuth:",R)}sessionStorage.removeItem("oauth_server_id"),sessionStorage.removeItem("oauth_pending_server"),sessionStorage.removeItem("oauth_last_redirect"),setTimeout(()=>{const R=`${_}${b}`;console.log("OAuth success, redirecting to:",R),window.history.pushState({},"",R),window.dispatchEvent(new PopStateEvent("popstate"))},1e3)}catch(l){console.error("OAuth callback error:",l),s("error");let o="OAuth authorization failed";l instanceof Error&&(o=l.message,o.includes("Code verifier")||o.includes("PKCE")?o="Token exchange failed: PKCE verification error. The authorization session may have expired. Please try connecting again.":o.includes("Backend server is not running")?o="Unable to complete authorization: Backend server is not running. Please ensure the backend is started.":o.includes("Failed to fetch")||o.includes("Network")?o="Network error during token exchange. Please check your internet connection and try again.":o.includes("401")||o.includes("invalid_client")?o="Token exchange failed: Invalid client credentials. Please verify the OAuth configuration (client ID and secret) for this server.":o.includes("invalid_grant")||o.includes("authorization code")?o="Token exchange failed: The authorization code is invalid or expired. This can happen if you took too long to authorize. Please try connecting again.":o.includes("CORS")&&(o="Token exchange failed due to CORS restrictions. The server needs to allow requests from this domain.")),c(o)}};return j.jsx("div",{className:"oauth-callback",children:j.jsxs("div",{className:`oauth-callback-content ${i==="error"?"error":""}`,children:[j.jsxs("div",{className:"oauth-icon",children:[i==="processing"&&j.jsx("div",{className:"oauth-processing",children:""}),i==="success"&&j.jsx("div",{className:"success-icon",children:""}),i==="error"&&j.jsx("div",{className:"error-icon",children:""})]}),j.jsxs("h2",{className:"oauth-title",children:[i==="processing"&&"Authorizing...",i==="success"&&"Authorization Complete!",i==="error"&&"Authorization Failed"]}),j.jsx("p",{className:"oauth-message",children:r}),i==="error"&&j.jsx(ft,{variant:"primary",onClick:()=>window.location.href="/",children:"Return to Hoot"}),i==="success"&&j.jsx("p",{className:"oauth-redirect",children:"Redirecting you back to Hoot..."})]})})}function vT(){try{if(window.location.hash.startsWith("#/try")){const h=new URL(window.location.href.replace("#/try","")).searchParams.get("config");if(h){const p=atob(h),f=JSON.parse(p);return ZO(f)}}const r=new URLSearchParams(window.location.search).get("try");if(r){const c=atob(r),h=JSON.parse(c);return ZO(h)}return null}catch(i){return console.error("Failed to parse Try in Hoot URL:",i),$n.error("Invalid Link",'The "Try in Hoot" link is malformed or invalid'),null}}function ZO(i){if(!i||typeof i!="object")throw new Error("Config must be an object");if(i.url&&!i.name&&!i.transport)return{name:"",transport:"http",url:i.url,...i.auth&&{auth:i.auth}};if(!i.name||typeof i.name!="string")throw new Error('Config must include a "name" string (or just provide URL for auto-detection)');if(!i.transport||!["stdio","sse","http"].includes(i.transport))throw new Error('Config must include a valid "transport" (stdio, sse, or http)');if(i.transport==="stdio"&&!i.command)throw new Error('stdio transport requires a "command" field');if((i.transport==="sse"||i.transport==="http")&&!i.url)throw new Error('SSE/HTTP transport requires a "url" field');if(i.auth&&((!i.auth.type||!["none","headers","oauth","client_credentials"].includes(i.auth.type))&&console.warn(`Unknown auth type: ${i.auth.type}, but allowing it for future compatibility`),i.auth.type==="headers"&&!i.auth.headers))throw new Error('Header auth requires "headers" object');return{name:i.name,transport:i.transport,...i.command&&{command:i.command},...i.url&&{url:i.url},...i.auth&&{auth:i.auth}}}function yT({config:i,onConfirm:s,onCancel:r}){return T1.createPortal(j.jsx("div",{className:"modal-overlay",children:j.jsxs("div",{className:"modal",style:{maxWidth:"520px"},children:[j.jsxs("div",{className:"modal-header",children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[j.jsx("span",{style:{fontSize:"28px",filter:"drop-shadow(0 2px 8px rgba(92, 207, 230, 0.3))"},children:""}),j.jsx("h2",{style:{margin:0},children:"Try in Hoot"})]}),j.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"14px",fontWeight:400,marginTop:"4px",marginBottom:"24px"},children:"Add this server to get started"})]}),j.jsxs("div",{className:"modal-body",children:[j.jsxs("div",{style:{background:"rgba(31, 36, 48, 0.6)",padding:"20px",borderRadius:"10px",marginBottom:"20px",border:"2px solid rgba(92, 207, 230, 0.2)"},children:[j.jsx(Fc,{label:"Server Name",value:i.name,icon:""}),j.jsx(Fc,{label:"Transport",value:i.transport.toUpperCase(),icon:"",badge:!0}),i.url&&j.jsx(Fc,{label:"URL",value:i.url,icon:"",mono:!0}),i.command&&j.jsx(Fc,{label:"Command",value:i.command,icon:"",mono:!0}),i.auth&&i.auth.type!=="none"&&j.jsx(Fc,{label:"Authentication",value:i.auth.type==="oauth"?"OAuth 2.1":"Custom Headers",icon:"",isLast:!0})]}),j.jsxs("div",{style:{background:"rgba(255, 174, 87, 0.08)",border:"1px solid rgba(255, 174, 87, 0.25)",padding:"12px 14px",borderRadius:"8px",fontSize:"12px",lineHeight:"1.5",color:"rgba(255, 174, 87, 0.9)",display:"flex",gap:"10px"},children:[j.jsx("span",{style:{flexShrink:0},children:""}),j.jsx("span",{children:"Only add servers from trusted sources"})]})]}),j.jsxs("div",{className:"modal-footer",children:[j.jsx(ft,{variant:"secondary",onClick:r,children:"Cancel"}),j.jsx(ft,{variant:"primary",onClick:s,children:"Add & Connect"})]})]})}),document.body)}function Fc({label:i,value:s,icon:r,mono:c,badge:h,isLast:p}){return j.jsxs("div",{style:{marginBottom:p?"0":"14px"},children:[j.jsxs("div",{style:{color:"var(--blue-500)",fontSize:"11px",fontWeight:600,marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"6px"},children:[j.jsx("span",{children:r}),j.jsx("span",{children:i})]}),j.jsx("div",{style:{color:"var(--text-white)",fontSize:"14px",fontWeight:500,fontFamily:c?"var(--font-mono)":"var(--font-sans)",wordBreak:"break-all",lineHeight:"1.4",...h&&{display:"inline-block",background:"rgba(31, 36, 48, 0.8)",padding:"4px 10px",borderRadius:"6px",border:"1px solid rgba(92, 207, 230, 0.3)",color:"var(--blue-500)",fontSize:"12px",fontWeight:600}},children:s})]})}function _T(){const[i,s]=Z.useState(null),[r,c]=Z.useState(!1),h=Ee(l=>l.addServer),{connect:p}=oa();Z.useEffect(()=>{const l=vT();if(l){s(l);const o=new URL(window.location.href);o.hash.startsWith("#/try")?(o.hash="",window.history.replaceState({},"",o.toString())):o.searchParams.has("try")&&(o.searchParams.delete("try"),window.history.replaceState({},"",o.toString()))}},[]);const f=async()=>{if(!(!i||r)){c(!0);try{h(i);const l=Ee.getState().servers,o=l[l.length-1];if(await p(o))$n.success("Server Added",`Successfully connected to ${i.name}`),s(null);else{const m=Ee.getState().servers.find(v=>v.id===o.id);m?.error?($n.error("Connection Failed",m.error),s(null)):($n.info("OAuth Required","Redirecting to complete authentication..."),s(null))}}catch(l){const o=l instanceof Error?l.message:"Failed to add server";$n.error("Failed to Add Server",o),s(null)}finally{c(!1)}}},d=()=>{s(null)};return i?j.jsx(yT,{config:i,onConfirm:f,onCancel:d}):null}const bT=Z.memo(function({toast:s,onDismiss:r}){Z.useEffect(()=>{const h=s.duration||5e3;if(h>0){const p=setTimeout(()=>{r(s.id)},h);return()=>clearTimeout(p)}},[s,r]);const c=()=>{switch(s.type){case"success":return j.jsx(ow,{size:20});case"error":return j.jsx(lw,{size:20});case"warning":return j.jsx(WO,{size:20});case"info":return j.jsx(Sw,{size:20})}};return j.jsxs("div",{className:`toast toast-${s.type}`,children:[j.jsx("div",{className:"toast-icon",children:c()}),j.jsxs("div",{className:"toast-content",children:[j.jsx("div",{className:"toast-message",children:s.message}),s.description&&j.jsx("div",{className:"toast-description",children:s.description})]}),j.jsx("button",{className:"toast-close",onClick:()=>r(s.id),"aria-label":"Dismiss",children:j.jsx(Bw,{size:16})})]})}),OT=Z.memo(function({toasts:s,onDismiss:r}){return j.jsx("div",{className:"toast-container",children:s.map(c=>j.jsx(bT,{toast:c,onDismiss:r},c.id))})});class jT extends Z.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error(" Error Boundary caught an error:",s,r),this.setState({error:s,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onReset?.()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:j.jsx("div",{className:"error-boundary",children:j.jsxs("div",{className:"error-boundary-content",children:[j.jsx("div",{className:"error-icon",children:j.jsx($w,{size:48})}),j.jsx("h2",{className:"error-title",children:"Something went wrong"}),j.jsx("p",{className:"error-message",children:this.state.error?.message||"An unexpected error occurred"}),!1,j.jsxs(ft,{variant:"primary",onClick:this.handleReset,children:[j.jsx(Uh,{size:16}),j.jsx("span",{children:"Try Again"})]})]})}):this.props.children}}const AT=[{id:"ayu-mirage",name:"Ayu Mirage",emoji:""},{id:"arctic-ice",name:"Arctic Ice",emoji:""},{id:"duotone-dark",name:"DuoTone Dark",emoji:""},{id:"duotone-sea",name:"DuoTone Sea",emoji:""},{id:"duotone-forest",name:"DuoTone Forest",emoji:""}];function ST(){const i=localStorage.getItem("hoot-theme")||"ayu-mirage",s=r=>{const c=document.getElementById("theme-link");c&&(c.href=`/src/themes/${r}.css`,localStorage.setItem("hoot-theme",r),document.querySelectorAll(".theme-option").forEach(h=>{h.classList.toggle("active",h.getAttribute("data-theme")===r)}),setTimeout(()=>{window.initializeHills&&window.initializeHills()},100))};return j.jsxs("div",{className:"theme-switcher-header",children:[j.jsx("button",{className:"theme-trigger",title:"Change theme",children:j.jsx(Tw,{size:18})}),j.jsx("div",{className:"theme-dropdown",children:AT.map(r=>j.jsx("button",{"data-theme":r.id,"data-tooltip":r.name,className:`theme-option ${i===r.id?"active":""}`,onClick:()=>s(r.id),children:j.jsx("span",{className:"theme-emoji",children:r.emoji})},r.id))})]})}function wT(){const i=Ee(c=>c.servers),s=Ee(c=>c.tools),{connect:r}=oa();Z.useEffect(()=>{let c=!1;if(c)return;if(c=!0,sessionStorage.getItem("skip_auto_reconnect")){console.log(" Skipping auto-reconnect after OAuth callback"),sessionStorage.removeItem("skip_auto_reconnect");return}const h=i.filter(p=>s[p.id]&&s[p.id].length>0&&!p.connected);h.length>0&&(console.log(` Hoot: Auto-reconnecting to ${h.length} server(s)...`),h.forEach(p=>{const f=p.auth?.type==="oauth";r(p,void 0,f,!0).catch(l=>{p.auth?.type==="oauth"?console.log(` ${p.name} needs manual reconnection (OAuth)`):console.warn(`Failed to auto-reconnect to ${p.name}:`,l)})}))},[])}const CT="0.7.1",RT={version:CT};class xT{logs=[];maxLogs=1e3;isEnabled=!1;constructor(){this.isEnabled&&(this.interceptConsole(),console.log(" Development logger initialized. Logs are being captured."))}interceptConsole(){const s=console.log,r=console.warn,c=console.error,h=console.info,p=console.debug;console.log=(...f)=>{this.addLog("log",f),s.apply(console,f)},console.warn=(...f)=>{this.addLog("warn",f),r.apply(console,f)},console.error=(...f)=>{this.addLog("error",f),c.apply(console,f)},console.info=(...f)=>{this.addLog("info",f),h.apply(console,f)},console.debug=(...f)=>{this.addLog("debug",f),p.apply(console,f)}}addLog(s,r){if(!this.isEnabled)return;const c=new Date().toISOString();this.logs.push({timestamp:c,level:s,args:r}),this.logs.length>this.maxLogs&&this.logs.shift()}formatLogs(){return this.logs.map(s=>{const r=s.args.map(c=>{if(typeof c=="object")try{return JSON.stringify(c,null,2)}catch{return String(c)}return String(c)}).join(" ");return`[${s.timestamp}] [${s.level.toUpperCase()}] ${r}`}).join(`
`)}downloadLogs(){if(!this.isEnabled){console.warn("Logger is not enabled in production");return}const s=this.formatLogs(),r=new Blob([s],{type:"text/plain"}),c=URL.createObjectURL(r),h=document.createElement("a");h.href=c,h.download=`hoot-logs-${Date.now()}.txt`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(c),console.log(" Logs downloaded successfully")}getLogs(){return this.formatLogs()}clearLogs(){this.logs=[],console.log(" Logs cleared")}exposeToWindow(){this.isEnabled&&(window.hootLogger={download:()=>this.downloadLogs(),clear:()=>this.clearLogs(),get:()=>this.getLogs(),count:()=>this.logs.length},console.log(` Logger controls available:
  - hootLogger.download() - Download logs to file
  - hootLogger.clear() - Clear all logs
  - hootLogger.get() - Get logs as string
  - hootLogger.count() - Get log count`))}}new xT;function ET(i){return i.startsWith("/chat")?"hybrid":"test"}function XO(i){const s=i==="hybrid"?"/chat":"/test",r=new URLSearchParams(window.location.search),c=`${s}${r.toString()?"?"+r.toString():""}`;window.history.pushState({},"",c),window.dispatchEvent(new PopStateEvent("popstate"))}function TT(){const[i,s]=Z.useState(!1),[r,c]=Z.useState(null),[h,p]=Z.useState(window.location.pathname),f=ET(h),d=rr(b=>b.toasts),l=rr(b=>b.removeToast),{readURL:o}=Op(),u=Ee(b=>b.setSelectedServer),m=Ee(b=>b.setSelectedTool),v=Ee(b=>b.setSearchQuery);return Z.useEffect(()=>{Xw()},[]),wT(),Z.useEffect(()=>{const b=o();b.server&&u(b.server),b.tool&&m(b.tool),b.search&&v(b.search),b.execution&&console.log("Deep link to execution:",b.execution)},[h,o,u,m,v]),Z.useEffect(()=>{const b=()=>{p(window.location.pathname)};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)},[]),h==="/oauth/callback"?j.jsx(gT,{}):j.jsx(jT,{children:j.jsxs("div",{className:"app",children:[j.jsxs("header",{className:"app-header",children:[j.jsxs("div",{className:"app-header-left",children:[j.jsxs("div",{className:"app-branding",children:[j.jsx("span",{className:"logo-icon",children:""}),j.jsx("h1",{className:"app-title",children:"Hoot"})]}),j.jsxs("nav",{className:"app-nav",children:[j.jsxs("button",{className:`nav-button ${f==="test"?"active":""}`,onClick:()=>XO("test"),title:"Test MCP tools manually",children:[j.jsx(fp,{size:18}),j.jsx("span",{children:"Test Tools"})]}),j.jsxs("button",{className:`nav-button ${f==="hybrid"?"active":""}`,onClick:()=>XO("hybrid"),title:"Chat with AI to test tools",children:[j.jsx(Eu,{size:18}),j.jsx("span",{children:"Chat"})]})]})]}),j.jsxs("div",{className:"app-actions",children:[j.jsx(ST,{}),j.jsx("a",{href:"https://portkey.ai/docs/hoot",target:"_blank",rel:"noopener noreferrer",className:"header-link",title:"Documentation",children:j.jsx(tw,{size:18})}),j.jsx("a",{href:"https://portkey.ai/community",target:"_blank",rel:"noopener noreferrer",className:"header-link",title:"Discord",children:j.jsx(xw,{size:18})}),j.jsxs("a",{href:"https://github.com/portkey-ai/hoot",target:"_blank",rel:"noopener noreferrer",className:"version-badge",title:"View on GitHub",children:[j.jsx(jw,{size:14}),j.jsxs("span",{children:["v",RT.version]})]})]})]}),j.jsxs("div",{className:"app-content",children:[f==="test"&&j.jsxs("div",{className:"test-layout",children:[j.jsx(bx,{onAddServer:()=>s(!0),onEditServer:b=>c(b)}),j.jsx(Ax,{}),j.jsx(Ix,{})]}),f==="hybrid"&&j.jsx(fT,{})]}),i&&j.jsx(pT,{onClose:()=>s(!1)}),r&&j.jsx(mT,{server:r,onClose:()=>c(null)}),j.jsx(_T,{}),j.jsx(OT,{toasts:d,onDismiss:l})]})})}const zn={back:{startY:30,endY:30,cssVar:"--hills-layer-1",opacity:.3},middle:{startY:90,endY:90,cssVar:"--hills-layer-2",opacity:.4},front:{startY:120,endY:120,cssVar:"--hills-layer-3",opacity:.5}};function Dh(i,s,r,c,h){const p=h!==void 0?vj(h):Math.random,f=Math.floor(p()*3)+3,d=[];d.push({x:0,y:s});for(let o=1;o<f;o++){const u=i/f*o,m=Math.min(s,r)-20,v=Math.min(s,r)+40,_=m+p()*(v-m);d.push({x:u,y:_})}d.push({x:i,y:r});let l=`M${d[0].x} ${d[0].y}`;for(let o=1;o<d.length;o++){const u=d[o-1],m=d[o],v=(m.x-u.x)/3,_=u.x+v,b=u.y+(p()-.5)*30,A=m.x-v,w=m.y+(p()-.5)*30;l+=` C${_} ${b}, ${A} ${w}, ${m.x} ${m.y}`}return l+=` V${c} H0 Z`,l}function vj(i){let s=i;return()=>(s=(s*1664525+1013904223)%4294967296,s/4294967296)}function Gc(i=1920,s=150,r){const c=r!==void 0?vj(r):Math.random,h=(v,_)=>typeof window>"u"?_:getComputedStyle(document.documentElement).getPropertyValue(v).trim()||_,p=h(zn.back.cssVar,"#2e3440"),f=h(zn.middle.cssVar,"#3b4252"),d=h(zn.front.cssVar,"#434c5e"),l=Dh(i,zn.back.startY,zn.back.endY,s,c()),o=Dh(i,zn.middle.startY,zn.middle.endY,s,c()),u=Dh(i,zn.front.startY,zn.front.endY,s,c()),m=`<svg viewBox='0 0 ${i} ${s}' xmlns='http://www.w3.org/2000/svg' preserveAspectRatio='none'>
    <path d='${l}' fill='${p}' fill-opacity='${zn.back.opacity}'/>
    <path d='${o}' fill='${f}' fill-opacity='${zn.middle.opacity}'/>
    <path d='${u}' fill='${d}' fill-opacity='${zn.front.opacity}'/>
  </svg>`;return`url("data:image/svg+xml,${encodeURIComponent(m)}")`}function yj(){const i=Date.now(),s=Gc(1920,150,i+1),r=Gc(1920,150,i+2),c=Gc(1920,150,i+3),h=Gc(1920,150,i+4),p=Gc(1920,150,i+5);document.documentElement.style.setProperty("--hills-main-area",s),document.documentElement.style.setProperty("--hills-tools-sidebar",r),document.documentElement.style.setProperty("--hills-server-sidebar",c),document.documentElement.style.setProperty("--hills-empty-state",h),document.documentElement.style.setProperty("--hills-api-pane",p)}yj();typeof window<"u"&&(window.initializeHills=yj);GS.createRoot(document.getElementById("root")).render(j.jsx(wt.StrictMode,{children:j.jsx(TT,{})}));
